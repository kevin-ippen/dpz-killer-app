var C4=Object.defineProperty;var XT=t=>{throw TypeError(t)};var _4=(t,e,n)=>e in t?C4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Q=(t,e,n)=>_4(t,typeof e!="symbol"?e+"":e,n),N1=(t,e,n)=>e.has(t)||XT("Cannot "+n);var d=(t,e,n)=>(N1(t,e,"read from private field"),n?n.call(t):e.get(t)),T=(t,e,n)=>e.has(t)?XT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),C=(t,e,n,r)=>(N1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),k=(t,e,n)=>(N1(t,e,"access private method"),n);var dn=(t,e,n,r)=>({set _(i){C(t,e,i,n)},get _(){return d(t,e,r)}});import{j as b,u as ko,Q as P4,k as T4,a as k4}from"./query-vendor-CEw9n8jH.js";import{a as mv,r as P,N as O4,c as jl,g as et,R as B,b as Pj,d as M4,B as R4,e as I4,f as $p}from"./react-vendor-zyMbWbAb.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var JA={},YT=mv;JA.createRoot=YT.createRoot,JA.hydrateRoot=YT.hydrateRoot;/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ye=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...c},u)=>P.createElement("svg",{ref:u,...N4,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${j4(t)}`,s].join(" "),...c},[...e.map(([h,f])=>P.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=Ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Ye("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=Ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Ye("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Ye("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Ye("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=Ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=Ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=Ye("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Ye("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eU=[{title:"Dashboard",href:"/",icon:G4},{title:"Chat",href:"/chat",icon:K4},{title:"Explore",href:"/explore",icon:Rj},{title:"Insights",href:"/insights",icon:R_},{title:"Settings",href:"/settings",icon:Y4}];function tU(){return b.jsxs("div",{className:"flex h-full w-64 flex-col border-r",style:{background:"var(--color-bg-elevated)",borderColor:"var(--color-border-subtle)"},children:[b.jsx("div",{className:"flex h-16 items-center border-b px-6",style:{borderColor:"var(--color-border-subtle)"},children:b.jsx("h1",{className:"text-xl font-semibold flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:"ðŸ• DPZ Analytics"})}),b.jsx("nav",{className:"flex-1 space-y-1 p-4",children:eU.map(t=>b.jsxs(O4,{to:t.href,style:({isActive:e})=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem 0.75rem",fontSize:"0.875rem",fontWeight:500,borderRadius:"var(--radius-md)",transition:"all 0.15s ease",background:e?"var(--color-accent)":"transparent",color:e?"white":"var(--color-text-secondary)"}),onMouseEnter:e=>{e.currentTarget.getAttribute("aria-current")==="page"||(e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.color="var(--color-text-primary)")},onMouseLeave:e=>{e.currentTarget.getAttribute("aria-current")==="page"||(e.currentTarget.style.background="transparent",e.currentTarget.style.color="var(--color-text-secondary)")},children:[b.jsx(t.icon,{className:"h-5 w-5"}),t.title]},t.href))}),b.jsx("div",{className:"border-t p-4",style:{borderColor:"var(--color-border-subtle)"},children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-sm font-semibold",style:{background:"var(--color-accent)",color:"white"},children:"U"}),b.jsxs("div",{className:"flex-1 text-sm",children:[b.jsx("p",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:"User"}),b.jsx("p",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:"user@dominos.com"})]})]})})]})}function nU({children:t}){return b.jsxs("div",{className:"flex h-screen",style:{background:"var(--color-bg-app)"},children:[b.jsx(tU,{}),b.jsx("main",{className:"flex-1 overflow-y-auto",children:t})]})}function Ij(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ij(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ij(t))&&(r&&(r+=" "),r+=e);return r}const L_="-",rU=t=>{const e=oU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(L_);return s[0]===""&&s.length!==1&&s.shift(),Nj(s,e)||iU(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},Nj=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Nj(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(L_);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},JT=/^\[(.+)\]$/,iU=t=>{if(JT.test(t)){const e=JT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},oU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return sU(Object.entries(t.classGroups),n).forEach(([o,a])=>{tS(a,r,o,e)}),r},tS=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:ZT(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(aU(i)){tS(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{tS(a,ZT(e,o),n,r)})})},ZT=(t,e)=>{let n=t;return e.split(L_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},aU=t=>t.isThemeGetter,sU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,lU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},jj="!",cU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,u=0,h;for(let y=0;y<s.length;y++){let v=s[y];if(c===0){if(v===i&&(r||s.slice(y,y+o)===e)){l.push(s.slice(u,y)),u=y+o;continue}if(v==="/"){h=y;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?s:s.substring(u),p=f.startsWith(jj),m=p?f.substring(1):f,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?s=>n({className:s,parseClassName:a}):a},uU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},hU=t=>({cache:lU(t.cacheSize),parseClassName:cU(t),...rU(t)}),dU=/\s+/,fU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(dU);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?f.substring(0,p):f);if(!g){if(!m){s=c+(s.length>0?" "+s:s);continue}if(g=r(f),!g){s=c+(s.length>0?" "+s:s);continue}m=!1}const y=uU(u).join(":"),v=h?y+jj:y,w=v+g;if(o.includes(w))continue;o.push(w);const x=i(g,m);for(let E=0;E<x.length;++E){const A=x[E];o.push(v+A)}s=c+(s.length>0?" "+s:s)}return s};function pU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Dj(e))&&(r&&(r+=" "),r+=n);return r}const Dj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Dj(t[r]))&&(n&&(n+=" "),n+=e);return n};function mU(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((u,h)=>h(u),t());return n=hU(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=fU(l,n);return i(l,u),u}return function(){return o(pU.apply(null,arguments))}}const _t=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Lj=/^\[(?:([a-z-]+):)?(.+)\]$/i,gU=/^\d+\/\d+$/,yU=new Set(["px","full","screen"]),vU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ya=t=>Gh(t)||yU.has(t)||gU.test(t),Rs=t=>hp(t,"length",OU),Gh=t=>!!t&&!Number.isNaN(Number(t)),j1=t=>hp(t,"number",Gh),Fp=t=>!!t&&Number.isInteger(Number(t)),SU=t=>t.endsWith("%")&&Gh(t.slice(0,-1)),je=t=>Lj.test(t),Is=t=>vU.test(t),EU=new Set(["length","size","percentage"]),CU=t=>hp(t,EU,$j),_U=t=>hp(t,"position",$j),PU=new Set(["image","url"]),TU=t=>hp(t,PU,RU),kU=t=>hp(t,"",MU),Bp=()=>!0,hp=(t,e,n)=>{const r=Lj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},OU=t=>bU.test(t)&&!xU.test(t),$j=()=>!1,MU=t=>wU.test(t),RU=t=>AU.test(t),IU=()=>{const t=_t("colors"),e=_t("spacing"),n=_t("blur"),r=_t("brightness"),i=_t("borderColor"),o=_t("borderRadius"),a=_t("borderSpacing"),s=_t("borderWidth"),l=_t("contrast"),c=_t("grayscale"),u=_t("hueRotate"),h=_t("invert"),f=_t("gap"),p=_t("gradientColorStops"),m=_t("gradientColorStopPositions"),g=_t("inset"),y=_t("margin"),v=_t("opacity"),w=_t("padding"),x=_t("saturate"),E=_t("scale"),A=_t("sepia"),S=_t("skew"),_=_t("space"),O=_t("translate"),I=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",je,e],N=()=>[je,e],L=()=>["",ya,Rs],F=()=>["auto",Gh,je],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",je],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Gh,je];return{cacheSize:500,separator:":",theme:{colors:[Bp],spacing:[ya,Rs],blur:["none","",Is,je],brightness:X(),borderColor:[t],borderRadius:["none","","full",Is,je],borderSpacing:N(),borderWidth:L(),contrast:X(),grayscale:W(),hueRotate:X(),invert:W(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[SU,Rs],inset:R(),margin:R(),opacity:X(),padding:N(),saturate:X(),scale:X(),sepia:W(),skew:X(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[Is]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),je]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fp,je]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Fp,je]}],"grid-cols":[{"grid-cols":[Bp]}],"col-start-end":[{col:["auto",{span:["full",Fp,je]},je]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Bp]}],"row-start-end":[{row:["auto",{span:[Fp,je]},je]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,e]}],"min-w":[{"min-w":[je,e,"min","max","fit"]}],"max-w":[{"max-w":[je,e,"none","full","min","max","fit","prose",{screen:[Is]},Is]}],h:[{h:[je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Is,Rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",j1]}],"font-family":[{font:[Bp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",Gh,j1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ya,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ya,Rs]}],"underline-offset":[{"underline-offset":["auto",ya,je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),_U]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[ya,je]}],"outline-w":[{outline:[ya,Rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ya,Rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Is,kU]}],"shadow-color":[{shadow:[Bp]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Is,je]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Fp,je]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ya,Rs,j1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NU=mU(IU);function Bt(...t){return NU(Pe(t))}function fs(t){return isNaN(t)||!isFinite(t)?"0":t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}function ps(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function QT(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}).format(t/100)}function ek(t,e){if(!t||t.length===0)return[];const r=new Date().toISOString().slice(0,7);return t.filter(i=>{const o=i.month||i.order_date;return o?o.slice(0,7)!==r:!0})}function tk(t){const e=parseInt(t);return e<3?`Last ${e*30} days`:e>=12?`Last ${Math.floor(e/12)} ${e/12===1?"year":"years"}`:`Last ${e} months`}const Qt=P.forwardRef(({className:t,style:e,...n},r)=>b.jsx("div",{ref:r,className:Bt("rounded-lg border shadow-sm",t),style:{background:"rgba(15, 23, 42, 0.96)",borderColor:"rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-soft)",...e},...n}));Qt.displayName="Card";const sn=P.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Bt("flex flex-col space-y-1.5 p-6",t),...e}));sn.displayName="CardHeader";const ln=P.forwardRef(({className:t,style:e,...n},r)=>b.jsx("h3",{ref:r,className:Bt("text-2xl font-semibold leading-none tracking-tight",t),style:{color:"var(--color-text-primary)",...e},...n}));ln.displayName="CardTitle";const jU=P.forwardRef(({className:t,style:e,...n},r)=>b.jsx("p",{ref:r,className:Bt("text-sm",t),style:{color:"var(--color-text-secondary)",...e},...n}));jU.displayName="CardDescription";const en=P.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Bt("p-6 pt-0",t),...e}));en.displayName="CardContent";const DU=P.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Bt("flex items-center p-6 pt-0",t),...e}));DU.displayName="CardFooter";function Hv({label:t,value:e,format:n="number",delta:r,sparkline:i}){const o=a=>{switch(n){case"currency":return ps(a);case"percent":return QT(a);default:return fs(a)}};return b.jsxs(Qt,{className:"border border-[#F8F3E9] shadow-md hover:shadow-2xl transition-all duration-300 bg-white/80 backdrop-blur-sm",children:[b.jsx(sn,{className:"pb-4",children:b.jsx(ln,{className:"text-[10px] font-medium uppercase tracking-[0.15em] text-[#B59D81]",children:t})}),b.jsx(en,{children:b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"text-[2.75rem] font-light tracking-tight bg-gradient-to-br from-[#2F7FD9] to-[#2666B1] bg-clip-text text-transparent leading-none",children:o(e)}),r&&b.jsxs("div",{className:Bt("flex items-center gap-2 text-sm font-medium",r.isPositive?"text-[#2F7FD9]":"text-[#EC3115]"),children:[r.isPositive?b.jsx($4,{className:"h-3.5 w-3.5"}):b.jsx(L4,{className:"h-3.5 w-3.5"}),b.jsx("span",{className:"font-semibold",children:QT(Math.abs(r.value))}),b.jsx("span",{className:"text-[#B59D81] font-light text-xs",children:"vs last period"})]}),i&&i.length>0&&(()=>{const a=Math.max(...i),s=Math.min(...i),l=a-s,c=i.length,u=100,h=50,f=5,p=u-f*2,m=h-f*2,g=i.map((y,v)=>{const w=f+v/(c-1)*p,x=l===0?.5:(y-s)/l,E=f+(1-x)*m;return`${w.toFixed(2)},${E.toFixed(2)}`}).join(" ");return b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"h-14 w-full rounded-lg overflow-hidden mt-2",children:b.jsxs("svg",{className:"h-full w-full",viewBox:`0 0 ${u} ${h}`,preserveAspectRatio:"none",children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"sparklineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[b.jsx("stop",{offset:"0%",stopColor:r!=null&&r.isPositive?"#2F7FD9":"#EC3115"}),b.jsx("stop",{offset:"100%",stopColor:r!=null&&r.isPositive?"#1D4D83":"#D42C13"})]})}),b.jsx("polyline",{fill:"none",stroke:"url(#sparklineGradient)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",points:g,opacity:"0.8"})]})}),b.jsxs("div",{className:"text-[9px] text-[#B59D81] font-light tracking-wide",children:["Last ",c," months"]})]})})()]})})]})}var LU=Array.isArray,Nr=LU,$U=typeof jl=="object"&&jl&&jl.Object===Object&&jl,Fj=$U,FU=Fj,BU=typeof self=="object"&&self&&self.Object===Object&&self,zU=FU||BU||Function("return this")(),ha=zU,UU=ha,HU=UU.Symbol,gv=HU,nk=gv,Bj=Object.prototype,VU=Bj.hasOwnProperty,WU=Bj.toString,zp=nk?nk.toStringTag:void 0;function GU(t){var e=VU.call(t,zp),n=t[zp];try{t[zp]=void 0;var r=!0}catch{}var i=WU.call(t);return r&&(e?t[zp]=n:delete t[zp]),i}var qU=GU,KU=Object.prototype,XU=KU.toString;function YU(t){return XU.call(t)}var JU=YU,rk=gv,ZU=qU,QU=JU,eH="[object Null]",tH="[object Undefined]",ik=rk?rk.toStringTag:void 0;function nH(t){return t==null?t===void 0?tH:eH:ik&&ik in Object(t)?ZU(t):QU(t)}var _s=nH;function rH(t){return t!=null&&typeof t=="object"}var Ps=rH,iH=_s,oH=Ps,aH="[object Symbol]";function sH(t){return typeof t=="symbol"||oH(t)&&iH(t)==aH}var dp=sH,lH=Nr,cH=dp,uH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hH=/^\w*$/;function dH(t,e){if(lH(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||cH(t)?!0:hH.test(t)||!uH.test(t)||e!=null&&t in Object(e)}var $_=dH;function fH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Yl=fH;const fp=et(Yl);var pH=_s,mH=Yl,gH="[object AsyncFunction]",yH="[object Function]",vH="[object GeneratorFunction]",bH="[object Proxy]";function xH(t){if(!mH(t))return!1;var e=pH(t);return e==yH||e==vH||e==gH||e==bH}var F_=xH;const Se=et(F_);var wH=ha,AH=wH["__core-js_shared__"],SH=AH,D1=SH,ok=function(){var t=/[^.]+$/.exec(D1&&D1.keys&&D1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function EH(t){return!!ok&&ok in t}var CH=EH,_H=Function.prototype,PH=_H.toString;function TH(t){if(t!=null){try{return PH.call(t)}catch{}try{return t+""}catch{}}return""}var zj=TH,kH=F_,OH=CH,MH=Yl,RH=zj,IH=/[\\^$.*+?()[\]{}|]/g,NH=/^\[object .+?Constructor\]$/,jH=Function.prototype,DH=Object.prototype,LH=jH.toString,$H=DH.hasOwnProperty,FH=RegExp("^"+LH.call($H).replace(IH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BH(t){if(!MH(t)||OH(t))return!1;var e=kH(t)?FH:NH;return e.test(RH(t))}var zH=BH;function UH(t,e){return t==null?void 0:t[e]}var HH=UH,VH=zH,WH=HH;function GH(t,e){var n=WH(t,e);return VH(n)?n:void 0}var ih=GH,qH=ih,KH=qH(Object,"create"),sw=KH,ak=sw;function XH(){this.__data__=ak?ak(null):{},this.size=0}var YH=XH;function JH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ZH=JH,QH=sw,eV="__lodash_hash_undefined__",tV=Object.prototype,nV=tV.hasOwnProperty;function rV(t){var e=this.__data__;if(QH){var n=e[t];return n===eV?void 0:n}return nV.call(e,t)?e[t]:void 0}var iV=rV,oV=sw,aV=Object.prototype,sV=aV.hasOwnProperty;function lV(t){var e=this.__data__;return oV?e[t]!==void 0:sV.call(e,t)}var cV=lV,uV=sw,hV="__lodash_hash_undefined__";function dV(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=uV&&e===void 0?hV:e,this}var fV=dV,pV=YH,mV=ZH,gV=iV,yV=cV,vV=fV;function pp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pp.prototype.clear=pV;pp.prototype.delete=mV;pp.prototype.get=gV;pp.prototype.has=yV;pp.prototype.set=vV;var bV=pp;function xV(){this.__data__=[],this.size=0}var wV=xV;function AV(t,e){return t===e||t!==t&&e!==e}var B_=AV,SV=B_;function EV(t,e){for(var n=t.length;n--;)if(SV(t[n][0],e))return n;return-1}var lw=EV,CV=lw,_V=Array.prototype,PV=_V.splice;function TV(t){var e=this.__data__,n=CV(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():PV.call(e,n,1),--this.size,!0}var kV=TV,OV=lw;function MV(t){var e=this.__data__,n=OV(e,t);return n<0?void 0:e[n][1]}var RV=MV,IV=lw;function NV(t){return IV(this.__data__,t)>-1}var jV=NV,DV=lw;function LV(t,e){var n=this.__data__,r=DV(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var $V=LV,FV=wV,BV=kV,zV=RV,UV=jV,HV=$V;function mp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mp.prototype.clear=FV;mp.prototype.delete=BV;mp.prototype.get=zV;mp.prototype.has=UV;mp.prototype.set=HV;var cw=mp,VV=ih,WV=ha,GV=VV(WV,"Map"),z_=GV,sk=bV,qV=cw,KV=z_;function XV(){this.size=0,this.__data__={hash:new sk,map:new(KV||qV),string:new sk}}var YV=XV;function JV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ZV=JV,QV=ZV;function eW(t,e){var n=t.__data__;return QV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var uw=eW,tW=uw;function nW(t){var e=tW(this,t).delete(t);return this.size-=e?1:0,e}var rW=nW,iW=uw;function oW(t){return iW(this,t).get(t)}var aW=oW,sW=uw;function lW(t){return sW(this,t).has(t)}var cW=lW,uW=uw;function hW(t,e){var n=uW(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var dW=hW,fW=YV,pW=rW,mW=aW,gW=cW,yW=dW;function gp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gp.prototype.clear=fW;gp.prototype.delete=pW;gp.prototype.get=mW;gp.prototype.has=gW;gp.prototype.set=yW;var U_=gp,Uj=U_,vW="Expected a function";function H_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vW);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(H_.Cache||Uj),n}H_.Cache=Uj;var Hj=H_;const bW=et(Hj);var xW=Hj,wW=500;function AW(t){var e=xW(t,function(r){return n.size===wW&&n.clear(),r}),n=e.cache;return e}var SW=AW,EW=SW,CW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_W=/\\(\\)?/g,PW=EW(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(CW,function(n,r,i,o){e.push(i?o.replace(_W,"$1"):r||n)}),e}),TW=PW;function kW(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var V_=kW,lk=gv,OW=V_,MW=Nr,RW=dp,ck=lk?lk.prototype:void 0,uk=ck?ck.toString:void 0;function Vj(t){if(typeof t=="string")return t;if(MW(t))return OW(t,Vj)+"";if(RW(t))return uk?uk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var IW=Vj,NW=IW;function jW(t){return t==null?"":NW(t)}var Wj=jW,DW=Nr,LW=$_,$W=TW,FW=Wj;function BW(t,e){return DW(t)?t:LW(t,e)?[t]:$W(FW(t))}var Gj=BW,zW=dp;function UW(t){if(typeof t=="string"||zW(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var hw=UW,HW=Gj,VW=hw;function WW(t,e){e=HW(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[VW(e[n++])];return n&&n==r?t:void 0}var W_=WW,GW=W_;function qW(t,e,n){var r=t==null?void 0:GW(t,e);return r===void 0?n:r}var qj=qW;const ui=et(qj);function KW(t){return t==null}var XW=KW;const Ae=et(XW);var YW=_s,JW=Nr,ZW=Ps,QW="[object String]";function e6(t){return typeof t=="string"||!JW(t)&&ZW(t)&&YW(t)==QW}var t6=e6;const qu=et(t6);var Kj={exports:{}},at={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_=Symbol.for("react.element"),q_=Symbol.for("react.portal"),dw=Symbol.for("react.fragment"),fw=Symbol.for("react.strict_mode"),pw=Symbol.for("react.profiler"),mw=Symbol.for("react.provider"),gw=Symbol.for("react.context"),n6=Symbol.for("react.server_context"),yw=Symbol.for("react.forward_ref"),vw=Symbol.for("react.suspense"),bw=Symbol.for("react.suspense_list"),xw=Symbol.for("react.memo"),ww=Symbol.for("react.lazy"),r6=Symbol.for("react.offscreen"),Xj;Xj=Symbol.for("react.module.reference");function Vi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case G_:switch(t=t.type,t){case dw:case pw:case fw:case vw:case bw:return t;default:switch(t=t&&t.$$typeof,t){case n6:case gw:case yw:case ww:case xw:case mw:return t;default:return e}}case q_:return e}}}at.ContextConsumer=gw;at.ContextProvider=mw;at.Element=G_;at.ForwardRef=yw;at.Fragment=dw;at.Lazy=ww;at.Memo=xw;at.Portal=q_;at.Profiler=pw;at.StrictMode=fw;at.Suspense=vw;at.SuspenseList=bw;at.isAsyncMode=function(){return!1};at.isConcurrentMode=function(){return!1};at.isContextConsumer=function(t){return Vi(t)===gw};at.isContextProvider=function(t){return Vi(t)===mw};at.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===G_};at.isForwardRef=function(t){return Vi(t)===yw};at.isFragment=function(t){return Vi(t)===dw};at.isLazy=function(t){return Vi(t)===ww};at.isMemo=function(t){return Vi(t)===xw};at.isPortal=function(t){return Vi(t)===q_};at.isProfiler=function(t){return Vi(t)===pw};at.isStrictMode=function(t){return Vi(t)===fw};at.isSuspense=function(t){return Vi(t)===vw};at.isSuspenseList=function(t){return Vi(t)===bw};at.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dw||t===pw||t===fw||t===vw||t===bw||t===r6||typeof t=="object"&&t!==null&&(t.$$typeof===ww||t.$$typeof===xw||t.$$typeof===mw||t.$$typeof===gw||t.$$typeof===yw||t.$$typeof===Xj||t.getModuleId!==void 0)};at.typeOf=Vi;Kj.exports=at;var i6=Kj.exports,o6=_s,a6=Ps,s6="[object Number]";function l6(t){return typeof t=="number"||a6(t)&&o6(t)==s6}var Yj=l6;const c6=et(Yj);var u6=Yj;function h6(t){return u6(t)&&t!=+t}var d6=h6;const yp=et(d6);var dr=function(e){return e===0?0:e>0?1:-1},Cc=function(e){return qu(e)&&e.indexOf("%")===e.length-1},ee=function(e){return c6(e)&&!yp(e)},f6=function(e){return Ae(e)},vn=function(e){return ee(e)||qu(e)},p6=0,Jl=function(e){var n=++p6;return"".concat(e||"").concat(n)},fr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!qu(e))return r;var o;if(Cc(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return yp(o)&&(o=r),i&&o>n&&(o=n),o},Bs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},m6=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ft=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function fx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ui(r,e))===n})}var g6=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,s=1/0,l=-1/0,c=0,u=0,h=0;h<n;h++)c=e[h].cx||0,u=e[h].cy||0,r+=c,i+=u,o+=c*u,a+=c*c,s=Math.min(s,c),l=Math.max(l,c);var f=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:s,xmax:l,a:f,b:(i-f*r)/n}},y6=function(e,n){return ee(e)&&ee(n)?e-n:qu(e)&&qu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function qh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function nS(t){"@babel/helpers - typeof";return nS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nS(t)}var v6=["viewBox","children"],b6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hk=["points","pathLength"],L1={svg:v6,polygon:hk,polyline:hk},K_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],px=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),!fp(r))return null;var i={};return Object.keys(r).forEach(function(o){K_.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},x6=function(e,n,r){return function(i){return e(n,r,i),null}},zl=function(e,n,r){if(!fp(e)||nS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];K_.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=x6(a,n,r))}),i},w6=["children"],A6=["children"];function dk(t,e){if(t==null)return{};var n=S6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rS(t){"@babel/helpers - typeof";return rS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rS(t)}var fk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ls=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},pk=null,$1=null,X_=function t(e){if(e===pk&&Array.isArray($1))return $1;var n=[];return P.Children.forEach(e,function(r){Ae(r)||(i6.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),$1=n,pk=e,n};function gr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ls(i)}):r=[ls(e)],X_(t).forEach(function(i){var o=ui(i,"type.displayName")||ui(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function oi(t,e){var n=gr(t,e);return n&&n[0]}var mk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},E6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],C6=function(e){return e&&e.type&&qu(e.type)&&E6.indexOf(e.type)>=0},Jj=function(e){return e&&rS(e)==="object"&&"clipDot"in e},_6=function(e,n,r,i){var o,a=(o=L1==null?void 0:L1[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Se(e)&&(i&&a.includes(n)||b6.includes(n))||r&&K_.includes(n)},ge=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!fp(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;_6((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},iS=function t(e,n){if(e===n)return!0;var r=P.Children.count(e);if(r!==P.Children.count(n))return!1;if(r===0)return!0;if(r===1)return gk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!gk(o,a))return!1}return!0},gk=function(e,n){if(Ae(e)&&Ae(n))return!0;if(!Ae(e)&&!Ae(n)){var r=e.props||{},i=r.children,o=dk(r,w6),a=n.props||{},s=a.children,l=dk(a,A6);return i&&s?qh(o,l)&&iS(i,s):!i&&!s?qh(o,l):!1}return!1},yk=function(e,n){var r=[],i={};return X_(e).forEach(function(o,a){if(C6(o))r.push(o);else if(o){var s=ls(o.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var h=c(o,s,a);r.push(h),i[s]=!0}}}),r},P6=function(e){var n=e&&e.type;return n&&fk[n]?fk[n]:null},T6=function(e,n){return X_(n).indexOf(e)},k6=["children","width","height","viewBox","className","style","title","desc"];function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function O6(t,e){if(t==null)return{};var n=M6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=O6(t,k6),u=i||{width:n,height:r,x:0,y:0},h=Pe("recharts-surface",o);return B.createElement("svg",oS({},ge(c,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),B.createElement("title",null,s),B.createElement("desc",null,l),e)}var R6=["children","className"];function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(this,arguments)}function I6(t,e){if(t==null)return{};var n=N6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ne=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=I6(t,R6),o=Pe("recharts-layer",r);return B.createElement("g",sS({className:o},ge(i,!0),{ref:e}),n)}),mo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function j6(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var D6=j6,L6=D6;function $6(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:L6(t,e,n)}var F6=$6,B6="\\ud800-\\udfff",z6="\\u0300-\\u036f",U6="\\ufe20-\\ufe2f",H6="\\u20d0-\\u20ff",V6=z6+U6+H6,W6="\\ufe0e\\ufe0f",G6="\\u200d",q6=RegExp("["+G6+B6+V6+W6+"]");function K6(t){return q6.test(t)}var Zj=K6;function X6(t){return t.split("")}var Y6=X6,Qj="\\ud800-\\udfff",J6="\\u0300-\\u036f",Z6="\\ufe20-\\ufe2f",Q6="\\u20d0-\\u20ff",e8=J6+Z6+Q6,t8="\\ufe0e\\ufe0f",n8="["+Qj+"]",lS="["+e8+"]",cS="\\ud83c[\\udffb-\\udfff]",r8="(?:"+lS+"|"+cS+")",e2="[^"+Qj+"]",t2="(?:\\ud83c[\\udde6-\\uddff]){2}",n2="[\\ud800-\\udbff][\\udc00-\\udfff]",i8="\\u200d",r2=r8+"?",i2="["+t8+"]?",o8="(?:"+i8+"(?:"+[e2,t2,n2].join("|")+")"+i2+r2+")*",a8=i2+r2+o8,s8="(?:"+[e2+lS+"?",lS,t2,n2,n8].join("|")+")",l8=RegExp(cS+"(?="+cS+")|"+s8+a8,"g");function c8(t){return t.match(l8)||[]}var u8=c8,h8=Y6,d8=Zj,f8=u8;function p8(t){return d8(t)?f8(t):h8(t)}var m8=p8,g8=F6,y8=Zj,v8=m8,b8=Wj;function x8(t){return function(e){e=b8(e);var n=y8(e)?v8(e):void 0,r=n?n[0]:e.charAt(0),i=n?g8(n,1).join(""):e.slice(1);return r[t]()+i}}var w8=x8,A8=w8,S8=A8("toUpperCase"),E8=S8;const Aw=et(E8);function St(t){return function(){return t}}const o2=Math.cos,mx=Math.sin,Ao=Math.sqrt,gx=Math.PI,Sw=2*gx,uS=Math.PI,hS=2*uS,dc=1e-6,C8=hS-dc;function a2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return a2;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class P8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?a2:_8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,u=a-e,h=s-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>dc)if(!(Math.abs(h*l-c*u)>dc)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=l*l+c*c,y=p*p+m*m,v=Math.sqrt(g),w=Math.sqrt(f),x=o*Math.tan((uS-Math.acos((g+f-y)/(2*v*w)))/2),E=x/w,A=x/v;Math.abs(E-1)>dc&&this._append`L${e+E*u},${n+E*h}`,this._append`A${o},${o},0,0,${+(h*p>u*m)},${this._x1=e+A*l},${this._y1=n+A*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>dc||Math.abs(this._y1-u)>dc)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%hS+hS),f>C8?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=u}`:f>dc&&this._append`A${r},${r},0,${+(f>=uS)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Y_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new P8(e)}function J_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function s2(t){this._context=t}s2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ew(t){return new s2(t)}function l2(t){return t[0]}function c2(t){return t[1]}function u2(t,e){var n=St(!0),r=null,i=Ew,o=null,a=Y_(s);t=typeof t=="function"?t:t===void 0?l2:St(t),e=typeof e=="function"?e:e===void 0?c2:St(e);function s(l){var c,u=(l=J_(l)).length,h,f=!1,p;for(r==null&&(o=i(p=a())),c=0;c<=u;++c)!(c<u&&n(h=l[c],c,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,c,l),+e(h,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:St(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:St(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:St(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Vv(t,e,n){var r=null,i=St(!0),o=null,a=Ew,s=null,l=Y_(c);t=typeof t=="function"?t:t===void 0?l2:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?c2:St(+n);function c(h){var f,p,m,g=(h=J_(h)).length,y,v=!1,w,x=new Array(g),E=new Array(g);for(o==null&&(s=a(w=l())),f=0;f<=g;++f){if(!(f<g&&i(y=h[f],f,h))===v)if(v=!v)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=p;--m)s.point(x[m],E[m]);s.lineEnd(),s.areaEnd()}v&&(x[f]=+t(y,f,h),E[f]=+e(y,f,h),s.point(r?+r(y,f,h):x[f],n?+n(y,f,h):E[f]))}if(w)return s=null,w+""||null}function u(){return u2().defined(i).curve(a).context(o)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:St(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:St(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:St(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:St(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:St(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:St(+h),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:St(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),c):a},c.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),c):o},c}class h2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function T8(t){return new h2(t,!0)}function k8(t){return new h2(t,!1)}const Z_={draw(t,e){const n=Ao(e/gx);t.moveTo(n,0),t.arc(0,0,n,0,Sw)}},O8={draw(t,e){const n=Ao(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},d2=Ao(1/3),M8=d2*2,R8={draw(t,e){const n=Ao(e/M8),r=n*d2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},I8={draw(t,e){const n=Ao(e),r=-n/2;t.rect(r,r,n,n)}},N8=.8908130915292852,f2=mx(gx/10)/mx(7*gx/10),j8=mx(Sw/10)*f2,D8=-o2(Sw/10)*f2,L8={draw(t,e){const n=Ao(e*N8),r=j8*n,i=D8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Sw*o/5,s=o2(a),l=mx(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},F1=Ao(3),$8={draw(t,e){const n=-Ao(e/(F1*3));t.moveTo(0,n*2),t.lineTo(-F1*n,-n),t.lineTo(F1*n,-n),t.closePath()}},gi=-.5,yi=Ao(3)/2,dS=1/Ao(12),F8=(dS/2+1)*3,B8={draw(t,e){const n=Ao(e/F8),r=n/2,i=n*dS,o=r,a=n*dS+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(gi*r-yi*i,yi*r+gi*i),t.lineTo(gi*o-yi*a,yi*o+gi*a),t.lineTo(gi*s-yi*l,yi*s+gi*l),t.lineTo(gi*r+yi*i,gi*i-yi*r),t.lineTo(gi*o+yi*a,gi*a-yi*o),t.lineTo(gi*s+yi*l,gi*l-yi*s),t.closePath()}};function z8(t,e){let n=null,r=Y_(i);t=typeof t=="function"?t:St(t||Z_),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:St(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:St(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function yx(){}function vx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function p2(t){this._context=t}p2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U8(t){return new p2(t)}function m2(t){this._context=t}m2.prototype={areaStart:yx,areaEnd:yx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:vx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function H8(t){return new m2(t)}function g2(t){this._context=t}g2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function V8(t){return new g2(t)}function y2(t){this._context=t}y2.prototype={areaStart:yx,areaEnd:yx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function W8(t){return new y2(t)}function vk(t){return t<0?-1:1}function bk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(vk(o)+vk(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function xk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function B1(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function bx(t){this._context=t}bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B1(this,this._t0,xk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,B1(this,xk(this,n=bk(this,t,e)),n);break;default:B1(this,this._t0,n=bk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function v2(t){this._context=new b2(t)}(v2.prototype=Object.create(bx.prototype)).point=function(t,e){bx.prototype.point.call(this,e,t)};function b2(t){this._context=t}b2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function G8(t){return new bx(t)}function q8(t){return new v2(t)}function x2(t){this._context=t}x2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wk(t),i=wk(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wk(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function K8(t){return new x2(t)}function Cw(t,e){this._context=t,this._t=e}Cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function X8(t){return new Cw(t,.5)}function Y8(t){return new Cw(t,0)}function J8(t){return new Cw(t,1)}function kf(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Z8(t,e){return t[e]}function Q8(t){const e=[];return e.key=t,e}function eG(){var t=St([]),e=fS,n=kf,r=Z8;function i(o){var a=Array.from(t.apply(this,arguments),Q8),s,l=a.length,c=-1,u;for(const h of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(h,a[s].key,c,o)]).data=h;for(s=0,u=J_(e(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:St(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:St(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?fS:typeof o=="function"?o:St(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??kf,i):n},i}function tG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}kf(t,e)}}function nG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}kf(t,e)}}function rG(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],h=u[r][1]||0,f=u[r-1][1]||0,p=(h-f)/2,m=0;m<s;++m){var g=t[e[m]],y=g[r][1]||0,v=g[r-1][1]||0;p+=y-v}l+=h,c+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,kf(t,e)}}function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}var iG=["type","size","sizeType"];function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(this,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){oG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oG(t,e,n){return e=aG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aG(t){var e=sG(t,"string");return zm(e)=="symbol"?e:e+""}function sG(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lG(t,e){if(t==null)return{};var n=cG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var w2={symbolCircle:Z_,symbolCross:O8,symbolDiamond:R8,symbolSquare:I8,symbolStar:L8,symbolTriangle:$8,symbolWye:B8},uG=Math.PI/180,hG=function(e){var n="symbol".concat(Aw(e));return w2[n]||Z_},dG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*uG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fG=function(e,n){w2["symbol".concat(Aw(e))]=n},_w=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=lG(e,iG),c=Sk(Sk({},l),{},{type:r,size:o,sizeType:s}),u=function(){var y=hG(r),v=z8().type(y).size(dG(o,s,r));return v()},h=c.className,f=c.cx,p=c.cy,m=ge(c,!0);return f===+f&&p===+p&&o===+o?B.createElement("path",pS({},m,{className:Pe("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};_w.registerSymbol=fG;function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(this,arguments)}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S2(r.key),r)}}function yG(t,e,n){return e&&gG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vG(t,e,n){return e=xx(e),bG(t,A2()?Reflect.construct(e,n||[],xx(t).constructor):e.apply(t,n))}function bG(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xG(t)}function xG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A2=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xx(t)}function wG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gS(t,e)}function gS(t,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gS(t,e)}function Um(t,e,n){return e=S2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S2(t){var e=AG(t,"string");return Of(e)=="symbol"?e:e+""}function AG(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vi=32,Q_=function(t){function e(){return mG(this,e),vG(this,e,arguments)}return wG(e,t),yG(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=vi/2,a=vi/6,s=vi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:vi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(vi,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vi/8,"h").concat(vi,"v").concat(vi*3/4,"h").concat(-vi,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var c=pG({},r);return delete c.legendIcon,B.cloneElement(r.legendIcon,c)}return B.createElement(_w,{fill:l,cx:o,cy:o,size:vi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:vi,height:vi},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,y=Pe(Um(Um({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Se(p.value)?null:p.value;mo(!Se(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return B.createElement("li",mS({className:y,style:h,key:"legend-item-".concat(m)},zl(r.props,p,m)),B.createElement(aS,{width:a,height:a,viewBox:u,style:f},r.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(v,p,m):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(P.PureComponent);Um(Q_,"displayName","Legend");Um(Q_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var SG=cw;function EG(){this.__data__=new SG,this.size=0}var CG=EG;function _G(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var PG=_G;function TG(t){return this.__data__.get(t)}var kG=TG;function OG(t){return this.__data__.has(t)}var MG=OG,RG=cw,IG=z_,NG=U_,jG=200;function DG(t,e){var n=this.__data__;if(n instanceof RG){var r=n.__data__;if(!IG||r.length<jG-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new NG(r)}return n.set(t,e),this.size=n.size,this}var LG=DG,$G=cw,FG=CG,BG=PG,zG=kG,UG=MG,HG=LG;function vp(t){var e=this.__data__=new $G(t);this.size=e.size}vp.prototype.clear=FG;vp.prototype.delete=BG;vp.prototype.get=zG;vp.prototype.has=UG;vp.prototype.set=HG;var E2=vp,VG="__lodash_hash_undefined__";function WG(t){return this.__data__.set(t,VG),this}var GG=WG;function qG(t){return this.__data__.has(t)}var KG=qG,XG=U_,YG=GG,JG=KG;function wx(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new XG;++e<n;)this.add(t[e])}wx.prototype.add=wx.prototype.push=YG;wx.prototype.has=JG;var C2=wx;function ZG(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var _2=ZG;function QG(t,e){return t.has(e)}var P2=QG,eq=C2,tq=_2,nq=P2,rq=1,iq=2;function oq(t,e,n,r,i,o){var a=n&rq,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,f=!0,p=n&iq?new eq:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var m=t[h],g=e[h];if(r)var y=a?r(g,m,h,e,t,o):r(m,g,h,t,e,o);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!tq(e,function(v,w){if(!nq(p,w)&&(m===v||i(m,v,n,r,o)))return p.push(w)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var T2=oq,aq=ha,sq=aq.Uint8Array,lq=sq;function cq(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var uq=cq;function hq(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var eP=hq,Ck=gv,_k=lq,dq=B_,fq=T2,pq=uq,mq=eP,gq=1,yq=2,vq="[object Boolean]",bq="[object Date]",xq="[object Error]",wq="[object Map]",Aq="[object Number]",Sq="[object RegExp]",Eq="[object Set]",Cq="[object String]",_q="[object Symbol]",Pq="[object ArrayBuffer]",Tq="[object DataView]",Pk=Ck?Ck.prototype:void 0,z1=Pk?Pk.valueOf:void 0;function kq(t,e,n,r,i,o,a){switch(n){case Tq:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Pq:return!(t.byteLength!=e.byteLength||!o(new _k(t),new _k(e)));case vq:case bq:case Aq:return dq(+t,+e);case xq:return t.name==e.name&&t.message==e.message;case Sq:case Cq:return t==e+"";case wq:var s=pq;case Eq:var l=r&gq;if(s||(s=mq),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=yq,a.set(t,e);var u=fq(s(t),s(e),r,i,o,a);return a.delete(t),u;case _q:if(z1)return z1.call(t)==z1.call(e)}return!1}var Oq=kq;function Mq(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var k2=Mq,Rq=k2,Iq=Nr;function Nq(t,e,n){var r=e(t);return Iq(t)?r:Rq(r,n(t))}var jq=Nq;function Dq(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Lq=Dq;function $q(){return[]}var Fq=$q,Bq=Lq,zq=Fq,Uq=Object.prototype,Hq=Uq.propertyIsEnumerable,Tk=Object.getOwnPropertySymbols,Vq=Tk?function(t){return t==null?[]:(t=Object(t),Bq(Tk(t),function(e){return Hq.call(t,e)}))}:zq,Wq=Vq;function Gq(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var qq=Gq,Kq=_s,Xq=Ps,Yq="[object Arguments]";function Jq(t){return Xq(t)&&Kq(t)==Yq}var Zq=Jq,kk=Zq,Qq=Ps,O2=Object.prototype,eK=O2.hasOwnProperty,tK=O2.propertyIsEnumerable,nK=kk(function(){return arguments}())?kk:function(t){return Qq(t)&&eK.call(t,"callee")&&!tK.call(t,"callee")},tP=nK,Ax={exports:{}};function rK(){return!1}var iK=rK;Ax.exports;(function(t,e){var n=ha,r=iK,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(Ax,Ax.exports);var M2=Ax.exports,oK=9007199254740991,aK=/^(?:0|[1-9]\d*)$/;function sK(t,e){var n=typeof t;return e=e??oK,!!e&&(n=="number"||n!="symbol"&&aK.test(t))&&t>-1&&t%1==0&&t<e}var nP=sK,lK=9007199254740991;function cK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lK}var rP=cK,uK=_s,hK=rP,dK=Ps,fK="[object Arguments]",pK="[object Array]",mK="[object Boolean]",gK="[object Date]",yK="[object Error]",vK="[object Function]",bK="[object Map]",xK="[object Number]",wK="[object Object]",AK="[object RegExp]",SK="[object Set]",EK="[object String]",CK="[object WeakMap]",_K="[object ArrayBuffer]",PK="[object DataView]",TK="[object Float32Array]",kK="[object Float64Array]",OK="[object Int8Array]",MK="[object Int16Array]",RK="[object Int32Array]",IK="[object Uint8Array]",NK="[object Uint8ClampedArray]",jK="[object Uint16Array]",DK="[object Uint32Array]",kt={};kt[TK]=kt[kK]=kt[OK]=kt[MK]=kt[RK]=kt[IK]=kt[NK]=kt[jK]=kt[DK]=!0;kt[fK]=kt[pK]=kt[_K]=kt[mK]=kt[PK]=kt[gK]=kt[yK]=kt[vK]=kt[bK]=kt[xK]=kt[wK]=kt[AK]=kt[SK]=kt[EK]=kt[CK]=!1;function LK(t){return dK(t)&&hK(t.length)&&!!kt[uK(t)]}var $K=LK;function FK(t){return function(e){return t(e)}}var R2=FK,Sx={exports:{}};Sx.exports;(function(t,e){var n=Fj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Sx,Sx.exports);var BK=Sx.exports,zK=$K,UK=R2,Ok=BK,Mk=Ok&&Ok.isTypedArray,HK=Mk?UK(Mk):zK,I2=HK,VK=qq,WK=tP,GK=Nr,qK=M2,KK=nP,XK=I2,YK=Object.prototype,JK=YK.hasOwnProperty;function ZK(t,e){var n=GK(t),r=!n&&WK(t),i=!n&&!r&&qK(t),o=!n&&!r&&!i&&XK(t),a=n||r||i||o,s=a?VK(t.length,String):[],l=s.length;for(var c in t)(e||JK.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||KK(c,l)))&&s.push(c);return s}var QK=ZK,e9=Object.prototype;function t9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||e9;return t===n}var n9=t9;function r9(t,e){return function(n){return t(e(n))}}var N2=r9,i9=N2,o9=i9(Object.keys,Object),a9=o9,s9=n9,l9=a9,c9=Object.prototype,u9=c9.hasOwnProperty;function h9(t){if(!s9(t))return l9(t);var e=[];for(var n in Object(t))u9.call(t,n)&&n!="constructor"&&e.push(n);return e}var d9=h9,f9=F_,p9=rP;function m9(t){return t!=null&&p9(t.length)&&!f9(t)}var yv=m9,g9=QK,y9=d9,v9=yv;function b9(t){return v9(t)?g9(t):y9(t)}var Pw=b9,x9=jq,w9=Wq,A9=Pw;function S9(t){return x9(t,A9,w9)}var E9=S9,Rk=E9,C9=1,_9=Object.prototype,P9=_9.hasOwnProperty;function T9(t,e,n,r,i,o){var a=n&C9,s=Rk(t),l=s.length,c=Rk(e),u=c.length;if(l!=u&&!a)return!1;for(var h=l;h--;){var f=s[h];if(!(a?f in e:P9.call(e,f)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=a;++h<l;){f=s[h];var v=t[f],w=e[f];if(r)var x=a?r(w,v,f,e,t,o):r(v,w,f,t,e,o);if(!(x===void 0?v===w||i(v,w,n,r,o):x)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var E=t.constructor,A=e.constructor;E!=A&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof A=="function"&&A instanceof A)&&(g=!1)}return o.delete(t),o.delete(e),g}var k9=T9,O9=ih,M9=ha,R9=O9(M9,"DataView"),I9=R9,N9=ih,j9=ha,D9=N9(j9,"Promise"),L9=D9,$9=ih,F9=ha,B9=$9(F9,"Set"),j2=B9,z9=ih,U9=ha,H9=z9(U9,"WeakMap"),V9=H9,yS=I9,vS=z_,bS=L9,xS=j2,wS=V9,D2=_s,bp=zj,Ik="[object Map]",W9="[object Object]",Nk="[object Promise]",jk="[object Set]",Dk="[object WeakMap]",Lk="[object DataView]",G9=bp(yS),q9=bp(vS),K9=bp(bS),X9=bp(xS),Y9=bp(wS),fc=D2;(yS&&fc(new yS(new ArrayBuffer(1)))!=Lk||vS&&fc(new vS)!=Ik||bS&&fc(bS.resolve())!=Nk||xS&&fc(new xS)!=jk||wS&&fc(new wS)!=Dk)&&(fc=function(t){var e=D2(t),n=e==W9?t.constructor:void 0,r=n?bp(n):"";if(r)switch(r){case G9:return Lk;case q9:return Ik;case K9:return Nk;case X9:return jk;case Y9:return Dk}return e});var J9=fc,U1=E2,Z9=T2,Q9=Oq,eX=k9,$k=J9,Fk=Nr,Bk=M2,tX=I2,nX=1,zk="[object Arguments]",Uk="[object Array]",Wv="[object Object]",rX=Object.prototype,Hk=rX.hasOwnProperty;function iX(t,e,n,r,i,o){var a=Fk(t),s=Fk(e),l=a?Uk:$k(t),c=s?Uk:$k(e);l=l==zk?Wv:l,c=c==zk?Wv:c;var u=l==Wv,h=c==Wv,f=l==c;if(f&&Bk(t)){if(!Bk(e))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new U1),a||tX(t)?Z9(t,e,n,r,i,o):Q9(t,e,l,n,r,i,o);if(!(n&nX)){var p=u&&Hk.call(t,"__wrapped__"),m=h&&Hk.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return o||(o=new U1),i(g,y,n,r,o)}}return f?(o||(o=new U1),eX(t,e,n,r,i,o)):!1}var oX=iX,aX=oX,Vk=Ps;function L2(t,e,n,r,i){return t===e?!0:t==null||e==null||!Vk(t)&&!Vk(e)?t!==t&&e!==e:aX(t,e,n,r,L2,i)}var iP=L2,sX=E2,lX=iP,cX=1,uX=2;function hX(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var h=new sX;if(r)var f=r(c,u,l,t,e,h);if(!(f===void 0?lX(u,c,cX|uX,r,h):f))return!1}}return!0}var dX=hX,fX=Yl;function pX(t){return t===t&&!fX(t)}var $2=pX,mX=$2,gX=Pw;function yX(t){for(var e=gX(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mX(i)]}return e}var vX=yX;function bX(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var F2=bX,xX=dX,wX=vX,AX=F2;function SX(t){var e=wX(t);return e.length==1&&e[0][2]?AX(e[0][0],e[0][1]):function(n){return n===t||xX(n,t,e)}}var EX=SX;function CX(t,e){return t!=null&&e in Object(t)}var _X=CX,PX=Gj,TX=tP,kX=Nr,OX=nP,MX=rP,RX=hw;function IX(t,e,n){e=PX(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=RX(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&MX(i)&&OX(a,i)&&(kX(t)||TX(t)))}var NX=IX,jX=_X,DX=NX;function LX(t,e){return t!=null&&DX(t,e,jX)}var $X=LX,FX=iP,BX=qj,zX=$X,UX=$_,HX=$2,VX=F2,WX=hw,GX=1,qX=2;function KX(t,e){return UX(t)&&HX(e)?VX(WX(t),e):function(n){var r=BX(n,t);return r===void 0&&r===e?zX(n,t):FX(e,r,GX|qX)}}var XX=KX;function YX(t){return t}var xp=YX;function JX(t){return function(e){return e==null?void 0:e[t]}}var ZX=JX,QX=W_;function e7(t){return function(e){return QX(e,t)}}var t7=e7,n7=ZX,r7=t7,i7=$_,o7=hw;function a7(t){return i7(t)?n7(o7(t)):r7(t)}var s7=a7,l7=EX,c7=XX,u7=xp,h7=Nr,d7=s7;function f7(t){return typeof t=="function"?t:t==null?u7:typeof t=="object"?h7(t)?c7(t[0],t[1]):l7(t):d7(t)}var da=f7;function p7(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var B2=p7;function m7(t){return t!==t}var g7=m7;function y7(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var v7=y7,b7=B2,x7=g7,w7=v7;function A7(t,e,n){return e===e?w7(t,e,n):b7(t,x7,n)}var S7=A7,E7=S7;function C7(t,e){var n=t==null?0:t.length;return!!n&&E7(t,e,0)>-1}var _7=C7;function P7(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var T7=P7;function k7(){}var O7=k7,H1=j2,M7=O7,R7=eP,I7=1/0,N7=H1&&1/R7(new H1([,-0]))[1]==I7?function(t){return new H1(t)}:M7,j7=N7,D7=C2,L7=_7,$7=T7,F7=P2,B7=j7,z7=eP,U7=200;function H7(t,e,n){var r=-1,i=L7,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=$7;else if(o>=U7){var c=e?null:B7(t);if(c)return z7(c);a=!1,i=F7,l=new D7}else l=e?[]:s;e:for(;++r<o;){var u=t[r],h=e?e(u):u;if(u=n||u!==0?u:0,a&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),s.push(u)}else i(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s}var V7=H7,W7=da,G7=V7;function q7(t,e){return t&&t.length?G7(t,W7(e)):[]}var K7=q7;const Wk=et(K7);function z2(t,e,n){return e===!0?Wk(t,n):Se(e)?Wk(t,e):t}function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var X7=["ref"];function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){Tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H2(r.key),r)}}function J7(t,e,n){return e&&qk(t.prototype,e),n&&qk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z7(t,e,n){return e=Ex(e),Q7(t,U2()?Reflect.construct(e,n||[],Ex(t).constructor):e.apply(t,n))}function Q7(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eY(t)}function eY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U2=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(t)}function tY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AS(t,e)}function AS(t,e){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AS(t,e)}function Tw(t,e,n){return e=H2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2(t){var e=nY(t,"string");return Mf(e)=="symbol"?e:e+""}function nY(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rY(t,e){if(t==null)return{};var n=iY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oY(t){return t.value}function aY(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=rY(e,X7);return B.createElement(Q_,n)}var Kk=1,yr=function(t){function e(){var n;Y7(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Z7(this,e,[].concat(i)),Tw(n,"lastBoundingBox",{width:-1,height:-1}),n}return tY(e,t),J7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Kk||Math.abs(i.height-this.lastBoundingBox.height)>Kk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?va({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();h={left:((c||0)-p.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();f={top:((u||0)-m.height)/2}}else f=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return va(va({},h),f)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,h=va(va({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p}},aY(o,va(va({},this.props),{},{payload:z2(u,c,oY)})))}}],[{key:"getWithHeight",value:function(r,i){var o=va(va({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ee(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(P.PureComponent);Tw(yr,"displayName","Legend");Tw(yr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Xk=gv,sY=tP,lY=Nr,Yk=Xk?Xk.isConcatSpreadable:void 0;function cY(t){return lY(t)||sY(t)||!!(Yk&&t&&t[Yk])}var uY=cY,hY=k2,dY=uY;function V2(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=dY),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?V2(s,e-1,n,r,i):hY(i,s):r||(i[i.length]=s)}return i}var W2=V2;function fY(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var pY=fY,mY=pY,gY=mY(),yY=gY,vY=yY,bY=Pw;function xY(t,e){return t&&vY(t,e,bY)}var G2=xY,wY=yv;function AY(t,e){return function(n,r){if(n==null)return n;if(!wY(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var SY=AY,EY=G2,CY=SY,_Y=CY(EY),oP=_Y,PY=oP,TY=yv;function kY(t,e){var n=-1,r=TY(t)?Array(t.length):[];return PY(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var q2=kY;function OY(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var MY=OY,Jk=dp;function RY(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=Jk(t),a=e!==void 0,s=e===null,l=e===e,c=Jk(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var IY=RY,NY=IY;function jY(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=NY(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var DY=jY,V1=V_,LY=W_,$Y=da,FY=q2,BY=MY,zY=R2,UY=DY,HY=xp,VY=Nr;function WY(t,e,n){e.length?e=V1(e,function(o){return VY(o)?function(a){return LY(a,o.length===1?o[0]:o)}:o}):e=[HY];var r=-1;e=V1(e,zY($Y));var i=FY(t,function(o,a,s){var l=V1(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return BY(i,function(o,a){return UY(o,a,n)})}var GY=WY;function qY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var KY=qY,XY=KY,Zk=Math.max;function YY(t,e,n){return e=Zk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Zk(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),XY(t,this,s)}}var JY=YY;function ZY(t){return function(){return t}}var QY=ZY,eJ=ih,tJ=function(){try{var t=eJ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),K2=tJ,nJ=QY,Qk=K2,rJ=xp,iJ=Qk?function(t,e){return Qk(t,"toString",{configurable:!0,enumerable:!1,value:nJ(e),writable:!0})}:rJ,oJ=iJ,aJ=800,sJ=16,lJ=Date.now;function cJ(t){var e=0,n=0;return function(){var r=lJ(),i=sJ-(r-n);if(n=r,i>0){if(++e>=aJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var uJ=cJ,hJ=oJ,dJ=uJ,fJ=dJ(hJ),pJ=fJ,mJ=xp,gJ=JY,yJ=pJ;function vJ(t,e){return yJ(gJ(t,e,mJ),t+"")}var bJ=vJ,xJ=B_,wJ=yv,AJ=nP,SJ=Yl;function EJ(t,e,n){if(!SJ(n))return!1;var r=typeof e;return(r=="number"?wJ(n)&&AJ(e,n.length):r=="string"&&e in n)?xJ(n[e],t):!1}var kw=EJ,CJ=W2,_J=GY,PJ=bJ,eO=kw,TJ=PJ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&eO(t,e[0],e[1])?e=[]:n>2&&eO(e[0],e[1],e[2])&&(e=[e[0]]),_J(t,CJ(e,1),[])}),kJ=TJ;const aP=et(kJ);function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function OJ(t,e){return NJ(t)||IJ(t,e)||RJ(t,e)||MJ()}function MJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJ(t,e){if(t){if(typeof t=="string")return tO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(t,e)}}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function NJ(t){if(Array.isArray(t))return t}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){jJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jJ(t,e,n){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=LJ(t,"string");return Hm(e)=="symbol"?e:e+""}function LJ(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $J(t){return Array.isArray(t)&&vn(t[0])&&vn(t[1])?t.join(" ~ "):t}var FJ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,y=e.labelFormatter,v=e.accessibilityLayer,w=v===void 0?!1:v,x=function(){if(u&&u.length){var N={padding:0,margin:0},L=(f?aP(u,f):u).map(function(F,z){if(F.type==="none")return null;var $=W1({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),U=F.formatter||h||$J,H=F.value,W=F.name,j=H,X=W;if(U&&j!=null&&X!=null){var q=U(H,W,F,z,u);if(Array.isArray(q)){var D=OJ(q,2);j=D[0],X=D[1]}else j=q}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:$},vn(X)?B.createElement("span",{className:"recharts-tooltip-item-name"},X):null,vn(X)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},j),B.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:N},L)}return null},E=W1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=W1({margin:0},c),S=!Ae(g),_=S?g:"",O=Pe("recharts-default-tooltip",p),I=Pe("recharts-tooltip-label",m);S&&y&&u!==void 0&&u!==null&&(_=y(g,u));var M=w?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",SS({className:O,style:E},M),B.createElement("p",{className:I,style:A},B.isValidElement(_)?_:"".concat(_)),x())};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function Gv(t,e,n){return e=BJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BJ(t){var e=zJ(t,"string");return Vm(e)=="symbol"?e:e+""}function zJ(t,e){if(Vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Up="recharts-tooltip-wrapper",UJ={visibility:"hidden"};function HJ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Pe(Up,Gv(Gv(Gv(Gv({},"".concat(Up,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(Up,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(Up,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(Up,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function rO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var u=n[r]-s-i,h=n[r]+i;if(e[r])return a[r]?u:h;if(a[r]){var f=u,p=l[r];return f<p?Math.max(h,l[r]):Math.max(u,l[r])}var m=h+s,g=l[r]+c;return m>g?Math.max(u,l[r]):Math.max(h,l[r])}function VJ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function WJ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,h;return a.height>0&&a.width>0&&n?(u=rO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=rO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=VJ({translateX:u,translateY:h,useTranslate3d:s})):c=UJ,{cssProperties:c,cssClasses:HJ({translateX:u,translateY:h,coordinate:n})}}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){CS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y2(r.key),r)}}function KJ(t,e,n){return e&&qJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XJ(t,e,n){return e=Cx(e),YJ(t,X2()?Reflect.construct(e,n||[],Cx(t).constructor):e.apply(t,n))}function YJ(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JJ(t)}function JJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X2=function(){return!!t})()}function Cx(t){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(t)}function ZJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ES(t,e)}function CS(t,e,n){return e=Y2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y2(t){var e=QJ(t,"string");return Rf(e)=="symbol"?e:e+""}function QJ(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aO=1,eZ=function(t){function e(){var n;GJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=XJ(this,e,[].concat(i)),CS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),CS(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return ZJ(e,t),KJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>aO||Math.abs(r.height-this.state.lastBoundingBox.height)>aO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,x=WJ({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),E=x.cssClasses,A=x.cssProperties,S=oO(oO({transition:f&&o?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return B.createElement("div",{tabIndex:-1,className:E,style:S,ref:function(O){r.wrapperNode=O}},c)}}])}(P.PureComponent),tZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ts={isSsr:tZ()};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){sP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z2(r.key),r)}}function iZ(t,e,n){return e&&rZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oZ(t,e,n){return e=_x(e),aZ(t,J2()?Reflect.construct(e,n||[],_x(t).constructor):e.apply(t,n))}function aZ(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sZ(t)}function sZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J2=function(){return!!t})()}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_x(t)}function lZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}function _S(t,e){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_S(t,e)}function sP(t,e,n){return e=Z2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z2(t){var e=cZ(t,"string");return If(e)=="symbol"?e:e+""}function cZ(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uZ(t){return t.dataKey}function hZ(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(FJ,e)}var kn=function(t){function e(){return nZ(this,e),oZ(this,e,arguments)}return lZ(e,t),iZ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,y=i.position,v=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,E=i.wrapperStyle,A=m??[];h&&A.length&&(A=z2(m.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,uZ));var S=A.length>0;return B.createElement(eZ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:o,coordinate:u,hasPayload:S,offset:p,position:y,reverseDirection:v,useTranslate3d:w,viewBox:x,wrapperStyle:E},hZ(c,lO(lO({},this.props),{},{payload:A})))}}])}(P.PureComponent);sP(kn,"displayName","Tooltip");sP(kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ts.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dZ=ha,fZ=function(){return dZ.Date.now()},pZ=fZ,mZ=/\s/;function gZ(t){for(var e=t.length;e--&&mZ.test(t.charAt(e)););return e}var yZ=gZ,vZ=yZ,bZ=/^\s+/;function xZ(t){return t&&t.slice(0,vZ(t)+1).replace(bZ,"")}var wZ=xZ,AZ=wZ,cO=Yl,SZ=dp,uO=NaN,EZ=/^[-+]0x[0-9a-f]+$/i,CZ=/^0b[01]+$/i,_Z=/^0o[0-7]+$/i,PZ=parseInt;function TZ(t){if(typeof t=="number")return t;if(SZ(t))return uO;if(cO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=AZ(t);var n=CZ.test(t);return n||_Z.test(t)?PZ(t.slice(2),n?2:8):EZ.test(t)?uO:+t}var Q2=TZ,kZ=Yl,G1=pZ,hO=Q2,OZ="Expected a function",MZ=Math.max,RZ=Math.min;function IZ(t,e,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(OZ);e=hO(e)||0,kZ(n)&&(u=!!n.leading,h="maxWait"in n,o=h?MZ(hO(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p(S){var _=r,O=i;return r=i=void 0,c=S,a=t.apply(O,_),a}function m(S){return c=S,s=setTimeout(v,e),u?p(S):a}function g(S){var _=S-l,O=S-c,I=e-_;return h?RZ(I,o-O):I}function y(S){var _=S-l,O=S-c;return l===void 0||_>=e||_<0||h&&O>=o}function v(){var S=G1();if(y(S))return w(S);s=setTimeout(v,g(S))}function w(S){return s=void 0,f&&r?p(S):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function E(){return s===void 0?a:w(G1())}function A(){var S=G1(),_=y(S);if(r=arguments,i=this,l=S,_){if(s===void 0)return m(l);if(h)return clearTimeout(s),s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),a}return A.cancel=x,A.flush=E,A}var NZ=IZ,jZ=NZ,DZ=Yl,LZ="Expected a function";function $Z(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(LZ);return DZ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),jZ(t,e,{leading:r,maxWait:e,trailing:i})}var FZ=$Z;const eD=et(FZ);function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return e=zZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zZ(t){var e=UZ(t,"string");return Wm(e)=="symbol"?e:e+""}function UZ(t,e){if(Wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HZ(t,e){return qZ(t)||GZ(t,e)||WZ(t,e)||VZ()}function VZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WZ(t,e){if(t){if(typeof t=="string")return fO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fO(t,e)}}function fO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function qZ(t){if(Array.isArray(t))return t}var cs=P.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,h=t.minHeight,f=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,y=t.id,v=t.className,w=t.onResize,x=t.style,E=x===void 0?{}:x,A=P.useRef(null),S=P.useRef();S.current=w,P.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var _=P.useState({containerWidth:i.width,containerHeight:i.height}),O=HZ(_,2),I=O[0],M=O[1],R=P.useCallback(function(L,F){M(function(z){var $=Math.round(L),U=Math.round(F);return z.containerWidth===$&&z.containerHeight===U?z:{containerWidth:$,containerHeight:U}})},[]);P.useEffect(function(){var L=function(W){var j,X=W[0].contentRect,q=X.width,D=X.height;R(q,D),(j=S.current)===null||j===void 0||j.call(S,q,D)};g>0&&(L=eD(L,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(L),z=A.current.getBoundingClientRect(),$=z.width,U=z.height;return R($,U),F.observe(A.current),function(){F.disconnect()}},[R,g]);var N=P.useMemo(function(){var L=I.containerWidth,F=I.containerHeight;if(L<0||F<0)return null;mo(Cc(a)||Cc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),mo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Cc(a)?L:a,$=Cc(l)?F:l;n&&n>0&&(z?$=z/n:$&&(z=$*n),f&&$>f&&($=f)),mo(z>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,$,a,l,u,h,n);var U=!Array.isArray(p)&&ls(p.type).endsWith("Chart");return B.Children.map(p,function(H){return B.isValidElement(H)?P.cloneElement(H,qv({width:z,height:$},U?{style:qv({height:"100%",width:"100%",maxHeight:$,maxWidth:z},H.props.style)}:{})):H})},[n,p,l,f,h,u,I,a]);return B.createElement("div",{id:y?"".concat(y):void 0,className:Pe("recharts-responsive-container",v),style:qv(qv({},E),{},{width:a,height:l,minWidth:u,minHeight:h,maxHeight:f}),ref:A},N)}),vv=function(e){return null};vv.displayName="Cell";function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){KZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KZ(t,e,n){return e=XZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XZ(t){var e=YZ(t,"string");return Gm(e)=="symbol"?e:e+""}function YZ(t,e){if(Gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ph={widthCache:{},cacheCount:0},JZ=2e3,ZZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mO="recharts_measurement_span";function QZ(t){var e=PS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Tm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ts.isSsr)return{width:0,height:0};var r=QZ(n),i=JSON.stringify({text:e,copyStyle:r});if(ph.widthCache[i])return ph.widthCache[i];try{var o=document.getElementById(mO);o||(o=document.createElement("span"),o.setAttribute("id",mO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=PS(PS({},ZZ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ph.widthCache[i]=l,++ph.cacheCount>JZ&&(ph.cacheCount=0,ph.widthCache={}),l}catch{return{width:0,height:0}}},eQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function Px(t,e){return iQ(t)||rQ(t,e)||nQ(t,e)||tQ()}function tQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nQ(t,e){if(t){if(typeof t=="string")return gO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function iQ(t){if(Array.isArray(t))return t}function oQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sQ(r.key),r)}}function aQ(t,e,n){return e&&yO(t.prototype,e),n&&yO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sQ(t){var e=lQ(t,"string");return qm(e)=="symbol"?e:e+""}function lQ(t,e){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hQ=Object.keys(tD),Dh="NaN";function dQ(t,e){return t*tD[e]}var Kv=function(){function t(e,n){oQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!cQ.test(n)&&(this.num=NaN,this.unit=""),hQ.includes(n)&&(this.num=dQ(e,n),this.unit="px")}return aQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=uQ.exec(n))!==null&&r!==void 0?r:[],o=Px(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function nD(t){if(t.includes(Dh))return Dh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=vO.exec(e))!==null&&n!==void 0?n:[],i=Px(r,4),o=i[1],a=i[2],s=i[3],l=Kv.parse(o??""),c=Kv.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Dh;e=e.replace(vO,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=bO.exec(e))!==null&&h!==void 0?h:[],p=Px(f,4),m=p[1],g=p[2],y=p[3],v=Kv.parse(m??""),w=Kv.parse(y??""),x=g==="+"?v.add(w):v.subtract(w);if(x.isNaN())return Dh;e=e.replace(bO,x.toString())}return e}var xO=/\(([^()]*)\)/;function fQ(t){for(var e=t;e.includes("(");){var n=xO.exec(e),r=Px(n,2),i=r[1];e=e.replace(xO,nD(i))}return e}function pQ(t){var e=t.replace(/\s+/g,"");return e=fQ(e),e=nD(e),e}function mQ(t){try{return pQ(t)}catch{return Dh}}function q1(t){var e=mQ(t.slice(5,-1));return e===Dh?"":e}var gQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yQ=["dx","dy","angle","className","breakAll"];function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(this,arguments)}function wO(t,e){if(t==null)return{};var n=vQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AO(t,e){return AQ(t)||wQ(t,e)||xQ(t,e)||bQ()}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(t,e){if(t){if(typeof t=="string")return SO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SO(t,e)}}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function AQ(t){if(Array.isArray(t))return t}var rD=/[ \f\n\r\t\v\u2028\u2029]+/,iD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ae(n)||(r?o=n.toString().split(""):o=n.toString().split(rD));var a=o.map(function(l){return{word:l,width:Tm(l,i).width}}),s=r?0:Tm("Â ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},SQ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=ee(a),h=s,f=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function($,U){var H=U.word,W=U.width,j=$[$.length-1];if(j&&(i==null||o||j.width+W+r<Number(i)))j.words.push(H),j.width+=W+r;else{var X={words:[H],width:W};$.push(X)}return $},[])},p=f(n),m=function(z){return z.reduce(function($,U){return $.width>U.width?$:U})};if(!u)return p;for(var g="â€¦",y=function(z){var $=h.slice(0,z),U=iD({breakAll:c,style:l,children:$+g}).wordsWithComputedWidth,H=f(U),W=H.length>a||m(H).width>Number(i);return[W,H]},v=0,w=h.length-1,x=0,E;v<=w&&x<=h.length-1;){var A=Math.floor((v+w)/2),S=A-1,_=y(S),O=AO(_,2),I=O[0],M=O[1],R=y(A),N=AO(R,1),L=N[0];if(!I&&!L&&(v=A+1),I&&L&&(w=A-1),!I&&L){E=M;break}x++}return E||p},EO=function(e){var n=Ae(e)?[]:e.toString().split(rD);return[{words:n}]},EQ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Ts.isSsr){var l,c,u=iD({breakAll:a,children:i,style:o});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;l=h,c=f}else return EO(i);return SQ({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return EO(i)},CO="#808080",Ku=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,h=u===void 0?!1:u,f=e.textAnchor,p=f===void 0?"start":f,m=e.verticalAnchor,g=m===void 0?"end":m,y=e.fill,v=y===void 0?CO:y,w=wO(e,gQ),x=P.useMemo(function(){return EQ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),E=w.dx,A=w.dy,S=w.angle,_=w.className,O=w.breakAll,I=wO(w,yQ);if(!vn(r)||!vn(o))return null;var M=r+(ee(E)?E:0),R=o+(ee(A)?A:0),N;switch(g){case"start":N=q1("calc(".concat(c,")"));break;case"middle":N=q1("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=q1("calc(".concat(x.length-1," * -").concat(s,")"));break}var L=[];if(h){var F=x[0].width,z=w.width;L.push("scale(".concat((ee(z)?z/F:1)/F,")"))}return S&&L.push("rotate(".concat(S,", ").concat(M,", ").concat(R,")")),L.length&&(I.transform=L.join(" ")),B.createElement("text",TS({},ge(I,!0),{x:M,y:R,className:Pe("recharts-text",_),textAnchor:p,fill:v.includes("url")?CO:v}),x.map(function($,U){var H=$.words.join(O?"":" ");return B.createElement("tspan",{x:M,dy:U===0?N:s,key:"".concat(H,"-").concat(U)},H)}))};function Fl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lP(t){let e,n,r;t.length!==2?(e=Fl,n=(s,l)=>Fl(t(s),l),r=(s,l)=>t(s)-l):(e=t===Fl||t===CQ?t:_Q,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(s[h],l)<0?c=h+1:u=h}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(s[h],l)<=0?c=h+1:u=h}while(c<u)}return c}function a(s,l,c=0,u=s.length){const h=i(s,l,c,u-1);return h>c&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function _Q(){return 0}function oD(t){return t===null?NaN:+t}function*PQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const TQ=lP(Fl),bv=TQ.right;lP(oD).center;class _O extends Map{constructor(e,n=MQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(PO(this,e))}has(e){return super.has(PO(this,e))}set(e,n){return super.set(kQ(this,e),n)}delete(e){return super.delete(OQ(this,e))}}function PO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function kQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function OQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function MQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function RQ(t=Fl){if(t===Fl)return aD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function aD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const IQ=Math.sqrt(50),NQ=Math.sqrt(10),jQ=Math.sqrt(2);function Tx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=IQ?10:o>=NQ?5:o>=jQ?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Tx(t,e,n*2):[s,l,c]}function kS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Tx(e,t,n):Tx(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function OS(t,e,n){return e=+e,t=+t,n=+n,Tx(t,e,n)[2]}function MS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?OS(e,t,n):OS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function TO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function kO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function sD(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?aD:RQ(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*h/l+f)),m=Math.min(r,Math.floor(e+(l-c)*h/l+f));sD(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Hp(t,n,e),i(t[r],o)>0&&Hp(t,n,r);a<s;){for(Hp(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Hp(t,n,s):(++s,Hp(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Hp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function DQ(t,e,n){if(t=Float64Array.from(PQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return kO(t);if(e>=1)return TO(t);var r,i=(r-1)*e,o=Math.floor(i),a=TO(sD(t,o).subarray(0,o+1)),s=kO(t.subarray(o+1));return a+(s-a)*(i-o)}}function LQ(t,e,n=oD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function $Q(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Wi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const RS=Symbol("implicit");function cP(){var t=new _O,e=[],n=[],r=RS;function i(o){let a=t.get(o);if(a===void 0){if(r!==RS)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new _O;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cP(e,n).unknown(r)},Wi.apply(i,arguments),i}function Km(){var t=cP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function h(){var f=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,f-l+c*2),s&&(o=Math.floor(o)),m+=(g-m-o*(f-l))*u,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var y=$Q(f).map(function(v){return m+o*v});return n(p?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},t.copy=function(){return Km(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Wi.apply(h(),arguments)}function lD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lD(e())},t}function km(){return lD(Km.apply(null,arguments).paddingInner(1))}function uP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xv(){}var Xm=.7,kx=1/Xm,Kh="\\s*([+-]?\\d+)\\s*",Ym="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FQ=/^#([0-9a-f]{3,8})$/,BQ=new RegExp(`^rgb\\(${Kh},${Kh},${Kh}\\)$`),zQ=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),UQ=new RegExp(`^rgba\\(${Kh},${Kh},${Kh},${Ym}\\)$`),HQ=new RegExp(`^rgba\\(${oa},${oa},${oa},${Ym}\\)$`),VQ=new RegExp(`^hsl\\(${Ym},${oa},${oa}\\)$`),WQ=new RegExp(`^hsla\\(${Ym},${oa},${oa},${Ym}\\)$`),OO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uP(xv,Jm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:MO,formatHex:MO,formatHex8:GQ,formatHsl:qQ,formatRgb:RO,toString:RO});function MO(){return this.rgb().formatHex()}function GQ(){return this.rgb().formatHex8()}function qQ(){return uD(this).formatHsl()}function RO(){return this.rgb().formatRgb()}function Jm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=FQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?IO(e):n===3?new Or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=BQ.exec(t))?new Or(e[1],e[2],e[3],1):(e=zQ.exec(t))?new Or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=UQ.exec(t))?Xv(e[1],e[2],e[3],e[4]):(e=HQ.exec(t))?Xv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VQ.exec(t))?DO(e[1],e[2]/100,e[3]/100,1):(e=WQ.exec(t))?DO(e[1],e[2]/100,e[3]/100,e[4]):OO.hasOwnProperty(t)?IO(OO[t]):t==="transparent"?new Or(NaN,NaN,NaN,0):null}function IO(t){return new Or(t>>16&255,t>>8&255,t&255,1)}function Xv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Or(t,e,n,r)}function KQ(t){return t instanceof xv||(t=Jm(t)),t?(t=t.rgb(),new Or(t.r,t.g,t.b,t.opacity)):new Or}function IS(t,e,n,r){return arguments.length===1?KQ(t):new Or(t,e,n,r??1)}function Or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uP(Or,IS,cD(xv,{brighter(t){return t=t==null?kx:Math.pow(kx,t),new Or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xm:Math.pow(Xm,t),new Or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Or(Vu(this.r),Vu(this.g),Vu(this.b),Ox(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NO,formatHex:NO,formatHex8:XQ,formatRgb:jO,toString:jO}));function NO(){return`#${_c(this.r)}${_c(this.g)}${_c(this.b)}`}function XQ(){return`#${_c(this.r)}${_c(this.g)}${_c(this.b)}${_c((isNaN(this.opacity)?1:this.opacity)*255)}`}function jO(){const t=Ox(this.opacity);return`${t===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${t===1?")":`, ${t})`}`}function Ox(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _c(t){return t=Vu(t),(t<16?"0":"")+t.toString(16)}function DO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fo(t,e,n,r)}function uD(t){if(t instanceof fo)return new fo(t.h,t.s,t.l,t.opacity);if(t instanceof xv||(t=Jm(t)),!t)return new fo;if(t instanceof fo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new fo(a,s,l,t.opacity)}function YQ(t,e,n,r){return arguments.length===1?uD(t):new fo(t,e,n,r??1)}function fo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uP(fo,YQ,cD(xv,{brighter(t){return t=t==null?kx:Math.pow(kx,t),new fo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xm:Math.pow(Xm,t),new fo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Or(K1(t>=240?t-240:t+120,i,r),K1(t,i,r),K1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new fo(LO(this.h),Yv(this.s),Yv(this.l),Ox(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ox(this.opacity);return`${t===1?"hsl(":"hsla("}${LO(this.h)}, ${Yv(this.s)*100}%, ${Yv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LO(t){return t=(t||0)%360,t<0?t+360:t}function Yv(t){return Math.max(0,Math.min(1,t||0))}function K1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const hP=t=>()=>t;function JQ(t,e){return function(n){return t+n*e}}function ZQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function QQ(t){return(t=+t)==1?hD:function(e,n){return n-e?ZQ(e,n,t):hP(isNaN(e)?n:e)}}function hD(t,e){var n=e-t;return n?JQ(t,n):hP(isNaN(t)?e:t)}const $O=function t(e){var n=QQ(e);function r(i,o){var a=n((i=IS(i)).r,(o=IS(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=hD(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function eee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function tee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=wp(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function ree(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=wp(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var NS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X1=new RegExp(NS.source,"g");function oee(t){return function(){return t}}function aee(t){return function(e){return t(e)+""}}function see(t,e){var n=NS.lastIndex=X1.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=NS.exec(t))&&(i=X1.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Mx(r,i)})),n=X1.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?aee(l[0].x):oee(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)s[(h=l[u]).i]=h.x(c);return s.join("")})}function wp(t,e){var n=typeof e,r;return e==null||n==="boolean"?hP(e):(n==="number"?Mx:n==="string"?(r=Jm(e))?(e=r,$O):see:e instanceof Jm?$O:e instanceof Date?ree:tee(e)?eee:Array.isArray(e)?nee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iee:Mx)(t,e)}function dP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lee(t,e){e===void 0&&(e=t,t=wp);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function cee(t){return function(){return t}}function Rx(t){return+t}var FO=[0,1];function pr(t){return t}function jS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cee(isNaN(e)?NaN:.5)}function uee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function hee(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=jS(i,r),o=n(a,o)):(r=jS(r,i),o=n(o,a)),function(s){return o(r(s))}}function dee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=jS(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=bv(t,s,1,r)-1;return o[l](i[l](s))}}function wv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ow(){var t=FO,e=FO,n=wp,r,i,o,a=pr,s,l,c;function u(){var f=Math.min(t.length,e.length);return a!==pr&&(a=uee(t[0],t[f-1])),s=f>2?dee:hee,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((c||(c=s(e,t.map(r),Mx)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Rx),u()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=dP,u()},h.clamp=function(f){return arguments.length?(a=f?!0:pr,u()):a!==pr},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return r=f,i=p,u()}}function fP(){return Ow()(pr,pr)}function fee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ix(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nf(t){return t=Ix(Math.abs(t)),t?t[1]:NaN}function pee(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function mee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zm(t){if(!(e=gee.exec(t)))throw new Error("invalid format: "+t);var e;return new pP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zm.prototype=pP.prototype;function pP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var dD;function vee(t,e){var n=Ix(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(dD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ix(t,Math.max(0,e+o-1))[0]}function BO(t,e){var n=Ix(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>BO(t*100,e),r:BO,s:vee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function UO(t){return t}var HO=Array.prototype.map,VO=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function bee(t){var e=t.grouping===void 0||t.thousands===void 0?UO:pee(HO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?UO:mee(HO.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"âˆ’":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=Zm(h);var f=h.fill,p=h.align,m=h.sign,g=h.symbol,y=h.zero,v=h.width,w=h.comma,x=h.precision,E=h.trim,A=h.type;A==="n"?(w=!0,A="g"):zO[A]||(x===void 0&&(x=12),E=!0,A="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",_=g==="$"?r:/[%p]/.test(A)?a:"",O=zO[A],I=/[defgprs%]/.test(A);x=x===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function M(R){var N=S,L=_,F,z,$;if(A==="c")L=O(R)+L,R="";else{R=+R;var U=R<0||1/R<0;if(R=isNaN(R)?l:O(Math.abs(R),x),E&&(R=yee(R)),U&&+R==0&&m!=="+"&&(U=!1),N=(U?m==="("?m:s:m==="-"||m==="("?"":m)+N,L=(A==="s"?VO[8+dD/3]:"")+L+(U&&m==="("?")":""),I){for(F=-1,z=R.length;++F<z;)if($=R.charCodeAt(F),48>$||$>57){L=($===46?i+R.slice(F+1):R.slice(F))+L,R=R.slice(0,F);break}}}w&&!y&&(R=e(R,1/0));var H=N.length+R.length+L.length,W=H<v?new Array(v-H+1).join(f):"";switch(w&&y&&(R=e(W+R,W.length?v-L.length:1/0),W=""),p){case"<":R=N+R+L+W;break;case"=":R=N+W+R+L;break;case"^":R=W.slice(0,H=W.length>>1)+N+R+L+W.slice(H);break;default:R=W+N+R+L;break}return o(R)}return M.toString=function(){return h+""},M}function u(h,f){var p=c((h=Zm(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Nf(f)/3)))*3,g=Math.pow(10,-m),y=VO[8+m/3];return function(v){return p(g*v)+y}}return{format:c,formatPrefix:u}}var Jv,mP,fD;xee({thousands:",",grouping:[3],currency:["$",""]});function xee(t){return Jv=bee(t),mP=Jv.format,fD=Jv.formatPrefix,Jv}function wee(t){return Math.max(0,-Nf(Math.abs(t)))}function Aee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nf(e)/3)))*3-Nf(Math.abs(t)))}function See(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nf(e)-Nf(t))+1}function pD(t,e,n,r){var i=MS(t,e,n),o;switch(r=Zm(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Aee(i,a))&&(r.precision=o),fD(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=See(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=wee(i))&&(r.precision=o-(r.type==="%")*2);break}}return mP(r)}function Zl(t){var e=t.domain;return t.ticks=function(n){var r=e();return kS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=OS(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Nx(){var t=fP();return t.copy=function(){return wv(t,Nx())},Wi.apply(t,arguments),Zl(t)}function mD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Rx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return mD(t).unknown(e)},t=arguments.length?Array.from(t,Rx):[0,1],Zl(n)}function gD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function WO(t){return Math.log(t)}function GO(t){return Math.exp(t)}function Eee(t){return-Math.log(-t)}function Cee(t){return-Math.exp(-t)}function _ee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Pee(t){return t===10?_ee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Tee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qO(t){return(e,n)=>-t(-e,n)}function gP(t){const e=t(WO,GO),n=e.domain;let r=10,i,o;function a(){return i=Tee(r),o=Pee(r),n()[0]<0?(i=qO(i),o=qO(o),t(Eee,Cee)):t(WO,GO),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const h=u<c;h&&([c,u]=[u,c]);let f=i(c),p=i(u),m,g;const y=s==null?10:+s;let v=[];if(!(r%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(m=1;m<r;++m)if(g=f<0?m/o(-f):m*o(f),!(g<c)){if(g>u)break;v.push(g)}}else for(;f<=p;++f)for(m=r-1;m>=1;--m)if(g=f>0?m/o(-f):m*o(f),!(g<c)){if(g>u)break;v.push(g)}v.length*2<y&&(v=kS(c,u,y))}else v=kS(f,p,Math.min(p-f,y)).map(o);return h?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Zm(l)).precision==null&&(l.trim=!0),l=mP(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let h=u/o(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=c?l(u):""}},e.nice=()=>n(gD(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function yD(){const t=gP(Ow()).domain([1,10]);return t.copy=()=>wv(t,yD()).base(t.base()),Wi.apply(t,arguments),t}function KO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function XO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yP(t){var e=1,n=t(KO(e),XO(e));return n.constant=function(r){return arguments.length?t(KO(e=+r),XO(e)):e},Zl(n)}function vD(){var t=yP(Ow());return t.copy=function(){return wv(t,vD()).constant(t.constant())},Wi.apply(t,arguments)}function YO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Oee(t){return t<0?-t*t:t*t}function vP(t){var e=t(pr,pr),n=1;function r(){return n===1?t(pr,pr):n===.5?t(kee,Oee):t(YO(n),YO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Zl(e)}function bP(){var t=vP(Ow());return t.copy=function(){return wv(t,bP()).exponent(t.exponent())},Wi.apply(t,arguments),t}function Mee(){return bP.apply(null,arguments).exponent(.5)}function JO(t){return Math.sign(t)*t*t}function Ree(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function bD(){var t=fP(),e=[0,1],n=!1,r;function i(o){var a=Ree(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(JO(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Rx)).map(JO)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Wi.apply(i,arguments),Zl(i)}function xD(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=LQ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[bv(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Fl),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return xD().domain(t).range(e).unknown(r)},Wi.apply(o,arguments)}function wD(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[bv(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return wD().domain([t,e]).range(i).unknown(o)},Wi.apply(Zl(a),arguments)}function AD(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[bv(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return AD().domain(t).range(e).unknown(n)},Wi.apply(i,arguments)}const Y1=new Date,J1=new Date;function xn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>xn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Y1.setTime(+o),J1.setTime(+a),t(Y1),t(J1),Math.floor(n(Y1,J1))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const jx=xn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jx);jx.range;const os=1e3,$i=os*60,as=$i*60,ms=as*24,xP=ms*7,ZO=ms*30,Z1=ms*365,Pc=xn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getUTCSeconds());Pc.range;const wP=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*os)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getMinutes());wP.range;const AP=xn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCMinutes());AP.range;const SP=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*os-t.getMinutes()*$i)},(t,e)=>{t.setTime(+t+e*as)},(t,e)=>(e-t)/as,t=>t.getHours());SP.range;const EP=xn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*as)},(t,e)=>(e-t)/as,t=>t.getUTCHours());EP.range;const Av=xn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$i)/ms,t=>t.getDate()-1);Av.range;const Mw=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ms,t=>t.getUTCDate()-1);Mw.range;const SD=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ms,t=>Math.floor(t/ms));SD.range;function oh(t){return xn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*$i)/xP)}const Rw=oh(0),Dx=oh(1),Iee=oh(2),Nee=oh(3),jf=oh(4),jee=oh(5),Dee=oh(6);Rw.range;Dx.range;Iee.range;Nee.range;jf.range;jee.range;Dee.range;function ah(t){return xn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xP)}const Iw=ah(0),Lx=ah(1),Lee=ah(2),$ee=ah(3),Df=ah(4),Fee=ah(5),Bee=ah(6);Iw.range;Lx.range;Lee.range;$ee.range;Df.range;Fee.range;Bee.range;const CP=xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());CP.range;const _P=xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_P.range;const gs=xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});gs.range;const ys=xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ys.range;function ED(t,e,n,r,i,o){const a=[[Pc,1,os],[Pc,5,5*os],[Pc,15,15*os],[Pc,30,30*os],[o,1,$i],[o,5,5*$i],[o,15,15*$i],[o,30,30*$i],[i,1,as],[i,3,3*as],[i,6,6*as],[i,12,12*as],[r,1,ms],[r,2,2*ms],[n,1,xP],[e,1,ZO],[e,3,3*ZO],[t,1,Z1]];function s(c,u,h){const f=u<c;f&&([c,u]=[u,c]);const p=h&&typeof h.range=="function"?h:l(c,u,h),m=p?p.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,h){const f=Math.abs(u-c)/h,p=lP(([,,y])=>y).right(a,f);if(p===a.length)return t.every(MS(c/Z1,u/Z1,h));if(p===0)return jx.every(Math.max(MS(c,u,h),1));const[m,g]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return m.every(g)}return[s,l]}const[zee,Uee]=ED(ys,_P,Iw,SD,EP,AP),[Hee,Vee]=ED(gs,CP,Rw,Av,SP,wP);function Q1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Wee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Wp(i),u=Gp(i),h=Wp(o),f=Gp(o),p=Wp(a),m=Gp(a),g=Wp(s),y=Gp(s),v=Wp(l),w=Gp(l),x={a:U,A:H,b:W,B:j,c:null,d:iM,e:iM,f:pte,g:Ete,G:_te,H:hte,I:dte,j:fte,L:CD,m:mte,M:gte,p:X,q,Q:sM,s:lM,S:yte,u:vte,U:bte,V:xte,w:wte,W:Ate,x:null,X:null,y:Ste,Y:Cte,Z:Pte,"%":aM},E={a:D,A:le,b:ve,B:ye,c:null,d:oM,e:oM,f:Mte,g:zte,G:Hte,H:Tte,I:kte,j:Ote,L:PD,m:Rte,M:Ite,p:ie,q:pe,Q:sM,s:lM,S:Nte,u:jte,U:Dte,V:Lte,w:$te,W:Fte,x:null,X:null,y:Bte,Y:Ute,Z:Vte,"%":aM},A={a:M,A:R,b:N,B:L,c:F,d:nM,e:nM,f:ste,g:tM,G:eM,H:rM,I:rM,j:rte,L:ate,m:nte,M:ite,p:I,q:tte,Q:cte,s:ute,S:ote,u:Yee,U:Jee,V:Zee,w:Xee,W:Qee,x:z,X:$,y:tM,Y:eM,Z:ete,"%":lte};x.x=S(n,x),x.X=S(r,x),x.c=S(e,x),E.x=S(n,E),E.X=S(r,E),E.c=S(e,E);function S(J,Z){return function(re){var V=[],te=-1,ae=0,xe=J.length,be,Be,Ut;for(re instanceof Date||(re=new Date(+re));++te<xe;)J.charCodeAt(te)===37&&(V.push(J.slice(ae,te)),(Be=QO[be=J.charAt(++te)])!=null?be=J.charAt(++te):Be=be==="e"?" ":"0",(Ut=Z[be])&&(be=Ut(re,Be)),V.push(be),ae=te+1);return V.push(J.slice(ae,te)),V.join("")}}function _(J,Z){return function(re){var V=Vp(1900,void 0,1),te=O(V,J,re+="",0),ae,xe;if(te!=re.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(Z&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(ae=eA(Vp(V.y,0,1)),xe=ae.getUTCDay(),ae=xe>4||xe===0?Lx.ceil(ae):Lx(ae),ae=Mw.offset(ae,(V.V-1)*7),V.y=ae.getUTCFullYear(),V.m=ae.getUTCMonth(),V.d=ae.getUTCDate()+(V.w+6)%7):(ae=Q1(Vp(V.y,0,1)),xe=ae.getDay(),ae=xe>4||xe===0?Dx.ceil(ae):Dx(ae),ae=Av.offset(ae,(V.V-1)*7),V.y=ae.getFullYear(),V.m=ae.getMonth(),V.d=ae.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),xe="Z"in V?eA(Vp(V.y,0,1)).getUTCDay():Q1(Vp(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(xe+5)%7:V.w+V.U*7-(xe+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,eA(V)):Q1(V)}}function O(J,Z,re,V){for(var te=0,ae=Z.length,xe=re.length,be,Be;te<ae;){if(V>=xe)return-1;if(be=Z.charCodeAt(te++),be===37){if(be=Z.charAt(te++),Be=A[be in QO?Z.charAt(te++):be],!Be||(V=Be(J,re,V))<0)return-1}else if(be!=re.charCodeAt(V++))return-1}return V}function I(J,Z,re){var V=c.exec(Z.slice(re));return V?(J.p=u.get(V[0].toLowerCase()),re+V[0].length):-1}function M(J,Z,re){var V=p.exec(Z.slice(re));return V?(J.w=m.get(V[0].toLowerCase()),re+V[0].length):-1}function R(J,Z,re){var V=h.exec(Z.slice(re));return V?(J.w=f.get(V[0].toLowerCase()),re+V[0].length):-1}function N(J,Z,re){var V=v.exec(Z.slice(re));return V?(J.m=w.get(V[0].toLowerCase()),re+V[0].length):-1}function L(J,Z,re){var V=g.exec(Z.slice(re));return V?(J.m=y.get(V[0].toLowerCase()),re+V[0].length):-1}function F(J,Z,re){return O(J,e,Z,re)}function z(J,Z,re){return O(J,n,Z,re)}function $(J,Z,re){return O(J,r,Z,re)}function U(J){return a[J.getDay()]}function H(J){return o[J.getDay()]}function W(J){return l[J.getMonth()]}function j(J){return s[J.getMonth()]}function X(J){return i[+(J.getHours()>=12)]}function q(J){return 1+~~(J.getMonth()/3)}function D(J){return a[J.getUTCDay()]}function le(J){return o[J.getUTCDay()]}function ve(J){return l[J.getUTCMonth()]}function ye(J){return s[J.getUTCMonth()]}function ie(J){return i[+(J.getUTCHours()>=12)]}function pe(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Z=S(J+="",x);return Z.toString=function(){return J},Z},parse:function(J){var Z=_(J+="",!1);return Z.toString=function(){return J},Z},utcFormat:function(J){var Z=S(J+="",E);return Z.toString=function(){return J},Z},utcParse:function(J){var Z=_(J+="",!0);return Z.toString=function(){return J},Z}}}var QO={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,Gee=/^%/,qee=/[\\^$*+?|[\]().{}]/g;function Je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Kee(t){return t.replace(qee,"\\$&")}function Wp(t){return new RegExp("^(?:"+t.map(Kee).join("|")+")","i")}function Gp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Xee(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yee(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Jee(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Zee(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Qee(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eM(t,e,n){var r=Rn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tM(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ete(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tte(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nte(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nM(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rte(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rM(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ite(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ote(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ate(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ste(t,e,n){var r=Rn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lte(t,e,n){var r=Gee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cte(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ute(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iM(t,e){return Je(t.getDate(),e,2)}function hte(t,e){return Je(t.getHours(),e,2)}function dte(t,e){return Je(t.getHours()%12||12,e,2)}function fte(t,e){return Je(1+Av.count(gs(t),t),e,3)}function CD(t,e){return Je(t.getMilliseconds(),e,3)}function pte(t,e){return CD(t,e)+"000"}function mte(t,e){return Je(t.getMonth()+1,e,2)}function gte(t,e){return Je(t.getMinutes(),e,2)}function yte(t,e){return Je(t.getSeconds(),e,2)}function vte(t){var e=t.getDay();return e===0?7:e}function bte(t,e){return Je(Rw.count(gs(t)-1,t),e,2)}function _D(t){var e=t.getDay();return e>=4||e===0?jf(t):jf.ceil(t)}function xte(t,e){return t=_D(t),Je(jf.count(gs(t),t)+(gs(t).getDay()===4),e,2)}function wte(t){return t.getDay()}function Ate(t,e){return Je(Dx.count(gs(t)-1,t),e,2)}function Ste(t,e){return Je(t.getFullYear()%100,e,2)}function Ete(t,e){return t=_D(t),Je(t.getFullYear()%100,e,2)}function Cte(t,e){return Je(t.getFullYear()%1e4,e,4)}function _te(t,e){var n=t.getDay();return t=n>=4||n===0?jf(t):jf.ceil(t),Je(t.getFullYear()%1e4,e,4)}function Pte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Je(e/60|0,"0",2)+Je(e%60,"0",2)}function oM(t,e){return Je(t.getUTCDate(),e,2)}function Tte(t,e){return Je(t.getUTCHours(),e,2)}function kte(t,e){return Je(t.getUTCHours()%12||12,e,2)}function Ote(t,e){return Je(1+Mw.count(ys(t),t),e,3)}function PD(t,e){return Je(t.getUTCMilliseconds(),e,3)}function Mte(t,e){return PD(t,e)+"000"}function Rte(t,e){return Je(t.getUTCMonth()+1,e,2)}function Ite(t,e){return Je(t.getUTCMinutes(),e,2)}function Nte(t,e){return Je(t.getUTCSeconds(),e,2)}function jte(t){var e=t.getUTCDay();return e===0?7:e}function Dte(t,e){return Je(Iw.count(ys(t)-1,t),e,2)}function TD(t){var e=t.getUTCDay();return e>=4||e===0?Df(t):Df.ceil(t)}function Lte(t,e){return t=TD(t),Je(Df.count(ys(t),t)+(ys(t).getUTCDay()===4),e,2)}function $te(t){return t.getUTCDay()}function Fte(t,e){return Je(Lx.count(ys(t)-1,t),e,2)}function Bte(t,e){return Je(t.getUTCFullYear()%100,e,2)}function zte(t,e){return t=TD(t),Je(t.getUTCFullYear()%100,e,2)}function Ute(t,e){return Je(t.getUTCFullYear()%1e4,e,4)}function Hte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Df(t):Df.ceil(t),Je(t.getUTCFullYear()%1e4,e,4)}function Vte(){return"+0000"}function aM(){return"%"}function sM(t){return+t}function lM(t){return Math.floor(+t/1e3)}var mh,kD,OD;Wte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wte(t){return mh=Wee(t),kD=mh.format,mh.parse,OD=mh.utcFormat,mh.utcParse,mh}function Gte(t){return new Date(t)}function qte(t){return t instanceof Date?+t:+new Date(+t)}function PP(t,e,n,r,i,o,a,s,l,c){var u=fP(),h=u.invert,f=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),w=c("%b %d"),x=c("%B"),E=c("%Y");function A(S){return(l(S)<S?p:s(S)<S?m:a(S)<S?g:o(S)<S?y:r(S)<S?i(S)<S?v:w:n(S)<S?x:E)(S)}return u.invert=function(S){return new Date(h(S))},u.domain=function(S){return arguments.length?f(Array.from(S,qte)):f().map(Gte)},u.ticks=function(S){var _=f();return t(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?A:c(_)},u.nice=function(S){var _=f();return(!S||typeof S.range!="function")&&(S=e(_[0],_[_.length-1],S??10)),S?f(gD(_,S)):u},u.copy=function(){return wv(u,PP(t,e,n,r,i,o,a,s,l,c))},u}function Kte(){return Wi.apply(PP(Hee,Vee,gs,CP,Rw,Av,SP,wP,Pc,kD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xte(){return Wi.apply(PP(zee,Uee,ys,_P,Iw,Mw,EP,AP,Pc,OD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nw(){var t=0,e=1,n,r,i,o,a=pr,s=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(s=!!h,c):s},c.interpolator=function(h){return arguments.length?(a=h,c):a};function u(h){return function(f){var p,m;return arguments.length?([p,m]=f,a=h(p,m),c):[a(0),a(1)]}}return c.range=u(wp),c.rangeRound=u(dP),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function Ql(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function MD(){var t=Zl(Nw()(pr));return t.copy=function(){return Ql(t,MD())},ks.apply(t,arguments)}function RD(){var t=gP(Nw()).domain([1,10]);return t.copy=function(){return Ql(t,RD()).base(t.base())},ks.apply(t,arguments)}function ID(){var t=yP(Nw());return t.copy=function(){return Ql(t,ID()).constant(t.constant())},ks.apply(t,arguments)}function TP(){var t=vP(Nw());return t.copy=function(){return Ql(t,TP()).exponent(t.exponent())},ks.apply(t,arguments)}function Yte(){return TP.apply(null,arguments).exponent(.5)}function ND(){var t=[],e=pr;function n(r){if(r!=null&&!isNaN(r=+r))return e((bv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Fl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>DQ(t,o/r))},n.copy=function(){return ND(e).domain(t)},ks.apply(n,arguments)}function jw(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=pr,u,h=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-o)*(r*g<r*o?s:l),c(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=u(t=+t),o=u(e=+e),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(y){var v,w,x;return arguments.length?([v,w,x]=y,c=lee(g,[v,w,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(wp),p.rangeRound=m(dP),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return u=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function jD(){var t=Zl(jw()(pr));return t.copy=function(){return Ql(t,jD())},ks.apply(t,arguments)}function DD(){var t=gP(jw()).domain([.1,1,10]);return t.copy=function(){return Ql(t,DD()).base(t.base())},ks.apply(t,arguments)}function LD(){var t=yP(jw());return t.copy=function(){return Ql(t,LD()).constant(t.constant())},ks.apply(t,arguments)}function kP(){var t=vP(jw());return t.copy=function(){return Ql(t,kP()).exponent(t.exponent())},ks.apply(t,arguments)}function Jte(){return kP.apply(null,arguments).exponent(.5)}const cM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Km,scaleDiverging:jD,scaleDivergingLog:DD,scaleDivergingPow:kP,scaleDivergingSqrt:Jte,scaleDivergingSymlog:LD,scaleIdentity:mD,scaleImplicit:RS,scaleLinear:Nx,scaleLog:yD,scaleOrdinal:cP,scalePoint:km,scalePow:bP,scaleQuantile:xD,scaleQuantize:wD,scaleRadial:bD,scaleSequential:MD,scaleSequentialLog:RD,scaleSequentialPow:TP,scaleSequentialQuantile:ND,scaleSequentialSqrt:Yte,scaleSequentialSymlog:ID,scaleSqrt:Mee,scaleSymlog:vD,scaleThreshold:AD,scaleTime:Kte,scaleUtc:Xte,tickFormat:pD},Symbol.toStringTag,{value:"Module"}));var Zte=dp;function Qte(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Zte(a):n(a,s)))var s=a,l=o}return l}var Dw=Qte;function ene(t,e){return t>e}var $D=ene,tne=Dw,nne=$D,rne=xp;function ine(t){return t&&t.length?tne(t,rne,nne):void 0}var one=ine;const Dl=et(one);function ane(t,e){return t<e}var FD=ane,sne=Dw,lne=FD,cne=xp;function une(t){return t&&t.length?sne(t,cne,lne):void 0}var hne=une;const Lw=et(hne);var dne=V_,fne=da,pne=q2,mne=Nr;function gne(t,e){var n=mne(t)?dne:pne;return n(t,fne(e))}var yne=gne,vne=W2,bne=yne;function xne(t,e){return vne(bne(t,e),1)}var wne=xne;const Ane=et(wne);var Sne=iP;function Ene(t,e){return Sne(t,e)}var Cne=Ene;const Ul=et(Cne);var Ap=1e9,_ne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MP,jt=!0,Bi="[DecimalError] ",Wu=Bi+"Invalid argument: ",OP=Bi+"Exponent out of range: ",Sp=Math.floor,pc=Math.pow,Pne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ci,Tn=1e7,Ot=7,BD=9007199254740991,$x=Sp(BD/Ot),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return us(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return yt(us(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return cn(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ci))throw Error(Bi+"NaN");if(n.s<1)throw Error(Bi+(n.s?"NaN":"-Infinity"));return n.eq(ci)?new r(0):(jt=!1,e=us(Qm(n,o),Qm(t,o),o),jt=!0,yt(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HD(e,t):zD(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Bi+"NaN");return n.s?(jt=!1,e=us(n,t,0,1).times(t),jt=!0,n.minus(e)):yt(new r(n),i)};de.naturalExponential=de.exp=function(){return UD(this)};de.naturalLogarithm=de.ln=function(){return Qm(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zD(e,t):HD(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wu+t);if(e=cn(i)+1,r=i.d.length-1,n=r*Ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Bi+"NaN")}for(t=cn(s),jt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=na(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(us(s,o,a+2)).times(.5),na(o.d).slice(0,a)===(e=na(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(yt(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return jt=!0,yt(r,n)};de.times=de.mul=function(t){var e,n,r,i,o,a,s,l,c,u=this,h=u.constructor,f=u.d,p=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=p.length,l<c&&(o=f,f=p,p=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*f[i-r-1]+e,o[i--]=s%Tn|0,e=s/Tn|0;o[i]=(o[i]+e)%Tn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,jt?yt(t,h.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(la(t,0,Ap),e===void 0?e=r.rounding:la(e,0,8),yt(n,t+cn(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Xu(r,!0):(la(t,0,Ap),e===void 0?e=i.rounding:la(e,0,8),r=yt(new i(r),t+1,e),n=Xu(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Xu(i):(la(t,0,Ap),e===void 0?e=o.rounding:la(e,0,8),r=yt(new o(i),t+cn(i)+1,e),n=Xu(r.abs(),!1,t+cn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return yt(new e(t),cn(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(ci);if(s=new l(s),!s.s){if(t.s<1)throw Error(Bi+"Infinity");return s}if(s.eq(ci))return s;if(r=l.precision,t.eq(ci))return yt(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=u<0?-u:u)<=BD){for(i=new l(ci),e=Math.ceil(r/Ot+4),jt=!1;n%2&&(i=i.times(s),hM(i.d,e)),n=Sp(n/2),n!==0;)s=s.times(s),hM(s.d,e);return jt=!0,t.s<0?new l(ci).div(i):yt(i,r)}}else if(o<0)throw Error(Bi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,jt=!1,i=t.times(Qm(s,r+c)),jt=!0,i=UD(i),i.s=o,i};de.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=cn(i),r=Xu(i,n<=o.toExpNeg||n>=o.toExpPos)):(la(t,1,Ap),e===void 0?e=o.rounding:la(e,0,8),i=yt(new o(i),t,e),n=cn(i),r=Xu(i,t<=n||n<=o.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(la(t,1,Ap),e===void 0?e=r.rounding:la(e,0,8)),yt(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),n=t.constructor;return Xu(t,e<=n.toExpNeg||e>=n.toExpPos)};function zD(t,e){var n,r,i,o,a,s,l,c,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),jt?yt(e,h):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(h/Ot),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Tn|0,l[o]%=Tn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,jt?yt(e,h):e}function la(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Wu+t)}function na(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ot-r.length,n&&(o+=Fs(n)),o+=r;a=t[e],r=a+"",n=Ot-r.length,n&&(o+=Fs(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var us=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Tn|0,a=o/Tn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Tn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,h,f,p,m,g,y,v,w,x,E,A,S,_,O,I=r.constructor,M=r.s==i.s?1:-1,R=r.d,N=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Bi+"Division by zero");for(l=r.e-i.e,_=N.length,A=R.length,p=new I(M),m=p.d=[],c=0;N[c]==(R[c]||0);)++c;if(N[c]>(R[c]||0)&&--l,o==null?w=o=I.precision:a?w=o+(cn(r)-cn(i))+1:w=o,w<0)return new I(0);if(w=w/Ot+2|0,c=0,_==1)for(u=0,N=N[0],w++;(c<A||u)&&w--;c++)x=u*Tn+(R[c]||0),m[c]=x/N|0,u=x%N|0;else{for(u=Tn/(N[0]+1)|0,u>1&&(N=t(N,u),R=t(R,u),_=N.length,A=R.length),E=_,g=R.slice(0,_),y=g.length;y<_;)g[y++]=0;O=N.slice(),O.unshift(0),S=N[0],N[1]>=Tn/2&&++S;do u=0,s=e(N,g,_,y),s<0?(v=g[0],_!=y&&(v=v*Tn+(g[1]||0)),u=v/S|0,u>1?(u>=Tn&&(u=Tn-1),h=t(N,u),f=h.length,y=g.length,s=e(h,g,f,y),s==1&&(u--,n(h,_<f?O:N,f))):(u==0&&(s=u=1),h=N.slice()),f=h.length,f<y&&h.unshift(0),n(g,h,y),s==-1&&(y=g.length,s=e(N,g,_,y),s<1&&(u++,n(g,_<y?O:N,y))),y=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[y++]=R[E]||0:(g=[R[E]],y=1);while((E++<A||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,yt(p,a?o+cn(p)+1:o)}}();function UD(t,e){var n,r,i,o,a,s,l=0,c=0,u=t.constructor,h=u.precision;if(cn(t)>16)throw Error(OP+cn(t));if(!t.s)return new u(ci);for(jt=!1,s=h,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(pc(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u(ci),u.precision=s;;){if(i=yt(i.times(t),s),n=n.times(++l),a=o.plus(us(i,n,s)),na(a.d).slice(0,s)===na(o.d).slice(0,s)){for(;c--;)o=yt(o.times(o),s);return u.precision=h,e==null?(jt=!0,yt(o,h)):o}o=a}}function cn(t){for(var e=t.e*Ot,n=t.d[0];n>=10;n/=10)e++;return e}function tA(t,e,n){if(e>t.LN10.sd())throw jt=!0,n&&(t.precision=n),Error(Bi+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function Fs(t){for(var e="";t--;)e+="0";return e}function Qm(t,e){var n,r,i,o,a,s,l,c,u,h=1,f=10,p=t,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Bi+(p.s?"NaN":"-Infinity"));if(p.eq(ci))return new g(0);if(e==null?(jt=!1,c=y):c=e,p.eq(10))return e==null&&(jt=!0),tA(g,c);if(c+=f,g.precision=c,n=na(m),r=n.charAt(0),o=cn(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=na(p.d),r=n.charAt(0),h++;o=cn(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=tA(g,c+2,y).times(o+""),p=Qm(new g(r+"."+n.slice(1)),c-f).plus(l),g.precision=y,e==null?(jt=!0,yt(p,y)):p;for(s=a=p=us(p.minus(ci),p.plus(ci),c),u=yt(p.times(p),c),i=3;;){if(a=yt(a.times(u),c),l=s.plus(us(a,new g(i),c)),na(l.d).slice(0,c)===na(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(tA(g,c+2,y).times(o+""))),s=us(s,new g(h),c),g.precision=y,e==null?(jt=!0,yt(s,y)):s;s=l,i+=2}}function uM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sp(n/Ot),t.d=[],r=(n+1)%Ot,n<0&&(r+=Ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ot;r<i;)t.d.push(+e.slice(r,r+=Ot));e=e.slice(r),r=Ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),jt&&(t.e>$x||t.e<-$x))throw Error(OP+n)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,n){var r,i,o,a,s,l,c,u,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ot,i=e,c=h[u=0];else{if(u=Math.ceil((r+1)/Ot),o=h.length,u>=o)return t;for(c=o=h[u],a=1;o>=10;o/=10)a++;r%=Ot,i=r-Ot+a}if(n!==void 0&&(o=pc(10,a-i-1),s=c/o%10|0,l=e<0||h[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/pc(10,a-i):0:h[u-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(o=cn(t),h.length=1,e=e-o-1,h[0]=pc(10,(Ot-e%Ot)%Ot),t.e=Sp(-e/Ot)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=u,o=1,u--):(h.length=u+1,o=pc(10,Ot-r),h[u]=i>0?(c/pc(10,a-i)%pc(10,i)|0)*o:0),l)for(;;)if(u==0){(h[0]+=o)==Tn&&(h[0]=1,++t.e);break}else{if(h[u]+=o,h[u]!=Tn)break;h[u--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(jt&&(t.e>$x||t.e<-$x))throw Error(OP+cn(t));return t}function HD(t,e){var n,r,i,o,a,s,l,c,u,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),jt?yt(e,p):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=h.length):(n=h,r=c,s=l.length),i=Math.max(Math.ceil(p/Ot),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=h.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){u=l[i]<h[i];break}a=0}for(u&&(n=l,l=h,h=n,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=Tn-1;--l[o],l[i]+=Tn}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,jt?yt(e,p):e):new f(0)}function Xu(t,e,n){var r,i=cn(t),o=na(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Fs(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Fs(-i-1)+o,n&&(r=n-a)>0&&(o+=Fs(r))):i>=a?(o+=Fs(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Fs(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Fs(r))),t.s<0?"-"+o:o}function hM(t,e){if(t.length>e)return t.length=e,!0}function VD(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Wu+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return uM(a,o.toString())}else if(typeof o!="string")throw Error(Wu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Pne.test(o))uM(a,o);else throw Error(Wu+o)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VD,i.config=i.set=Tne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Tne(t){if(!t||typeof t!="object")throw Error(Bi+"Object expected");var e,n,r,i=["precision",1,Ap,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Wu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wu+n+": "+r);return this}var MP=VD(_ne);ci=new MP(1);const ht=MP;function kne(t){return Ine(t)||Rne(t)||Mne(t)||One()}function One(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){if(t){if(typeof t=="string")return DS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(t,e)}}function Rne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ine(t){if(Array.isArray(t))return DS(t)}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Nne=function(e){return e},WD={},GD=function(e){return e===WD},dM=function(e){return function n(){return arguments.length===0||arguments.length===1&&GD(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},jne=function t(e,n){return e===1?n:dM(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==WD}).length;return a>=e?n.apply(void 0,i):t(e-a,dM(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(h){return GD(h)?l.shift():h});return n.apply(void 0,kne(u).concat(l))}))})},$w=function(e){return jne(e.length,e)},LS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Dne=$w(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Lne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Nne;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},$S=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},qD=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function $ne(t){var e;return t===0?e=1:e=Math.floor(new ht(t).abs().log(10).toNumber())+1,e}function Fne(t,e,n){for(var r=new ht(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Bne=$w(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),zne=$w(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Une=$w(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Fw={rangeStep:Fne,getDigitCount:$ne,interpolateNumber:Bne,uninterpolateNumber:zne,uninterpolateTruncation:Une};function FS(t){return Wne(t)||Vne(t)||KD(t)||Hne()}function Hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Wne(t){if(Array.isArray(t))return BS(t)}function eg(t,e){return Kne(t)||qne(t,e)||KD(t,e)||Gne()}function Gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(t,e){if(t){if(typeof t=="string")return BS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BS(t,e)}}function BS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Kne(t){if(Array.isArray(t))return t}function XD(t){var e=eg(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function YD(t,e,n){if(t.lte(0))return new ht(0);var r=Fw.getDigitCount(t.toNumber()),i=new ht(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new ht(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new ht(Math.ceil(l))}function Xne(t,e,n){var r=1,i=new ht(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ht(10).pow(Fw.getDigitCount(t)-1),i=new ht(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ht(Math.floor(t)))}else t===0?i=new ht(Math.floor((e-1)/2)):n||(i=new ht(Math.floor(t)));var a=Math.floor((e-1)/2),s=Lne(Dne(function(l){return i.add(new ht(l-a).mul(r)).toNumber()}),LS);return s(0,e)}function JD(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var o=YD(new ht(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new ht(0):(a=new ht(t).add(e).div(2),a=a.sub(new ht(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new ht(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?JD(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new ht(s).mul(o)),tickMax:a.add(new ht(l).mul(o))})}function Yne(t){var e=eg(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=XD([n,r]),l=eg(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var h=u===1/0?[c].concat(FS(LS(0,i-1).map(function(){return 1/0}))):[].concat(FS(LS(0,i-1).map(function(){return-1/0})),[u]);return n>r?$S(h):h}if(c===u)return Xne(c,i,o);var f=JD(c,u,a,o),p=f.step,m=f.tickMin,g=f.tickMax,y=Fw.rangeStep(m,g.add(new ht(.1).mul(p)),p);return n>r?$S(y):y}function Jne(t,e){var n=eg(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=XD([r,i]),s=eg(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),h=YD(new ht(c).sub(l).div(u-1),o,0),f=[].concat(FS(Fw.rangeStep(new ht(l),new ht(c).sub(new ht(.99).mul(h)),h)),[c]);return r>i?$S(f):f}var Zne=qD(Yne),Qne=qD(Jne),ere="Invariant failed";function Ge(t,e){if(!t)throw new Error(ere)}var tre=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(this,arguments)}function nre(t,e){return are(t)||ore(t,e)||ire(t,e)||rre()}function rre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(t,e){if(t){if(typeof t=="string")return fM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fM(t,e)}}function fM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ore(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function are(t){if(Array.isArray(t))return t}function sre(t,e){if(t==null)return{};var n=lre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ure(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eL(r.key),r)}}function hre(t,e,n){return e&&ure(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dre(t,e,n){return e=Bx(e),fre(t,ZD()?Reflect.construct(e,n||[],Bx(t).constructor):e.apply(t,n))}function fre(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pre(t)}function pre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZD=function(){return!!t})()}function Bx(t){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bx(t)}function mre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zS(t,e)}function QD(t,e,n){return e=eL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eL(t){var e=gre(t,"string");return Lf(e)=="symbol"?e:e+""}function gre(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ep=function(t){function e(){return cre(this,e),dre(this,e,arguments)}return mre(e,t),hre(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,h=r.yAxis,f=sre(r,tre),p=ge(f,!1);this.props.direction==="x"&&u.type!=="number"&&Ge(!1);var m=l.map(function(g){var y=c(g,s),v=y.x,w=y.y,x=y.value,E=y.errorVal;if(!E)return null;var A=[],S,_;if(Array.isArray(E)){var O=nre(E,2);S=O[0],_=O[1]}else S=_=E;if(o==="vertical"){var I=u.scale,M=w+i,R=M+a,N=M-a,L=I(x-S),F=I(x+_);A.push({x1:F,y1:R,x2:F,y2:N}),A.push({x1:L,y1:M,x2:F,y2:M}),A.push({x1:L,y1:R,x2:L,y2:N})}else if(o==="horizontal"){var z=h.scale,$=v+i,U=$-a,H=$+a,W=z(x-S),j=z(x+_);A.push({x1:U,y1:j,x2:H,y2:j}),A.push({x1:$,y1:W,x2:$,y2:j}),A.push({x1:U,y1:W,x2:H,y2:W})}return B.createElement(Ne,Fx({className:"recharts-errorBar",key:"bar-".concat(A.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),A.map(function(X){return B.createElement("line",Fx({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return B.createElement(Ne,{className:"recharts-errorBars"},m)}}])}(B.Component);QD(Ep,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});QD(Ep,"displayName","ErrorBar");function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yre(t,e,n){return e=vre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vre(t){var e=bre(t,"string");return tg(e)=="symbol"?e:e+""}function bre(t,e){if(tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=oi(n,yr);if(!a)return null;var s=yr.defaultProps,l=s!==void 0?ac(ac({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,h){var f=h.item,p=h.props,m=p.sectors||p.data||[];return u.concat(m.map(function(g){return{type:a.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(u){var h=u.item,f=h.type.defaultProps,p=f!==void 0?ac(ac({},f),h.props):{},m=p.dataKey,g=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:l.iconType||y||"square",color:RP(h),value:g||m,payload:p}}),ac(ac(ac({},l),yr.getWithHeight(a,i)),{},{payload:c,item:a})};function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function mM(t){return Sre(t)||Are(t)||wre(t)||xre()}function xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(t,e){if(t){if(typeof t=="string")return US(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return US(t,e)}}function Are(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sre(t){if(Array.isArray(t))return US(t)}function US(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){Xh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xh(t,e,n){return e=Ere(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=Cre(t,"string");return ng(e)=="symbol"?e:e+""}function Cre(t,e){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mt(t,e,n){return Ae(t)||Ae(e)?n:vn(e)?ui(t,e,n):Se(e)?e(t):n}function Om(t,e,n,r){var i=Ane(t,function(s){return Mt(s,e)});if(n==="number"){var o=i.filter(function(s){return ee(s)||parseFloat(s)});return o.length?[Lw(o),Dl(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ae(s)}):i;return a.map(function(s){return vn(s)||s instanceof Date?s:""})}var _re=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,h=i[c].coordinate,f=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(dr(h-u)!==dr(f-h)){var m=[];if(dr(f-h)===dr(l[1]-l[0])){p=f;var g=h+l[1]-l[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var y=f+l[1]-l[0];m[0]=Math.min(h,(y+h)/2),m[1]=Math.max(h,(y+h)/2)}var v=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){a=i[c].index;break}}else{var w=Math.min(u,f),x=Math.max(u,f);if(e>(w+h)/2&&e<=(x+h)/2){a=i[c].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},RP=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Xt(Xt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Pre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,h=Object.keys(u),f=0,p=h.length;f<p;f++){var m=u[h[f]],g=m.items,y=m.cateAxisId,v=g.filter(function(_){return ls(_.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,x=w!==void 0?Xt(Xt({},w),v[0].props):v[0].props,E=x.barSize,A=x[y];a[A]||(a[A]=[]);var S=Ae(E)?n:E;a[A].push({item:v[0],stackList:v.slice(1),barSize:Ae(S)?void 0:fr(S,r,0)})}}return a},Tre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=fr(n,i,0,!0),u,h=[];if(a[0].barSize===+a[0].barSize){var f=!1,p=i/l,m=a.reduce(function(E,A){return E+A.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(f=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,y={offset:g-c,size:0};u=a.reduce(function(E,A){var S={item:A.item,position:{offset:y.offset+y.size+c,size:f?p:A.barSize}},_=[].concat(mM(E),[S]);return y=_[_.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(O){_.push({item:O,position:y})}),_},h)}else{var v=fr(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var w=(i-2*v-(l-1)*c)/l;w>1&&(w>>=0);var x=s===+s?Math.min(w,s):w;u=a.reduce(function(E,A,S){var _=[].concat(mM(E),[{item:A.item,position:{offset:v+(w+c)*S+(w-x)/2,size:x}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(O){_.push({item:O,position:_[_.length-1].position})}),_},h)}return u},kre=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=tL({children:o,legendWidth:l});if(c){var u=i||{},h=u.width,f=u.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ee(e[p]))return Xt(Xt({},e),{},Xh({},p,e[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ee(e[m]))return Xt(Xt({},e),{},Xh({},m,e[m]+(f||0)))}return e},Ore=function(e,n,r){return Ae(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},nL=function(e,n,r,i,o){var a=n.props.children,s=gr(a,Ep).filter(function(c){return Ore(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var h=Mt(u,r);if(Ae(h))return c;var f=Array.isArray(h)?[Lw(h),Dl(h)]:[h,h],p=l.reduce(function(m,g){var y=Mt(u,g,0),v=f[0]-Math.abs(Array.isArray(y)?y[0]:y),w=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Mre=function(e,n,r,i,o){var a=n.map(function(s){return nL(e,s,r,o,i)}).filter(function(s){return!Ae(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},rL=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&nL(e,l,c,i)||Om(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,h=c.length;u<h;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},iL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},oL=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},ss=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?dr(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var f=o?o.indexOf(h):h;return{coordinate:i(f)+c,value:h,offset:c}});return u.filter(function(h){return!yp(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+c,value:h,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,f){return{coordinate:i(h)+c,value:o?o[h]:h,index:f,offset:c}})},nA=new WeakMap,Zv=function(e,n){if(typeof n!="function")return e;nA.has(e)||nA.set(e,new WeakMap);var r=nA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},aL=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Km(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Nx(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:km(),realScaleType:"point"}:o==="category"?{scale:Km(),realScaleType:"band"}:{scale:Nx(),realScaleType:"linear"};if(qu(i)){var l="scale".concat(Aw(i));return{scale:(cM[l]||km)(),realScaleType:cM[l]?l:"point"}}return Se(i)?{scale:i}:{scale:km(),realScaleType:"point"}},yM=1e-4,sL=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-yM,a=Math.max(i[0],i[1])+yM,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Rre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Ire=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Nre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=yp(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},jre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=yp(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Dre={sign:Nre,expand:tG,none:kf,silhouette:nG,wiggle:rG,positive:jre},Lre=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Dre[r],a=eG().keys(i).value(function(s,l){return+Mt(s,l,0)}).order(fS).offset(o);return a(e)},$re=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(h,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Xt(Xt({},f.type.defaultProps),f.props):f.props,g=m.stackId,y=m.hide;if(y)return h;var v=m[r],w=h[v]||{hasStack:!1,stackGroups:{}};if(vn(g)){var x=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(f),w.hasStack=!0,w.stackGroups[g]=x}else w.stackGroups[Jl("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Xt(Xt({},h),{},Xh({},v,w))},l),u={};return Object.keys(c).reduce(function(h,f){var p=c[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var v=p.stackGroups[y];return Xt(Xt({},g),{},Xh({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:Lre(e,v.items,o)}))},m)}return Xt(Xt({},h),{},Xh({},f,p))},u)},lL=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Zne(c,o,s);return e.domain([Lw(u),Dl(u)]),{niceTicks:u}}if(o&&i==="number"){var h=e.domain(),f=Qne(h,o,s);return{niceTicks:f}}return null};function $f(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ae(i[e.dataKey])){var s=fx(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Mt(i,Ae(a)?e.dataKey:a);return Ae(l)?null:e.scale(l)}var vM=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Mt(a,n.dataKey,n.domain[s]);return Ae(l)?null:n.scale(l)-o/2+i},Fre=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Bre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Xt(Xt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(vn(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},zre=function(e){return e.reduce(function(n,r){return[Lw(r.concat([n[0]]).filter(ee)),Dl(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},cL=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,u){var h=zre(u.slice(n,r+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},bM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HS=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(bM.test(e[0])){var o=+bM.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(xM.test(e[1])){var a=+xM.exec(e[1])[1];i[1]=n[1]+a}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},zx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=aP(n,function(h){return h.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},wM=function(e,n,r){return!e||!e.length||Ul(e,ui(r,"type.defaultProps.domain"))?n:e},uL=function(e,n){var r=e.type.defaultProps?Xt(Xt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Xt(Xt({},ge(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:RP(e),value:Mt(n,i),type:l,payload:n,chartType:c,hide:u})};function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){hL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hL(t,e,n){return e=Ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Hre(t,"string");return rg(e)=="symbol"?e:e+""}function Hre(t,e){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vre(t,e){return Kre(t)||qre(t,e)||Gre(t,e)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(t,e){if(t){if(typeof t=="string")return SM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SM(t,e)}}function SM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Kre(t){if(Array.isArray(t))return t}var Ux=Math.PI/180,Xre=function(e){return e*180/Math.PI},Ct=function(e,n,r,i){return{x:e+Math.cos(-Ux*i)*r,y:n+Math.sin(-Ux*i)*r}},dL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Yre=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=fr(e.cx,a,a/2),h=fr(e.cy,s,s/2),f=dL(a,s,r),p=fr(e.innerRadius,f,0),m=fr(e.outerRadius,f,f*.8),g=Object.keys(n);return g.reduce(function(y,v){var w=n[v],x=w.domain,E=w.reversed,A;if(Ae(w.range))i==="angleAxis"?A=[l,c]:i==="radiusAxis"&&(A=[p,m]),E&&(A=[A[1],A[0]]);else{A=w.range;var S=A,_=Vre(S,2);l=_[0],c=_[1]}var O=aL(w,o),I=O.realScaleType,M=O.scale;M.domain(x).range(A),sL(M);var R=lL(M,Aa(Aa({},w),{},{realScaleType:I})),N=Aa(Aa(Aa({},w),R),{},{range:A,radius:m,realScaleType:I,scale:M,cx:u,cy:h,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return Aa(Aa({},y),{},hL({},v,N))},{})},Jre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Zre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Jre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:Xre(c),angleInRadian:c}},Qre=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},eie=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},EM=function(e,n){var r=e.x,i=e.y,o=Zre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=Qre(n),h=u.startAngle,f=u.endAngle,p=s,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?Aa(Aa({},n),{},{radius:a,angle:eie(p,n)}):null},fL=function(e){return!P.isValidElement(e)&&!Se(e)&&typeof e!="boolean"?e.className:""};function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}var tie=["offset"];function nie(t){return aie(t)||oie(t)||iie(t)||rie()}function rie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iie(t,e){if(t){if(typeof t=="string")return VS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VS(t,e)}}function oie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aie(t){if(Array.isArray(t))return VS(t)}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sie(t,e){if(t==null)return{};var n=lie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cie(t,e,n){return e=uie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uie(t){var e=hie(t,"string");return ig(e)=="symbol"?e:e+""}function hie(t,e){if(ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}var die=function(e){var n=e.value,r=e.formatter,i=Ae(e.children)?n:e.children;return Se(r)?r(i):i},fie=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},pie=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,u=l.cy,h=l.innerRadius,f=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,y=(h+f)/2,v=fie(p,m),w=v>=0?1:-1,x,E;i==="insideStart"?(x=p+w*a,E=g):i==="insideEnd"?(x=m-w*a,E=!g):i==="end"&&(x=m+w*a,E=g),E=v<=0?E:!E;var A=Ct(c,u,y,x),S=Ct(c,u,y,x+(E?1:-1)*359),_="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(S.x,",").concat(S.y),O=Ae(e.id)?Jl("recharts-radial-line-"):e.id;return B.createElement("text",og({},r,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",s)}),B.createElement("defs",null,B.createElement("path",{id:O,d:_})),B.createElement("textPath",{xlinkHref:"#".concat(O)},n))},mie=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,h=o.endAngle,f=(u+h)/2;if(i==="outside"){var p=Ct(a,s,c+r,f),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=Ct(a,s,y,f),w=v.x,x=v.y;return{x:w,y:x,textAnchor:"middle",verticalAnchor:"middle"}},gie=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,u=a.height,h=u>=0?1:-1,f=h*i,p=h>0?"end":"start",m=h>0?"start":"end",g=c>=0?1:-1,y=g*i,v=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var x={x:s+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:p};return pn(pn({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var E={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return pn(pn({},E),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var A={x:s-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return pn(pn({},A),r?{width:Math.max(A.x-r.x,0),height:u}:{})}if(o==="right"){var S={x:s+c+y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return pn(pn({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return o==="insideLeft"?pn({x:s+y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},_):o==="insideRight"?pn({x:s+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},_):o==="insideTop"?pn({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},_):o==="insideBottom"?pn({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:p},_):o==="insideTopLeft"?pn({x:s+y,y:l+f,textAnchor:w,verticalAnchor:m},_):o==="insideTopRight"?pn({x:s+c-y,y:l+f,textAnchor:v,verticalAnchor:m},_):o==="insideBottomLeft"?pn({x:s+y,y:l+u-f,textAnchor:w,verticalAnchor:p},_):o==="insideBottomRight"?pn({x:s+c-y,y:l+u-f,textAnchor:v,verticalAnchor:p},_):fp(o)&&(ee(o.x)||Cc(o.x))&&(ee(o.y)||Cc(o.y))?pn({x:s+fr(o.x,c),y:l+fr(o.y,u),textAnchor:"end",verticalAnchor:"end"},_):pn({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},yie=function(e){return"cx"in e&&ee(e.cx)};function On(t){var e=t.offset,n=e===void 0?5:e,r=sie(t,tie),i=pn({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,h=u===void 0?"":u,f=i.textBreakAll;if(!o||Ae(s)&&Ae(l)&&!P.isValidElement(c)&&!Se(c))return null;if(P.isValidElement(c))return P.cloneElement(c,i);var p;if(Se(c)){if(p=P.createElement(c,i),P.isValidElement(p))return p}else p=die(i);var m=yie(o),g=ge(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return pie(i,p,g);var y=m?mie(i):gie(i);return B.createElement(Ku,og({className:Pe("recharts-label",h)},g,y,{breakAll:f}),p)}On.displayName="Label";var pL=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,h=e.x,f=e.y,p=e.top,m=e.left,g=e.width,y=e.height,v=e.clockWise,w=e.labelViewBox;if(w)return w;if(ee(g)&&ee(y)){if(ee(h)&&ee(f))return{x:h,y:f,width:g,height:y};if(ee(p)&&ee(m))return{x:p,y:m,width:g,height:y}}return ee(h)&&ee(f)?{x:h,y:f,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},vie=function(e,n){return e?e===!0?B.createElement(On,{key:"label-implicit",viewBox:n}):vn(e)?B.createElement(On,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===On?P.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(On,{key:"label-implicit",content:e,viewBox:n}):Se(e)?B.createElement(On,{key:"label-implicit",content:e,viewBox:n}):fp(e)?B.createElement(On,og({viewBox:n},e,{key:"label-implicit"})):null:null},bie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=pL(e),a=gr(i,On).map(function(l,c){return P.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=vie(e.label,n||o);return[s].concat(nie(a))};On.parseViewBox=pL;On.renderCallByParent=bie;function xie(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var wie=xie;const Aie=et(wie);function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}var Sie=["valueAccessor"],Eie=["data","dataKey","clockWise","id","textBreakAll"];function Cie(t){return kie(t)||Tie(t)||Pie(t)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pie(t,e){if(t){if(typeof t=="string")return WS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WS(t,e)}}function Tie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kie(t){if(Array.isArray(t))return WS(t)}function WS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(this,arguments)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return e=Mie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mie(t){var e=Rie(t,"string");return ag(e)=="symbol"?e:e+""}function Rie(t,e){if(ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TM(t,e){if(t==null)return{};var n=Iie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nie=function(e){return Array.isArray(e.value)?Aie(e.value):e.value};function go(t){var e=t.valueAccessor,n=e===void 0?Nie:e,r=TM(t,Sie),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=TM(r,Eie);return!i||!i.length?null:B.createElement(Ne,{className:"recharts-label-list"},i.map(function(u,h){var f=Ae(o)?n(u,h):Mt(u&&u.payload,o),p=Ae(s)?{}:{id:"".concat(s,"-").concat(h)};return B.createElement(On,Hx({},ge(u,!0),c,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:On.parseViewBox(Ae(a)?u:PM(PM({},u),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}go.displayName="LabelList";function jie(t,e){return t?t===!0?B.createElement(go,{key:"labelList-implicit",data:e}):B.isValidElement(t)||Se(t)?B.createElement(go,{key:"labelList-implicit",data:e,content:t}):fp(t)?B.createElement(go,Hx({data:e},t,{key:"labelList-implicit"})):null:null}function Die(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=gr(r,go).map(function(a,s){return P.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=jie(t.label,e);return[o].concat(Cie(i))}go.renderCallByParent=Die;function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GS.apply(this,arguments)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Lie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lie(t,e,n){return e=$ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ie(t){var e=Fie(t,"string");return sg(e)=="symbol"?e:e+""}function Fie(t,e){if(sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bie=function(e,n){var r=dr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Qv=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,h=Math.asin(l/u)/Ux,f=c?o:o+a*h,p=Ct(n,r,u,f),m=Ct(n,r,i,f),g=c?o-a*h:o,y=Ct(n,r,u*Math.cos(h*Ux),g);return{center:p,circleTangency:m,lineTangency:y,theta:h}},mL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Bie(a,s),c=a+l,u=Ct(n,r,o,a),h=Ct(n,r,o,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ct(n,r,i,a),m=Ct(n,r,i,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},zie=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,h=dr(u-c),f=Qv({cx:n,cy:r,radius:o,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),p=f.circleTangency,m=f.lineTangency,g=f.theta,y=Qv({cx:n,cy:r,radius:o,angle:u,sign:-h,cornerRadius:a,cornerIsExternal:l}),v=y.circleTangency,w=y.lineTangency,x=y.theta,E=l?Math.abs(c-u):Math.abs(c-u)-g-x;if(E<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):mL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var A="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var S=Qv({cx:n,cy:r,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),_=S.circleTangency,O=S.lineTangency,I=S.theta,M=Qv({cx:n,cy:r,radius:i,angle:u,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=M.circleTangency,N=M.lineTangency,L=M.theta,F=l?Math.abs(c-u):Math.abs(c-u)-I-L;if(F<0&&a===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},Uie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gL=function(e){var n=OM(OM({},Uie),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,h=n.endAngle,f=n.className;if(a<o||u===h)return null;var p=Pe("recharts-sector",f),m=a-o,g=fr(s,m,0,!0),y;return g>0&&Math.abs(u-h)<360?y=zie({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):y=mL({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:h}),B.createElement("path",GS({},ge(n,!0),{className:p,d:y,role:"img"}))};function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qS.apply(this,arguments)}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){Hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hie(t,e,n){return e=Vie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vie(t){var e=Wie(t,"string");return lg(e)=="symbol"?e:e+""}function Wie(t,e){if(lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IM={curveBasisClosed:H8,curveBasisOpen:V8,curveBasis:U8,curveBumpX:T8,curveBumpY:k8,curveLinearClosed:W8,curveLinear:Ew,curveMonotoneX:G8,curveMonotoneY:q8,curveNatural:K8,curveStep:X8,curveStepAfter:J8,curveStepBefore:Y8},eb=function(e){return e.x===+e.x&&e.y===+e.y},qp=function(e){return e.x},Kp=function(e){return e.y},Gie=function(e,n){if(Se(e))return e;var r="curve".concat(Aw(e));return(r==="curveMonotone"||r==="curveBump")&&n?IM["".concat(r).concat(n==="vertical"?"Y":"X")]:IM[r]||Ew},qie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Gie(r,s),h=c?o.filter(function(g){return eb(g)}):o,f;if(Array.isArray(a)){var p=c?a.filter(function(g){return eb(g)}):a,m=h.map(function(g,y){return RM(RM({},g),{},{base:p[y]})});return s==="vertical"?f=Vv().y(Kp).x1(qp).x0(function(g){return g.base.x}):f=Vv().x(qp).y1(Kp).y0(function(g){return g.base.y}),f.defined(eb).curve(u),f(m)}return s==="vertical"&&ee(a)?f=Vv().y(Kp).x1(qp).x0(a):ee(a)?f=Vv().x(qp).y1(Kp).y0(a):f=u2().x(qp).y(Kp),f.defined(eb).curve(u),f(h)},Bl=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?qie(e):i;return P.createElement("path",qS({},ge(e,!1),px(e),{className:Pe("recharts-curve",n),d:a,ref:o}))},yL={exports:{}},Kie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xie=Kie,Yie=Xie;function vL(){}function bL(){}bL.resetWarningCache=vL;var Jie=function(){function t(r,i,o,a,s,l){if(l!==Yie){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bL,resetWarningCache:vL};return n.PropTypes=n,n};yL.exports=Jie();var Zie=yL.exports;const nt=et(Zie),{getOwnPropertyNames:Qie,getOwnPropertySymbols:eoe}=Object,{hasOwnProperty:toe}=Object.prototype;function rA(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function tb(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function noe(t){return t!=null?t[Symbol.toStringTag]:void 0}function NM(t){return Qie(t).concat(eoe(t))}const roe=Object.hasOwn||((t,e)=>toe.call(t,e));function sh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ioe="__v",ooe="__o",aoe="_owner",{getOwnPropertyDescriptor:jM,keys:DM}=Object;function soe(t,e){return t.byteLength===e.byteLength&&Vx(new Uint8Array(t),new Uint8Array(e))}function loe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function coe(t,e){return t.byteLength===e.byteLength&&Vx(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function uoe(t,e){return sh(t.getTime(),e.getTime())}function hoe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function doe(t,e){return t===e}function LM(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const c=e.entries();let u=!1,h=0;for(;(s=c.next())&&!s.done;){if(i[h]){h++;continue}const f=a.value,p=s.value;if(n.equals(f[0],p[0],l,h,t,e,n)&&n.equals(f[1],p[1],f[0],p[0],t,e,n)){u=i[h]=!0;break}h++}if(!u)return!1;l++}return!0}const foe=sh;function poe(t,e,n){const r=DM(t);let i=r.length;if(DM(e).length!==i)return!1;for(;i-- >0;)if(!xL(t,e,n,r[i]))return!1;return!0}function Xp(t,e,n){const r=NM(t);let i=r.length;if(NM(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!xL(t,e,n,o)||(a=jM(t,o),s=jM(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function moe(t,e){return sh(t.valueOf(),e.valueOf())}function goe(t,e){return t.source===e.source&&t.flags===e.flags}function $M(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Vx(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function yoe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xL(t,e,n,r){return(r===aoe||r===ooe||r===ioe)&&(t.$$typeof||e.$$typeof)?!0:roe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const voe="[object ArrayBuffer]",boe="[object Arguments]",xoe="[object Boolean]",woe="[object DataView]",Aoe="[object Date]",Soe="[object Error]",Eoe="[object Map]",Coe="[object Number]",_oe="[object Object]",Poe="[object RegExp]",Toe="[object Set]",koe="[object String]",Ooe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Moe="[object URL]",Roe=Object.prototype.toString;function Ioe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:h,areTypedArraysEqual:f,areUrlsEqual:p,unknownTagComparators:m}){return function(y,v,w){if(y===v)return!0;if(y==null||v==null)return!1;const x=typeof y;if(x!==typeof v)return!1;if(x!=="object")return x==="number"?s(y,v,w):x==="function"?o(y,v,w):!1;const E=y.constructor;if(E!==v.constructor)return!1;if(E===Object)return l(y,v,w);if(Array.isArray(y))return e(y,v,w);if(E===Date)return r(y,v,w);if(E===RegExp)return u(y,v,w);if(E===Map)return a(y,v,w);if(E===Set)return h(y,v,w);const A=Roe.call(y);if(A===Aoe)return r(y,v,w);if(A===Poe)return u(y,v,w);if(A===Eoe)return a(y,v,w);if(A===Toe)return h(y,v,w);if(A===_oe)return typeof y.then!="function"&&typeof v.then!="function"&&l(y,v,w);if(A===Moe)return p(y,v,w);if(A===Soe)return i(y,v,w);if(A===boe)return l(y,v,w);if(Ooe[A])return f(y,v,w);if(A===voe)return t(y,v,w);if(A===woe)return n(y,v,w);if(A===xoe||A===Coe||A===koe)return c(y,v,w);if(m){let S=m[A];if(!S){const _=noe(y);_&&(S=m[_])}if(S)return S(y,v,w)}return!1}}function Noe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:soe,areArraysEqual:n?Xp:loe,areDataViewsEqual:coe,areDatesEqual:uoe,areErrorsEqual:hoe,areFunctionsEqual:doe,areMapsEqual:n?rA(LM,Xp):LM,areNumbersEqual:foe,areObjectsEqual:n?Xp:poe,arePrimitiveWrappersEqual:moe,areRegExpsEqual:goe,areSetsEqual:n?rA($M,Xp):$M,areTypedArraysEqual:n?rA(Vx,Xp):Vx,areUrlsEqual:yoe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=tb(r.areArraysEqual),o=tb(r.areMapsEqual),a=tb(r.areObjectsEqual),s=tb(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function joe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Doe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(s,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const Loe=ec();ec({strict:!0});ec({circular:!0});ec({circular:!0,strict:!0});ec({createInternalComparator:()=>sh});ec({strict:!0,createInternalComparator:()=>sh});ec({circular:!0,createInternalComparator:()=>sh});ec({circular:!0,createInternalComparator:()=>sh,strict:!0});function ec(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Noe(t),a=Ioe(o),s=n?n(a):joe(a);return Doe({circular:e,comparator:a,createState:r,equals:s,strict:i})}function $oe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function FM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):$oe(i)};requestAnimationFrame(r)}function KS(t){"@babel/helpers - typeof";return KS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KS(t)}function Foe(t){return Hoe(t)||Uoe(t)||zoe(t)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zoe(t,e){if(t){if(typeof t=="string")return BM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BM(t,e)}}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hoe(t){if(Array.isArray(t))return t}function Voe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Foe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){FM(i.bind(null,c),l);return}i(l),FM(i.bind(null,c));return}KS(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){wL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wL(t,e,n){return e=Woe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Woe(t){var e=Goe(t,"string");return cg(e)==="symbol"?e:String(e)}function Goe(t,e){if(cg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qoe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Koe=function(e){return e},Xoe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Mm=function(e,n){return Object.keys(n).reduce(function(r,i){return UM(UM({},r),{},wL({},i,e(i,n[i])))},{})},HM=function(e,n,r){return e.map(function(i){return"".concat(Xoe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Yoe(t,e){return Qoe(t)||Zoe(t,e)||AL(t,e)||Joe()}function Joe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Qoe(t){if(Array.isArray(t))return t}function eae(t){return rae(t)||nae(t)||AL(t)||tae()}function tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AL(t,e){if(t){if(typeof t=="string")return XS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XS(t,e)}}function nae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rae(t){if(Array.isArray(t))return XS(t)}function XS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wx=1e-4,SL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},EL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},VM=function(e,n){return function(r){var i=SL(e,n);return EL(i,r)}},iae=function(e,n){return function(r){var i=SL(e,n),o=[].concat(eae(i.map(function(a,s){return a*s}).slice(1)),[0]);return EL(o,r)}},WM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Yoe(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var h=VM(i,a),f=VM(o,s),p=iae(i,a),m=function(v){return v>1?1:v<0?0:v},g=function(v){for(var w=v>1?1:v,x=w,E=0;E<8;++E){var A=h(x)-w,S=p(x);if(Math.abs(A-w)<Wx||S<Wx)return f(x);x=m(x-A/S)}return f(x)};return g.isStepper=!1,g},oae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(u,h,f){var p=-(u-h)*r,m=f*o,g=f+(p-m)*s/1e3,y=f*s/1e3+u;return Math.abs(y-h)<Wx&&Math.abs(g)<Wx?[h,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},aae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WM(i);case"spring":return oae();default:if(i.split("(")[0]==="cubic-bezier")return WM(i)}return typeof i=="function"?i:null};function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function GM(t){return cae(t)||lae(t)||CL(t)||sae()}function sae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cae(t){if(Array.isArray(t))return JS(t)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){YS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YS(t,e,n){return e=uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uae(t){var e=hae(t,"string");return ug(e)==="symbol"?e:String(e)}function hae(t,e){if(ug(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ug(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dae(t,e){return mae(t)||pae(t,e)||CL(t,e)||fae()}function fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CL(t,e){if(t){if(typeof t=="string")return JS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JS(t,e)}}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function mae(t){if(Array.isArray(t))return t}var Gx=function(e,n,r){return e+(n-e)*r},ZS=function(e){var n=e.from,r=e.to;return n!==r},gae=function t(e,n,r){var i=Mm(function(o,a){if(ZS(a)){var s=e(a.from,a.to,a.velocity),l=dae(s,2),c=l[0],u=l[1];return Bn(Bn({},a),{},{from:c,velocity:u})}return a},n);return r<1?Mm(function(o,a){return ZS(a)?Bn(Bn({},a),{},{velocity:Gx(a.velocity,i[o].velocity,r),from:Gx(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const yae=function(t,e,n,r,i){var o=qoe(t,e),a=o.reduce(function(y,v){return Bn(Bn({},y),{},YS({},v,[t[v],e[v]]))},{}),s=o.reduce(function(y,v){return Bn(Bn({},y),{},YS({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,h=function(){return null},f=function(){return Mm(function(v,w){return w.from},s)},p=function(){return!Object.values(s).filter(ZS).length},m=function(v){c||(c=v);var w=v-c,x=w/n.dt;s=gae(n,s,x),i(Bn(Bn(Bn({},t),e),f())),c=v,p()||(l=requestAnimationFrame(h))},g=function(v){u||(u=v);var w=(v-u)/r,x=Mm(function(A,S){return Gx.apply(void 0,GM(S).concat([n(w)]))},a);if(i(Bn(Bn(Bn({},t),e),x)),w<1)l=requestAnimationFrame(h);else{var E=Mm(function(A,S){return Gx.apply(void 0,GM(S).concat([n(1)]))},a);i(Bn(Bn(Bn({},t),e),E))}};return h=n.isStepper?m:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}var vae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function bae(t,e){if(t==null)return{};var n=xae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iA(t){return Eae(t)||Sae(t)||Aae(t)||wae()}function wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(t,e){if(t){if(typeof t=="string")return QS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QS(t,e)}}function Sae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eae(t){if(Array.isArray(t))return QS(t)}function QS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){om(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function om(t,e,n){return e=_L(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_L(r.key),r)}}function Pae(t,e,n){return e&&_ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _L(t){var e=Tae(t,"string");return Ff(e)==="symbol"?e:String(e)}function Tae(t,e){if(Ff(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eE(t,e)}function eE(t,e){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eE(t,e)}function Oae(t){var e=Mae();return function(){var r=qx(t),i;if(e){var o=qx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tE(this,i)}}function tE(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nE(t)}function nE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qx(t){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(t)}var zi=function(t){kae(n,t);var e=Oae(n);function n(r,i){var o;Cae(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,h=a.steps,f=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(nE(o)),o.changeStyle=o.changeStyle.bind(nE(o)),!s||p<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:u}),tE(o);if(h&&h.length)o.state={style:h[0].style};else if(c){if(typeof f=="function")return o.state={style:c},tE(o);o.state={style:l?om({},l,c):c}}else o.state={style:{}};return o}return Pae(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,h=o.from,f=this.state.style;if(s){if(!a){var p={style:l?om({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(p);return}if(!(Loe(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?h:i.to;if(this.state&&f){var y={style:l?om({},l,g):g};(l&&f[l]!==g||!l&&f!==g)&&this.setState(y)}this.runAnimation(Ki(Ki({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=yae(a,s,aae(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([f,u,m,l,h])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,h=c.duration,f=h===void 0?0:h,p=function(g,y,v){if(v===0)return g;var w=y.duration,x=y.easing,E=x===void 0?"ease":x,A=y.style,S=y.properties,_=y.onAnimationEnd,O=v>0?a[v-1]:y,I=S||Object.keys(A);if(typeof E=="function"||E==="spring")return[].concat(iA(g),[o.runJSAnimation.bind(o,{from:O.style,to:A,duration:w,easing:E}),w]);var M=HM(I,w,E),R=Ki(Ki(Ki({},O.style),A),{},{transition:M});return[].concat(iA(g),[R,w,_]).filter(Koe)};return this.manager.start([l].concat(iA(a.reduce(p,[u,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Voe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=s?om({},s,l):l,y=HM(Object.keys(g),a,c);m.start([u,o,Ki(Ki({},g),{},{transition:y}),a,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=bae(i,vae),c=P.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var h=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,v=m.className,w=P.cloneElement(p,Ki(Ki({},l),{},{style:Ki(Ki({},y),u),className:v}));return w};return c===1?h(P.Children.only(o)):B.createElement("div",null,P.Children.map(o,function(f){return h(f)}))}}]),n}(P.PureComponent);zi.displayName="Animate";zi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zi.propTypes={from:nt.oneOfType([nt.object,nt.string]),to:nt.oneOfType([nt.object,nt.string]),attributeName:nt.string,duration:nt.number,begin:nt.number,easing:nt.oneOfType([nt.string,nt.func]),steps:nt.arrayOf(nt.shape({duration:nt.number.isRequired,style:nt.object.isRequired,easing:nt.oneOfType([nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nt.func]),properties:nt.arrayOf("string"),onAnimationEnd:nt.func})),children:nt.oneOfType([nt.node,nt.func]),isActive:nt.bool,canBegin:nt.bool,onAnimationEnd:nt.func,shouldReAnimate:nt.bool,onAnimationStart:nt.func,onAnimationReStart:nt.func};function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(this,arguments)}function Rae(t,e){return Dae(t)||jae(t,e)||Nae(t,e)||Iae()}function Iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nae(t,e){if(t){if(typeof t=="string")return XM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XM(t,e)}}function XM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Dae(t){if(Array.isArray(t))return t}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){Lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lae(t,e,n){return e=$ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=Fae(t,"string");return hg(e)=="symbol"?e:e+""}function Fae(t,e){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZM=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=o[f]>a?a:o[f];u="M".concat(e,",").concat(n+s*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(n)),u+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*h[1])),u+="L ".concat(e+r,",").concat(n+i-s*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),u+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*h[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);u="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*m," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},Bae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),h=Math.min(a,a+l),f=Math.max(a,a+l);return r>=c&&r<=u&&i>=h&&i<=f}return!1},zae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IP=function(e){var n=JM(JM({},zae),e),r=P.useRef(),i=P.useState(-1),o=Rae(i,2),a=o[0],s=o[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,c=n.y,u=n.width,h=n.height,f=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||h!==+h||u===0||h===0)return null;var x=Pe("recharts-rectangle",p);return w?B.createElement(zi,{canBegin:a>0,from:{width:u,height:h,x:l,y:c},to:{width:u,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:w},function(E){var A=E.width,S=E.height,_=E.x,O=E.y;return B.createElement(zi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:m},B.createElement("path",Kx({},ge(n,!0),{className:x,d:ZM(_,O,A,S,f),ref:r})))}):B.createElement("path",Kx({},ge(n,!0),{className:x,d:ZM(l,c,u,h,f)}))},Uae=["points","className","baseLinePoints","connectNulls"];function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}function Hae(t,e){if(t==null)return{};var n=Vae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QM(t){return Kae(t)||qae(t)||Gae(t)||Wae()}function Wae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gae(t,e){if(t){if(typeof t=="string")return rE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rE(t,e)}}function qae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kae(t){if(Array.isArray(t))return rE(t)}function rE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eR=function(e){return e&&e.x===+e.x&&e.y===+e.y},Xae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){eR(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),eR(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Rm=function(e,n){var r=Xae(e);n&&(r=[r.reduce(function(o,a){return[].concat(QM(o),QM(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Yae=function(e,n,r){var i=Rm(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Rm(n.reverse(),r).slice(1))},Jae=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=Hae(e,Uae);if(!n||!n.length)return null;var s=Pe("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=Yae(n,i,o);return B.createElement("g",{className:s},B.createElement("path",Lh({},ge(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?B.createElement("path",Lh({},ge(a,!0),{fill:"none",d:Rm(n,o)})):null,l?B.createElement("path",Lh({},ge(a,!0),{fill:"none",d:Rm(i,o)})):null)}var u=Rm(n,o);return B.createElement("path",Lh({},ge(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:s,d:u}))};function iE(){return iE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iE.apply(this,arguments)}var Sv=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Pe("recharts-dot",o);return n===+n&&r===+r&&i===+i?P.createElement("circle",iE({},ge(e,!1),px(e),{className:a,cx:n,cy:r,r:i})):null};function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}var Zae=["x","y","top","left","width","height","className"];function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ese(t,e,n){return e=tse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tse(t){var e=nse(t,"string");return dg(e)=="symbol"?e:e+""}function nse(t,e){if(dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rse(t,e){if(t==null)return{};var n=ise(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ise(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ose=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},ase=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,h=u===void 0?0:u,f=e.height,p=f===void 0?0:f,m=e.className,g=rse(e,Zae),y=Qae({x:r,y:o,top:s,left:c,width:h,height:p},g);return!ee(r)||!ee(o)||!ee(h)||!ee(p)||!ee(s)||!ee(c)?null:B.createElement("path",oE({},ge(y,!0),{className:Pe("recharts-cross",m),d:ose(r,o,h,p,s,c)}))},sse=Dw,lse=$D,cse=da;function use(t,e){return t&&t.length?sse(t,cse(e),lse):void 0}var hse=use;const dse=et(hse);var fse=Dw,pse=da,mse=FD;function gse(t,e){return t&&t.length?fse(t,pse(e),mse):void 0}var yse=gse;const vse=et(yse);var bse=["cx","cy","angle","ticks","axisLine"],xse=["ticks","tick","angle","tickFormatter","stroke"];function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Im.apply(this,arguments)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rR(t,e){if(t==null)return{};var n=wse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ase(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TL(r.key),r)}}function Sse(t,e,n){return e&&iR(t.prototype,e),n&&iR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ese(t,e,n){return e=Xx(e),Cse(t,PL()?Reflect.construct(e,n||[],Xx(t).constructor):e.apply(t,n))}function Cse(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _se(t)}function _se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PL=function(){return!!t})()}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xx(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aE(t,e)}function aE(t,e){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aE(t,e)}function Bw(t,e,n){return e=TL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TL(t){var e=Tse(t,"string");return Bf(e)=="symbol"?e:e+""}function Tse(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zw=function(t){function e(){return Ase(this,e),Ese(this,e,arguments)}return Pse(e,t),Sse(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ct(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=dse(s,function(u){return u.coordinate||0}),c=vse(s,function(u){return u.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,c=rR(r,bse),u=s.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),h=Ct(i,o,u[0],a),f=Ct(i,o,u[1],a),p=sc(sc(sc({},ge(c,!1)),{},{fill:"none"},ge(l,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return B.createElement("line",Im({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=rR(i,xse),h=this.getTickTextAnchor(),f=ge(u,!1),p=ge(a,!1),m=o.map(function(g,y){var v=r.getTickValueCoord(g),w=sc(sc(sc(sc({textAnchor:h,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},f),{},{stroke:"none",fill:c},p),{},{index:y},v),{},{payload:g});return B.createElement(Ne,Im({className:Pe("recharts-polar-radius-axis-tick",fL(a)),key:"tick-".concat(g.coordinate)},zl(r.props,g,y)),e.renderTickItem(a,w,l?l(g.value,y):g.value))});return B.createElement(Ne,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:B.createElement(Ne,{className:Pe("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),On.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):Se(r)?a=r(i):a=B.createElement(Ku,Im({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(P.PureComponent);Bw(zw,"displayName","PolarRadiusAxis");Bw(zw,"axisType","radiusAxis");Bw(zw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(this,arguments)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Uw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OL(r.key),r)}}function Ose(t,e,n){return e&&aR(t.prototype,e),n&&aR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mse(t,e,n){return e=Yx(e),Rse(t,kL()?Reflect.construct(e,n||[],Yx(t).constructor):e.apply(t,n))}function Rse(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ise(t)}function Ise(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kL=function(){return!!t})()}function Yx(t){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yx(t)}function Nse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sE(t,e)}function Uw(t,e,n){return e=OL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OL(t){var e=jse(t,"string");return zf(e)=="symbol"?e:e+""}function jse(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dse=Math.PI/180,sR=1e-5,Hw=function(t){function e(){return kse(this,e),Mse(this,e,arguments)}return Nse(e,t),Ose(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,h=Ct(o,a,s,r.coordinate),f=Ct(o,a,s+(l==="inner"?-1:1)*u,r.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Dse),a;return o>sR?a=i==="outer"?"start":"end":o<-sR?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,c=lc(lc({},ge(this.props,!1)),{},{fill:"none"},ge(s,!1));if(l==="circle")return B.createElement(Sv,xc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var u=this.props.ticks,h=u.map(function(f){return Ct(i,o,a,f.coordinate)});return B.createElement(Jae,xc({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=ge(this.props,!1),h=ge(a,!1),f=lc(lc({},u),{},{fill:"none"},ge(s,!1)),p=o.map(function(m,g){var y=r.getTickLineCoord(m),v=r.getTickTextAnchor(m),w=lc(lc(lc({textAnchor:v},u),{},{stroke:"none",fill:c},h),{},{index:g,payload:m,x:y.x2,y:y.y2});return B.createElement(Ne,xc({className:Pe("recharts-polar-angle-axis-tick",fL(a)),key:"tick-".concat(m.coordinate)},zl(r.props,m,g)),s&&B.createElement("line",xc({className:"recharts-polar-angle-axis-tick-line"},f,y)),a&&e.renderTickItem(a,w,l?l(m.value,g):m.value))});return B.createElement(Ne,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:B.createElement(Ne,{className:Pe("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):Se(r)?a=r(i):a=B.createElement(Ku,xc({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(P.PureComponent);Uw(Hw,"displayName","PolarAngleAxis");Uw(Hw,"axisType","angleAxis");Uw(Hw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Lse=N2,$se=Lse(Object.getPrototypeOf,Object),Fse=$se,Bse=_s,zse=Fse,Use=Ps,Hse="[object Object]",Vse=Function.prototype,Wse=Object.prototype,ML=Vse.toString,Gse=Wse.hasOwnProperty,qse=ML.call(Object);function Kse(t){if(!Use(t)||Bse(t)!=Hse)return!1;var e=zse(t);if(e===null)return!0;var n=Gse.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ML.call(n)==qse}var Xse=Kse;const Yse=et(Xse);var Jse=_s,Zse=Ps,Qse="[object Boolean]";function ele(t){return t===!0||t===!1||Zse(t)&&Jse(t)==Qse}var tle=ele;const nle=et(tle);function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function rle(t,e){return sle(t)||ale(t,e)||ole(t,e)||ile()}function ile(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ole(t,e){if(t){if(typeof t=="string")return lR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lR(t,e)}}function lR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ale(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function sle(t){if(Array.isArray(t))return t}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lle(t,e,n){return e=cle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cle(t){var e=ule(t,"string");return fg(e)=="symbol"?e:e+""}function ule(t,e){if(fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hR=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},hle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dle=function(e){var n=uR(uR({},hle),e),r=P.useRef(),i=P.useState(-1),o=rle(i,2),a=o[0],s=o[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,h=n.lowerWidth,f=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var w=Pe("recharts-trapezoid",p);return v?B.createElement(zi,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:h,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:v},function(x){var E=x.upperWidth,A=x.lowerWidth,S=x.height,_=x.x,O=x.y;return B.createElement(zi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},B.createElement("path",Jx({},ge(n,!0),{className:w,d:hR(_,O,E,A,S),ref:r})))}):B.createElement("g",null,B.createElement("path",Jx({},ge(n,!0),{className:w,d:hR(l,c,u,h,f)})))},fle=["option","shapeType","propTransformer","activeClassName","isActive"];function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function ple(t,e){if(t==null)return{};var n=mle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gle(t,e,n){return e=yle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=vle(t,"string");return pg(e)=="symbol"?e:e+""}function vle(t,e){if(pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ble(t,e){return Zx(Zx({},e),t)}function xle(t,e){return t==="symbols"}function fR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(IP,n);case"trapezoid":return B.createElement(dle,n);case"sector":return B.createElement(gL,n);case"symbols":if(xle(e))return B.createElement(_w,n);break;default:return null}}function wle(t){return P.isValidElement(t)?t.props:t}function Qx(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ble:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=ple(t,fle),c;if(P.isValidElement(e))c=P.cloneElement(e,Zx(Zx({},l),wle(e)));else if(Se(e))c=e(l);else if(Yse(e)&&!nle(e)){var u=i(e,l);c=B.createElement(fR,{shapeType:n,elementProps:u})}else{var h=l;c=B.createElement(fR,{shapeType:n,elementProps:h})}return s?B.createElement(Ne,{className:a},c):c}function Vw(t,e){return e!=null&&"trapezoids"in t.props}function Ww(t,e){return e!=null&&"sectors"in t.props}function mg(t,e){return e!=null&&"points"in t.props}function Ale(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Sle(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ele(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Cle(t,e){var n;return Vw(t,e)?n=Ale:Ww(t,e)?n=Sle:mg(t,e)&&(n=Ele),n}function _le(t,e){var n;return Vw(t,e)?n="trapezoids":Ww(t,e)?n="sectors":mg(t,e)&&(n="points"),n}function Ple(t,e){if(Vw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ww(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return mg(t,e)?e.payload:{}}function Tle(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=_le(n,e),o=Ple(n,e),a=r.filter(function(l,c){var u=Ul(o,l),h=n.props[i].filter(function(m){var g=Cle(n,e);return g(m,e)}),f=n.props[i].indexOf(h[h.length-1]),p=c===f;return u&&p}),s=r.indexOf(a[a.length-1]);return s}var Cb;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(this,arguments)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IL(r.key),r)}}function Ole(t,e,n){return e&&mR(t.prototype,e),n&&mR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mle(t,e,n){return e=e0(e),Rle(t,RL()?Reflect.construct(e,n||[],e0(t).constructor):e.apply(t,n))}function Rle(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ile(t)}function Ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RL=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(t)}function Nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function ji(t,e,n){return e=IL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IL(t){var e=jle(t,"string");return Uf(e)=="symbol"?e:e+""}function jle(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Os=function(t){function e(n){var r;return kle(this,e),r=Mle(this,e,[n]),ji(r,"pieRef",null),ji(r,"sectorRefs",[]),ji(r,"id",Jl("recharts-pie-")),ji(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Se(i)&&i()}),ji(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Se(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Nle(e,t),Ole(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,u=ge(this.props,!1),h=ge(a,!1),f=ge(s,!1),p=a&&a.offsetRadius||20,m=r.map(function(g,y){var v=(g.startAngle+g.endAngle)/2,w=Ct(g.cx,g.cy,g.outerRadius+p,v),x=At(At(At(At({},u),g),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(w.x,g.cx)},w),E=At(At(At(At({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:y,points:[Ct(g.cx,g.cy,g.outerRadius,v),w]}),A=l;return Ae(l)&&Ae(c)?A="value":Ae(l)&&(A=c),B.createElement(Ne,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},s&&e.renderLabelLineItem(s,E,"line"),e.renderLabelItem(a,x,Mt(g,A)))});return B.createElement(Ne,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(u),f=l&&i.hasActiveIndex()?l:null,p=h?a:f,m=At(At({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return B.createElement(Ne,$h({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},zl(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),B.createElement(Qx,$h({option:p,isActive:h,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,h=this.state,f=h.prevSectors,p=h.prevIsAnimationActive;return B.createElement(zi,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,y=[],v=o&&o[0],w=v.startAngle;return o.forEach(function(x,E){var A=f&&f[E],S=E>0?ui(x,"paddingAngle",0):0;if(A){var _=Ft(A.endAngle-A.startAngle,x.endAngle-x.startAngle),O=At(At({},x),{},{startAngle:w+S,endAngle:w+_(g)+S});y.push(O),w=O.endAngle}else{var I=x.endAngle,M=x.startAngle,R=Ft(0,I-M),N=R(g),L=At(At({},x),{},{startAngle:w+S,endAngle:w+N+S});y.push(L),w=L.endAngle}}),B.createElement(Ne,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Ul(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,h=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!a||!a.length||!ee(c)||!ee(u)||!ee(h)||!ee(f))return null;var g=Pe("recharts-pie",s);return B.createElement(Ne,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(a),On.renderCallByParent(this.props,null,!1),(!p||m)&&go.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);if(Se(r))return r(i);var a=Pe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(Bl,$h({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);var a=o;if(Se(r)&&(a=r(i),B.isValidElement(a)))return a;var s=Pe("recharts-pie-label-text",typeof r!="boolean"&&!Se(r)?r.className:"");return B.createElement(Ku,$h({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(P.PureComponent);Cb=Os;ji(Os,"displayName","Pie");ji(Os,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ts.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ji(Os,"parseDeltaAngle",function(t,e){var n=dr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ji(Os,"getRealPieData",function(t){var e=t.data,n=t.children,r=ge(t,!1),i=gr(n,vv);return e&&e.length?e.map(function(o,a){return At(At(At({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return At(At({},r),o.props)}):[]});ji(Os,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=dL(i,o),s=r+fr(t.cx,i,i/2),l=n+fr(t.cy,o,o/2),c=fr(t.innerRadius,a,0),u=fr(t.outerRadius,a,a*.8),h=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:h}});ji(Os,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?At(At({},e.type.defaultProps),e.props):e.props,i=Cb.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,h=r.valueKey,f=r.tooltipType,p=Math.abs(r.minAngle),m=Cb.parseCoordinateOfPie(r,n),g=Cb.parseDeltaAngle(a,s),y=Math.abs(g),v=c;Ae(c)&&Ae(h)?(mo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Ae(c)&&(mo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=h);var w=i.filter(function(O){return Mt(O,v,0)!==0}).length,x=(y>=360?w:w-1)*l,E=y-w*p-x,A=i.reduce(function(O,I){var M=Mt(I,v,0);return O+(ee(M)?M:0)},0),S;if(A>0){var _;S=i.map(function(O,I){var M=Mt(O,v,0),R=Mt(O,u,I),N=(ee(M)?M:0)/A,L;I?L=_.endAngle+dr(g)*l*(M!==0?1:0):L=a;var F=L+dr(g)*((M!==0?p:0)+N*E),z=(L+F)/2,$=(m.innerRadius+m.outerRadius)/2,U=[{name:R,value:M,payload:O,dataKey:v,type:f}],H=Ct(m.cx,m.cy,$,z);return _=At(At(At({percent:N,cornerRadius:o,name:R,tooltipPayload:U,midAngle:z,middleRadius:$,tooltipPosition:H},O),m),{},{value:Mt(O,v),startAngle:L,endAngle:F,payload:O,paddingAngle:dr(g)*l}),_})}return At(At({},m),{},{sectors:S,data:i})});var Dle=Math.ceil,Lle=Math.max;function $le(t,e,n,r){for(var i=-1,o=Lle(Dle((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Fle=$le,Ble=Q2,gR=1/0,zle=17976931348623157e292;function Ule(t){if(!t)return t===0?t:0;if(t=Ble(t),t===gR||t===-gR){var e=t<0?-1:1;return e*zle}return t===t?t:0}var NL=Ule,Hle=Fle,Vle=kw,oA=NL;function Wle(t){return function(e,n,r){return r&&typeof r!="number"&&Vle(e,n,r)&&(n=r=void 0),e=oA(e),n===void 0?(n=e,e=0):n=oA(n),r=r===void 0?e<n?1:-1:oA(r),Hle(e,n,r,t)}}var Gle=Wle,qle=Gle,Kle=qle(),Xle=Kle;const t0=et(Xle);function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){jL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jL(t,e,n){return e=Yle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yle(t){var e=Jle(t,"string");return gg(e)=="symbol"?e:e+""}function Jle(t,e){if(gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zle=["Webkit","Moz","O","ms"],Qle=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Zle.reduce(function(o,a){return vR(vR({},o),{},jL({},a+r,n))},{});return i[e]=n,i};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n0.apply(this,arguments)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){Br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ece(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LL(r.key),r)}}function tce(t,e,n){return e&&xR(t.prototype,e),n&&xR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nce(t,e,n){return e=r0(e),rce(t,DL()?Reflect.construct(e,n||[],r0(t).constructor):e.apply(t,n))}function rce(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ice(t)}function ice(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(t)}function oce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function Br(t,e,n){return e=LL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LL(t){var e=ace(t,"string");return Hf(e)=="symbol"?e:e+""}function ace(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sce=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=km().domain(t0(0,l)).range([o,o+a-s]),u=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},wR=function(e){return e.changedTouches&&!!e.changedTouches.length},Vf=function(t){function e(n){var r;return ece(this,e),r=nce(this,e,[n]),Br(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Br(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Br(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Br(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Br(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Br(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Br(r,"handleSlideDragStart",function(i){var o=wR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return oce(e,t),tce(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,h=Math.min(i,o),f=Math.max(i,o),p=e.getIndexInRange(a,h),m=e.getIndexInRange(a,f);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Mt(o[r],s,r);return Se(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,h=l.travellerWidth,f=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+u-h-s,c+u-h-a):g<0&&(g=Math.max(g,c-a,c-s));var y=this.getIndex({startX:a+g,endX:s+g});(y.startIndex!==f||y.endIndex!==p)&&m&&m(y),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=wR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,h=u.x,f=u.width,p=u.travellerWidth,m=u.onChange,g=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,h+f-p-c):w<0&&(w=Math.max(w,h-c)),v[a]=c+w;var x=this.getIndex(v),E=x.startIndex,A=x.endIndex,S=function(){var O=y.length-1;return a==="startX"&&(s>l?E%g===0:A%g===0)||s<l&&A===O||a==="endX"&&(s>l?A%g===0:E%g===0)||s>l&&A===O};this.setState(Br(Br({},a,c+w),"brushMoveStartX",r.pageX),function(){m&&S()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],h=s.indexOf(u);if(h!==-1){var f=h+r;if(!(f===-1||f>=s.length)){var p=s[f];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Br({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return B.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,h=P.Children.only(c);return h?B.cloneElement(h,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,h=l.height,f=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),w=aA(aA({},ge(this.props,!1)),{},{x:v,y:c,width:u,height:h}),x=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[y])===null||a===void 0?void 0:a.name);return B.createElement(Ne,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,h=Math.max(Math.abs(i-r)-c,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:h,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,h=u.startX,f=u.endX,p=5,m={pointerEvents:"none",fill:c};return B.createElement(Ne,{className:"recharts-brush-texts"},B.createElement(Ku,n0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:a+s/2},m),this.getTextOfTick(i)),B.createElement(Ku,n0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,h=r.alwaysShowText,f=this.state,p=f.startX,m=f.endX,g=f.isTextActive,y=f.isSlideMoving,v=f.isTravellerMoving,w=f.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(l)||!ee(c)||!ee(u)||c<=0||u<=0)return null;var x=Pe("recharts-brush",o),E=B.Children.count(a)===1,A=Qle("userSelect","none");return B.createElement(Ne,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||v||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,h=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return aA({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?sce({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(P.PureComponent);Br(Vf,"displayName","Brush");Br(Vf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lce=oP;function cce(t,e){var n;return lce(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var uce=cce,hce=_2,dce=da,fce=uce,pce=Nr,mce=kw;function gce(t,e,n){var r=pce(t)?hce:fce;return n&&mce(t,e,n)&&(e=void 0),r(t,dce(e))}var yce=gce;const vce=et(yce);var aa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},AR=K2;function bce(t,e,n){e=="__proto__"&&AR?AR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var xce=bce,wce=xce,Ace=G2,Sce=da;function Ece(t,e){var n={};return e=Sce(e),Ace(t,function(r,i,o){wce(n,i,e(r,i,o))}),n}var Cce=Ece;const _ce=et(Cce);function Pce(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Tce=Pce,kce=oP;function Oce(t,e){var n=!0;return kce(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Mce=Oce,Rce=Tce,Ice=Mce,Nce=da,jce=Nr,Dce=kw;function Lce(t,e,n){var r=jce(t)?Rce:Ice;return n&&Dce(t,e,n)&&(e=void 0),r(t,Nce(e))}var $ce=Lce;const $L=et($ce);var Fce=["x","y"];function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(this,arguments)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Bce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bce(t,e,n){return e=zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=Uce(t,"string");return yg(e)=="symbol"?e:e+""}function Uce(t,e){if(yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hce(t,e){if(t==null)return{};var n=Vce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wce(t,e){var n=t.x,r=t.y,i=Hce(t,Fce),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),h="".concat(e.width||i.width),f=parseInt(h,10);return Yp(Yp(Yp(Yp(Yp({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function ER(t){return B.createElement(Qx,uE({shapeType:"rectangle",propTransformer:Wce,activeClassName:"recharts-active-bar"},t))}var Gce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ee(r)||f6(r);return o?e(r,i):(o||Ge(!1),n)}},qce=["value","background"],FL;function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Kce(t,e){if(t==null)return{};var n=Xce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i0(){return i0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i0.apply(this,arguments)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zL(r.key),r)}}function Jce(t,e,n){return e&&_R(t.prototype,e),n&&_R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zce(t,e,n){return e=o0(e),Qce(t,BL()?Reflect.construct(e,n||[],o0(t).constructor):e.apply(t,n))}function Qce(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eue(t)}function eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!t})()}function o0(t){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o0(t)}function tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hE(t,e)}function Ll(t,e,n){return e=zL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zL(t){var e=nue(t,"string");return Wf(e)=="symbol"?e:e+""}function nue(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ui=function(t){function e(){var n;Yce(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Zce(this,e,[].concat(i)),Ll(n,"state",{isAnimationFinished:!1}),Ll(n,"id",Jl("recharts-bar-")),Ll(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ll(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return tue(e,t),Jce(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=ge(this.props,!1);return r&&r.map(function(h,f){var p=f===l,m=p?c:a,g=on(on(on({},u),h),{},{isActive:p,option:m,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(Ne,i0({className:"recharts-bar-rectangle"},zl(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),B.createElement(ER,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,h=i.animationId,f=this.state.prevData;return B.createElement(zi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(y,v){var w=f&&f[v];if(w){var x=Ft(w.x,y.x),E=Ft(w.y,y.y),A=Ft(w.width,y.width),S=Ft(w.height,y.height);return on(on({},y),{},{x:x(m),y:E(m),width:A(m),height:S(m)})}if(a==="horizontal"){var _=Ft(0,y.height),O=_(m);return on(on({},y),{},{y:y.y+y.height-O,height:O})}var I=Ft(0,y.width),M=I(m);return on(on({},y),{},{width:M})});return B.createElement(Ne,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Ul(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ge(this.props.background,!1);return o.map(function(c,u){c.value;var h=c.background,f=Kce(c,qce);if(!h)return null;var p=on(on(on(on(on({},f),{},{fill:"#eee"},h),l),zl(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return B.createElement(ER,i0({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,h=gr(u,Ep);if(!h)return null;var f=c==="vertical"?a[0].height/2:a[0].width/2,p=function(y,v){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Mt(y,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Ne,m,h.map(function(g){return B.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,h=r.width,f=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,v=Pe("recharts-bar",a),w=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,E=w||x,A=Ae(g)?this.id:g;return B.createElement(Ne,{className:v},w||x?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(A)},B.createElement("rect",{x:w?c:c-h/2,y:x?u:u-f/2,width:w?h:h*2,height:x?f:f*2}))):null,B.createElement(Ne,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(A,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,A),(!p||y)&&go.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(P.PureComponent);FL=Ui;Ll(Ui,"displayName","Bar");Ll(Ui,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ts.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ll(Ui,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,p=Rre(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,y=g!==void 0?on(on({},g),n.props):n.props,v=y.dataKey,w=y.children,x=y.minPointSize,E=m==="horizontal"?a:o,A=c?E.scale.domain():null,S=Fre({numericAxis:E}),_=gr(w,vv),O=h.map(function(I,M){var R,N,L,F,z,$;c?R=Ire(c[u+M],A):(R=Mt(I,v),Array.isArray(R)||(R=[S,R]));var U=Gce(x,FL.defaultProps.minPointSize)(R[1],M);if(m==="horizontal"){var H,W=[a.scale(R[0]),a.scale(R[1])],j=W[0],X=W[1];N=vM({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:I,index:M}),L=(H=X??j)!==null&&H!==void 0?H:void 0,F=p.size;var q=j-X;if(z=Number.isNaN(q)?0:q,$={x:N,y:a.y,width:F,height:a.height},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var D=dr(z||U)*(Math.abs(U)-Math.abs(z));L-=D,z+=D}}else{var le=[o.scale(R[0]),o.scale(R[1])],ve=le[0],ye=le[1];if(N=ve,L=vM({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:I,index:M}),F=ye-ve,z=p.size,$={x:o.x,y:L,width:o.width,height:z},Math.abs(U)>0&&Math.abs(F)<Math.abs(U)){var ie=dr(F||U)*(Math.abs(U)-Math.abs(F));F+=ie}}return on(on(on({},I),{},{x:N,y:L,width:F,height:z,value:c?R:R[1],payload:I,background:$},_&&_[M]&&_[M].props),{},{tooltipPayload:[uL(n,I)],tooltipPosition:{x:N+F/2,y:L+z/2}})});return on({data:O,layout:m},f)});function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function rue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UL(r.key),r)}}function iue(t,e,n){return e&&PR(t.prototype,e),n&&PR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Gw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gw(t,e,n){return e=UL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UL(t){var e=oue(t,"string");return vg(e)=="symbol"?e:e+""}function oue(t,e){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NP=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},f=!!oi(c,Ui);return u.reduce(function(p,m){var g=n[m],y=g.orientation,v=g.domain,w=g.padding,x=w===void 0?{}:w,E=g.mirror,A=g.reversed,S="".concat(y).concat(E?"Mirror":""),_,O,I,M,R;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=v[1]-v[0],L=1/0,F=g.categoricalDomain.sort(y6);if(F.forEach(function(le,ve){ve>0&&(L=Math.min((le||0)-(F[ve-1]||0),L))}),Number.isFinite(L)){var z=L/N,$=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=z*$/2),g.padding==="no-gap"){var U=fr(e.barCategoryGap,z*$),H=z*$/2;_=H-U-(H-U)/$*U}}}i==="xAxis"?O=[r.left+(x.left||0)+(_||0),r.left+r.width-(x.right||0)-(_||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(_||0),r.top+r.height-(x.bottom||0)-(_||0)]:O=g.range,A&&(O=[O[1],O[0]]);var W=aL(g,o,f),j=W.scale,X=W.realScaleType;j.domain(v).range(O),sL(j);var q=lL(j,uo(uo({},g),{},{realScaleType:X}));i==="xAxis"?(R=y==="top"&&!E||y==="bottom"&&E,I=r.left,M=h[S]-R*g.height):i==="yAxis"&&(R=y==="left"&&!E||y==="right"&&E,I=h[S]-R*g.width,M=r.top);var D=uo(uo(uo({},g),q),{},{realScaleType:X,x:I,y:M,scale:j,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return D.bandSize=zx(D,q),!g.hide&&i==="xAxis"?h[S]+=(R?-1:1)*D.height:g.hide||(h[S]+=(R?-1:1)*D.width),uo(uo({},p),{},Gw({},m,D))},{})},HL=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},aue=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return HL({x:n,y:r},{x:i,y:o})},VL=function(){function t(e){rue(this,t),this.scale=e}return iue(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Gw(VL,"EPS",1e-4);var jP=function(e){var n=Object.keys(e).reduce(function(r,i){return uo(uo({},r),{},Gw({},i,VL.create(e[i])))},{});return uo(uo({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return _ce(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return $L(i,function(o,a){return n[a].isInRange(o)})}})};function sue(t){return(t%180+180)%180}var lue=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=sue(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},cue=da,uue=yv,hue=Pw;function due(t){return function(e,n,r){var i=Object(e);if(!uue(e)){var o=cue(n);e=hue(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var fue=due,pue=NL;function mue(t){var e=pue(t),n=e%1;return e===e?n?e-n:e:0}var gue=mue,yue=B2,vue=da,bue=gue,xue=Math.max;function wue(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:bue(n);return i<0&&(i=xue(r+i,0)),yue(t,vue(e),i)}var Aue=wue,Sue=fue,Eue=Aue,Cue=Sue(Eue),_ue=Cue;const Pue=et(_ue);var Tue=bW(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),DP=P.createContext(void 0),LP=P.createContext(void 0),WL=P.createContext(void 0),GL=P.createContext({}),qL=P.createContext(void 0),KL=P.createContext(0),XL=P.createContext(0),kR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Tue(o);return B.createElement(DP.Provider,{value:r},B.createElement(LP.Provider,{value:i},B.createElement(GL.Provider,{value:o},B.createElement(WL.Provider,{value:u},B.createElement(qL.Provider,{value:a},B.createElement(KL.Provider,{value:c},B.createElement(XL.Provider,{value:l},s)))))))},kue=function(){return P.useContext(qL)},YL=function(e){var n=P.useContext(DP);n==null&&Ge(!1);var r=n[e];return r==null&&Ge(!1),r},Oue=function(){var e=P.useContext(DP);return Bs(e)},Mue=function(){var e=P.useContext(LP),n=Pue(e,function(r){return $L(r.domain,Number.isFinite)});return n||Bs(e)},JL=function(e){var n=P.useContext(LP);n==null&&Ge(!1);var r=n[e];return r==null&&Ge(!1),r},Rue=function(){var e=P.useContext(WL);return e},Iue=function(){return P.useContext(GL)},$P=function(){return P.useContext(XL)},FP=function(){return P.useContext(KL)};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QL(r.key),r)}}function Due(t,e,n){return e&&jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lue(t,e,n){return e=a0(e),$ue(t,ZL()?Reflect.construct(e,n||[],a0(t).constructor):e.apply(t,n))}function $ue(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fue(t)}function Fue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!t})()}function a0(t){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a0(t)}function Bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dE(t,e)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){BP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BP(t,e,n){return e=QL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=zue(t,"string");return Gf(e)=="symbol"?e:e+""}function zue(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uue(t,e){return Gue(t)||Wue(t,e)||Vue(t,e)||Hue()}function Hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vue(t,e){if(t){if(typeof t=="string")return RR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RR(t,e)}}function RR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Gue(t){if(Array.isArray(t))return t}function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(this,arguments)}var que=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):Se(e)?r=e(n):r=B.createElement("line",fE({},n,{className:"recharts-reference-line-line"})),r},Kue=function(e,n,r,i,o,a,s,l,c){var u=o.x,h=o.y,f=o.width,p=o.height;if(r){var m=c.y,g=e.y.apply(m,{position:a});if(aa(c,"discard")&&!e.y.isInRange(g))return null;var y=[{x:u+f,y:g},{x:u,y:g}];return l==="left"?y.reverse():y}if(n){var v=c.x,w=e.x.apply(v,{position:a});if(aa(c,"discard")&&!e.x.isInRange(w))return null;var x=[{x:w,y:h+p},{x:w,y:h}];return s==="top"?x.reverse():x}if(i){var E=c.segment,A=E.map(function(S){return e.apply(S,{position:a})});return aa(c,"discard")&&vce(A,function(S){return!e.isInRange(S)})?null:A}return null};function Xue(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=kue(),u=YL(i),h=JL(o),f=Rue();if(!c||!f)return null;mo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=jP({x:u.scale,y:h.scale}),m=vn(e),g=vn(n),y=r&&r.length===2,v=Kue(p,m,g,y,f,t.position,u.orientation,h.orientation,t);if(!v)return null;var w=Uue(v,2),x=w[0],E=x.x,A=x.y,S=w[1],_=S.x,O=S.y,I=aa(t,"hidden")?"url(#".concat(c,")"):void 0,M=MR(MR({clipPath:I},ge(t,!0)),{},{x1:E,y1:A,x2:_,y2:O});return B.createElement(Ne,{className:Pe("recharts-reference-line",s)},que(a,M),On.renderCallByParent(t,aue({x1:E,y1:A,x2:_,y2:O})))}var qw=function(t){function e(){return Nue(this,e),Lue(this,e,arguments)}return Bue(e,t),Due(e,[{key:"render",value:function(){return B.createElement(Xue,this.props)}}])}(B.Component);BP(qw,"displayName","ReferenceLine");BP(qw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function pE(){return pE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pE.apply(this,arguments)}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){Kw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function Zue(t,e,n){return e&&Jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Que(t,e,n){return e=s0(e),ehe(t,e$()?Reflect.construct(e,n||[],s0(t).constructor):e.apply(t,n))}function ehe(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return the(t)}function the(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function s0(t){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s0(t)}function nhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mE(t,e)}function Kw(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=rhe(t,"string");return qf(e)=="symbol"?e:e+""}function rhe(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ihe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=jP({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return aa(e,"discard")&&!a.isInRange(s)?null:s},Ev=function(t){function e(){return Yue(this,e),Que(this,e,arguments)}return nhe(e,t),Zue(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=vn(i),u=vn(o);if(mo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var h=ihe(this.props);if(!h)return null;var f=h.x,p=h.y,m=this.props,g=m.shape,y=m.className,v=aa(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=NR(NR({clipPath:v},ge(this.props,!0)),{},{cx:f,cy:p});return B.createElement(Ne,{className:Pe("recharts-reference-dot",y)},e.renderDot(g,w),On.renderCallByParent(this.props,{x:f-a,y:p-a,width:2*a,height:2*a}))}}])}(B.Component);Kw(Ev,"displayName","ReferenceDot");Kw(Ev,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Kw(Ev,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Se(t)?n=t(e):n=B.createElement(Sv,pE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ohe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ahe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r$(r.key),r)}}function she(t,e,n){return e&&ahe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lhe(t,e,n){return e=l0(e),che(t,n$()?Reflect.construct(e,n||[],l0(t).constructor):e.apply(t,n))}function che(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uhe(t)}function uhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n$=function(){return!!t})()}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(t)}function hhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}function yE(t,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yE(t,e)}function Xw(t,e,n){return e=r$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r$(t){var e=dhe(t,"string");return Kf(e)=="symbol"?e:e+""}function dhe(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fhe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,h=o.yAxis;if(!u||!h)return null;var f=jP({x:u.scale,y:h.scale}),p={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},m={x:n?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return aa(o,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:HL(p,m)},Yw=function(t){function e(){return ohe(this,e),lhe(this,e,arguments)}return hhe(e,t),she(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;mo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=vn(i),f=vn(o),p=vn(a),m=vn(s),g=this.props.shape;if(!h&&!f&&!p&&!m&&!g)return null;var y=fhe(h,f,p,m,this.props);if(!y&&!g)return null;var v=aa(this.props,"hidden")?"url(#".concat(u,")"):void 0;return B.createElement(Ne,{className:Pe("recharts-reference-area",l)},e.renderRect(g,DR(DR({clipPath:v},ge(this.props,!0)),y)),On.renderCallByParent(this.props,y))}}])}(B.Component);Xw(Yw,"displayName","ReferenceArea");Xw(Yw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Xw(Yw,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Se(t)?n=t(e):n=B.createElement(IP,gE({},e,{className:"recharts-reference-area-rect"})),n});function i$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function phe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return lue(r,n)}function mhe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function c0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function ghe(t,e){return i$(t,e+1)}function yhe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,u=a,h=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:i$(r,c)};var g=l,y,v=function(){return y===void 0&&(y=n(m,g)),y},w=m.coordinate,x=l===0||c0(t,w,v,u,s);x||(l=0,u=a,c+=1),x&&(u=w+t*(v()/2+i),l+=c)},f;c<=o.length;)if(f=h(),f)return f.v;return[]}function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vhe(t,e,n){return e=bhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bhe(t){var e=xhe(t,"string");return bg(e)=="symbol"?e:e+""}function xhe(t,e){if(bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function whe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(f){var p=o[f],m,g=function(){return m===void 0&&(m=n(p,f)),m};if(f===a-1){var y=t*(p.coordinate+t*g()/2-l);o[f]=p=Jn(Jn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[f]=p=Jn(Jn({},p),{},{tickCoord:p.coordinate});var v=c0(t,p.tickCoord,g,s,l);v&&(l=p.tickCoord-t*(g()/2+i),o[f]=Jn(Jn({},p),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function Ahe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=r[s-1],h=n(u,s-1),f=t*(u.coordinate+t*h/2-c);a[s-1]=u=Jn(Jn({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var p=c0(t,u.tickCoord,function(){return h},l,c);p&&(c=u.tickCoord-t*(h/2+i),a[s-1]=Jn(Jn({},u),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(w){var x=a[w],E,A=function(){return E===void 0&&(E=n(x,w)),E};if(w===0){var S=t*(x.coordinate-t*A()/2-l);a[w]=x=Jn(Jn({},x),{},{tickCoord:S<0?x.coordinate-S*t:x.coordinate})}else a[w]=x=Jn(Jn({},x),{},{tickCoord:x.coordinate});var _=c0(t,x.tickCoord,A,l,c);_&&(l=x.tickCoord+t*(A()/2+i),a[w]=Jn(Jn({},x),{},{isShow:!0}))},y=0;y<m;y++)g(y);return a}function zP(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||Ts.isSsr)return ghe(i,typeof l=="number"&&ee(l)?l:0);var f=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?Tm(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,E){var A=Se(c)?c(x.value,E):x.value;return p==="width"?phe(Tm(A,{fontSize:e,letterSpacing:n}),m,h):Tm(A,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?dr(i[1].coordinate-i[0].coordinate):1,v=mhe(o,y,p);return l==="equidistantPreserveStart"?yhe(y,v,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=Ahe(y,v,g,i,a,l==="preserveStartEnd"):f=whe(y,v,g,i,a),f.filter(function(w){return w.isShow}))}var She=["viewBox"],Ehe=["viewBox"],Che=["ticks"];function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){UP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sA(t,e){if(t==null)return{};var n=_he(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _he(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a$(r.key),r)}}function The(t,e,n){return e&&FR(t.prototype,e),n&&FR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function khe(t,e,n){return e=u0(e),Ohe(t,o$()?Reflect.construct(e,n||[],u0(t).constructor):e.apply(t,n))}function Ohe(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mhe(t)}function Mhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}function Rhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vE(t,e)}function UP(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=Ihe(t,"string");return Xf(e)=="symbol"?e:e+""}function Ihe(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cp=function(t){function e(n){var r;return Phe(this,e),r=khe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Rhe(e,t),The(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=sA(r,She),s=this.props,l=s.viewBox,c=sA(s,Ehe);return!qh(o,l)||!qh(a,c)||!qh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,h=i.mirror,f=i.tickMargin,p,m,g,y,v,w,x=h?-1:1,E=r.tickSize||u,A=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,y=a+ +!h*l,g=y-x*E,w=g-x*f,v=A;break;case"left":g=y=r.coordinate,m=o+ +!h*s,p=m-x*E,v=p-x*f,w=A;break;case"right":g=y=r.coordinate,m=o+ +h*s,p=m+x*E,v=p+x*f,w=A;break;default:p=m=r.coordinate,y=a+ +h*l,g=y+x*E,w=g+x*f,v=A;break}return{line:{x1:p,y1:g,x2:m,y2:y},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,h=fn(fn(fn({},ge(this.props,!1)),ge(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);h=fn(fn({},h),{},{x1:i,y1:o+f*s,x2:i+a,y2:o+f*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);h=fn(fn({},h),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return B.createElement("line",Fh({},h,{className:Pe("recharts-cartesian-axis-line",ui(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,h=s.tickFormatter,f=s.unit,p=zP(fn(fn({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=ge(this.props,!1),v=ge(u,!1),w=fn(fn({},y),{},{fill:"none"},ge(l,!1)),x=p.map(function(E,A){var S=a.getTickLineCoord(E),_=S.line,O=S.tick,I=fn(fn(fn(fn({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:c},v),O),{},{index:A,payload:E,visibleTicksCount:p.length,tickFormatter:h});return B.createElement(Ne,Fh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},zl(a.props,E,A)),l&&B.createElement("line",Fh({},w,_,{className:Pe("recharts-cartesian-axis-tick-line",ui(l,"className"))})),u&&e.renderTickItem(u,I,"".concat(Se(h)?h(E.value,A):E.value).concat(f||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var h=this.props,f=h.ticks,p=sA(h,Che),m=f;return Se(l)&&(m=f&&f.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:B.createElement(Ne,{className:Pe("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Pe(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?a=B.cloneElement(r,fn(fn({},i),{},{className:s})):Se(r)?a=r(fn(fn({},i),{},{className:s})):a=B.createElement(Ku,Fh({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(P.Component);UP(Cp,"displayName","CartesianAxis");UP(Cp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Nhe=["x1","y1","x2","y2","key"],jhe=["offset"];function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dhe(t,e,n){return e=Lhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lhe(t){var e=$he(t,"string");return Yu(e)=="symbol"?e:e+""}function $he(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}function zR(t,e){if(t==null)return{};var n=Fhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bhe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return B.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function s$(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=zR(e,Nhe),c=ge(l,!1);c.offset;var u=zR(c,jhe);n=B.createElement("line",Tc({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function zhe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Qn(Qn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return s$(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Uhe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Qn(Qn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return s$(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Hhe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==u[0]&&u.unshift(0);var h=u.map(function(f,p){var m=!u[p+1],g=m?i+a-f:u[p+1]-f;if(g<=0)return null;var y=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:g,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Vhe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(f){return Math.round(f+o-o)}).sort(function(f,p){return f-p});o!==u[0]&&u.unshift(0);var h=u.map(function(f,p){var m=!u[p+1],g=m?o+s-f:u[p+1]-f;if(g<=0)return null;var y=p%r.length;return B.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Whe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return oL(zP(Qn(Qn(Qn({},Cp.defaultProps),r),{},{ticks:ss(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Ghe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return oL(zP(Qn(Qn(Qn({},Cp.defaultProps),r),{},{ticks:ss(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},gh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vs(t){var e,n,r,i,o,a,s=$P(),l=FP(),c=Iue(),u=Qn(Qn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:gh.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:gh.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:gh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:gh.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:gh.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:gh.verticalFill,x:ee(t.x)?t.x:c.left,y:ee(t.y)?t.y:c.top,width:ee(t.width)?t.width:c.width,height:ee(t.height)?t.height:c.height}),h=u.x,f=u.y,p=u.width,m=u.height,g=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,w=Oue(),x=Mue();if(!ee(p)||p<=0||!ee(m)||m<=0||!ee(h)||h!==+h||!ee(f)||f!==+f)return null;var E=u.verticalCoordinatesGenerator||Whe,A=u.horizontalCoordinatesGenerator||Ghe,S=u.horizontalPoints,_=u.verticalPoints;if((!S||!S.length)&&Se(A)){var O=y&&y.length,I=A({yAxis:x?Qn(Qn({},x),{},{ticks:O?y:x.ticks}):void 0,width:s,height:l,offset:c},O?!0:g);mo(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yu(I),"]")),Array.isArray(I)&&(S=I)}if((!_||!_.length)&&Se(E)){var M=v&&v.length,R=E({xAxis:w?Qn(Qn({},w),{},{ticks:M?v:w.ticks}):void 0,width:s,height:l,offset:c},M?!0:g);mo(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yu(R),"]")),Array.isArray(R)&&(_=R)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(Bhe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),B.createElement(zhe,Tc({},u,{offset:c,horizontalPoints:S,xAxis:w,yAxis:x})),B.createElement(Uhe,Tc({},u,{offset:c,verticalPoints:_,xAxis:w,yAxis:x})),B.createElement(Hhe,Tc({},u,{horizontalPoints:S})),B.createElement(Vhe,Tc({},u,{verticalPoints:_})))}vs.displayName="CartesianGrid";var qhe=["type","layout","connectNulls","ref"],Khe=["key"];function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function UR(t,e){if(t==null)return{};var n=Xhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yh(t){return Qhe(t)||Zhe(t)||Jhe(t)||Yhe()}function Yhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jhe(t,e){if(t){if(typeof t=="string")return bE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(t,e)}}function Zhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qhe(t){if(Array.isArray(t))return bE(t)}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ede(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c$(r.key),r)}}function tde(t,e,n){return e&&VR(t.prototype,e),n&&VR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nde(t,e,n){return e=h0(e),rde(t,l$()?Reflect.construct(e,n||[],h0(t).constructor):e.apply(t,n))}function rde(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ide(t)}function ide(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(t)}function ode(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}function xE(t,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xE(t,e)}function ho(t,e,n){return e=c$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$(t){var e=ade(t,"string");return Yf(e)=="symbol"?e:e+""}function ade(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hi=function(t){function e(){var n;ede(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=nde(this,e,[].concat(i)),ho(n,"state",{isAnimationFinished:!0,totalLength:0}),ho(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),ho(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(v,w){return v+w});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var u=Math.floor(a/c),h=a%c,f=s-a,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>h){p=[].concat(yh(l.slice(0,m)),[h-g]);break}var y=p.length%2===0?[0,f]:[f];return[].concat(yh(e.repeat(l,u)),yh(p),y).map(function(v){return"".concat(v,"px")}).join(", ")}),ho(n,"id",Jl("recharts-line-")),ho(n,"pathRef",function(a){n.mainCurve=a}),ho(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ho(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return ode(e,t),tde(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,h=gr(u,Ep);if(!h)return null;var f=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Mt(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Ne,p,h.map(function(m){return B.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,h=ge(this.props,!1),f=ge(l,!0),p=c.map(function(g,y){var v=Lr(Lr(Lr({key:"dot-".concat(y),r:3},h),f),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,v)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement(Ne,Nm({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var h=UR(s,qhe),f=Lr(Lr(Lr({},ge(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:u});return B.createElement(Bl,Nm({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,h=a.animationDuration,f=a.animationEasing,p=a.animationId,m=a.animateNewValues,g=a.width,y=a.height,v=this.state,w=v.prevPoints,x=v.totalLength;return B.createElement(zi,{begin:u,duration:h,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var A=E.t;if(w){var S=w.length/s.length,_=s.map(function(N,L){var F=Math.floor(L*S);if(w[F]){var z=w[F],$=Ft(z.x,N.x),U=Ft(z.y,N.y);return Lr(Lr({},N),{},{x:$(A),y:U(A)})}if(m){var H=Ft(g*2,N.x),W=Ft(y/2,N.y);return Lr(Lr({},N),{},{x:H(A),y:W(A)})}return Lr(Lr({},N),{},{x:N.x,y:N.y})});return o.renderCurveStatically(_,r,i)}var O=Ft(0,x),I=O(A),M;if(l){var R="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});M=o.getStrokeDasharray(I,x,R)}else M=o.generateSimpleStrokeDasharray(x,I);return o.renderCurveStatically(s,r,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&a&&a.length&&(!c&&u>0||!Ul(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,h=i.top,f=i.left,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,w=s.length===1,x=Pe("recharts-line",l),E=c&&c.allowDataOverflow,A=u&&u.allowDataOverflow,S=E||A,_=Ae(y)?this.id:y,O=(r=ge(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=O.r,M=I===void 0?3:I,R=O.strokeWidth,N=R===void 0?2:R,L=Jj(a)?a:{},F=L.clipDot,z=F===void 0?!0:F,$=M*2+N;return B.createElement(Ne,{className:x},E||A?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(_)},B.createElement("rect",{x:E?f:f-p/2,y:A?h:h-m/2,width:E?p:p*2,height:A?m:m*2})),!z&&B.createElement("clipPath",{id:"clipPath-dots-".concat(_)},B.createElement("rect",{x:f-$/2,y:h-$/2,width:p+$,height:m+$}))):null,!w&&this.renderCurve(S,_),this.renderErrorBar(S,_),(w||a)&&this.renderDots(S,z,_),(!g||v)&&go.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(yh(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(yh(a),yh(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(B.isValidElement(r))o=B.cloneElement(r,i);else if(Se(r))o=r(i);else{var a=i.key,s=UR(i,Khe),l=Pe("recharts-line-dot",typeof r!="boolean"?r.className:"");o=B.createElement(Sv,Nm({key:a},s,{className:l}))}return o}}])}(P.PureComponent);ho(Hi,"displayName","Line");ho(Hi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ts.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ho(Hi,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,h=l.map(function(f,p){var m=Mt(f,a);return u==="horizontal"?{x:$f({axis:n,ticks:i,bandSize:s,entry:f,index:p}),y:Ae(m)?null:r.scale(m),value:m,payload:f}:{x:Ae(m)?null:n.scale(m),y:$f({axis:r,ticks:o,bandSize:s,entry:f,index:p}),value:m,payload:f}});return Lr({points:h,layout:u},c)});var sde=["layout","type","stroke","connectNulls","isRange","ref"],lde=["key"],u$;function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function h$(t,e){if(t==null)return{};var n=cde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){ra(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f$(r.key),r)}}function hde(t,e,n){return e&&GR(t.prototype,e),n&&GR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dde(t,e,n){return e=d0(e),fde(t,d$()?Reflect.construct(e,n||[],d0(t).constructor):e.apply(t,n))}function fde(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pde(t)}function pde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(t)}function mde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wE(t,e)}function ra(t,e,n){return e=f$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f$(t){var e=gde(t,"string");return Jf(e)=="symbol"?e:e+""}function gde(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bs=function(t){function e(){var n;ude(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=dde(this,e,[].concat(i)),ra(n,"state",{isAnimationFinished:!0}),ra(n,"id",Jl("recharts-area-")),ra(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Se(a)&&a()}),ra(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Se(a)&&a()}),n}return mde(e,t),hde(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,c=l.dot,u=l.points,h=l.dataKey,f=ge(this.props,!1),p=ge(c,!0),m=u.map(function(y,v){var w=Ds(Ds(Ds({key:"dot-".concat(v),r:3},f),p),{},{index:v,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:u});return e.renderDotItem(c,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement(Ne,kc({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=r*Math.abs(l-c),h=Dl(a.map(function(f){return f.y||0}));return ee(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Dl(o.map(function(f){return f.y||0})),h)),ee(h)?B.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=r*Math.abs(l-c),h=Dl(a.map(function(f){return f.x||0}));return ee(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Dl(o.map(function(f){return f.x||0})),h)),ee(h)?B.createElement("rect",{x:0,y:l<c?l:l-u,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,c=s.type,u=s.stroke,h=s.connectNulls,f=s.isRange;s.ref;var p=h$(s,sde);return B.createElement(Ne,{clipPath:o?"url(#clipPath-".concat(a,")"):null},B.createElement(Bl,kc({},ge(p,!0),{points:r,connectNulls:h,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&B.createElement(Bl,kc({},ge(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:r})),u!=="none"&&f&&B.createElement(Bl,kc({},ge(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,h=a.animationDuration,f=a.animationEasing,p=a.animationId,m=this.state,g=m.prevPoints,y=m.prevBaseLine;return B.createElement(zi,{begin:u,duration:h,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t;if(g){var x=g.length/s.length,E=s.map(function(O,I){var M=Math.floor(I*x);if(g[M]){var R=g[M],N=Ft(R.x,O.x),L=Ft(R.y,O.y);return Ds(Ds({},O),{},{x:N(w),y:L(w)})}return O}),A;if(ee(l)&&typeof l=="number"){var S=Ft(y,l);A=S(w)}else if(Ae(l)||yp(l)){var _=Ft(y,0);A=_(w)}else A=l.map(function(O,I){var M=Math.floor(I*x);if(y[M]){var R=y[M],N=Ft(R.x,O.x),L=Ft(R.y,O.y);return Ds(Ds({},O),{},{x:N(w),y:L(w)})}return O});return o.renderAreaStatically(E,A,r,i)}return B.createElement(Ne,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(w))),B.createElement(Ne,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,h=c.prevBaseLine,f=c.totalLength;return l&&a&&a.length&&(!u&&f>0||!Ul(u,a)||!Ul(h,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,h=i.xAxis,f=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,w=s.length===1,x=Pe("recharts-area",l),E=h&&h.allowDataOverflow,A=f&&f.allowDataOverflow,S=E||A,_=Ae(y)?this.id:y,O=(r=ge(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=O.r,M=I===void 0?3:I,R=O.strokeWidth,N=R===void 0?2:R,L=Jj(a)?a:{},F=L.clipDot,z=F===void 0?!0:F,$=M*2+N;return B.createElement(Ne,{className:x},E||A?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(_)},B.createElement("rect",{x:E?u:u-p/2,y:A?c:c-m/2,width:E?p:p*2,height:A?m:m*2})),!z&&B.createElement("clipPath",{id:"clipPath-dots-".concat(_)},B.createElement("rect",{x:u-$/2,y:c-$/2,width:p+$,height:m+$}))):null,w?null:this.renderArea(S,_),(a||w)&&this.renderDots(S,z,_),(!g||v)&&go.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(P.PureComponent);u$=bs;ra(bs,"displayName","Area");ra(bs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ts.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ra(bs,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(ee(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return s==="dataMin"?h:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});ra(bs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,p=e.layout,m=c&&c.length,g=u$.getBaseValue(e,n,r,i),y=p==="horizontal",v=!1,w=h.map(function(E,A){var S;m?S=c[u+A]:(S=Mt(E,l),Array.isArray(S)?v=!0:S=[g,S]);var _=S[1]==null||m&&Mt(E,l)==null;return y?{x:$f({axis:r,ticks:o,bandSize:s,entry:E,index:A}),y:_?null:i.scale(S[1]),value:S,payload:E}:{x:_?null:r.scale(S[1]),y:$f({axis:i,ticks:a,bandSize:s,entry:E,index:A}),value:S,payload:E}}),x;return m||v?x=w.map(function(E){var A=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:A!=null&&E.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:E.y}}):x=y?i.scale(g):r.scale(g),Ds({points:w,baseLine:x,layout:p,isRange:v},f)});ra(bs,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=Pe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=h$(e,lde);n=B.createElement(Sv,kc({},o,{key:i,className:r}))}return n});function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g$(r.key),r)}}function bde(t,e,n){return e&&vde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xde(t,e,n){return e=f0(e),wde(t,p$()?Reflect.construct(e,n||[],f0(t).constructor):e.apply(t,n))}function wde(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ade(t)}function Ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function Sde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AE(t,e)}function m$(t,e,n){return e=g$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g$(t){var e=Ede(t,"string");return Zf(e)=="symbol"?e:e+""}function Ede(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jw=function(t){function e(){return yde(this,e),xde(this,e,arguments)}return Sde(e,t),bde(e,[{key:"render",value:function(){return null}}])}(P.Component);m$(Jw,"displayName","ZAxis");m$(Jw,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Cde=["option","isActive"];function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function _de(t,e){if(t==null)return{};var n=Pde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tde(t){var e=t.option,n=t.isActive,r=_de(t,Cde);return typeof e=="string"?P.createElement(Qx,jm({option:P.createElement(_w,jm({type:e},r)),isActive:n,shapeType:"symbols"},r)):P.createElement(Qx,jm({option:e,isActive:n,shapeType:"symbols"},r))}function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(this,arguments)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){$l(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v$(r.key),r)}}function Ode(t,e,n){return e&&KR(t.prototype,e),n&&KR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mde(t,e,n){return e=p0(e),Rde(t,y$()?Reflect.construct(e,n||[],p0(t).constructor):e.apply(t,n))}function Rde(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ide(t)}function Ide(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p0(t)}function Nde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SE(t,e)}function SE(t,e){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SE(t,e)}function $l(t,e,n){return e=v$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=jde(t,"string");return Qf(e)=="symbol"?e:e+""}function jde(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zw=function(t){function e(){var n;kde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Mde(this,e,[].concat(i)),$l(n,"state",{isAnimationFinished:!1}),$l(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),$l(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),$l(n,"id",Jl("recharts-scatter-")),n}return Nde(e,t),Ode(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.activeShape,l=o.activeIndex,c=ge(this.props,!1);return r.map(function(u,h){var f=l===h,p=f?s:a,m=wi(wi({},c),u);return B.createElement(Ne,Dm({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(h)},zl(i.props,u,h),{role:"img"}),B.createElement(Tde,Dm({option:p,isActive:f,key:"symbol-".concat(h)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,h=this.state.prevPoints;return B.createElement(zi,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,m=o.map(function(g,y){var v=h&&h[y];if(v){var w=Ft(v.cx,g.cx),x=Ft(v.cy,g.cy),E=Ft(v.size,g.size);return wi(wi({},g),{},{cx:w(p),cy:x(p),size:E(p)})}var A=Ft(0,g.size);return wi(wi({},g),{},{size:A(p)})});return B.createElement(Ne,null,r.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!Ul(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,l=i.children,c=gr(l,Ep);return c?c.map(function(u,h){var f=u.props,p=f.direction,m=f.dataKey;return B.cloneElement(u,{key:"".concat(p,"-").concat(m,"-").concat(o[h]),data:o,xAxis:a,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(y,v){return{x:y.cx,y:y.cy,value:p==="x"?+y.node.x:+y.node.y,errorVal:Mt(y,v)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,s=r.lineJointType,l=ge(this.props,!1),c=ge(o,!1),u,h;if(a==="joint")u=i.map(function(x){return{x:x.cx,y:x.cy}});else if(a==="fitting"){var f=g6(i),p=f.xmin,m=f.xmax,g=f.a,y=f.b,v=function(E){return g*E+y};u=[{x:p,y:v(p)},{x:m,y:v(m)}]}var w=wi(wi(wi({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return B.isValidElement(o)?h=B.cloneElement(o,w):Se(o)?h=o(w):h=B.createElement(Bl,Dm({},w,{type:s})),B.createElement(Ne,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,s=r.className,l=r.xAxis,c=r.yAxis,u=r.left,h=r.top,f=r.width,p=r.height,m=r.id,g=r.isAnimationActive;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,v=Pe("recharts-scatter",s),w=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,E=w||x,A=Ae(m)?this.id:m;return B.createElement(Ne,{className:v,clipPath:E?"url(#clipPath-".concat(A,")"):null},w||x?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(A)},B.createElement("rect",{x:w?u:u-f/2,y:x?h:h-p/2,width:w?f:f*2,height:x?p:p*2}))):null,a&&this.renderLine(),this.renderErrorBar(),B.createElement(Ne,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!g||y)&&go.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(P.PureComponent);$l(Zw,"displayName","Scatter");$l(Zw,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ts.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});$l(Zw,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,c=i.props.tooltipType,u=gr(i.props.children,vv),h=Ae(e.dataKey)?i.props.dataKey:e.dataKey,f=Ae(n.dataKey)?i.props.dataKey:n.dataKey,p=r&&r.dataKey,m=r?r.range:Jw.defaultProps.range,g=m&&m[0],y=e.scale.bandwidth?e.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0,w=o.map(function(x,E){var A=Mt(x,h),S=Mt(x,f),_=!Ae(p)&&Mt(x,p)||"-",O=[{name:Ae(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:A,payload:x,dataKey:h,type:c},{name:Ae(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:S,payload:x,dataKey:f,type:c}];_!=="-"&&O.push({name:r.name||r.dataKey,unit:r.unit||"",value:_,payload:x,dataKey:p,type:c});var I=$f({axis:e,ticks:a,bandSize:y,entry:x,index:E,dataKey:h}),M=$f({axis:n,ticks:s,bandSize:v,entry:x,index:E,dataKey:f}),R=_!=="-"?r.scale(_):g,N=Math.sqrt(Math.max(R,0)/Math.PI);return wi(wi({},x),{},{cx:I,cy:M,x:I-N,y:M-N,xAxis:e,yAxis:n,zAxis:r,width:2*N,height:2*N,size:R,node:{x:A,y:S,z:_},tooltipPayload:O,tooltipPosition:{x:I,y:M},payload:x},u&&u[E]&&u[E].props)});return wi({points:w},l)});function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w$(r.key),r)}}function $de(t,e,n){return e&&Lde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fde(t,e,n){return e=m0(e),Bde(t,b$()?Reflect.construct(e,n||[],m0(t).constructor):e.apply(t,n))}function Bde(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zde(t)}function zde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m0(t)}function Ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EE(t,e)}function x$(t,e,n){return e=w$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$(t){var e=Hde(t,"string");return ep(e)=="symbol"?e:e+""}function Hde(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(this,arguments)}function Vde(t){var e=t.xAxisId,n=$P(),r=FP(),i=YL(e);return i==null?null:P.createElement(Cp,CE({},i,{className:Pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return ss(a,!0)}}))}var pi=function(t){function e(){return Dde(this,e),Fde(this,e,arguments)}return Ude(e,t),$de(e,[{key:"render",value:function(){return P.createElement(Vde,this.props)}}])}(P.Component);x$(pi,"displayName","XAxis");x$(pi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function Wde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E$(r.key),r)}}function qde(t,e,n){return e&&Gde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kde(t,e,n){return e=g0(e),Xde(t,A$()?Reflect.construct(e,n||[],g0(t).constructor):e.apply(t,n))}function Xde(t,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yde(t)}function Yde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!t})()}function g0(t){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g0(t)}function Jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_E(t,e)}function S$(t,e,n){return e=E$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=Zde(t,"string");return tp(e)=="symbol"?e:e+""}function Zde(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PE.apply(this,arguments)}var Qde=function(e){var n=e.yAxisId,r=$P(),i=FP(),o=JL(n);return o==null?null:P.createElement(Cp,PE({},o,{className:Pe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ss(s,!0)}}))},Ir=function(t){function e(){return Wde(this,e),Kde(this,e,arguments)}return Jde(e,t),qde(e,[{key:"render",value:function(){return P.createElement(Qde,this.props)}}])}(P.Component);S$(Ir,"displayName","YAxis");S$(Ir,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XR(t){return rfe(t)||nfe(t)||tfe(t)||efe()}function efe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tfe(t,e){if(t){if(typeof t=="string")return TE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TE(t,e)}}function nfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rfe(t){if(Array.isArray(t))return TE(t)}function TE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kE=function(e,n,r,i,o){var a=gr(e,qw),s=gr(e,Ev),l=[].concat(XR(a),XR(s)),c=gr(e,Yw),u="".concat(i,"Id"),h=i[0],f=n;if(l.length&&(f=l.reduce(function(g,y){if(y.props[u]===r&&aa(y.props,"extendDomain")&&ee(y.props[h])){var v=y.props[h];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},f)),c.length){var p="".concat(h,"1"),m="".concat(h,"2");f=c.reduce(function(g,y){if(y.props[u]===r&&aa(y.props,"extendDomain")&&ee(y.props[p])&&ee(y.props[m])){var v=y.props[p],w=y.props[m];return[Math.min(g[0],v,w),Math.max(g[1],v,w)]}return g},f)}return o&&o.length&&(f=o.reduce(function(g,y){return ee(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},f)),f},C$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},s.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},s.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,w,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(x=1,w=new Array(v-1);x<v;x++)w[x-1]=arguments[x];y.fn.apply(y.context,w)}else{var E=y.length,A;for(x=0;x<E;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),v){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,h);break;case 4:y[x].fn.call(y[x].context,u,h,f);break;default:if(!w)for(A=1,w=new Array(v-1);A<v;A++)w[A-1]=arguments[A];y[x].fn.apply(y[x].context,w)}}return!0},s.prototype.on=function(c,u,h){return o(this,c,u,h,!1)},s.prototype.once=function(c,u,h){return o(this,c,u,h,!0)},s.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&a(this,p);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(C$);var ife=C$.exports;const ofe=et(ife);var lA=new ofe,cA="recharts.syncMouseEvents";function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function afe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_$(r.key),r)}}function lfe(t,e,n){return e&&sfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uA(t,e,n){return e=_$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _$(t){var e=cfe(t,"string");return xg(e)=="symbol"?e:e+""}function cfe(t,e){if(xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ufe=function(){function t(){afe(this,t),uA(this,"activeIndex",0),uA(this,"coordinateList",[]),uA(this,"layout","horizontal")}return lfe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,h=u===void 0?null:u,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+l+c,f=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function hfe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function dfe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function P$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ct(e,n,r,i),s=Ct(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function ffe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,h=e.angle,f=Ct(s,l,c,h),p=Ct(s,l,u,h);r=f.x,i=f.y,o=p.x,a=p.y}else return P$(e);return[{x:r,y:i},{x:o,y:a}]}function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return e=mfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=gfe(t,"string");return wg(e)=="symbol"?e:e+""}function gfe(t,e){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yfe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||f!=="ScatterChart"&&i!=="axis")return null;var m,g=Bl;if(f==="ScatterChart")m=a,g=ase;else if(f==="BarChart")m=dfe(h,a,l,u),g=IP;else if(h==="radial"){var y=P$(a),v=y.cx,w=y.cy,x=y.radius,E=y.startAngle,A=y.endAngle;m={cx:v,cy:w,startAngle:E,endAngle:A,innerRadius:x,outerRadius:x},g=gL}else m={points:ffe(h,a,l)},g=Bl;var S=nb(nb(nb(nb({stroke:"#ccc",pointerEvents:"none"},l),m),ge(p,!1)),{},{payload:s,payloadIndex:c,className:Pe("recharts-tooltip-cursor",p.className)});return P.isValidElement(p)?P.cloneElement(p,S):P.createElement(g,S)}var vfe=["item"],bfe=["children","className","width","height","style","compact","title","desc"];function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function JR(t,e){return Afe(t)||wfe(t,e)||k$(t,e)||xfe()}function xfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Afe(t){if(Array.isArray(t))return t}function ZR(t,e){if(t==null)return{};var n=Sfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Efe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O$(r.key),r)}}function _fe(t,e,n){return e&&Cfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pfe(t,e,n){return e=y0(e),Tfe(t,T$()?Reflect.construct(e,n||[],y0(t).constructor):e.apply(t,n))}function Tfe(t,e){if(e&&(np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kfe(t)}function kfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y0(t)}function Ofe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OE(t,e)}function rp(t){return Ife(t)||Rfe(t)||k$(t)||Mfe()}function Mfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k$(t,e){if(t){if(typeof t=="string")return ME(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ME(t,e)}}function Rfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ife(t){if(Array.isArray(t))return ME(t)}function ME(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _e(t,e,n){return e=O$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O$(t){var e=Nfe(t,"string");return np(e)=="symbol"?e:e+""}function Nfe(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jfe={xAxis:["bottom","top"],yAxis:["left","right"]},Dfe={width:"100%",height:"100%"},M$={x:0,y:0};function rb(t){return t}var Lfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$fe=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return K(K(K({},i),Ct(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return K(K(K({},i),Ct(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return M$},Qw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(rp(s),rp(c)):s},[]);return a.length>0?a:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function R$(t){return t==="number"?[0,"auto"]:void 0}var RE=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Qw(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,h=(u=c.props.data)!==null&&u!==void 0?u:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var p=h===void 0?s:h;f=fx(p,a.dataKey,i)}else f=h&&h[r]||s[r];return f?[].concat(rp(l),[uL(c,f)]):l},[])},eI=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Lfe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=_re(a,s,c,l);if(u>=0&&c){var h=c[u]&&c[u].value,f=RE(e,n,u,h),p=$fe(r,s,u,o);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},Ffe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,h=e.children,f=e.stackOffset,p=iL(u,o);return r.reduce(function(m,g){var y,v=g.type.defaultProps!==void 0?K(K({},g.type.defaultProps),g.props):g.props,w=v.type,x=v.dataKey,E=v.allowDataOverflow,A=v.allowDuplicatedCategory,S=v.scale,_=v.ticks,O=v.includeHidden,I=v[a];if(m[I])return m;var M=Qw(e.data,{graphicalItems:i.filter(function(q){var D,le=a in q.props?q.props[a]:(D=q.type.defaultProps)===null||D===void 0?void 0:D[a];return le===I}),dataStartIndex:l,dataEndIndex:c}),R=M.length,N,L,F;hfe(v.domain,E,w)&&(N=HS(v.domain,null,E),p&&(w==="number"||S!=="auto")&&(F=Om(M,x,"category")));var z=R$(w);if(!N||N.length===0){var $,U=($=v.domain)!==null&&$!==void 0?$:z;if(x){if(N=Om(M,x,w),w==="category"&&p){var H=m6(N);A&&H?(L=N,N=t0(0,R)):A||(N=wM(U,N,g).reduce(function(q,D){return q.indexOf(D)>=0?q:[].concat(rp(q),[D])},[]))}else if(w==="category")A?N=N.filter(function(q){return q!==""&&!Ae(q)}):N=wM(U,N,g).reduce(function(q,D){return q.indexOf(D)>=0||D===""||Ae(D)?q:[].concat(rp(q),[D])},[]);else if(w==="number"){var W=Mre(M,i.filter(function(q){var D,le,ve=a in q.props?q.props[a]:(D=q.type.defaultProps)===null||D===void 0?void 0:D[a],ye="hide"in q.props?q.props.hide:(le=q.type.defaultProps)===null||le===void 0?void 0:le.hide;return ve===I&&(O||!ye)}),x,o,u);W&&(N=W)}p&&(w==="number"||S!=="auto")&&(F=Om(M,x,"category"))}else p?N=t0(0,R):s&&s[I]&&s[I].hasStack&&w==="number"?N=f==="expand"?[0,1]:cL(s[I].stackGroups,l,c):N=rL(M,i.filter(function(q){var D=a in q.props?q.props[a]:q.type.defaultProps[a],le="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return D===I&&(O||!le)}),w,u,!0);if(w==="number")N=kE(h,N,I,o,_),U&&(N=HS(U,N,E));else if(w==="category"&&U){var j=U,X=N.every(function(q){return j.indexOf(q)>=0});X&&(N=j)}}return K(K({},m),{},_e({},I,K(K({},v),{},{axisType:o,domain:N,categoricalDomain:F,duplicateDomain:L,originalDomain:(y=v.domain)!==null&&y!==void 0?y:z,isCategorical:p,layout:u})))},{})},Bfe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,h=e.children,f=Qw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=f.length,m=iL(u,o),g=-1;return r.reduce(function(y,v){var w=v.type.defaultProps!==void 0?K(K({},v.type.defaultProps),v.props):v.props,x=w[a],E=R$("number");if(!y[x]){g++;var A;return m?A=t0(0,p):s&&s[x]&&s[x].hasStack?(A=cL(s[x].stackGroups,l,c),A=kE(h,A,x,o)):(A=HS(E,rL(f,r.filter(function(S){var _,O,I=a in S.props?S.props[a]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[a],M="hide"in S.props?S.props.hide:(O=S.type.defaultProps)===null||O===void 0?void 0:O.hide;return I===x&&!M}),"number",u),i.defaultProps.allowDataOverflow),A=kE(h,A,x,o)),K(K({},y),{},_e({},x,K(K({axisType:o},i.defaultProps),{},{hide:!0,orientation:ui(jfe,"".concat(o,".").concat(g%2),null),domain:A,originalDomain:E,isCategorical:m,layout:u})))}return y},{})},zfe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,h="".concat(i,"Id"),f=gr(u,o),p={};return f&&f.length?p=Ffe(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(p=Bfe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},Ufe=function(e){var n=Bs(e),r=ss(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:zx(n,r)}},tI=function(e){var n=e.children,r=e.defaultShowTooltip,i=oi(n,Vf),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Hfe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ls(n&&n.type);return r&&r.indexOf("Bar")>=0})},nI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vfe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,h=r.children,f=r.margin||{},p=oi(h,Vf),m=oi(h,yr),g=Object.keys(l).reduce(function(A,S){var _=l[S],O=_.orientation;return!_.mirror&&!_.hide?K(K({},A),{},_e({},O,A[O]+_.width)):A},{left:f.left||0,right:f.right||0}),y=Object.keys(a).reduce(function(A,S){var _=a[S],O=_.orientation;return!_.mirror&&!_.hide?K(K({},A),{},_e({},O,ui(A,"".concat(O))+_.height)):A},{top:f.top||0,bottom:f.bottom||0}),v=K(K({},y),g),w=v.bottom;p&&(v.bottom+=p.props.height||Vf.defaultProps.height),m&&n&&(v=kre(v,i,r,n));var x=c-v.left-v.right,E=u-v.top-v.bottom;return K(K({brushBottom:w},v),{},{width:Math.max(x,0),height:Math.max(E,0)})},Wfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},e1=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,f=function(v,w){var x=w.graphicalItems,E=w.stackGroups,A=w.offset,S=w.updateId,_=w.dataStartIndex,O=w.dataEndIndex,I=v.barSize,M=v.layout,R=v.barGap,N=v.barCategoryGap,L=v.maxBarSize,F=nI(M),z=F.numericAxisName,$=F.cateAxisName,U=Hfe(x),H=[];return x.forEach(function(W,j){var X=Qw(v.data,{graphicalItems:[W],dataStartIndex:_,dataEndIndex:O}),q=W.type.defaultProps!==void 0?K(K({},W.type.defaultProps),W.props):W.props,D=q.dataKey,le=q.maxBarSize,ve=q["".concat(z,"Id")],ye=q["".concat($,"Id")],ie={},pe=l.reduce(function(tt,Gi){var ic=w["".concat(Gi.axisType,"Map")],hh=q["".concat(Gi.axisType,"Id")];ic&&ic[hh]||Gi.axisType==="zAxis"||Ge(!1);var dh=ic[hh];return K(K({},tt),{},_e(_e({},Gi.axisType,dh),"".concat(Gi.axisType,"Ticks"),ss(dh)))},ie),J=pe[$],Z=pe["".concat($,"Ticks")],re=E&&E[ve]&&E[ve].hasStack&&Bre(W,E[ve].stackGroups),V=ls(W.type).indexOf("Bar")>=0,te=zx(J,Z),ae=[],xe=U&&Pre({barSize:I,stackGroups:E,totalSize:Wfe(pe,$)});if(V){var be,Be,Ut=Ae(le)?L:le,Ht=(be=(Be=zx(J,Z,!0))!==null&&Be!==void 0?Be:Ut)!==null&&be!==void 0?be:0;ae=Tre({barGap:R,barCategoryGap:N,bandSize:Ht!==te?Ht:te,sizeList:xe[ye],maxBarSize:Ut}),Ht!==te&&(ae=ae.map(function(tt){return K(K({},tt),{},{position:K(K({},tt.position),{},{offset:tt.position.offset-Ht/2})})}))}var In=W&&W.type&&W.type.getComposedData;In&&H.push({props:K(K({},In(K(K({},pe),{},{displayedData:X,props:v,dataKey:D,item:W,bandSize:te,barPosition:ae,offset:A,stackedData:re,layout:M,dataStartIndex:_,dataEndIndex:O}))),{},_e(_e(_e({key:W.key||"item-".concat(j)},z,pe[z]),$,pe[$]),"animationId",S)),childIndex:T6(W,v.children),item:W})}),H},p=function(v,w){var x=v.props,E=v.dataStartIndex,A=v.dataEndIndex,S=v.updateId;if(!mk({props:x}))return null;var _=x.children,O=x.layout,I=x.stackOffset,M=x.data,R=x.reverseStackOrder,N=nI(O),L=N.numericAxisName,F=N.cateAxisName,z=gr(_,r),$=$re(M,z,"".concat(L,"Id"),"".concat(F,"Id"),I,R),U=l.reduce(function(q,D){var le="".concat(D.axisType,"Map");return K(K({},q),{},_e({},le,zfe(x,K(K({},D),{},{graphicalItems:z,stackGroups:D.axisType===L&&$,dataStartIndex:E,dataEndIndex:A}))))},{}),H=Vfe(K(K({},U),{},{props:x,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(U).forEach(function(q){U[q]=u(x,U[q],H,q.replace("Map",""),n)});var W=U["".concat(F,"Map")],j=Ufe(W),X=f(x,K(K({},U),{},{dataStartIndex:E,dataEndIndex:A,updateId:S,graphicalItems:z,stackGroups:$,offset:H}));return K(K({formattedGraphicalItems:X,graphicalItems:z,offset:H,stackGroups:$},j),U)},m=function(y){function v(w){var x,E,A;return Efe(this,v),A=Pfe(this,v,[w]),_e(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_e(A,"accessibilityManager",new ufe),_e(A,"handleLegendBBoxUpdate",function(S){if(S){var _=A.state,O=_.dataStartIndex,I=_.dataEndIndex,M=_.updateId;A.setState(K({legendBBox:S},p({props:A.props,dataStartIndex:O,dataEndIndex:I,updateId:M},K(K({},A.state),{},{legendBBox:S}))))}}),_e(A,"handleReceiveSyncEvent",function(S,_,O){if(A.props.syncId===S){if(O===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(_)}}),_e(A,"handleBrushChange",function(S){var _=S.startIndex,O=S.endIndex;if(_!==A.state.dataStartIndex||O!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return K({dataStartIndex:_,dataEndIndex:O},p({props:A.props,dataStartIndex:_,dataEndIndex:O,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:_,dataEndIndex:O})}}),_e(A,"handleMouseEnter",function(S){var _=A.getMouseInfo(S);if(_){var O=K(K({},_),{},{isTooltipActive:!0});A.setState(O),A.triggerSyncEvent(O);var I=A.props.onMouseEnter;Se(I)&&I(O,S)}}),_e(A,"triggeredAfterMouseMove",function(S){var _=A.getMouseInfo(S),O=_?K(K({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(O),A.triggerSyncEvent(O);var I=A.props.onMouseMove;Se(I)&&I(O,S)}),_e(A,"handleItemMouseEnter",function(S){A.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),_e(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),_e(A,"handleMouseMove",function(S){S.persist(),A.throttleTriggeredAfterMouseMove(S)}),_e(A,"handleMouseLeave",function(S){A.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};A.setState(_),A.triggerSyncEvent(_);var O=A.props.onMouseLeave;Se(O)&&O(_,S)}),_e(A,"handleOuterEvent",function(S){var _=P6(S),O=ui(A.props,"".concat(_));if(_&&Se(O)){var I,M;/.*touch.*/i.test(_)?M=A.getMouseInfo(S.changedTouches[0]):M=A.getMouseInfo(S),O((I=M)!==null&&I!==void 0?I:{},S)}}),_e(A,"handleClick",function(S){var _=A.getMouseInfo(S);if(_){var O=K(K({},_),{},{isTooltipActive:!0});A.setState(O),A.triggerSyncEvent(O);var I=A.props.onClick;Se(I)&&I(O,S)}}),_e(A,"handleMouseDown",function(S){var _=A.props.onMouseDown;if(Se(_)){var O=A.getMouseInfo(S);_(O,S)}}),_e(A,"handleMouseUp",function(S){var _=A.props.onMouseUp;if(Se(_)){var O=A.getMouseInfo(S);_(O,S)}}),_e(A,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),_e(A,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&A.handleMouseDown(S.changedTouches[0])}),_e(A,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&A.handleMouseUp(S.changedTouches[0])}),_e(A,"handleDoubleClick",function(S){var _=A.props.onDoubleClick;if(Se(_)){var O=A.getMouseInfo(S);_(O,S)}}),_e(A,"handleContextMenu",function(S){var _=A.props.onContextMenu;if(Se(_)){var O=A.getMouseInfo(S);_(O,S)}}),_e(A,"triggerSyncEvent",function(S){A.props.syncId!==void 0&&lA.emit(cA,A.props.syncId,S,A.eventEmitterSymbol)}),_e(A,"applySyncEvent",function(S){var _=A.props,O=_.layout,I=_.syncMethod,M=A.state.updateId,R=S.dataStartIndex,N=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)A.setState(K({dataStartIndex:R,dataEndIndex:N},p({props:A.props,dataStartIndex:R,dataEndIndex:N,updateId:M},A.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,F=S.chartY,z=S.activeTooltipIndex,$=A.state,U=$.offset,H=$.tooltipTicks;if(!U)return;if(typeof I=="function")z=I(H,S);else if(I==="value"){z=-1;for(var W=0;W<H.length;W++)if(H[W].value===S.activeLabel){z=W;break}}var j=K(K({},U),{},{x:U.left,y:U.top}),X=Math.min(L,j.x+j.width),q=Math.min(F,j.y+j.height),D=H[z]&&H[z].value,le=RE(A.state,A.props.data,z),ve=H[z]?{x:O==="horizontal"?H[z].coordinate:X,y:O==="horizontal"?q:H[z].coordinate}:M$;A.setState(K(K({},S),{},{activeLabel:D,activeCoordinate:ve,activePayload:le,activeTooltipIndex:z}))}else A.setState(S)}),_e(A,"renderCursor",function(S){var _,O=A.state,I=O.isTooltipActive,M=O.activeCoordinate,R=O.activePayload,N=O.offset,L=O.activeTooltipIndex,F=O.tooltipAxisBandSize,z=A.getTooltipEventType(),$=(_=S.props.active)!==null&&_!==void 0?_:I,U=A.props.layout,H=S.key||"_recharts-cursor";return B.createElement(yfe,{key:H,activeCoordinate:M,activePayload:R,activeTooltipIndex:L,chartName:n,element:S,isActive:$,layout:U,offset:N,tooltipAxisBandSize:F,tooltipEventType:z})}),_e(A,"renderPolarAxis",function(S,_,O){var I=ui(S,"type.axisType"),M=ui(A.state,"".concat(I,"Map")),R=S.type.defaultProps,N=R!==void 0?K(K({},R),S.props):S.props,L=M&&M[N["".concat(I,"Id")]];return P.cloneElement(S,K(K({},L),{},{className:Pe(I,L.className),key:S.key||"".concat(_,"-").concat(O),ticks:ss(L,!0)}))}),_e(A,"renderPolarGrid",function(S){var _=S.props,O=_.radialLines,I=_.polarAngles,M=_.polarRadius,R=A.state,N=R.radiusAxisMap,L=R.angleAxisMap,F=Bs(N),z=Bs(L),$=z.cx,U=z.cy,H=z.innerRadius,W=z.outerRadius;return P.cloneElement(S,{polarAngles:Array.isArray(I)?I:ss(z,!0).map(function(j){return j.coordinate}),polarRadius:Array.isArray(M)?M:ss(F,!0).map(function(j){return j.coordinate}),cx:$,cy:U,innerRadius:H,outerRadius:W,key:S.key||"polar-grid",radialLines:O})}),_e(A,"renderLegend",function(){var S=A.state.formattedGraphicalItems,_=A.props,O=_.children,I=_.width,M=_.height,R=A.props.margin||{},N=I-(R.left||0)-(R.right||0),L=tL({children:O,formattedGraphicalItems:S,legendWidth:N,legendContent:c});if(!L)return null;var F=L.item,z=ZR(L,vfe);return P.cloneElement(F,K(K({},z),{},{chartWidth:I,chartHeight:M,margin:R,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),_e(A,"renderTooltip",function(){var S,_=A.props,O=_.children,I=_.accessibilityLayer,M=oi(O,kn);if(!M)return null;var R=A.state,N=R.isTooltipActive,L=R.activeCoordinate,F=R.activePayload,z=R.activeLabel,$=R.offset,U=(S=M.props.active)!==null&&S!==void 0?S:N;return P.cloneElement(M,{viewBox:K(K({},$),{},{x:$.left,y:$.top}),active:U,label:z,payload:U?F:[],coordinate:L,accessibilityLayer:I})}),_e(A,"renderBrush",function(S){var _=A.props,O=_.margin,I=_.data,M=A.state,R=M.offset,N=M.dataStartIndex,L=M.dataEndIndex,F=M.updateId;return P.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Zv(A.handleBrushChange,S.props.onChange),data:I,x:ee(S.props.x)?S.props.x:R.left,y:ee(S.props.y)?S.props.y:R.top+R.height+R.brushBottom-(O.bottom||0),width:ee(S.props.width)?S.props.width:R.width,startIndex:N,endIndex:L,updateId:"brush-".concat(F)})}),_e(A,"renderReferenceElement",function(S,_,O){if(!S)return null;var I=A,M=I.clipPathId,R=A.state,N=R.xAxisMap,L=R.yAxisMap,F=R.offset,z=S.type.defaultProps||{},$=S.props,U=$.xAxisId,H=U===void 0?z.xAxisId:U,W=$.yAxisId,j=W===void 0?z.yAxisId:W;return P.cloneElement(S,{key:S.key||"".concat(_,"-").concat(O),xAxis:N[H],yAxis:L[j],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:M})}),_e(A,"renderActivePoints",function(S){var _=S.item,O=S.activePoint,I=S.basePoint,M=S.childIndex,R=S.isRange,N=[],L=_.props.key,F=_.item.type.defaultProps!==void 0?K(K({},_.item.type.defaultProps),_.item.props):_.item.props,z=F.activeDot,$=F.dataKey,U=K(K({index:M,dataKey:$,cx:O.x,cy:O.y,r:4,fill:RP(_.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},ge(z,!1)),px(z));return N.push(v.renderActiveDot(z,U,"".concat(L,"-activePoint-").concat(M))),I?N.push(v.renderActiveDot(z,K(K({},U),{},{cx:I.x,cy:I.y}),"".concat(L,"-basePoint-").concat(M))):R&&N.push(null),N}),_e(A,"renderGraphicChild",function(S,_,O){var I=A.filterFormatItem(S,_,O);if(!I)return null;var M=A.getTooltipEventType(),R=A.state,N=R.isTooltipActive,L=R.tooltipAxis,F=R.activeTooltipIndex,z=R.activeLabel,$=A.props.children,U=oi($,kn),H=I.props,W=H.points,j=H.isRange,X=H.baseLine,q=I.item.type.defaultProps!==void 0?K(K({},I.item.type.defaultProps),I.item.props):I.item.props,D=q.activeDot,le=q.hide,ve=q.activeBar,ye=q.activeShape,ie=!!(!le&&N&&U&&(D||ve||ye)),pe={};M!=="axis"&&U&&U.props.trigger==="click"?pe={onClick:Zv(A.handleItemMouseEnter,S.props.onClick)}:M!=="axis"&&(pe={onMouseLeave:Zv(A.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Zv(A.handleItemMouseEnter,S.props.onMouseEnter)});var J=P.cloneElement(S,K(K({},I.props),pe));function Z(Gi){return typeof L.dataKey=="function"?L.dataKey(Gi.payload):null}if(ie)if(F>=0){var re,V;if(L.dataKey&&!L.allowDuplicatedCategory){var te=typeof L.dataKey=="function"?Z:"payload.".concat(L.dataKey.toString());re=fx(W,te,z),V=j&&X&&fx(X,te,z)}else re=W==null?void 0:W[F],V=j&&X&&X[F];if(ye||ve){var ae=S.props.activeIndex!==void 0?S.props.activeIndex:F;return[P.cloneElement(S,K(K(K({},I.props),pe),{},{activeIndex:ae})),null,null]}if(!Ae(re))return[J].concat(rp(A.renderActivePoints({item:I,activePoint:re,basePoint:V,childIndex:F,isRange:j})))}else{var xe,be=(xe=A.getItemByXY(A.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:J},Be=be.graphicalItem,Ut=Be.item,Ht=Ut===void 0?S:Ut,In=Be.childIndex,tt=K(K(K({},I.props),pe),{},{activeIndex:In});return[P.cloneElement(Ht,tt),null,null]}return j?[J,null,null]:[J,null]}),_e(A,"renderCustomized",function(S,_,O){return P.cloneElement(S,K(K({key:"recharts-customized-".concat(O)},A.props),A.state))}),_e(A,"renderMap",{CartesianGrid:{handler:rb,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:rb},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:rb},YAxis:{handler:rb},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((x=w.id)!==null&&x!==void 0?x:Jl("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=eD(A.triggeredAfterMouseMove,(E=w.throttleDelay)!==null&&E!==void 0?E:1e3/60),A.state={},A}return Ofe(v,y),_fe(v,[{key:"componentDidMount",value:function(){var x,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,E=x.children,A=x.data,S=x.height,_=x.layout,O=oi(E,kn);if(O){var I=O.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,R=RE(this.state,A,I,M),N=this.state.tooltipTicks[I].coordinate,L=(this.state.offset.top+S)/2,F=_==="horizontal",z=F?{x:N,y:L}:{y:N,x:L},$=this.state.formattedGraphicalItems.find(function(H){var W=H.item;return W.type.name==="Scatter"});$&&(z=K(K({},z),$.props.points[I].tooltipPosition),R=$.props.points[I].tooltipPayload);var U={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:M,activePayload:R,activeCoordinate:z};this.setState(U),this.renderCursor(O),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var A,S;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){iS([oi(x.children,kn)],[oi(this.props.children,kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=oi(this.props.children,kn);if(x&&typeof x.props.shared=="boolean"){var E=x.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var E=this.container,A=E.getBoundingClientRect(),S=eQ(A),_={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},O=A.width/E.offsetWidth||1,I=this.inRange(_.chartX,_.chartY,O);if(!I)return null;var M=this.state,R=M.xAxisMap,N=M.yAxisMap,L=this.getTooltipEventType(),F=eI(this.state,this.props.data,this.props.layout,I);if(L!=="axis"&&R&&N){var z=Bs(R).scale,$=Bs(N).scale,U=z&&z.invert?z.invert(_.chartX):null,H=$&&$.invert?$.invert(_.chartY):null;return K(K({},_),{},{xValue:U,yValue:H},F)}return F?K(K({},_),F):null}},{key:"inRange",value:function(x,E){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=x/A,O=E/A;if(S==="horizontal"||S==="vertical"){var I=this.state.offset,M=_>=I.left&&_<=I.left+I.width&&O>=I.top&&O<=I.top+I.height;return M?{x:_,y:O}:null}var R=this.state,N=R.angleAxisMap,L=R.radiusAxisMap;if(N&&L){var F=Bs(N);return EM({x:_,y:O},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,E=this.getTooltipEventType(),A=oi(x,kn),S={};A&&E==="axis"&&(A.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=px(this.props,this.handleOuterEvent);return K(K({},_),S)}},{key:"addListener",value:function(){lA.on(cA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){lA.removeListener(cA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,E,A){for(var S=this.state.formattedGraphicalItems,_=0,O=S.length;_<O;_++){var I=S[_];if(I.item===x||I.props.key===x.key||E===ls(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,E=this.state.offset,A=E.left,S=E.top,_=E.height,O=E.width;return B.createElement("defs",null,B.createElement("clipPath",{id:x},B.createElement("rect",{x:A,y:S,height:_,width:O})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(E,A){var S=JR(A,2),_=S[0],O=S[1];return K(K({},E),{},_e({},_,O.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(E,A){var S=JR(A,2),_=S[0],O=S[1];return K(K({},E),{},_e({},_,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[x])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(x){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[x])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(x){var E=this.state,A=E.formattedGraphicalItems,S=E.activeItem;if(A&&A.length)for(var _=0,O=A.length;_<O;_++){var I=A[_],M=I.props,R=I.item,N=R.type.defaultProps!==void 0?K(K({},R.type.defaultProps),R.props):R.props,L=ls(R.type);if(L==="Bar"){var F=(M.data||[]).find(function(H){return Bae(x,H)});if(F)return{graphicalItem:I,payload:F}}else if(L==="RadialBar"){var z=(M.data||[]).find(function(H){return EM(x,H)});if(z)return{graphicalItem:I,payload:z}}else if(Vw(I,S)||Ww(I,S)||mg(I,S)){var $=Tle({graphicalItem:I,activeTooltipItem:S,itemData:N.data}),U=N.activeIndex===void 0?$:N.activeIndex;return{graphicalItem:K(K({},I),{},{childIndex:U}),payload:mg(I,S)?N.data[$]:I.props.data[$]}}}return null}},{key:"render",value:function(){var x=this;if(!mk(this))return null;var E=this.props,A=E.children,S=E.className,_=E.width,O=E.height,I=E.style,M=E.compact,R=E.title,N=E.desc,L=ZR(E,bfe),F=ge(L,!1);if(M)return B.createElement(kR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(aS,Bh({},F,{width:_,height:O,title:R,desc:N}),this.renderClipPath(),yk(A,this.renderMap)));if(this.props.accessibilityLayer){var z,$;F.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,F.role=($=this.props.role)!==null&&$!==void 0?$:"application",F.onKeyDown=function(H){x.accessibilityManager.keyboardEvent(H)},F.onFocus=function(){x.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return B.createElement(kR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",Bh({className:Pe("recharts-wrapper",S),style:K({position:"relative",cursor:"default",width:_,height:O},I)},U,{ref:function(W){x.container=W}}),B.createElement(aS,Bh({},F,{width:_,height:O,title:R,desc:N,style:Dfe}),this.renderClipPath(),yk(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);_e(m,"displayName",n),_e(m,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),_e(m,"getDerivedStateFromProps",function(y,v){var w=y.dataKey,x=y.data,E=y.children,A=y.width,S=y.height,_=y.layout,O=y.stackOffset,I=y.margin,M=v.dataStartIndex,R=v.dataEndIndex;if(v.updateId===void 0){var N=tI(y);return K(K(K({},N),{},{updateId:0},p(K(K({props:y},N),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:x,prevWidth:A,prevHeight:S,prevLayout:_,prevStackOffset:O,prevMargin:I,prevChildren:E})}if(w!==v.prevDataKey||x!==v.prevData||A!==v.prevWidth||S!==v.prevHeight||_!==v.prevLayout||O!==v.prevStackOffset||!qh(I,v.prevMargin)){var L=tI(y),F={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},z=K(K({},eI(v,x,_)),{},{updateId:v.updateId+1}),$=K(K(K({},L),F),z);return K(K(K({},$),p(K({props:y},$),v)),{},{prevDataKey:w,prevData:x,prevWidth:A,prevHeight:S,prevLayout:_,prevStackOffset:O,prevMargin:I,prevChildren:E})}if(!iS(E,v.prevChildren)){var U,H,W,j,X=oi(E,Vf),q=X&&(U=(H=X.props)===null||H===void 0?void 0:H.startIndex)!==null&&U!==void 0?U:M,D=X&&(W=(j=X.props)===null||j===void 0?void 0:j.endIndex)!==null&&W!==void 0?W:R,le=q!==M||D!==R,ve=!Ae(x),ye=ve&&!le?v.updateId:v.updateId+1;return K(K({updateId:ye},p(K(K({props:y},v),{},{updateId:ye,dataStartIndex:q,dataEndIndex:D}),v)),{},{prevChildren:E,dataStartIndex:q,dataEndIndex:D})}return null}),_e(m,"renderActiveDot",function(y,v,w){var x;return P.isValidElement(y)?x=P.cloneElement(y,v):Se(y)?x=y(v):x=B.createElement(Sv,v),B.createElement(Ne,{className:"recharts-active-dot",key:w},x)});var g=P.forwardRef(function(v,w){return B.createElement(m,Bh({},v,{ref:w}))});return g.displayName=m.displayName,g},HP=e1({chartName:"LineChart",GraphicalChild:Hi,axisComponents:[{axisType:"xAxis",AxisComp:pi},{axisType:"yAxis",AxisComp:Ir}],formatAxisMap:NP}),VP=e1({chartName:"BarChart",GraphicalChild:Ui,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pi},{axisType:"yAxis",AxisComp:Ir}],formatAxisMap:NP}),Gfe=e1({chartName:"PieChart",GraphicalChild:Os,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Hw},{axisType:"radiusAxis",AxisComp:zw}],formatAxisMap:Yre,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),I$=e1({chartName:"ComposedChart",GraphicalChild:[Hi,bs,Ui,Zw],axisComponents:[{axisType:"xAxis",AxisComp:pi},{axisType:"yAxis",AxisComp:Ir},{axisType:"zAxis",AxisComp:Jw}],formatAxisMap:NP});const qfe=["#2F7FD9","#EC3115","#2666B1","#B59D81"];function hA({title:t,data:e,xKey:n,yKeys:r,colors:i=qfe,format:o="number",isLoading:a=!1,anomalies:s=[],showAnomalies:l=!0}){const c=P.useMemo(()=>{if(!e||e.length===0)return[0,100];const f=e.flatMap(w=>r.map(x=>Number(w[x])||0)),p=Math.min(...f),m=Math.max(...f),g=(m-p)*.1,y=Math.max(0,Math.floor(p-g)),v=Math.ceil(m+g);return[y,v]},[e,r]),u=f=>o==="currency"?f>=1e6?`$${(f/1e6).toFixed(1)}M`:f>=1e3?`$${(f/1e3).toFixed(0)}K`:ps(f):f>=1e6?`${(f/1e6).toFixed(1)}M`:f>=1e3?`${(f/1e3).toFixed(0)}K`:fs(f),h=f=>{const p=Number(f);return o==="currency"?ps(p):fs(p)};return b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{children:t})}),b.jsxs(en,{children:[a?b.jsx("div",{className:"flex items-center justify-center h-[300px]",children:b.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):b.jsx(cs,{width:"100%",height:300,children:b.jsxs(HP,{data:e,children:[b.jsx(vs,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(pi,{dataKey:n,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"}}),b.jsx(Ir,{domain:c,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:u}),b.jsx(kn,{formatter:f=>h(f),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),b.jsx(yr,{}),r.map((f,p)=>b.jsx(Hi,{type:"monotone",dataKey:f,stroke:i[p%i.length],strokeWidth:2,dot:!1,activeDot:{r:4}},f)),l&&s&&s.length>0&&b.jsx(b.Fragment,{children:s.map((f,p)=>{if(!e[f.index])return null;const m=f.severity==="high"?"#ef4444":f.severity==="medium"?"#f59e0b":"#eab308";return b.jsx(Ev,{x:e[f.index][n],y:f.value,r:8,fill:m,stroke:"white",strokeWidth:2,opacity:.8,label:{value:"!",fill:"white",fontSize:12,fontWeight:"bold"}},`anomaly-${p}`)})})]})}),l&&s&&s.length>0&&!a&&b.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:b.jsxs("div",{className:"flex items-start gap-2",children:[b.jsx(D4,{className:"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0"}),b.jsxs("div",{className:"text-sm",children:[b.jsxs("p",{className:"font-semibold text-amber-900 mb-2",children:[s.length," Anomal",s.length===1?"y":"ies"," Detected"]}),b.jsxs("div",{className:"space-y-1 text-amber-800",children:[s.slice(0,3).map((f,p)=>{var m;return b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:f.severity==="high"?"#ef4444":f.severity==="medium"?"#f59e0b":"#eab308"}}),b.jsxs("span",{className:"text-xs",children:[(m=e[f.index])==null?void 0:m[n],": ",f.reason]})]},p)}),s.length>3&&b.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:["+",s.length-3," more anomalies"]})]})]})]})})]})]})}const Kfe=["#2F7FD9","#EC3115","#2666B1","#B59D81"];function Jp({title:t,data:e,xKey:n,yKeys:r,colors:i=Kfe,format:o="number",isLoading:a=!1}){const s=P.useMemo(()=>{if(!e||e.length===0)return[0,100];const u=e.flatMap(y=>r.map(v=>Number(y[v])||0)),h=Math.min(...u),f=Math.max(...u),p=(f-h)*.1,m=Math.max(0,Math.floor(h-p)),g=Math.ceil(f+p);return[m,g]},[e,r]),l=u=>o==="currency"?u>=1e6?`$${(u/1e6).toFixed(1)}M`:u>=1e3?`$${(u/1e3).toFixed(0)}K`:ps(u):u>=1e6?`${(u/1e6).toFixed(1)}M`:u>=1e3?`${(u/1e3).toFixed(0)}K`:fs(u),c=u=>{const h=Number(u);return o==="currency"?ps(h):fs(h)};return b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{children:t})}),b.jsx(en,{children:a?b.jsx("div",{className:"flex items-center justify-center h-[300px]",children:b.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):b.jsx(cs,{width:"100%",height:300,children:b.jsxs(VP,{data:e,children:[b.jsx(vs,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(pi,{dataKey:n,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"}}),b.jsx(Ir,{domain:s,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:l}),b.jsx(kn,{formatter:u=>c(u),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),b.jsx(yr,{}),r.map((u,h)=>b.jsx(Ui,{dataKey:u,fill:i[h%i.length],radius:[4,4,0,0]},u))]})})})]})}function dA({title:t,description:e,data:n,xKey:r,leftYAxis:i,rightYAxis:o,isLoading:a=!1}){const s=P.useMemo(()=>{if(!n||n.length===0)return[0,100];const h=n.map(g=>Number(g[i.key])||0),f=Math.min(...h),p=Math.max(...h),m=(p-f)*.1;return[Math.max(0,Math.floor(f-m)),Math.ceil(p+m)]},[n,i.key]),l=P.useMemo(()=>{if(!n||n.length===0)return[0,100];const h=n.map(g=>Number(g[o.key])||0),f=Math.min(...h),p=Math.max(...h),m=(p-f)*.1;return[Math.max(0,Math.floor(f-m)),Math.ceil(p+m)]},[n,o.key]),c=(h,f)=>f==="currency"?h>=1e6?`$${(h/1e6).toFixed(1)}M`:h>=1e3?`$${(h/1e3).toFixed(0)}K`:ps(h):f==="percent"?`${h.toFixed(1)}%`:h>=1e6?`${(h/1e6).toFixed(1)}M`:h>=1e3?`${(h/1e3).toFixed(0)}K`:fs(h),u=(h,f)=>{const p=Number(h);return f==="currency"?ps(p):f==="percent"?`${p.toFixed(2)}%`:fs(p)};return b.jsxs(Qt,{children:[b.jsxs(sn,{children:[b.jsx(ln,{children:t}),e&&b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e})]}),b.jsx(en,{children:a?b.jsx("div",{className:"flex items-center justify-center h-[400px]",children:b.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):b.jsx(cs,{width:"100%",height:400,children:b.jsxs(I$,{data:n,children:[b.jsx(vs,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(pi,{dataKey:r,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"}}),b.jsx(Ir,{yAxisId:"left",domain:s,tick:{fill:i.color,fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:h=>c(h,i.format),label:{value:i.label,angle:-90,position:"insideLeft",style:{fill:i.color,fontSize:12}}}),b.jsx(Ir,{yAxisId:"right",orientation:"right",domain:l,tick:{fill:o.color,fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:h=>c(h,o.format),label:{value:o.label,angle:90,position:"insideRight",style:{fill:o.color,fontSize:12}}}),b.jsx(kn,{formatter:(h,f)=>{const p=f===i.key?i:o;return[u(h,p.format),p.label]},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),b.jsx(yr,{}),(i.type||"bar")==="bar"?b.jsx(Ui,{yAxisId:"left",dataKey:i.key,fill:i.color,name:i.label,radius:[4,4,0,0]}):b.jsx(Hi,{yAxisId:"left",type:"monotone",dataKey:i.key,stroke:i.color,name:i.label,strokeWidth:3,dot:{fill:i.color,r:4}}),(o.type||"line")==="line"?b.jsx(Hi,{yAxisId:"right",type:"monotone",dataKey:o.key,stroke:o.color,name:o.label,strokeWidth:3,dot:{fill:o.color,r:4}}):b.jsx(Ui,{yAxisId:"right",dataKey:o.key,fill:o.color,name:o.label,radius:[4,4,0,0]})]})})})]})}function N$(t,e){return function(){return t.apply(e,arguments)}}const{toString:Xfe}=Object.prototype,{getPrototypeOf:WP}=Object,{iterator:t1,toStringTag:j$}=Symbol,n1=(t=>e=>{const n=Xfe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),So=t=>(t=t.toLowerCase(),e=>n1(e)===t),r1=t=>e=>typeof e===t,{isArray:_p}=Array,ip=r1("undefined");function Cv(t){return t!==null&&!ip(t)&&t.constructor!==null&&!ip(t.constructor)&&Mr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const D$=So("ArrayBuffer");function Yfe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&D$(t.buffer),e}const Jfe=r1("string"),Mr=r1("function"),L$=r1("number"),_v=t=>t!==null&&typeof t=="object",Zfe=t=>t===!0||t===!1,_b=t=>{if(n1(t)!=="object")return!1;const e=WP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(j$ in t)&&!(t1 in t)},Qfe=t=>{if(!_v(t)||Cv(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},epe=So("Date"),tpe=So("File"),npe=So("Blob"),rpe=So("FileList"),ipe=t=>_v(t)&&Mr(t.pipe),ope=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Mr(t.append)&&((e=n1(t))==="formdata"||e==="object"&&Mr(t.toString)&&t.toString()==="[object FormData]"))},ape=So("URLSearchParams"),[spe,lpe,cpe,upe]=["ReadableStream","Request","Response","Headers"].map(So),hpe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pv(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),_p(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Cv(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let s;for(r=0;r<a;r++)s=o[r],e.call(null,t[s],s,t)}}function $$(t,e){if(Cv(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,F$=t=>!ip(t)&&t!==Oc;function IE(){const{caseless:t,skipUndefined:e}=F$(this)&&this||{},n={},r=(i,o)=>{const a=t&&$$(n,o)||o;_b(n[a])&&_b(i)?n[a]=IE(n[a],i):_b(i)?n[a]=IE({},i):_p(i)?n[a]=i.slice():(!e||!ip(i))&&(n[a]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Pv(arguments[i],r);return n}const dpe=(t,e,n,{allOwnKeys:r}={})=>(Pv(e,(i,o)=>{n&&Mr(i)?t[o]=N$(i,n):t[o]=i},{allOwnKeys:r}),t),fpe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ppe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},mpe=(t,e,n,r)=>{let i,o,a;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!r||r(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=n!==!1&&WP(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},gpe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ype=t=>{if(!t)return null;if(_p(t))return t;let e=t.length;if(!L$(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},vpe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&WP(Uint8Array)),bpe=(t,e)=>{const r=(t&&t[t1]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},xpe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},wpe=So("HTMLFormElement"),Ape=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),rI=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Spe=So("RegExp"),B$=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Pv(n,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(r[o]=a||i)}),Object.defineProperties(t,r)},Epe=t=>{B$(t,(e,n)=>{if(Mr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Mr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Cpe=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return _p(t)?r(t):r(String(t).split(e)),n},_pe=()=>{},Ppe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Tpe(t){return!!(t&&Mr(t.append)&&t[j$]==="FormData"&&t[t1])}const kpe=t=>{const e=new Array(10),n=(r,i)=>{if(_v(r)){if(e.indexOf(r)>=0)return;if(Cv(r))return r;if(!("toJSON"in r)){e[i]=r;const o=_p(r)?[]:{};return Pv(r,(a,s)=>{const l=n(a,i+1);!ip(l)&&(o[s]=l)}),e[i]=void 0,o}}return r};return n(t,0)},Ope=So("AsyncFunction"),Mpe=t=>t&&(_v(t)||Mr(t))&&Mr(t.then)&&Mr(t.catch),z$=((t,e)=>t?setImmediate:e?((n,r)=>(Oc.addEventListener("message",({source:i,data:o})=>{i===Oc&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Oc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Mr(Oc.postMessage)),Rpe=typeof queueMicrotask<"u"?queueMicrotask.bind(Oc):typeof process<"u"&&process.nextTick||z$,Ipe=t=>t!=null&&Mr(t[t1]),G={isArray:_p,isArrayBuffer:D$,isBuffer:Cv,isFormData:ope,isArrayBufferView:Yfe,isString:Jfe,isNumber:L$,isBoolean:Zfe,isObject:_v,isPlainObject:_b,isEmptyObject:Qfe,isReadableStream:spe,isRequest:lpe,isResponse:cpe,isHeaders:upe,isUndefined:ip,isDate:epe,isFile:tpe,isBlob:npe,isRegExp:Spe,isFunction:Mr,isStream:ipe,isURLSearchParams:ape,isTypedArray:vpe,isFileList:rpe,forEach:Pv,merge:IE,extend:dpe,trim:hpe,stripBOM:fpe,inherits:ppe,toFlatObject:mpe,kindOf:n1,kindOfTest:So,endsWith:gpe,toArray:ype,forEachEntry:bpe,matchAll:xpe,isHTMLForm:wpe,hasOwnProperty:rI,hasOwnProp:rI,reduceDescriptors:B$,freezeMethods:Epe,toObjectSet:Cpe,toCamelCase:Ape,noop:_pe,toFiniteNumber:Ppe,findKey:$$,global:Oc,isContextDefined:F$,isSpecCompliantForm:Tpe,toJSONObject:kpe,isAsyncFn:Ope,isThenable:Mpe,setImmediate:z$,asap:Rpe,isIterable:Ipe};function Ie(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const U$=Ie.prototype,H$={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{H$[t]={value:t}});Object.defineProperties(Ie,H$);Object.defineProperty(U$,"isAxiosError",{value:!0});Ie.from=(t,e,n,r,i,o)=>{const a=Object.create(U$);G.toFlatObject(t,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ie.call(a,s,l,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",o&&Object.assign(a,o),a};const Npe=null;function NE(t){return G.isPlainObject(t)||G.isArray(t)}function V$(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function iI(t,e,n){return t?t.concat(e).map(function(i,o){return i=V$(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function jpe(t){return G.isArray(t)&&!t.some(NE)}const Dpe=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function i1(t,e,n){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!G.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(G.isDate(m))return m.toISOString();if(G.isBoolean(m))return m.toString();if(!l&&G.isBlob(m))throw new Ie("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(m)||G.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let v=m;if(m&&!y&&typeof m=="object"){if(G.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(G.isArray(m)&&jpe(m)||(G.isFileList(m)||G.endsWith(g,"[]"))&&(v=G.toArray(m)))return g=V$(g),v.forEach(function(x,E){!(G.isUndefined(x)||x===null)&&e.append(a===!0?iI([g],E,o):a===null?g:g+"[]",c(x))}),!1}return NE(m)?!0:(e.append(iI(y,g,o),c(m)),!1)}const h=[],f=Object.assign(Dpe,{defaultVisitor:u,convertValue:c,isVisitable:NE});function p(m,g){if(!G.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),G.forEach(m,function(v,w){(!(G.isUndefined(v)||v===null)&&i.call(e,v,G.isString(w)?w.trim():w,g,f))===!0&&p(v,g?g.concat(w):[w])}),h.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return p(t),e}function oI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function GP(t,e){this._pairs=[],t&&i1(t,this,e)}const W$=GP.prototype;W$.append=function(e,n){this._pairs.push([e,n])};W$.toString=function(e){const n=e?function(r){return e.call(this,r,oI)}:oI;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Lpe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function G$(t,e,n){if(!e)return t;const r=n&&n.encode||Lpe;G.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=G.isURLSearchParams(e)?e.toString():new GP(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class aI{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(r){r!==null&&e(r)})}}const q$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$pe=typeof URLSearchParams<"u"?URLSearchParams:GP,Fpe=typeof FormData<"u"?FormData:null,Bpe=typeof Blob<"u"?Blob:null,zpe={isBrowser:!0,classes:{URLSearchParams:$pe,FormData:Fpe,Blob:Bpe},protocols:["http","https","file","blob","url","data"]},qP=typeof window<"u"&&typeof document<"u",jE=typeof navigator=="object"&&navigator||void 0,Upe=qP&&(!jE||["ReactNative","NativeScript","NS"].indexOf(jE.product)<0),Hpe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vpe=qP&&window.location.href||"http://localhost",Wpe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qP,hasStandardBrowserEnv:Upe,hasStandardBrowserWebWorkerEnv:Hpe,navigator:jE,origin:Vpe},Symbol.toStringTag,{value:"Module"})),er={...Wpe,...zpe};function Gpe(t,e){return i1(t,new er.classes.URLSearchParams,{visitor:function(n,r,i,o){return er.isNode&&G.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function qpe(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Kpe(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function K$(t){function e(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=o>=n.length;return a=!a&&G.isArray(i)?i.length:a,l?(G.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!s):((!i[a]||!G.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],o)&&G.isArray(i[a])&&(i[a]=Kpe(i[a])),!s)}if(G.isFormData(t)&&G.isFunction(t.entries)){const n={};return G.forEachEntry(t,(r,i)=>{e(qpe(r),i,n,0)}),n}return null}function Xpe(t,e,n){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Tv={transitional:q$,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=G.isObject(e);if(o&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(K$(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Gpe(e,this.formSerializer).toString();if((s=G.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return i1(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Xpe(e)):e}],transformResponse:[function(e){const n=this.transitional||Tv.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(s){if(a)throw s.name==="SyntaxError"?Ie.from(s,Ie.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{Tv.headers[t]={}});const Ype=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jpe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&Ype[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},sI=Symbol("internals");function Zp(t){return t&&String(t).trim().toLowerCase()}function Pb(t){return t===!1||t==null?t:G.isArray(t)?t.map(Pb):String(t)}function Zpe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Qpe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fA(t,e,n,r,i){if(G.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!G.isString(e)){if(G.isString(r))return e.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(e)}}function eme(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function tme(t,e){const n=G.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,a){return this[r].call(this,e,i,o,a)},configurable:!0})})}let Rr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(s,l,c){const u=Zp(l);if(!u)throw new Error("header name must be a non-empty string");const h=G.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Pb(s))}const a=(s,l)=>G.forEach(s,(c,u)=>o(c,u,l));if(G.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(G.isString(e)&&(e=e.trim())&&!Qpe(e))a(Jpe(e),n);else if(G.isObject(e)&&G.isIterable(e)){let s={},l,c;for(const u of e){if(!G.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?G.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(s,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Zp(e),e){const r=G.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Zpe(i);if(G.isFunction(n))return n.call(this,i,r);if(G.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Zp(e),e){const r=G.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||fA(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(a){if(a=Zp(a),a){const s=G.findKey(r,a);s&&(!n||fA(r,r[s],s,n))&&(delete r[s],i=!0)}}return G.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||fA(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return G.forEach(this,(i,o)=>{const a=G.findKey(r,o);if(a){n[a]=Pb(i),delete n[o];return}const s=e?eme(o):String(o).trim();s!==o&&delete n[o],n[s]=Pb(i),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return G.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&G.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[sI]=this[sI]={accessors:{}}).accessors,i=this.prototype;function o(a){const s=Zp(a);r[s]||(tme(i,a),r[s]=!0)}return G.isArray(e)?e.forEach(o):o(e),this}};Rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Rr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});G.freezeMethods(Rr);function pA(t,e){const n=this||Tv,r=e||n,i=Rr.from(r.headers);let o=r.data;return G.forEach(t,function(s){o=s.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function X$(t){return!!(t&&t.__CANCEL__)}function Pp(t,e,n){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,n),this.name="CanceledError"}G.inherits(Pp,Ie,{__CANCEL__:!0});function Y$(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nme(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rme(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];a||(a=c),n[i]=l,r[i]=c;let h=o,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-a<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function ime(t,e){let n=0,r=1e3/e,i,o;const a=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t(...c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?a(c,u):(i=c,o||(o=setTimeout(()=>{o=null,a(i)},r-h)))},()=>i&&a(i)]}const v0=(t,e,n=3)=>{let r=0;const i=rme(50,250);return ime(o=>{const a=o.loaded,s=o.lengthComputable?o.total:void 0,l=a-r,c=i(l),u=a<=s;r=a;const h={loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-a)/c:void 0,event:o,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(h)},n)},lI=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},cI=t=>(...e)=>G.asap(()=>t(...e)),ome=er.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,er.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,ame=er.hasStandardBrowserEnv?{write(t,e,n,r,i,o,a){if(typeof document>"u")return;const s=[`${t}=${encodeURIComponent(e)}`];G.isNumber(n)&&s.push(`expires=${new Date(n).toUTCString()}`),G.isString(r)&&s.push(`path=${r}`),G.isString(i)&&s.push(`domain=${i}`),o===!0&&s.push("secure"),G.isString(a)&&s.push(`SameSite=${a}`),document.cookie=s.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function sme(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lme(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function J$(t,e,n){let r=!sme(e);return t&&(r||n==!1)?lme(t,e):e}const uI=t=>t instanceof Rr?{...t}:t;function Ju(t,e){e=e||{};const n={};function r(c,u,h,f){return G.isPlainObject(c)&&G.isPlainObject(u)?G.merge.call({caseless:f},c,u):G.isPlainObject(u)?G.merge({},u):G.isArray(u)?u.slice():u}function i(c,u,h,f){if(G.isUndefined(u)){if(!G.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function o(c,u){if(!G.isUndefined(u))return r(void 0,u)}function a(c,u){if(G.isUndefined(u)){if(!G.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(c,u,h)=>i(uI(c),uI(u),h,!0)};return G.forEach(Object.keys({...t,...e}),function(u){const h=l[u]||i,f=h(t[u],e[u],u);G.isUndefined(f)&&h!==s||(n[u]=f)}),n}const Z$=t=>{const e=Ju({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:s}=e;if(e.headers=a=Rr.from(a),e.url=G$(J$(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),G.isFormData(n)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(G.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,h])=>{c.includes(u.toLowerCase())&&a.set(u,h)})}}if(er.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(e)),r||r!==!1&&ome(e.url))){const l=i&&o&&ame.read(o);l&&a.set(i,l)}return e},cme=typeof XMLHttpRequest<"u",ume=cme&&function(t){return new Promise(function(n,r){const i=Z$(t);let o=i.data;const a=Rr.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const x=Rr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:t,request:y};Y$(function(_){n(_),g()},function(_){r(_),g()},A),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new Ie("Request aborted",Ie.ECONNABORTED,t,y)),y=null)},y.onerror=function(E){const A=E&&E.message?E.message:"Network Error",S=new Ie(A,Ie.ERR_NETWORK,t,y);S.event=E||null,r(S),y=null},y.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||q$;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),r(new Ie(E,A.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,y)),y=null},o===void 0&&a.setContentType(null),"setRequestHeader"in y&&G.forEach(a.toJSON(),function(E,A){y.setRequestHeader(A,E)}),G.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),s&&s!=="json"&&(y.responseType=i.responseType),c&&([f,m]=v0(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([h,p]=v0(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=x=>{y&&(r(!x||x.type?new Pp(null,t,y):x),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const w=nme(i.url);if(w&&er.protocols.indexOf(w)===-1){r(new Ie("Unsupported protocol "+w+":",Ie.ERR_BAD_REQUEST,t));return}y.send(o||null)})},hme=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Ie?u:new Pp(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,o(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const s=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>G.asap(s),l}},dme=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},fme=async function*(t,e){for await(const n of pme(t))yield*dme(n,e)},pme=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},hI=(t,e,n,r)=>{const i=fme(t,e);let o=0,a,s=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let h=u.byteLength;if(n){let f=o+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},dI=64*1024,{isFunction:ib}=G,mme=(({Request:t,Response:e})=>({Request:t,Response:e}))(G.global),{ReadableStream:fI,TextEncoder:pI}=G.global,mI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},gme=t=>{t=G.merge.call({skipUndefined:!0},mme,t);const{fetch:e,Request:n,Response:r}=t,i=e?ib(e):typeof fetch=="function",o=ib(n),a=ib(r);if(!i)return!1;const s=i&&ib(fI),l=i&&(typeof pI=="function"?(m=>g=>m.encode(g))(new pI):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=o&&s&&mI(()=>{let m=!1;const g=new n(er.origin,{body:new fI,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),u=a&&s&&mI(()=>G.isReadableStream(new r("").body)),h={stream:u&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(g,y)=>{let v=g&&g[m];if(v)return v.call(g);throw new Ie(`Response type '${m}' is not supported`,Ie.ERR_NOT_SUPPORT,y)})});const f=async m=>{if(m==null)return 0;if(G.isBlob(m))return m.size;if(G.isSpecCompliantForm(m))return(await new n(er.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(G.isArrayBufferView(m)||G.isArrayBuffer(m))return m.byteLength;if(G.isURLSearchParams(m)&&(m=m+""),G.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const y=G.toFiniteNumber(m.getContentLength());return y??f(g)};return async m=>{let{url:g,method:y,data:v,signal:w,cancelToken:x,timeout:E,onDownloadProgress:A,onUploadProgress:S,responseType:_,headers:O,withCredentials:I="same-origin",fetchOptions:M}=Z$(m),R=e||fetch;_=_?(_+"").toLowerCase():"text";let N=hme([w,x&&x.toAbortSignal()],E),L=null;const F=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let z;try{if(S&&c&&y!=="get"&&y!=="head"&&(z=await p(O,v))!==0){let X=new n(g,{method:"POST",body:v,duplex:"half"}),q;if(G.isFormData(v)&&(q=X.headers.get("content-type"))&&O.setContentType(q),X.body){const[D,le]=lI(z,v0(cI(S)));v=hI(X.body,dI,D,le)}}G.isString(I)||(I=I?"include":"omit");const $=o&&"credentials"in n.prototype,U={...M,signal:N,method:y.toUpperCase(),headers:O.normalize().toJSON(),body:v,duplex:"half",credentials:$?I:void 0};L=o&&new n(g,U);let H=await(o?R(L,M):R(g,U));const W=u&&(_==="stream"||_==="response");if(u&&(A||W&&F)){const X={};["status","statusText","headers"].forEach(ve=>{X[ve]=H[ve]});const q=G.toFiniteNumber(H.headers.get("content-length")),[D,le]=A&&lI(q,v0(cI(A),!0))||[];H=new r(hI(H.body,dI,D,()=>{le&&le(),F&&F()}),X)}_=_||"text";let j=await h[G.findKey(h,_)||"text"](H,m);return!W&&F&&F(),await new Promise((X,q)=>{Y$(X,q,{data:j,headers:Rr.from(H.headers),status:H.status,statusText:H.statusText,config:m,request:L})})}catch($){throw F&&F(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,m,L),{cause:$.cause||$}):Ie.from($,$&&$.code,m,L)}}},yme=new Map,Q$=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let a=o.length,s=a,l,c,u=yme;for(;s--;)l=o[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:gme(e)),u=c;return c};Q$();const KP={http:Npe,xhr:ume,fetch:{get:Q$}};G.forEach(KP,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gI=t=>`- ${t}`,vme=t=>G.isFunction(t)||t===null||t===!1;function bme(t,e){t=G.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let a=0;a<n;a++){r=t[a];let s;if(i=r,!vme(r)&&(i=KP[(s=String(r)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${s}'`);if(i&&(G.isFunction(i)||(i=i.get(e))))break;o[s||"#"+a]=i}if(!i){const a=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(gI).join(`
`):" "+gI(a[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i}const eF={getAdapter:bme,adapters:KP};function mA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pp(null,t)}function yI(t){return mA(t),t.headers=Rr.from(t.headers),t.data=pA.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),eF.getAdapter(t.adapter||Tv.adapter,t)(t).then(function(r){return mA(t),r.data=pA.call(t,t.transformResponse,r),r.headers=Rr.from(r.headers),r},function(r){return X$(r)||(mA(t),r&&r.response&&(r.response.data=pA.call(t,t.transformResponse,r.response),r.response.headers=Rr.from(r.response.headers))),Promise.reject(r)})}const tF="1.13.2",o1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{o1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const vI={};o1.transitional=function(e,n,r){function i(o,a){return"[Axios v"+tF+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,s)=>{if(e===!1)throw new Ie(i(a," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!vI[a]&&(vI[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,s):!0}};o1.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function xme(t,e,n){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const s=t[o],l=s===void 0||a(s,o,t);if(l!==!0)throw new Ie("option "+o+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+o,Ie.ERR_BAD_OPTION)}}const Tb={assertOptions:xme,validators:o1},Eo=Tb.validators;let Gu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new aI,response:new aI}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ju(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Tb.assertOptions(r,{silentJSONParsing:Eo.transitional(Eo.boolean),forcedJSONParsing:Eo.transitional(Eo.boolean),clarifyTimeoutError:Eo.transitional(Eo.boolean)},!1),i!=null&&(G.isFunction(i)?n.paramsSerializer={serialize:i}:Tb.assertOptions(i,{encode:Eo.function,serialize:Eo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Tb.assertOptions(n,{baseUrl:Eo.spelling("baseURL"),withXsrfToken:Eo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&G.merge(o.common,o[n.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=Rr.concat(a,o);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const m=[yI.bind(this),void 0];for(m.unshift(...s),m.push(...c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=s.length;let p=n;for(;h<f;){const m=s[h++],g=s[h++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=yI.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=Ju(this.defaults,e);const n=J$(e.baseURL,e.url,e.allowAbsoluteUrls);return G$(n,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){Gu.prototype[e]=function(n,r){return this.request(Ju(r||{},{method:e,url:n,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,s){return this.request(Ju(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Gu.prototype[e]=n(),Gu.prototype[e+"Form"]=n(!0)});let wme=class nF{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(s=>{r.subscribe(s),o=s}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,s){r.reason||(r.reason=new Pp(o,a,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new nF(function(i){e=i}),cancel:e}}};function Ame(t){return function(n){return t.apply(null,n)}}function Sme(t){return G.isObject(t)&&t.isAxiosError===!0}const DE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(DE).forEach(([t,e])=>{DE[e]=t});function rF(t){const e=new Gu(t),n=N$(Gu.prototype.request,e);return G.extend(n,Gu.prototype,e,{allOwnKeys:!0}),G.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return rF(Ju(t,i))},n}const tn=rF(Tv);tn.Axios=Gu;tn.CanceledError=Pp;tn.CancelToken=wme;tn.isCancel=X$;tn.VERSION=tF;tn.toFormData=i1;tn.AxiosError=Ie;tn.Cancel=tn.CanceledError;tn.all=function(e){return Promise.all(e)};tn.spread=Ame;tn.isAxiosError=Sme;tn.mergeConfig=Ju;tn.AxiosHeaders=Rr;tn.formToJSON=t=>K$(G.isHTMLForm(t)?new FormData(t):t);tn.getAdapter=eF.getAdapter;tn.HttpStatusCode=DE;tn.default=tn;const{Axios:KPe,AxiosError:XPe,CanceledError:YPe,isCancel:JPe,CancelToken:ZPe,VERSION:QPe,all:eTe,Cancel:tTe,isAxiosError:nTe,spread:rTe,toFormData:iTe,AxiosHeaders:oTe,HttpStatusCode:aTe,formToJSON:sTe,getAdapter:lTe,mergeConfig:cTe}=tn,Eme="/api",Ai=tn.create({baseURL:Eme,headers:{"Content-Type":"application/json"},timeout:3e4});Ai.interceptors.request.use(t=>t,t=>Promise.reject(t));Ai.interceptors.response.use(t=>t,t=>(t.response?console.error("API Error:",t.response.data):t.request?console.error("Network Error:",t.message):console.error("Error:",t.message),Promise.reject(t)));const Cme={check:async()=>(await Ai.get("/health")).data},cc={getSummary:async()=>(await Ai.get("/metrics/summary")).data,getRevenueTrend:async(t=6)=>(await Ai.get("/metrics/revenue-trend",{params:{months:t}})).data,getChannelBreakdown:async()=>(await Ai.get("/metrics/channel-breakdown")).data,getCacByChannel:async()=>(await Ai.get("/metrics/cac-by-channel")).data,getArpuBySegment:async t=>(await Ai.get("/metrics/arpu-by-segment",{params:t?{year:t}:void 0})).data,getCohortRetention:async t=>(await Ai.get("/metrics/cohort-retention",{params:t?{cohort_month:t}:void 0})).data,getGmvTrend:async(t,e)=>(await Ai.get("/metrics/gmv-trend",{params:{...t&&{start_date:t},...e&&{end_date:e}}})).data,getChannelMix:async(t,e)=>(await Ai.get("/metrics/channel-mix",{params:{...t&&{start_date:t},...e&&{end_date:e}}})).data,getAttachRate:async(t,e,n)=>(await Ai.get("/metrics/attach-rate",{params:{...t&&{segment:t},...e&&{start_date:e},...n&&{end_date:n}}})).data};function Ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Tp(t,e=[]){let n=[];function r(o,a){const s=P.createContext(a),l=n.length;n=[...n,a];const c=h=>{var v;const{scope:f,children:p,...m}=h,g=((v=f==null?void 0:f[t])==null?void 0:v[l])||s,y=P.useMemo(()=>m,Object.values(m));return b.jsx(g.Provider,{value:y,children:p})};c.displayName=o+"Provider";function u(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||s,m=P.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>P.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return P.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,_me(i,...e)]}function _me(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...s,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function bI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function a1(...t){return e=>{let n=!1;const r=t.map(i=>{const o=bI(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():bI(t[i],null)}}}}function hn(...t){return P.useCallback(a1(...t),t)}function xI(t){const e=Pme(t),n=P.forwardRef((r,i)=>{const{children:o,...a}=r,s=P.Children.toArray(o),l=s.find(kme);if(l){const c=l.props.children,u=s.map(h=>h===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:h);return b.jsx(e,{...a,ref:i,children:P.isValidElement(c)?P.cloneElement(c,void 0,u):null})}return b.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function Pme(t){const e=P.forwardRef((n,r)=>{const{children:i,...o}=n;if(P.isValidElement(i)){const a=Mme(i),s=Ome(o,i.props);return i.type!==P.Fragment&&(s.ref=r?a1(r,a):a),P.cloneElement(i,s)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Tme=Symbol("radix.slottable");function kme(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Tme}function Ome(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Mme(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function iF(t){const e=t+"CollectionProvider",[n,r]=Tp(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:y,children:v}=g,w=B.useRef(null),x=B.useRef(new Map).current;return b.jsx(i,{scope:y,itemMap:x,collectionRef:w,children:v})};a.displayName=e;const s=t+"CollectionSlot",l=xI(s),c=B.forwardRef((g,y)=>{const{scope:v,children:w}=g,x=o(s,v),E=hn(y,x.collectionRef);return b.jsx(l,{ref:E,children:w})});c.displayName=s;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=xI(u),p=B.forwardRef((g,y)=>{const{scope:v,children:w,...x}=g,E=B.useRef(null),A=hn(y,E),S=o(u,v);return B.useEffect(()=>(S.itemMap.set(E,{ref:E,...x}),()=>void S.itemMap.delete(E))),b.jsx(f,{[h]:"",ref:A,children:w})});p.displayName=u;function m(g){const y=o(t+"CollectionConsumer",g);return B.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((S,_)=>x.indexOf(S.ref.current)-x.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},m,r]}var rr=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},Rme=Pj[" useId ".trim().toString()]||(()=>{}),Ime=0;function kv(t){const[e,n]=P.useState(Rme());return rr(()=>{n(r=>r??String(Ime++))},[t]),e?`radix-${e}`:""}function Nme(t){const e=jme(t),n=P.forwardRef((r,i)=>{const{children:o,...a}=r,s=P.Children.toArray(o),l=s.find(Lme);if(l){const c=l.props.children,u=s.map(h=>h===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:h);return b.jsx(e,{...a,ref:i,children:P.isValidElement(c)?P.cloneElement(c,void 0,u):null})}return b.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function jme(t){const e=P.forwardRef((n,r)=>{const{children:i,...o}=n;if(P.isValidElement(i)){const a=Fme(i),s=$me(o,i.props);return i.type!==P.Fragment&&(s.ref=r?a1(r,a):a),P.cloneElement(i,s)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Dme=Symbol("radix.slottable");function Lme(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Dme}function $me(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Fme(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Bme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ft=Bme.reduce((t,e)=>{const n=Nme(`Primitive.${e}`),r=P.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function zme(t,e){t&&mv.flushSync(()=>t.dispatchEvent(e))}function Hl(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Ume=Pj[" useInsertionEffect ".trim().toString()]||rr;function Ag({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=Hme({defaultProp:e,onChange:n}),s=t!==void 0,l=s?t:i;{const u=P.useRef(t!==void 0);P.useEffect(()=>{const h=u.current;h!==s&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,r])}const c=P.useCallback(u=>{var h;if(s){const f=Vme(u)?u(t):u;f!==t&&((h=a.current)==null||h.call(a,f))}else o(u)},[s,t,o,a]);return[l,c]}function Hme({defaultProp:t,onChange:e}){const[n,r]=P.useState(t),i=P.useRef(n),o=P.useRef(e);return Ume(()=>{o.current=e},[e]),P.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function Vme(t){return typeof t=="function"}var Wme=P.createContext(void 0);function XP(t){const e=P.useContext(Wme);return t||e||"ltr"}var gA="rovingFocusGroup.onEntryFocus",Gme={bubbles:!1,cancelable:!0},Ov="RovingFocusGroup",[LE,oF,qme]=iF(Ov),[Kme,aF]=Tp(Ov,[qme]),[Xme,Yme]=Kme(Ov),sF=P.forwardRef((t,e)=>b.jsx(LE.Provider,{scope:t.__scopeRovingFocusGroup,children:b.jsx(LE.Slot,{scope:t.__scopeRovingFocusGroup,children:b.jsx(Jme,{...t,ref:e})})}));sF.displayName=Ov;var Jme=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,f=P.useRef(null),p=hn(e,f),m=XP(o),[g,y]=Ag({prop:a,defaultProp:s??null,onChange:l,caller:Ov}),[v,w]=P.useState(!1),x=Hl(c),E=oF(n),A=P.useRef(!1),[S,_]=P.useState(0);return P.useEffect(()=>{const O=f.current;if(O)return O.addEventListener(gA,x),()=>O.removeEventListener(gA,x)},[x]),b.jsx(Xme,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:P.useCallback(O=>y(O),[y]),onItemShiftTab:P.useCallback(()=>w(!0),[]),onFocusableItemAdd:P.useCallback(()=>_(O=>O+1),[]),onFocusableItemRemove:P.useCallback(()=>_(O=>O-1),[]),children:b.jsx(ft.div,{tabIndex:v||S===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:Ue(t.onMouseDown,()=>{A.current=!0}),onFocus:Ue(t.onFocus,O=>{const I=!A.current;if(O.target===O.currentTarget&&I&&!v){const M=new CustomEvent(gA,Gme);if(O.currentTarget.dispatchEvent(M),!M.defaultPrevented){const R=E().filter($=>$.focusable),N=R.find($=>$.active),L=R.find($=>$.id===g),z=[N,L,...R].filter(Boolean).map($=>$.ref.current);uF(z,u)}}A.current=!1}),onBlur:Ue(t.onBlur,()=>w(!1))})})}),lF="RovingFocusGroupItem",cF=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=t,l=kv(),c=o||l,u=Yme(lF,n),h=u.currentTabStopId===c,f=oF(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=u;return P.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),b.jsx(LE.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:b.jsx(ft.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:Ue(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:Ue(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ue(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=ege(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(E=>E.focusable).map(E=>E.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const E=x.indexOf(y.currentTarget);x=u.loop?tge(x,E+1):x.slice(E+1)}setTimeout(()=>uF(x))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:g!=null}):a})})});cF.displayName=lF;var Zme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qme(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ege(t,e,n){const r=Qme(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Zme[r]}function uF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function tge(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nge=sF,rge=cF;function ige(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var YP=t=>{const{present:e,children:n}=t,r=oge(e),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),o=hn(r.ref,age(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:o}):null};YP.displayName="Presence";function oge(t){const[e,n]=P.useState(),r=P.useRef(null),i=P.useRef(t),o=P.useRef("none"),a=t?"mounted":"unmounted",[s,l]=ige(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const c=ob(r.current);o.current=s==="mounted"?c:"none"},[s]),rr(()=>{const c=r.current,u=i.current;if(u!==t){const f=o.current,p=ob(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),rr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const g=ob(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=p=>{p.target===e&&(o.current=ob(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:P.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function ob(t){return(t==null?void 0:t.animationName)||"none"}function age(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var s1="Tabs",[sge]=Tp(s1,[aF]),hF=aF(),[lge,JP]=sge(s1),dF=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=XP(s),[h,f]=Ag({prop:r,onChange:i,defaultProp:o??"",caller:s1});return b.jsx(lge,{scope:n,baseId:kv(),value:h,onValueChange:f,orientation:a,dir:u,activationMode:l,children:b.jsx(ft.div,{dir:u,"data-orientation":a,...c,ref:e})})});dF.displayName=s1;var fF="TabsList",pF=P.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=JP(fF,n),a=hF(n);return b.jsx(nge,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:b.jsx(ft.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});pF.displayName=fF;var mF="TabsTrigger",gF=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=JP(mF,n),s=hF(n),l=bF(a.baseId,r),c=xF(a.baseId,r),u=r===a.value;return b.jsx(rge,{asChild:!0,...s,focusable:!i,active:u,children:b.jsx(ft.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:Ue(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:Ue(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:Ue(t.onFocus,()=>{const h=a.activationMode!=="manual";!u&&!i&&h&&a.onValueChange(r)})})})});gF.displayName=mF;var yF="TabsContent",vF=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=JP(yF,n),l=bF(s.baseId,r),c=xF(s.baseId,r),u=r===s.value,h=P.useRef(u);return P.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),b.jsx(YP,{present:i||u,children:({present:f})=>b.jsx(ft.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&o})})});vF.displayName=yF;function bF(t,e){return`${t}-trigger-${e}`}function xF(t,e){return`${t}-content-${e}`}var cge=dF,wF=pF,AF=gF,SF=vF;const uge=cge,EF=P.forwardRef(({className:t,style:e,...n},r)=>b.jsx(wF,{ref:r,className:Bt("inline-flex h-10 items-center justify-center p-1",t),style:{background:"rgba(15, 23, 42, 0.8)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-md)",color:"var(--color-text-secondary)",...e},...n}));EF.displayName=wF.displayName;const Ch=P.forwardRef(({className:t,style:e,...n},r)=>b.jsx(AF,{ref:r,className:Bt("inline-flex items-center justify-center whitespace-nowrap px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",t),style:{borderRadius:"var(--radius-sm)",color:"var(--color-text-secondary)",...e},...n}));Ch.displayName=AF.displayName;const _h=P.forwardRef(({className:t,...e},n)=>b.jsx(SF,{ref:n,className:Bt("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",t),...e}));_h.displayName=SF.displayName;const op=P.forwardRef(({className:t,variant:e="default",size:n="default",style:r,...i},o)=>{const a=()=>{switch(e){case"outline":return{background:"transparent",border:"1px solid var(--color-border-strong)",color:"var(--color-text-primary)"};case"ghost":return{background:"transparent",color:"var(--color-text-secondary)"};case"destructive":return{background:"var(--color-danger)",color:"white"};default:return{background:"var(--color-accent)",color:"white"}}};return b.jsx("button",{className:Bt("inline-flex items-center justify-center text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50",{"h-10 px-4 py-2":n==="default","h-9 px-3":n==="sm","h-11 px-8":n==="lg","h-10 w-10":n==="icon"},t),style:{borderRadius:"var(--radius-pill)",...a(),...r},ref:o,...i})});op.displayName="Button";function wI(t,[e,n]){return Math.min(n,Math.max(e,t))}function hge(t,e=globalThis==null?void 0:globalThis.document){const n=Hl(t);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var dge="DismissableLayer",$E="dismissableLayer.update",fge="dismissableLayer.pointerDownOutside",pge="dismissableLayer.focusOutside",AI,CF=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZP=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=P.useContext(CF),[u,h]=P.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=P.useState({}),m=hn(e,_=>h(_)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),w=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=v,A=yge(_=>{const O=_.target,I=[...c.branches].some(M=>M.contains(O));!E||I||(i==null||i(_),a==null||a(_),_.defaultPrevented||s==null||s())},f),S=vge(_=>{const O=_.target;[...c.branches].some(M=>M.contains(O))||(o==null||o(_),a==null||a(_),_.defaultPrevented||s==null||s())},f);return hge(_=>{w===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&s&&(_.preventDefault(),s()))},f),P.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(AI=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),SI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=AI)}},[u,f,n,c]),P.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),SI())},[u,c]),P.useEffect(()=>{const _=()=>p({});return document.addEventListener($E,_),()=>document.removeEventListener($E,_)},[]),b.jsx(ft.div,{...l,ref:m,style:{pointerEvents:x?E?"auto":"none":void 0,...t.style},onFocusCapture:Ue(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Ue(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ue(t.onPointerDownCapture,A.onPointerDownCapture)})});ZP.displayName=dge;var mge="DismissableLayerBranch",gge=P.forwardRef((t,e)=>{const n=P.useContext(CF),r=P.useRef(null),i=hn(e,r);return P.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),b.jsx(ft.div,{...t,ref:i})});gge.displayName=mge;function yge(t,e=globalThis==null?void 0:globalThis.document){const n=Hl(t),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){_F(fge,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function vge(t,e=globalThis==null?void 0:globalThis.document){const n=Hl(t),r=P.useRef(!1);return P.useEffect(()=>{const i=o=>{o.target&&!r.current&&_F(pge,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SI(){const t=new CustomEvent($E);document.dispatchEvent(t)}function _F(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?zme(i,o):i.dispatchEvent(o)}var yA=0;function bge(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??EI()),document.body.insertAdjacentElement("beforeend",t[1]??EI()),yA++,()=>{yA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yA--}},[])}function EI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vA="focusScope.autoFocusOnMount",bA="focusScope.autoFocusOnUnmount",CI={bubbles:!1,cancelable:!0},xge="FocusScope",PF=P.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=P.useState(null),c=Hl(i),u=Hl(o),h=P.useRef(null),f=hn(e,g=>l(g)),p=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let g=function(x){if(p.paused||!s)return;const E=x.target;s.contains(E)?h.current=E:Ls(h.current,{select:!0})},y=function(x){if(p.paused||!s)return;const E=x.relatedTarget;E!==null&&(s.contains(E)||Ls(h.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const A of x)A.removedNodes.length>0&&Ls(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(v);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,s,p.paused]),P.useEffect(()=>{if(s){PI.add(p);const g=document.activeElement;if(!s.contains(g)){const v=new CustomEvent(vA,CI);s.addEventListener(vA,c),s.dispatchEvent(v),v.defaultPrevented||(wge(_ge(TF(s)),{select:!0}),document.activeElement===g&&Ls(s))}return()=>{s.removeEventListener(vA,c),setTimeout(()=>{const v=new CustomEvent(bA,CI);s.addEventListener(bA,u),s.dispatchEvent(v),v.defaultPrevented||Ls(g??document.body,{select:!0}),s.removeEventListener(bA,u),PI.remove(p)},0)}}},[s,c,u,p]);const m=P.useCallback(g=>{if(!n&&!r||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const w=g.currentTarget,[x,E]=Age(w);x&&E?!g.shiftKey&&v===E?(g.preventDefault(),n&&Ls(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),n&&Ls(E,{select:!0})):v===w&&g.preventDefault()}},[n,r,p.paused]);return b.jsx(ft.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})});PF.displayName=xge;function wge(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ls(r,{select:e}),document.activeElement!==n)return}function Age(t){const e=TF(t),n=_I(e,t),r=_I(e.reverse(),t);return[n,r]}function TF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _I(t,e){for(const n of t)if(!Sge(n,{upTo:e}))return n}function Sge(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ege(t){return t instanceof HTMLInputElement&&"select"in t}function Ls(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ege(t)&&e&&t.select()}}var PI=Cge();function Cge(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=TI(t,e),t.unshift(e)},remove(e){var n;t=TI(t,e),(n=t[0])==null||n.resume()}}}function TI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _ge(t){return t.filter(e=>e.tagName!=="A")}const Pge=["top","right","bottom","left"],Vl=Math.min,si=Math.max,b0=Math.round,ab=Math.floor,sa=t=>({x:t,y:t}),Tge={left:"right",right:"left",bottom:"top",top:"bottom"},kge={start:"end",end:"start"};function FE(t,e,n){return si(t,Vl(e,n))}function xs(t,e){return typeof t=="function"?t(e):t}function ws(t){return t.split("-")[0]}function kp(t){return t.split("-")[1]}function QP(t){return t==="x"?"y":"x"}function eT(t){return t==="y"?"height":"width"}const Oge=new Set(["top","bottom"]);function ia(t){return Oge.has(ws(t))?"y":"x"}function tT(t){return QP(ia(t))}function Mge(t,e,n){n===void 0&&(n=!1);const r=kp(t),i=tT(t),o=eT(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=x0(a)),[a,x0(a)]}function Rge(t){const e=x0(t);return[BE(t),e,BE(e)]}function BE(t){return t.replace(/start|end/g,e=>kge[e])}const kI=["left","right"],OI=["right","left"],Ige=["top","bottom"],Nge=["bottom","top"];function jge(t,e,n){switch(t){case"top":case"bottom":return n?e?OI:kI:e?kI:OI;case"left":case"right":return e?Ige:Nge;default:return[]}}function Dge(t,e,n,r){const i=kp(t);let o=jge(ws(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(BE)))),o}function x0(t){return t.replace(/left|right|bottom|top/g,e=>Tge[e])}function Lge(t){return{top:0,right:0,bottom:0,left:0,...t}}function kF(t){return typeof t!="number"?Lge(t):{top:t,right:t,bottom:t,left:t}}function w0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function MI(t,e,n){let{reference:r,floating:i}=t;const o=ia(e),a=tT(e),s=eT(a),l=ws(e),c=o==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(kp(e)){case"start":p[a]-=f*(n&&c?-1:1);break;case"end":p[a]+=f*(n&&c?-1:1);break}return p}const $ge=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=MI(c,r,l),f=r,p={},m=0;for(let g=0;g<s.length;g++){const{name:y,fn:v}=s[g],{x:w,y:x,data:E,reset:A}=await v({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});u=w??u,h=x??h,p={...p,[y]:{...p[y],...E}},A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(c=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:h}=MI(c,f,l)),g=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function Sg(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=xs(e,t),m=kF(p),y=s[f?h==="floating"?"reference":"floating":h],v=w0(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),w=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),E=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},A=w0(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:x,strategy:l}):w);return{top:(v.top-A.top+m.top)/E.y,bottom:(A.bottom-v.bottom+m.bottom)/E.y,left:(v.left-A.left+m.left)/E.x,right:(A.right-v.right+m.right)/E.x}}const Fge=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=xs(t,e)||{};if(c==null)return{};const h=kF(u),f={x:n,y:r},p=tT(i),m=eT(p),g=await a.getDimensions(c),y=p==="y",v=y?"top":"left",w=y?"bottom":"right",x=y?"clientHeight":"clientWidth",E=o.reference[m]+o.reference[p]-f[p]-o.floating[m],A=f[p]-o.reference[p],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let _=S?S[x]:0;(!_||!await(a.isElement==null?void 0:a.isElement(S)))&&(_=s.floating[x]||o.floating[m]);const O=E/2-A/2,I=_/2-g[m]/2-1,M=Vl(h[v],I),R=Vl(h[w],I),N=M,L=_-g[m]-R,F=_/2-g[m]/2+O,z=FE(N,F,L),$=!l.arrow&&kp(i)!=null&&F!==z&&o.reference[m]/2-(F<N?M:R)-g[m]/2<0,U=$?F<N?F-N:F-L:0;return{[p]:f[p]+U,data:{[p]:z,centerOffset:F-z-U,...$&&{alignmentOffset:U}},reset:$}}}),Bge=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=xs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=ws(i),w=ia(s),x=ws(s)===s,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=f||(x||!g?[x0(s)]:Rge(s)),S=m!=="none";!f&&S&&A.push(...Dge(s,g,m,E));const _=[s,...A],O=await Sg(e,y),I=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(O[v]),h){const F=Mge(i,a,E);I.push(O[F[0]],O[F[1]])}if(M=[...M,{placement:i,overflows:I}],!I.every(F=>F<=0)){var R,N;const F=(((R=o.flip)==null?void 0:R.index)||0)+1,z=_[F];if(z&&(!(h==="alignment"?w!==ia(z):!1)||M.every(H=>ia(H.placement)===w?H.overflows[0]>0:!0)))return{data:{index:F,overflows:M},reset:{placement:z}};let $=(N=M.filter(U=>U.overflows[0]<=0).sort((U,H)=>U.overflows[1]-H.overflows[1])[0])==null?void 0:N.placement;if(!$)switch(p){case"bestFit":{var L;const U=(L=M.filter(H=>{if(S){const W=ia(H.placement);return W===w||W==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(W=>W>0).reduce((W,j)=>W+j,0)]).sort((H,W)=>H[1]-W[1])[0])==null?void 0:L[0];U&&($=U);break}case"initialPlacement":$=s;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function RI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function II(t){return Pge.some(e=>t[e]>=0)}const zge=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=xs(t,e);switch(r){case"referenceHidden":{const o=await Sg(e,{...i,elementContext:"reference"}),a=RI(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:II(a)}}}case"escaped":{const o=await Sg(e,{...i,altBoundary:!0}),a=RI(o,n.floating);return{data:{escapedOffsets:a,escaped:II(a)}}}default:return{}}}}},OF=new Set(["left","top"]);async function Uge(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ws(n),s=kp(n),l=ia(n)==="y",c=OF.has(a)?-1:1,u=o&&l?-1:1,h=xs(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const Hge=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await Uge(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Vge=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:y=>{let{x:v,y:w}=y;return{x:v,y:w}}},...l}=xs(t,e),c={x:n,y:r},u=await Sg(e,l),h=ia(ws(i)),f=QP(h);let p=c[f],m=c[h];if(o){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=p+u[y],x=p-u[v];p=FE(w,p,x)}if(a){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=m+u[y],x=m-u[v];m=FE(w,m,x)}const g=s.fn({...e,[f]:p,[h]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:o,[h]:a}}}}}},Wge=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=xs(t,e),u={x:n,y:r},h=ia(i),f=QP(h);let p=u[f],m=u[h];const g=xs(s,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",E=o.reference[f]-o.floating[x]+y.mainAxis,A=o.reference[f]+o.reference[x]-y.mainAxis;p<E?p=E:p>A&&(p=A)}if(c){var v,w;const x=f==="y"?"width":"height",E=OF.has(ws(i)),A=o.reference[h]-o.floating[x]+(E&&((v=a.offset)==null?void 0:v[h])||0)+(E?0:y.crossAxis),S=o.reference[h]+o.reference[x]+(E?0:((w=a.offset)==null?void 0:w[h])||0)-(E?y.crossAxis:0);m<A?m=A:m>S&&(m=S)}return{[f]:p,[h]:m}}}},Gge=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=xs(t,e),u=await Sg(e,c),h=ws(i),f=kp(i),p=ia(i)==="y",{width:m,height:g}=o.floating;let y,v;h==="top"||h==="bottom"?(y=h,v=f===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=h,y=f==="end"?"top":"bottom");const w=g-u.top-u.bottom,x=m-u.left-u.right,E=Vl(g-u[y],w),A=Vl(m-u[v],x),S=!e.middlewareData.shift;let _=E,O=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),S&&!f){const M=si(u.left,0),R=si(u.right,0),N=si(u.top,0),L=si(u.bottom,0);p?O=m-2*(M!==0||R!==0?M+R:si(u.left,u.right)):_=g-2*(N!==0||L!==0?N+L:si(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:_});const I=await a.getDimensions(s.floating);return m!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function l1(){return typeof window<"u"}function Op(t){return MF(t)?(t.nodeName||"").toLowerCase():"#document"}function hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fa(t){var e;return(e=(MF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MF(t){return l1()?t instanceof Node||t instanceof hi(t).Node:!1}function vo(t){return l1()?t instanceof Element||t instanceof hi(t).Element:!1}function ca(t){return l1()?t instanceof HTMLElement||t instanceof hi(t).HTMLElement:!1}function NI(t){return!l1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hi(t).ShadowRoot}const qge=new Set(["inline","contents"]);function Mv(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=bo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qge.has(i)}const Kge=new Set(["table","td","th"]);function Xge(t){return Kge.has(Op(t))}const Yge=[":popover-open",":modal"];function c1(t){return Yge.some(e=>{try{return t.matches(e)}catch{return!1}})}const Jge=["transform","translate","scale","rotate","perspective"],Zge=["transform","translate","scale","rotate","perspective","filter"],Qge=["paint","layout","strict","content"];function nT(t){const e=rT(),n=vo(t)?bo(t):t;return Jge.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Zge.some(r=>(n.willChange||"").includes(r))||Qge.some(r=>(n.contain||"").includes(r))}function eye(t){let e=Wl(t);for(;ca(e)&&!ap(e);){if(nT(e))return e;if(c1(e))return null;e=Wl(e)}return null}function rT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tye=new Set(["html","body","#document"]);function ap(t){return tye.has(Op(t))}function bo(t){return hi(t).getComputedStyle(t)}function u1(t){return vo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wl(t){if(Op(t)==="html")return t;const e=t.assignedSlot||t.parentNode||NI(t)&&t.host||fa(t);return NI(e)?e.host:e}function RF(t){const e=Wl(t);return ap(e)?t.ownerDocument?t.ownerDocument.body:t.body:ca(e)&&Mv(e)?e:RF(e)}function Eg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=RF(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=hi(i);if(o){const s=zE(a);return e.concat(a,a.visualViewport||[],Mv(i)?i:[],s&&n?Eg(s):[])}return e.concat(i,Eg(i,[],n))}function zE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function IF(t){const e=bo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ca(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=b0(n)!==o||b0(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function iT(t){return vo(t)?t:t.contextElement}function Yh(t){const e=iT(t);if(!ca(e))return sa(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=IF(e);let a=(o?b0(n.width):n.width)/r,s=(o?b0(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const nye=sa(0);function NF(t){const e=hi(t);return!rT()||!e.visualViewport?nye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hi(t)?!1:e}function Zu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=iT(t);let a=sa(1);e&&(r?vo(r)&&(a=Yh(r)):a=Yh(t));const s=rye(o,n,r)?NF(o):sa(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(o){const f=hi(o),p=r&&vo(r)?hi(r):r;let m=f,g=zE(m);for(;g&&r&&p!==m;){const y=Yh(g),v=g.getBoundingClientRect(),w=bo(g),x=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,E=v.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,h*=y.y,l+=x,c+=E,m=hi(g),g=zE(m)}}return w0({width:u,height:h,x:l,y:c})}function h1(t,e){const n=u1(t).scrollLeft;return e?e.left+n:Zu(fa(t)).left+n}function jF(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-h1(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function iye(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=fa(r),s=e?c1(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=sa(1);const u=sa(0),h=ca(r);if((h||!h&&!o)&&((Op(r)!=="body"||Mv(a))&&(l=u1(r)),ca(r))){const p=Zu(r);c=Yh(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=a&&!h&&!o?jF(a,l):sa(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function oye(t){return Array.from(t.getClientRects())}function aye(t){const e=fa(t),n=u1(t),r=t.ownerDocument.body,i=si(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=si(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+h1(t);const s=-n.scrollTop;return bo(r).direction==="rtl"&&(a+=si(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const jI=25;function sye(t,e){const n=hi(t),r=fa(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=rT();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=h1(r);if(c<=0){const u=r.ownerDocument,h=u.body,f=getComputedStyle(h),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-h.clientWidth-p);m<=jI&&(o-=m)}else c<=jI&&(o+=c);return{width:o,height:a,x:s,y:l}}const lye=new Set(["absolute","fixed"]);function cye(t,e){const n=Zu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ca(t)?Yh(t):sa(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function DI(t,e,n){let r;if(e==="viewport")r=sye(t,n);else if(e==="document")r=aye(fa(t));else if(vo(e))r=cye(e,n);else{const i=NF(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return w0(r)}function DF(t,e){const n=Wl(t);return n===e||!vo(n)||ap(n)?!1:bo(n).position==="fixed"||DF(n,e)}function uye(t,e){const n=e.get(t);if(n)return n;let r=Eg(t,[],!1).filter(s=>vo(s)&&Op(s)!=="body"),i=null;const o=bo(t).position==="fixed";let a=o?Wl(t):t;for(;vo(a)&&!ap(a);){const s=bo(a),l=nT(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&lye.has(i.position)||Mv(a)&&!l&&DF(t,a))?r=r.filter(u=>u!==a):i=s,a=Wl(a)}return e.set(t,r),r}function hye(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?c1(e)?[]:uye(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const h=DI(e,u,i);return c.top=si(h.top,c.top),c.right=Vl(h.right,c.right),c.bottom=Vl(h.bottom,c.bottom),c.left=si(h.left,c.left),c},DI(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dye(t){const{width:e,height:n}=IF(t);return{width:e,height:n}}function fye(t,e,n){const r=ca(e),i=fa(e),o=n==="fixed",a=Zu(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=sa(0);function c(){l.x=h1(i)}if(r||!r&&!o)if((Op(e)!=="body"||Mv(i))&&(s=u1(e)),r){const p=Zu(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?jF(i,s):sa(0),h=a.left+s.scrollLeft-l.x-u.x,f=a.top+s.scrollTop-l.y-u.y;return{x:h,y:f,width:a.width,height:a.height}}function xA(t){return bo(t).position==="static"}function LI(t,e){if(!ca(t)||bo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fa(t)===n&&(n=n.ownerDocument.body),n}function LF(t,e){const n=hi(t);if(c1(t))return n;if(!ca(t)){let i=Wl(t);for(;i&&!ap(i);){if(vo(i)&&!xA(i))return i;i=Wl(i)}return n}let r=LI(t,e);for(;r&&Xge(r)&&xA(r);)r=LI(r,e);return r&&ap(r)&&xA(r)&&!nT(r)?n:r||eye(t)||n}const pye=async function(t){const e=this.getOffsetParent||LF,n=this.getDimensions,r=await n(t.floating);return{reference:fye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mye(t){return bo(t).direction==="rtl"}const gye={convertOffsetParentRelativeRectToViewportRelativeRect:iye,getDocumentElement:fa,getClippingRect:hye,getOffsetParent:LF,getElementRects:pye,getClientRects:oye,getDimensions:dye,getScale:Yh,isElement:vo,isRTL:mye};function $F(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yye(t,e){let n=null,r;const i=fa(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(s||e(),!f||!p)return;const m=ab(h),g=ab(i.clientWidth-(u+f)),y=ab(i.clientHeight-(h+p)),v=ab(u),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-v+"px",threshold:si(0,Vl(1,l))||1};let E=!0;function A(S){const _=S[0].intersectionRatio;if(_!==l){if(!E)return a();_?a(!1,_):r=setTimeout(()=>{a(!1,1e-7)},1e3)}_===1&&!$F(c,t.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(A,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,x)}n.observe(t)}return a(!0),o}function vye(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=iT(t),u=i||o?[...c?Eg(c):[],...Eg(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const h=c&&s?yye(c,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Zu(t):null;l&&y();function y(){const v=Zu(t);g&&!$F(g,v)&&n(),g=v,m=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const bye=Hge,xye=Vge,wye=Bge,Aye=Gge,Sye=zge,$I=Fge,Eye=Wge,Cye=(t,e,n)=>{const r=new Map,i={platform:gye,...n},o={...i.platform,_c:r};return $ge(t,e,{...i,platform:o})};var _ye=typeof document<"u",Pye=function(){},kb=_ye?P.useLayoutEffect:Pye;function A0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!A0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!A0(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function FF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FI(t,e){const n=FF(t);return Math.round(e*n)/n}function wA(t){const e=P.useRef(t);return kb(()=>{e.current=t}),e}function Tye(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,h]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=P.useState(r);A0(f,r)||p(r);const[m,g]=P.useState(null),[y,v]=P.useState(null),w=P.useCallback(H=>{H!==S.current&&(S.current=H,g(H))},[]),x=P.useCallback(H=>{H!==_.current&&(_.current=H,v(H))},[]),E=o||m,A=a||y,S=P.useRef(null),_=P.useRef(null),O=P.useRef(u),I=l!=null,M=wA(l),R=wA(i),N=wA(c),L=P.useCallback(()=>{if(!S.current||!_.current)return;const H={placement:e,strategy:n,middleware:f};R.current&&(H.platform=R.current),Cye(S.current,_.current,H).then(W=>{const j={...W,isPositioned:N.current!==!1};F.current&&!A0(O.current,j)&&(O.current=j,mv.flushSync(()=>{h(j)}))})},[f,e,n,R,N]);kb(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[c]);const F=P.useRef(!1);kb(()=>(F.current=!0,()=>{F.current=!1}),[]),kb(()=>{if(E&&(S.current=E),A&&(_.current=A),E&&A){if(M.current)return M.current(E,A,L);L()}},[E,A,L,M,I]);const z=P.useMemo(()=>({reference:S,floating:_,setReference:w,setFloating:x}),[w,x]),$=P.useMemo(()=>({reference:E,floating:A}),[E,A]),U=P.useMemo(()=>{const H={position:n,left:0,top:0};if(!$.floating)return H;const W=FI($.floating,u.x),j=FI($.floating,u.y);return s?{...H,transform:"translate("+W+"px, "+j+"px)",...FF($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:j}},[n,s,$.floating,u.x,u.y]);return P.useMemo(()=>({...u,update:L,refs:z,elements:$,floatingStyles:U}),[u,L,z,$,U])}const kye=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$I({element:r.current,padding:i}).fn(n):{}:r?$I({element:r,padding:i}).fn(n):{}}}},Oye=(t,e)=>({...bye(t),options:[t,e]}),Mye=(t,e)=>({...xye(t),options:[t,e]}),Rye=(t,e)=>({...Eye(t),options:[t,e]}),Iye=(t,e)=>({...wye(t),options:[t,e]}),Nye=(t,e)=>({...Aye(t),options:[t,e]}),jye=(t,e)=>({...Sye(t),options:[t,e]}),Dye=(t,e)=>({...kye(t),options:[t,e]});var Lye="Arrow",BF=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return b.jsx(ft.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});BF.displayName=Lye;var $ye=BF;function Fye(t){const[e,n]=P.useState(void 0);return rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var oT="Popper",[zF,d1]=Tp(oT),[Bye,UF]=zF(oT),HF=t=>{const{__scopePopper:e,children:n}=t,[r,i]=P.useState(null);return b.jsx(Bye,{scope:e,anchor:r,onAnchorChange:i,children:n})};HF.displayName=oT;var VF="PopperAnchor",WF=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=UF(VF,n),a=P.useRef(null),s=hn(e,a),l=P.useRef(null);return P.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||a.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:b.jsx(ft.div,{...i,ref:s})});WF.displayName=VF;var aT="PopperContent",[zye,Uye]=zF(aT),GF=P.forwardRef((t,e)=>{var ie,pe,J,Z,re,V;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,y=UF(aT,n),[v,w]=P.useState(null),x=hn(e,te=>w(te)),[E,A]=P.useState(null),S=Fye(E),_=(S==null?void 0:S.width)??0,O=(S==null?void 0:S.height)??0,I=r+(o!=="center"?"-"+o:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(c)?c:[c],N=R.length>0,L={padding:M,boundary:R.filter(Vye),altBoundary:N},{refs:F,floatingStyles:z,placement:$,isPositioned:U,middlewareData:H}=Tye({strategy:"fixed",placement:I,whileElementsMounted:(...te)=>vye(...te,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[Oye({mainAxis:i+O,alignmentAxis:a}),l&&Mye({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Rye():void 0,...L}),l&&Iye({...L}),Nye({...L,apply:({elements:te,rects:ae,availableWidth:xe,availableHeight:be})=>{const{width:Be,height:Ut}=ae.reference,Ht=te.floating.style;Ht.setProperty("--radix-popper-available-width",`${xe}px`),Ht.setProperty("--radix-popper-available-height",`${be}px`),Ht.setProperty("--radix-popper-anchor-width",`${Be}px`),Ht.setProperty("--radix-popper-anchor-height",`${Ut}px`)}}),E&&Dye({element:E,padding:s}),Wye({arrowWidth:_,arrowHeight:O}),f&&jye({strategy:"referenceHidden",...L})]}),[W,j]=XF($),X=Hl(m);rr(()=>{U&&(X==null||X())},[U,X]);const q=(ie=H.arrow)==null?void 0:ie.x,D=(pe=H.arrow)==null?void 0:pe.y,le=((J=H.arrow)==null?void 0:J.centerOffset)!==0,[ve,ye]=P.useState();return rr(()=>{v&&ye(window.getComputedStyle(v).zIndex)},[v]),b.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:U?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(Z=H.transformOrigin)==null?void 0:Z.x,(re=H.transformOrigin)==null?void 0:re.y].join(" "),...((V=H.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(zye,{scope:n,placedSide:W,onArrowChange:A,arrowX:q,arrowY:D,shouldHideArrow:le,children:b.jsx(ft.div,{"data-side":W,"data-align":j,...g,ref:x,style:{...g.style,animation:U?void 0:"none"}})})})});GF.displayName=aT;var qF="PopperArrow",Hye={top:"bottom",right:"left",bottom:"top",left:"right"},KF=P.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=Uye(qF,r),a=Hye[o.placedSide];return b.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:b.jsx($ye,{...i,ref:n,style:{...i.style,display:"block"}})})});KF.displayName=qF;function Vye(t){return t!==null}var Wye=t=>({name:"transformOrigin",options:t,fn(e){var y,v,w;const{placement:n,rects:r,middlewareData:i}=e,a=((y=i.arrow)==null?void 0:y.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=XF(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((v=i.arrow)==null?void 0:v.x)??0)+s/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=a?h:`${f}px`,g=`${-l}px`):c==="top"?(m=a?h:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=a?h:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=a?h:`${p}px`),{data:{x:m,y:g}}}});function XF(t){const[e,n="center"]=t.split("-");return[e,n]}var YF=HF,JF=WF,ZF=GF,QF=KF,Gye="Portal",eB=P.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=P.useState(!1);rr(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?M4.createPortal(b.jsx(ft.div,{...r,ref:e}),a):null});eB.displayName=Gye;function qye(t){const e=Kye(t),n=P.forwardRef((r,i)=>{const{children:o,...a}=r,s=P.Children.toArray(o),l=s.find(Yye);if(l){const c=l.props.children,u=s.map(h=>h===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:h);return b.jsx(e,{...a,ref:i,children:P.isValidElement(c)?P.cloneElement(c,void 0,u):null})}return b.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function Kye(t){const e=P.forwardRef((n,r)=>{const{children:i,...o}=n;if(P.isValidElement(i)){const a=Zye(i),s=Jye(o,i.props);return i.type!==P.Fragment&&(s.ref=r?a1(r,a):a),P.cloneElement(i,s)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Xye=Symbol("radix.slottable");function Yye(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xye}function Jye(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Zye(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Qye(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var tB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eve="VisuallyHidden",tve=P.forwardRef((t,e)=>b.jsx(ft.span,{...t,ref:e,style:{...tB,...t.style}}));tve.displayName=eve;var nve=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vh=new WeakMap,sb=new WeakMap,lb={},AA=0,nB=function(t){return t&&(t.host||nB(t.parentNode))},rve=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=nB(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ive=function(t,e,n,r){var i=rve(e,Array.isArray(t)?t:[t]);lb[n]||(lb[n]=new WeakMap);var o=lb[n],a=[],s=new Set,l=new Set(i),c=function(h){!h||s.has(h)||(s.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(s.has(f))u(f);else try{var p=f.getAttribute(r),m=p!==null&&p!=="false",g=(vh.get(f)||0)+1,y=(o.get(f)||0)+1;vh.set(f,g),o.set(f,y),a.push(f),g===1&&m&&sb.set(f,!0),y===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),s.clear(),AA++,function(){a.forEach(function(h){var f=vh.get(h)-1,p=o.get(h)-1;vh.set(h,f),o.set(h,p),f||(sb.has(h)||h.removeAttribute(r),sb.delete(h)),p||h.removeAttribute(n)}),AA--,AA||(vh=new WeakMap,vh=new WeakMap,sb=new WeakMap,lb={})}},ove=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=nve(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),ive(r,i,n,"aria-hidden")):function(){return null}},Qo=function(){return Qo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Qo.apply(this,arguments)};function rB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ave(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Ob="right-scroll-bar-position",Mb="width-before-scroll-bar",sve="with-scroll-bars-hidden",lve="--removed-body-scroll-bar-size";function SA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cve(t,e){var n=P.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var uve=typeof window<"u"?P.useLayoutEffect:P.useEffect,BI=new WeakMap;function hve(t,e){var n=cve(null,function(r){return t.forEach(function(i){return SA(i,r)})});return uve(function(){var r=BI.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||SA(s,null)}),o.forEach(function(s){i.has(s)||SA(s,a)})}BI.set(n,t)},[t]),n}function dve(t){return t}function fve(t,e){e===void 0&&(e=dve);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function pve(t){t===void 0&&(t={});var e=fve(null);return e.options=Qo({async:!0,ssr:!1},t),e}var iB=function(t){var e=t.sideCar,n=rB(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,Qo({},n))};iB.isSideCarExport=!0;function mve(t,e){return t.useMedium(e),iB}var oB=pve(),EA=function(){},f1=P.forwardRef(function(t,e){var n=P.useRef(null),r=P.useState({onScrollCapture:EA,onWheelCapture:EA,onTouchMoveCapture:EA}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,m=t.noIsolation,g=t.inert,y=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,x=t.gapMode,E=rB(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,S=hve([n,e]),_=Qo(Qo({},E),i);return P.createElement(P.Fragment,null,u&&P.createElement(A,{sideCar:oB,removeScrollBar:c,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:x}),a?P.cloneElement(P.Children.only(s),Qo(Qo({},_),{ref:S})):P.createElement(w,Qo({},_,{className:l,ref:S}),s))});f1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};f1.classNames={fullWidth:Mb,zeroRight:Ob};var gve=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yve(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=gve();return e&&t.setAttribute("nonce",e),t}function vve(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bve(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xve=function(){var t=0,e=null;return{add:function(n){t==0&&(e=yve())&&(vve(e,n),bve(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wve=function(){var t=xve();return function(e,n){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aB=function(){var t=wve(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Ave={left:0,top:0,right:0,gap:0},CA=function(t){return parseInt(t||"",10)||0},Sve=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[CA(n),CA(r),CA(i)]},Eve=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ave;var e=Sve(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Cve=aB(),Jh="data-scroll-locked",_ve=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(sve,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Jh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ob,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Mb,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Ob," .").concat(Ob,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mb," .").concat(Mb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jh,`] {
    `).concat(lve,": ").concat(s,`px;
  }
`)},zI=function(){var t=parseInt(document.body.getAttribute(Jh)||"0",10);return isFinite(t)?t:0},Pve=function(){P.useEffect(function(){return document.body.setAttribute(Jh,(zI()+1).toString()),function(){var t=zI()-1;t<=0?document.body.removeAttribute(Jh):document.body.setAttribute(Jh,t.toString())}},[])},Tve=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Pve();var o=P.useMemo(function(){return Eve(i)},[i]);return P.createElement(Cve,{styles:_ve(o,!e,i,n?"":"!important")})},UE=!1;if(typeof window<"u")try{var cb=Object.defineProperty({},"passive",{get:function(){return UE=!0,!0}});window.addEventListener("test",cb,cb),window.removeEventListener("test",cb,cb)}catch{UE=!1}var bh=UE?{passive:!1}:!1,kve=function(t){return t.tagName==="TEXTAREA"},sB=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kve(t)&&n[e]==="visible")},Ove=function(t){return sB(t,"overflowY")},Mve=function(t){return sB(t,"overflowX")},UI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=lB(t,r);if(i){var o=cB(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Rve=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Ive=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},lB=function(t,e){return t==="v"?Ove(e):Mve(e)},cB=function(t,e){return t==="v"?Rve(e):Ive(e)},Nve=function(t,e){return t==="h"&&e==="rtl"?-1:1},jve=function(t,e,n,r,i){var o=Nve(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,u=a>0,h=0,f=0;do{if(!s)break;var p=cB(t,s),m=p[0],g=p[1],y=p[2],v=g-y-o*m;(m||v)&&lB(t,s)&&(h+=v,f+=m);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(c=!0),c},ub=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HI=function(t){return[t.deltaX,t.deltaY]},VI=function(t){return t&&"current"in t?t.current:t},Dve=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Lve=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$ve=0,xh=[];function Fve(t){var e=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState($ve++)[0],o=P.useState(aB)[0],a=P.useRef(t);P.useEffect(function(){a.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=ave([t.lockRef.current],(t.shards||[]).map(VI),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=P.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var v=ub(g),w=n.current,x="deltaX"in g?g.deltaX:w[0]-v[0],E="deltaY"in g?g.deltaY:w[1]-v[1],A,S=g.target,_=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in g&&_==="h"&&S.type==="range")return!1;var O=window.getSelection(),I=O&&O.anchorNode,M=I?I===S||I.contains(S):!1;if(M)return!1;var R=UI(_,S);if(!R)return!0;if(R?A=_:(A=_==="v"?"h":"v",R=UI(_,S)),!R)return!1;if(!r.current&&"changedTouches"in g&&(x||E)&&(r.current=A),!A)return!0;var N=r.current||A;return jve(N,y,g,N==="h"?x:E)},[]),l=P.useCallback(function(g){var y=g;if(!(!xh.length||xh[xh.length-1]!==o)){var v="deltaY"in y?HI(y):ub(y),w=e.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&Dve(A.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var x=(a.current.shards||[]).map(VI).filter(Boolean).filter(function(A){return A.contains(y.target)}),E=x.length>0?s(y,x[0]):!a.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=P.useCallback(function(g,y,v,w){var x={name:g,delta:y,target:v,should:w,shadowParent:Bve(v)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(E){return E!==x})},1)},[]),u=P.useCallback(function(g){n.current=ub(g),r.current=void 0},[]),h=P.useCallback(function(g){c(g.type,HI(g),g.target,s(g,t.lockRef.current))},[]),f=P.useCallback(function(g){c(g.type,ub(g),g.target,s(g,t.lockRef.current))},[]);P.useEffect(function(){return xh.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,bh),document.addEventListener("touchmove",l,bh),document.addEventListener("touchstart",u,bh),function(){xh=xh.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,bh),document.removeEventListener("touchmove",l,bh),document.removeEventListener("touchstart",u,bh)}},[]);var p=t.removeScrollBar,m=t.inert;return P.createElement(P.Fragment,null,m?P.createElement(o,{styles:Lve(i)}):null,p?P.createElement(Tve,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Bve(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zve=mve(oB,Fve);var uB=P.forwardRef(function(t,e){return P.createElement(f1,Qo({},t,{ref:e,sideCar:zve}))});uB.classNames=f1.classNames;var Uve=[" ","Enter","ArrowUp","ArrowDown"],Hve=[" ","Enter"],Qu="Select",[p1,m1,Vve]=iF(Qu),[Mp]=Tp(Qu,[Vve,d1]),g1=d1(),[Wve,tc]=Mp(Qu),[Gve,qve]=Mp(Qu),hB=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:f,required:p,form:m}=t,g=g1(e),[y,v]=P.useState(null),[w,x]=P.useState(null),[E,A]=P.useState(!1),S=XP(c),[_,O]=Ag({prop:r,defaultProp:i??!1,onChange:o,caller:Qu}),[I,M]=Ag({prop:a,defaultProp:s,onChange:l,caller:Qu}),R=P.useRef(null),N=y?m||!!y.closest("form"):!0,[L,F]=P.useState(new Set),z=Array.from(L).map($=>$.props.value).join(";");return b.jsx(YF,{...g,children:b.jsxs(Wve,{required:p,scope:e,trigger:y,onTriggerChange:v,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:E,onValueNodeHasChildrenChange:A,contentId:kv(),value:I,onValueChange:M,open:_,onOpenChange:O,dir:S,triggerPointerDownPosRef:R,disabled:f,children:[b.jsx(p1.Provider,{scope:e,children:b.jsx(Gve,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback($=>{F(U=>new Set(U).add($))},[]),onNativeOptionRemove:P.useCallback($=>{F(U=>{const H=new Set(U);return H.delete($),H})},[]),children:n})}),N?b.jsxs(IB,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:$=>M($.target.value),disabled:f,form:m,children:[I===void 0?b.jsx("option",{value:""}):null,Array.from(L)]},z):null]})})};hB.displayName=Qu;var dB="SelectTrigger",fB=P.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=g1(n),a=tc(dB,n),s=a.disabled||r,l=hn(e,a.onTriggerChange),c=m1(n),u=P.useRef("touch"),[h,f,p]=jB(g=>{const y=c().filter(x=>!x.disabled),v=y.find(x=>x.value===a.value),w=DB(y,g,v);w!==void 0&&a.onValueChange(w.value)}),m=g=>{s||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return b.jsx(JF,{asChild:!0,...o,children:b.jsx(ft.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":NB(a.value)?"":void 0,...i,ref:l,onClick:Ue(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&m(g)}),onPointerDown:Ue(i.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:Ue(i.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&Uve.includes(g.key)&&(m(),g.preventDefault())})})})});fB.displayName=dB;var pB="SelectValue",mB=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,l=tc(pB,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,h=hn(e,l.onValueNodeChange);return rr(()=>{c(u)},[c,u]),b.jsx(ft.span,{...s,ref:h,style:{pointerEvents:"none"},children:NB(l.value)?b.jsx(b.Fragment,{children:a}):o})});mB.displayName=pB;var Kve="SelectIcon",gB=P.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return b.jsx(ft.span,{"aria-hidden":!0,...i,ref:e,children:r||"â–¼"})});gB.displayName=Kve;var Xve="SelectPortal",yB=t=>b.jsx(eB,{asChild:!0,...t});yB.displayName=Xve;var eh="SelectContent",vB=P.forwardRef((t,e)=>{const n=tc(eh,t.__scopeSelect),[r,i]=P.useState();if(rr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?mv.createPortal(b.jsx(bB,{scope:t.__scopeSelect,children:b.jsx(p1.Slot,{scope:t.__scopeSelect,children:b.jsx("div",{children:t.children})})}),o):null}return b.jsx(xB,{...t,ref:e})});vB.displayName=eh;var Yi=10,[bB,nc]=Mp(eh),Yve="SelectContentImpl",Jve=qye("SelectContent.RemoveScroll"),xB=P.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y,...v}=t,w=tc(eh,n),[x,E]=P.useState(null),[A,S]=P.useState(null),_=hn(e,ie=>E(ie)),[O,I]=P.useState(null),[M,R]=P.useState(null),N=m1(n),[L,F]=P.useState(!1),z=P.useRef(!1);P.useEffect(()=>{if(x)return ove(x)},[x]),bge();const $=P.useCallback(ie=>{const[pe,...J]=N().map(V=>V.ref.current),[Z]=J.slice(-1),re=document.activeElement;for(const V of ie)if(V===re||(V==null||V.scrollIntoView({block:"nearest"}),V===pe&&A&&(A.scrollTop=0),V===Z&&A&&(A.scrollTop=A.scrollHeight),V==null||V.focus(),document.activeElement!==re))return},[N,A]),U=P.useCallback(()=>$([O,x]),[$,O,x]);P.useEffect(()=>{L&&U()},[L,U]);const{onOpenChange:H,triggerPointerDownPosRef:W}=w;P.useEffect(()=>{if(x){let ie={x:0,y:0};const pe=Z=>{var re,V;ie={x:Math.abs(Math.round(Z.pageX)-(((re=W.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((V=W.current)==null?void 0:V.y)??0))}},J=Z=>{ie.x<=10&&ie.y<=10?Z.preventDefault():x.contains(Z.target)||H(!1),document.removeEventListener("pointermove",pe),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",J,{capture:!0})}}},[x,H,W]),P.useEffect(()=>{const ie=()=>H(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[H]);const[j,X]=jB(ie=>{const pe=N().filter(re=>!re.disabled),J=pe.find(re=>re.ref.current===document.activeElement),Z=DB(pe,ie,J);Z&&setTimeout(()=>Z.ref.current.focus())}),q=P.useCallback((ie,pe,J)=>{const Z=!z.current&&!J;(w.value!==void 0&&w.value===pe||Z)&&(I(ie),Z&&(z.current=!0))},[w.value]),D=P.useCallback(()=>x==null?void 0:x.focus(),[x]),le=P.useCallback((ie,pe,J)=>{const Z=!z.current&&!J;(w.value!==void 0&&w.value===pe||Z)&&R(ie)},[w.value]),ve=r==="popper"?HE:wB,ye=ve===HE?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y}:{};return b.jsx(bB,{scope:n,content:x,viewport:A,onViewportChange:S,itemRefCallback:q,selectedItem:O,onItemLeave:D,itemTextRefCallback:le,focusSelectedItem:U,selectedItemText:M,position:r,isPositioned:L,searchRef:j,children:b.jsx(uB,{as:Jve,allowPinchZoom:!0,children:b.jsx(PF,{asChild:!0,trapped:w.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ue(i,ie=>{var pe;(pe=w.trigger)==null||pe.focus({preventScroll:!0}),ie.preventDefault()}),children:b.jsx(ZP,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:b.jsx(ve,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ie=>ie.preventDefault(),...v,...ye,onPlaced:()=>F(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ue(v.onKeyDown,ie=>{const pe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!pe&&ie.key.length===1&&X(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Z=N().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const re=ie.target,V=Z.indexOf(re);Z=Z.slice(V+1)}setTimeout(()=>$(Z)),ie.preventDefault()}})})})})})})});xB.displayName=Yve;var Zve="SelectItemAlignedPosition",wB=P.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=tc(eh,n),a=nc(eh,n),[s,l]=P.useState(null),[c,u]=P.useState(null),h=hn(e,_=>u(_)),f=m1(n),p=P.useRef(!1),m=P.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:w}=a,x=P.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&g&&y&&v){const _=o.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),M=v.getBoundingClientRect();if(o.dir!=="rtl"){const re=M.left-O.left,V=I.left-re,te=_.left-V,ae=_.width+te,xe=Math.max(ae,O.width),be=window.innerWidth-Yi,Be=wI(V,[Yi,Math.max(Yi,be-xe)]);s.style.minWidth=ae+"px",s.style.left=Be+"px"}else{const re=O.right-M.right,V=window.innerWidth-I.right-re,te=window.innerWidth-_.right-V,ae=_.width+te,xe=Math.max(ae,O.width),be=window.innerWidth-Yi,Be=wI(V,[Yi,Math.max(Yi,be-xe)]);s.style.minWidth=ae+"px",s.style.right=Be+"px"}const R=f(),N=window.innerHeight-Yi*2,L=g.scrollHeight,F=window.getComputedStyle(c),z=parseInt(F.borderTopWidth,10),$=parseInt(F.paddingTop,10),U=parseInt(F.borderBottomWidth,10),H=parseInt(F.paddingBottom,10),W=z+$+L+H+U,j=Math.min(y.offsetHeight*5,W),X=window.getComputedStyle(g),q=parseInt(X.paddingTop,10),D=parseInt(X.paddingBottom,10),le=_.top+_.height/2-Yi,ve=N-le,ye=y.offsetHeight/2,ie=y.offsetTop+ye,pe=z+$+ie,J=W-pe;if(pe<=le){const re=R.length>0&&y===R[R.length-1].ref.current;s.style.bottom="0px";const V=c.clientHeight-g.offsetTop-g.offsetHeight,te=Math.max(ve,ye+(re?D:0)+V+U),ae=pe+te;s.style.height=ae+"px"}else{const re=R.length>0&&y===R[0].ref.current;s.style.top="0px";const te=Math.max(le,z+g.offsetTop+(re?q:0)+ye)+J;s.style.height=te+"px",g.scrollTop=pe-le+g.offsetTop}s.style.margin=`${Yi}px 0`,s.style.minHeight=j+"px",s.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,o.trigger,o.valueNode,s,c,g,y,v,o.dir,r]);rr(()=>x(),[x]);const[E,A]=P.useState();rr(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const S=P.useCallback(_=>{_&&m.current===!0&&(x(),w==null||w(),m.current=!1)},[x,w]);return b.jsx(ebe,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:b.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:b.jsx(ft.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});wB.displayName=Zve;var Qve="SelectPopperPosition",HE=P.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Yi,...o}=t,a=g1(n);return b.jsx(ZF,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});HE.displayName=Qve;var[ebe,sT]=Mp(eh,{}),VE="SelectViewport",AB=P.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=nc(VE,n),a=sT(VE,n),s=hn(e,o.onViewportChange),l=P.useRef(0);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),b.jsx(p1.Slot,{scope:n,children:b.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ue(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const p=Math.abs(l.current-u.scrollTop);if(p>0){const m=window.innerHeight-Yi*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),v=Math.max(g,y);if(v<m){const w=v+p,x=Math.min(m,w),E=w-x;h.style.height=x+"px",h.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});AB.displayName=VE;var SB="SelectGroup",[tbe,nbe]=Mp(SB),rbe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=kv();return b.jsx(tbe,{scope:n,id:i,children:b.jsx(ft.div,{role:"group","aria-labelledby":i,...r,ref:e})})});rbe.displayName=SB;var EB="SelectLabel",CB=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=nbe(EB,n);return b.jsx(ft.div,{id:i.id,...r,ref:e})});CB.displayName=EB;var S0="SelectItem",[ibe,_B]=Mp(S0),PB=P.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=tc(S0,n),l=nc(S0,n),c=s.value===r,[u,h]=P.useState(o??""),[f,p]=P.useState(!1),m=hn(e,w=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,w,r,i)}),g=kv(),y=P.useRef("touch"),v=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return b.jsx(ibe,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:P.useCallback(w=>{h(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:b.jsx(p1.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:b.jsx(ft.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:m,onFocus:Ue(a.onFocus,()=>p(!0)),onBlur:Ue(a.onBlur,()=>p(!1)),onClick:Ue(a.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Ue(a.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Ue(a.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Ue(a.onPointerMove,w=>{var x;y.current=w.pointerType,i?(x=l.onItemLeave)==null||x.call(l):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(a.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Ue(a.onKeyDown,w=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(Hve.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});PB.displayName=S0;var am="SelectItemText",TB=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=tc(am,n),s=nc(am,n),l=_B(am,n),c=qve(am,n),[u,h]=P.useState(null),f=hn(e,v=>h(v),l.onItemTextChange,v=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,v,l.value,l.disabled)}),p=u==null?void 0:u.textContent,m=P.useMemo(()=>b.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=c;return rr(()=>(g(m),()=>y(m)),[g,y,m]),b.jsxs(b.Fragment,{children:[b.jsx(ft.span,{id:l.textId,...o,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?mv.createPortal(o.children,a.valueNode):null]})});TB.displayName=am;var kB="SelectItemIndicator",OB=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _B(kB,n).isSelected?b.jsx(ft.span,{"aria-hidden":!0,...r,ref:e}):null});OB.displayName=kB;var WE="SelectScrollUpButton",obe=P.forwardRef((t,e)=>{const n=nc(WE,t.__scopeSelect),r=sT(WE,t.__scopeSelect),[i,o]=P.useState(!1),a=hn(e,r.onScrollButtonChange);return rr(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?b.jsx(MB,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});obe.displayName=WE;var GE="SelectScrollDownButton",abe=P.forwardRef((t,e)=>{const n=nc(GE,t.__scopeSelect),r=sT(GE,t.__scopeSelect),[i,o]=P.useState(!1),a=hn(e,r.onScrollButtonChange);return rr(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?b.jsx(MB,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});abe.displayName=GE;var MB=P.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=nc("SelectScrollButton",n),a=P.useRef(null),s=m1(n),l=P.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return P.useEffect(()=>()=>l(),[l]),rr(()=>{var u;const c=s().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),b.jsx(ft.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ue(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ue(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ue(i.onPointerLeave,()=>{l()})})}),sbe="SelectSeparator",RB=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return b.jsx(ft.div,{"aria-hidden":!0,...r,ref:e})});RB.displayName=sbe;var qE="SelectArrow",lbe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=g1(n),o=tc(qE,n),a=nc(qE,n);return o.open&&a.position==="popper"?b.jsx(QF,{...i,...r,ref:e}):null});lbe.displayName=qE;var cbe="SelectBubbleInput",IB=P.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=P.useRef(null),o=hn(r,i),a=Qye(e);return P.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const h=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(h)}},[a,e]),b.jsx(ft.select,{...n,style:{...tB,...n.style},ref:o,defaultValue:e})});IB.displayName=cbe;function NB(t){return t===""||t===void 0}function jB(t){const e=Hl(t),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(a=>{const s=n.current+a;e(s),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),o=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function DB(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=ube(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function ube(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var hbe=hB,LB=fB,dbe=mB,fbe=gB,pbe=yB,$B=vB,mbe=AB,FB=CB,BB=PB,gbe=TB,ybe=OB,zB=RB;const wh=hbe,Ah=dbe,mc=P.forwardRef(({className:t,children:e,style:n,...r},i)=>b.jsxs(LB,{ref:i,className:Bt("flex h-10 w-full items-center justify-between px-3 py-2 text-sm focus:outline-none disabled:cursor-not-allowed disabled:opacity-50",t),style:{background:"rgba(15, 23, 42, 0.8)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-sm)",color:"var(--color-text-primary)",...n},...r,children:[e,b.jsx(fbe,{asChild:!0,children:b.jsx(Tj,{className:"h-4 w-4",style:{color:"var(--color-text-secondary)"}})})]}));mc.displayName=LB.displayName;const gc=P.forwardRef(({className:t,children:e,position:n="popper",style:r,...i},o)=>b.jsx(pbe,{children:b.jsx($B,{ref:o,className:Bt("relative z-50 min-w-[8rem] overflow-hidden animate-in fade-in-80",n==="popper"&&"translate-y-1",t),style:{background:"rgba(15, 23, 42, 0.98)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-strong)",color:"var(--color-text-primary)",...r},position:n,...i,children:b.jsx(mbe,{className:Bt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));gc.displayName=$B.displayName;const vbe=P.forwardRef(({className:t,style:e,...n},r)=>b.jsx(FB,{ref:r,className:Bt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),style:{color:"var(--color-text-secondary)",...e},...n}));vbe.displayName=FB.displayName;const Pt=P.forwardRef(({className:t,children:e,style:n,...r},i)=>b.jsxs(BB,{ref:i,className:Bt("relative flex w-full cursor-default select-none items-center py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),style:{borderRadius:"var(--radius-xs)",color:"var(--color-text-primary)",...n},...r,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(ybe,{children:b.jsx(z4,{className:"h-4 w-4",style:{color:"var(--color-accent)"}})})}),b.jsx(gbe,{children:e})]}));Pt.displayName=BB.displayName;const bbe=P.forwardRef(({className:t,...e},n)=>b.jsx(zB,{ref:n,className:Bt("-mx-1 my-1 h-px bg-gray-100",t),...e}));bbe.displayName=zB.displayName;var _A,y1="HoverCard",[UB]=Tp(y1,[d1]),v1=d1(),[xbe,lT]=UB(y1),HB=t=>{const{__scopeHoverCard:e,children:n,open:r,defaultOpen:i,onOpenChange:o,openDelay:a=700,closeDelay:s=300}=t,l=v1(e),c=P.useRef(0),u=P.useRef(0),h=P.useRef(!1),f=P.useRef(!1),[p,m]=Ag({prop:r,defaultProp:i??!1,onChange:o,caller:y1}),g=P.useCallback(()=>{clearTimeout(u.current),c.current=window.setTimeout(()=>m(!0),a)},[a,m]),y=P.useCallback(()=>{clearTimeout(c.current),!h.current&&!f.current&&(u.current=window.setTimeout(()=>m(!1),s))},[s,m]),v=P.useCallback(()=>m(!1),[m]);return P.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(u.current)},[]),b.jsx(xbe,{scope:e,open:p,onOpenChange:m,onOpen:g,onClose:y,onDismiss:v,hasSelectionRef:h,isPointerDownOnContentRef:f,children:b.jsx(YF,{...l,children:n})})};HB.displayName=y1;var VB="HoverCardTrigger",WB=P.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=lT(VB,n),o=v1(n);return b.jsx(JF,{asChild:!0,...o,children:b.jsx(ft.a,{"data-state":i.open?"open":"closed",...r,ref:e,onPointerEnter:Ue(t.onPointerEnter,C0(i.onOpen)),onPointerLeave:Ue(t.onPointerLeave,C0(i.onClose)),onFocus:Ue(t.onFocus,i.onOpen),onBlur:Ue(t.onBlur,i.onClose),onTouchStart:Ue(t.onTouchStart,a=>a.preventDefault())})})});WB.displayName=VB;var wbe="HoverCardPortal",[uTe,Abe]=UB(wbe,{forceMount:void 0}),E0="HoverCardContent",GB=P.forwardRef((t,e)=>{const n=Abe(E0,t.__scopeHoverCard),{forceMount:r=n.forceMount,...i}=t,o=lT(E0,t.__scopeHoverCard);return b.jsx(YP,{present:r||o.open,children:b.jsx(Sbe,{"data-state":o.open?"open":"closed",...i,onPointerEnter:Ue(t.onPointerEnter,C0(o.onOpen)),onPointerLeave:Ue(t.onPointerLeave,C0(o.onClose)),ref:e})})});GB.displayName=E0;var Sbe=P.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,...s}=t,l=lT(E0,n),c=v1(n),u=P.useRef(null),h=hn(e,u),[f,p]=P.useState(!1);return P.useEffect(()=>{if(f){const m=document.body;return _A=m.style.userSelect||m.style.webkitUserSelect,m.style.userSelect="none",m.style.webkitUserSelect="none",()=>{m.style.userSelect=_A,m.style.webkitUserSelect=_A}}},[f]),P.useEffect(()=>{if(u.current){const m=()=>{p(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var y;((y=document.getSelection())==null?void 0:y.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",m),()=>{document.removeEventListener("pointerup",m),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),P.useEffect(()=>{u.current&&_be(u.current).forEach(g=>g.setAttribute("tabindex","-1"))}),b.jsx(ZP,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:a,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Ue(o,m=>{m.preventDefault()}),onDismiss:l.onDismiss,children:b.jsx(ZF,{...c,...s,onPointerDown:Ue(s.onPointerDown,m=>{m.currentTarget.contains(m.target)&&p(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:h,style:{...s.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Ebe="HoverCardArrow",Cbe=P.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=v1(n);return b.jsx(QF,{...i,...r,ref:e})});Cbe.displayName=Ebe;function C0(t){return e=>e.pointerType==="touch"?void 0:t()}function _be(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var Pbe=HB,Tbe=WB,qB=GB;const kbe=Pbe,Obe=Tbe,KB=P.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>b.jsx(qB,{ref:i,align:e,sideOffset:n,className:Bt("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));KB.displayName=qB.displayName;const Mbe={CAC:{term:"Customer Acquisition Cost",definition:"The average cost to acquire a new customer through marketing channels. Lower CAC means more efficient marketing spend.",formula:"Total Marketing Spend Ã· New Customers Acquired",benchmark:"$5-25 for QSR industry. Email typically lowest ($5-8), Display highest ($20-30).",icon:"ðŸ’°",category:"marketing"},ROAS:{term:"Return on Ad Spend",definition:"Revenue generated for every dollar spent on advertising. Higher ROAS means more profitable campaigns.",formula:"Revenue from Ads Ã· Ad Spend",benchmark:"3:1 minimum, 5:1 good, 10:1+ excellent for QSR.",icon:"ðŸ“ˆ",category:"marketing"},CPC:{term:"Cost Per Click",definition:"Average cost paid for each click on digital ads. Key metric for paid search and social campaigns.",formula:"Total Ad Spend Ã· Total Clicks",benchmark:"$0.50-$2.00 for QSR search ads, $0.25-$1.00 for social.",icon:"ðŸ–±ï¸",category:"marketing"},ARPU:{term:"Average Revenue Per User",definition:"The average annual revenue generated per customer. Higher ARPU indicates more valuable customers.",formula:"Total Revenue Ã· Total Active Customers",benchmark:"$3,500-4,500 for pizza QSR. Family segment typically highest.",icon:"ðŸ“Š",category:"customer"},LTV:{term:"Lifetime Value",definition:"The total revenue a customer generates over their entire relationship with the brand. Must exceed CAC by 3x+ for healthy unit economics.",formula:"ARPU Ã— Average Customer Lifespan (in years)",benchmark:"3-5x CAC for sustainable growth. $10,000-15,000 for loyal pizza customers.",icon:"ðŸ’Ž",category:"customer"},"Retention Rate":{term:"Customer Retention Rate",definition:"Percentage of customers who continue ordering over time. Higher retention drives profitability.",formula:"(Customers at End - New Customers) Ã· Customers at Start Ã— 100",benchmark:"Month 1: 60%, Month 6: 35%, Month 12: 20% for QSR.",icon:"ðŸ”„",category:"customer"},"Churn Rate":{term:"Customer Churn Rate",definition:"Percentage of customers who stop ordering. Lower churn means better customer experience.",formula:"Customers Lost Ã· Total Customers at Start Ã— 100",benchmark:"3-5% monthly churn is typical for QSR with loyalty programs.",icon:"ðŸ“‰",category:"customer"},GMV:{term:"Gross Merchandise Value",definition:"Total transaction value before discounts and refunds. Shows true demand and sales volume.",formula:"Sum of all order subtotals (pre-discount)",benchmark:"$200-250M monthly for large regional pizza chain.",icon:"ðŸ’µ",category:"revenue"},"Net Revenue":{term:"Net Revenue",definition:"Revenue after discounts, promotions, and refunds. This is actual income received.",formula:"GMV - Discounts - Refunds + Delivery Fees + Tips",benchmark:"88-92% of GMV (8-12% discount rate).",icon:"ðŸ’¸",category:"revenue"},AOV:{term:"Average Order Value",definition:"Average amount spent per order. Higher AOV means better upselling and product mix.",formula:"Total Revenue Ã· Number of Orders",benchmark:"$25-35 for pizza delivery. Family segment typically $35-45.",icon:"ðŸ›’",category:"revenue"},"Discount Rate":{term:"Discount Rate",definition:"Percentage of GMV given as discounts and promotions. Track to balance growth and profitability.",formula:"Total Discounts Ã· GMV Ã— 100",benchmark:"8-12% for pizza QSR. Higher during promotions, lower for loyal customers.",icon:"ðŸŽ«",category:"revenue"},"Attach Rate":{term:"Attach Rate",definition:"Percentage of orders that include add-on items (sides, desserts, beverages). Key upsell metric.",formula:"Orders with Item Ã· Total Orders Ã— 100",benchmark:"Sides: 35-45%, Beverages: 40-50%, Desserts: 15-25%.",icon:"ðŸ•",category:"operations"},"Order Frequency":{term:"Order Frequency",definition:"Average number of orders per customer per time period. Higher frequency drives LTV.",formula:"Total Orders Ã· Active Customers",benchmark:"12-18 orders/year for regular pizza customers.",icon:"ðŸ“…",category:"customer"},"Channel Mix":{term:"Channel Mix",definition:"Distribution of orders across channels (Mobile App, Online, Phone, Walk-in). Track to optimize investments.",formula:"Orders per Channel Ã· Total Orders Ã— 100",benchmark:"Mobile: 45-50%, Online: 25-30%, Phone: 15-20%, Walk-in: 5-10%.",icon:"ðŸ“±",category:"operations"},Cohort:{term:"Customer Cohort",definition:"Group of customers acquired in the same time period. Track cohorts to understand retention patterns.",formula:"Grouped by first order month/quarter",benchmark:"Best cohorts retain 25%+ customers after 12 months.",icon:"ðŸ‘¥",category:"customer"},"CAC:LTV Ratio":{term:"CAC to LTV Ratio",definition:"Efficiency of customer acquisition. Shows if you're spending the right amount to acquire customers.",formula:"LTV Ã· CAC",benchmark:"3:1 minimum, 5:1+ excellent. Below 3:1 means burning money.",icon:"âš–ï¸",category:"marketing"},"Payback Period":{term:"CAC Payback Period",definition:"Time to recover customer acquisition cost through revenue. Faster payback improves cash flow.",formula:"CAC Ã· (ARPU Ã· 12)",benchmark:"6-12 months for healthy SaaS/subscription. 3-6 months for transactional.",icon:"â±ï¸",category:"marketing"},"Product Mix":{term:"Product Mix",definition:"Distribution of revenue across product categories. Optimize mix for profitability.",formula:"Revenue per Category Ã· Total Revenue Ã— 100",benchmark:"Pizza: 65-70%, Sides: 15-20%, Beverages: 8-12%, Desserts: 5-8%.",icon:"ðŸ½ï¸",category:"operations"},"Delivery Time":{term:"Average Delivery Time",definition:"Time from order placement to delivery. Critical for customer satisfaction.",formula:"Sum of Delivery Times Ã· Number of Deliveries",benchmark:"25-35 minutes. Under 30 min = good, over 40 min = poor satisfaction.",icon:"ðŸš—",category:"operations"},"Store Performance":{term:"Store-Level Performance",definition:"Revenue and order metrics by store location. Identify top and underperforming locations.",formula:"Aggregated metrics by store_id",benchmark:"Top 20% stores do 2-3x volume of bottom 20%.",icon:"ðŸª",category:"operations"}};function Rbe(t){return Mbe[t]}function Ns({term:t,children:e,showIcon:n=!0}){const r=Rbe(t);return r?b.jsxs(kbe,{children:[b.jsx(Obe,{asChild:!0,children:b.jsxs("button",{className:"inline-flex items-center gap-1 text-left hover:text-blue-600 transition-colors",type:"button",children:[e||t,n&&b.jsx(Mj,{className:"h-3.5 w-3.5 text-gray-400 hover:text-blue-500"})]})}),b.jsx(KB,{className:"w-96 p-4",side:"top",children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("span",{className:"text-3xl",role:"img","aria-label":r.term,children:r.icon}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-semibold text-gray-900 text-base",children:r.term}),b.jsx("span",{className:"text-xs text-gray-500 capitalize",children:r.category})]})]}),b.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:r.definition}),r.formula&&b.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-md p-2.5",children:[b.jsx("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"Formula:"}),b.jsx("p",{className:"text-sm font-mono text-blue-800",children:r.formula})]}),r.benchmark&&b.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-md p-2.5",children:[b.jsx("p",{className:"text-xs font-medium text-green-900 mb-1",children:"Industry Benchmark:"}),b.jsx("p",{className:"text-xs text-green-800 leading-relaxed",children:r.benchmark})]})]})})]}):b.jsx(b.Fragment,{children:e||t})}const WI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,GI=Pe,Ibe=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return GI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=o==null?void 0:o[c];if(u===null)return null;const f=WI(u)||WI(h);return i[c][f]}),s=n&&Object.entries(n).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...o,...s}[g]):{...o,...s}[g]===y})?[...c,h,f]:c},[]);return GI(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},Nbe=Ibe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jbe({className:t,variant:e,...n}){return b.jsx("div",{className:Bt(Nbe({variant:e}),t),...n})}function Dbe({filters:t,onRemove:e,onClearAll:n}){const r=t.filter(i=>!i.isDefault);return r.length===0?null:b.jsxs("div",{className:"flex items-center gap-2 flex-wrap py-2",children:[b.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Active Filters:"}),r.map(i=>b.jsxs(jbe,{variant:"secondary",className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100",children:[b.jsxs("span",{className:"text-xs font-medium",children:[i.label,": ",b.jsx("span",{className:"font-semibold",children:i.value})]}),b.jsx("button",{onClick:()=>e(i.key),className:"hover:bg-blue-200 rounded-full p-0.5 transition-colors","aria-label":`Remove ${i.label} filter`,children:b.jsx(Q4,{className:"h-3 w-3"})})]},i.key)),r.length>1&&n&&b.jsx(op,{variant:"ghost",size:"sm",onClick:n,className:"text-xs text-gray-600 hover:text-gray-900 h-7",children:"Clear All"})]})}const Lbe={success:{icon:B4,bgColor:"bg-[rgba(47,127,217,0.1)]",borderColor:"border-[#2F7FD9]",iconColor:"text-[#3b82f6]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"},warning:{icon:dx,bgColor:"bg-[rgba(245,158,11,0.1)]",borderColor:"border-[#f59e0b]",iconColor:"text-[#f59e0b]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"},info:{icon:Mj,bgColor:"bg-[rgba(59,130,246,0.1)]",borderColor:"border-[#3b82f6]",iconColor:"text-[#3b82f6]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"},opportunity:{icon:D_,bgColor:"bg-[rgba(16,185,129,0.1)]",borderColor:"border-[#10b981]",iconColor:"text-[#10b981]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"},alert:{icon:dx,bgColor:"bg-[rgba(239,68,68,0.1)]",borderColor:"border-[#ef4444]",iconColor:"text-[#ef4444]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"}};function $be({type:t,title:e,children:n,metric:r}){const i=Lbe[t],o=i.icon;return b.jsxs("div",{className:Bt("flex gap-3 p-4 rounded-lg border-l-4",i.bgColor,i.borderColor),children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(o,{className:Bt("h-5 w-5",i.iconColor)})}),b.jsxs("div",{className:"flex-1 space-y-1",children:[e&&b.jsx("h4",{className:Bt("font-semibold text-sm",i.titleColor),children:e}),b.jsx("p",{className:Bt("text-sm",i.textColor),children:n}),r&&b.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[b.jsx("span",{className:"text-lg font-bold",children:r.value}),r.trend&&b.jsx("span",{className:"flex items-center gap-1",children:r.trend==="up"?b.jsx(D_,{className:"h-4 w-4 text-green-600"}):b.jsx(Z4,{className:"h-4 w-4 text-red-600"})})]})]})]})}function Fbe({insights:t,title:e="AI-Generated Insights",description:n="Key findings and recommendations based on your data"}){return!t||t.length===0?null:b.jsxs(Qt,{children:[b.jsxs(sn,{children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(q4,{className:"h-5 w-5",style:{color:"var(--color-warning)"}}),b.jsx(ln,{children:e})]}),n&&b.jsx("p",{className:"text-sm mt-1",style:{color:"var(--color-text-secondary)"},children:n})]}),b.jsx(en,{children:b.jsx("div",{className:"space-y-3",children:t.map(r=>b.jsx($be,{type:r.type,title:r.title,metric:r.metric,children:r.message},r.id))})})]})}function Bbe({title:t,historicalData:e,forecastData:n,xKey:r,yKey:i,format:o="number",isLoading:a=!1}){var f;const s=P.useMemo(()=>{const p=e.map(g=>({[r]:g[r],actual:Number(g[i]||0),forecast:null,lowerBound:null,upperBound:null,isForecast:!1})),m=n.map(g=>({[r]:g.period,actual:null,forecast:g.value,lowerBound:g.lowerBound,upperBound:g.upperBound,isForecast:!0,confidence:g.confidence}));return[...p,...m]},[e,n,r,i]),l=n.length>0?n[0].period:null,c=P.useMemo(()=>{if(s.length===0)return[0,100];const p=s.flatMap(v=>[v.actual,v.forecast,v.upperBound].filter(w=>w!==null));if(p.length===0)return[0,100];const m=Math.min(...p),g=Math.max(...p),y=(g-m)*.1;return[Math.max(0,Math.floor(m-y)),Math.ceil(g+y)]},[s]),u=p=>o==="currency"?p>=1e6?`$${(p/1e6).toFixed(1)}M`:p>=1e3?`$${(p/1e3).toFixed(0)}K`:ps(p):p>=1e6?`${(p/1e6).toFixed(1)}M`:p>=1e3?`${(p/1e3).toFixed(0)}K`:fs(p),h=p=>{const m=Number(p);return o==="currency"?ps(m):fs(m)};return b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ln,{children:t}),b.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[b.jsx(D_,{className:"h-4 w-4"}),b.jsxs("span",{children:[n.length," period forecast (",((f=n[0])==null?void 0:f.confidence)||95,"% confidence)"]})]})]})}),b.jsx(en,{children:a?b.jsx("div",{className:"flex items-center justify-center h-[300px]",children:b.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):b.jsxs(b.Fragment,{children:[b.jsx(cs,{width:"100%",height:300,children:b.jsxs(I$,{data:s,children:[b.jsx(vs,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),b.jsx(pi,{dataKey:r,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"}}),b.jsx(Ir,{domain:c,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:u}),b.jsx(kn,{formatter:p=>h(p),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),b.jsx(yr,{}),l&&b.jsx(qw,{x:l,stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"3 3",label:{value:"â† Forecast",position:"top",fill:"#f59e0b",fontSize:11,fontWeight:600}}),b.jsx(bs,{type:"monotone",dataKey:"upperBound",stroke:"none",fill:"#f59e0b",fillOpacity:.15,name:"Confidence Range"}),b.jsx(bs,{type:"monotone",dataKey:"lowerBound",stroke:"none",fill:"#f59e0b",fillOpacity:.15,name:""}),b.jsx(Hi,{type:"monotone",dataKey:"actual",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,fill:"#3b82f6"},name:"Actual",connectNulls:!1}),b.jsx(Hi,{type:"monotone",dataKey:"forecast",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"8 4",dot:{r:4,fill:"#f59e0b"},name:"Forecast",connectNulls:!1})]})}),b.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3",children:n.map((p,m)=>{const g=m>0?(p.value-n[m-1].value)/n[m-1].value*100:0;return b.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[b.jsx("p",{className:"text-xs text-blue-600 font-medium",children:p.period}),b.jsx("p",{className:"text-lg font-bold text-blue-900 mt-1",children:u(p.value)}),b.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m>0&&b.jsxs("span",{className:`text-xs font-medium ${g>=0?"text-green-600":"text-red-600"}`,children:[g>=0?"+":"",g.toFixed(1),"%"]}),b.jsxs("span",{className:"text-xs text-blue-600",children:["Â±",u(p.upperBound-p.value)]})]})]},m)})})]})})]})}function zbe(t){var n,r;const e=[];if(t.cacByChannel&&t.cacByChannel.length>0){const i=[...t.cacByChannel].sort((h,f)=>Number(h.cac||0)-Number(f.cac||0)),o=i[0],a=i[i.length-1],s=Number((o==null?void 0:o.cac)||0),l=Number((a==null?void 0:a.cac)||0);if(l>s*3&&s>0){const h=(l/s).toFixed(1);e.push({id:"cac-efficiency",type:"warning",title:"High CAC Disparity Detected",message:`Your CAC for ${a.channel} ($${l.toFixed(2)}) is ${h}x higher than ${o.channel} ($${s.toFixed(2)}). Consider reallocating marketing budget to more efficient channels.`,metric:{value:`${h}x`,trend:"down"}})}const c=i[0],u=Number((c==null?void 0:c.cac)||0);u<10&&u>0&&e.push({id:"cac-success",type:"success",title:"Excellent CAC Performance",message:`${c.channel} has an outstanding CAC of $${u.toFixed(2)}, well below the QSR industry benchmark of $15-25. Continue investing in this channel.`,metric:{value:`$${u.toFixed(2)}`,trend:"up"}})}if(t.arpuBySegment&&t.arpuBySegment.length>0){const i=[...t.arpuBySegment].sort((l,c)=>Number(c.arpu||0)-Number(l.arpu||0)),o=i[0],a=i.reduce((l,c)=>l+Number(c.arpu||0),0)/i.length,s=Number((o==null?void 0:o.arpu)||0);s>a*1.15&&a>0&&e.push({id:"arpu-segment",type:"opportunity",title:"High-Value Segment Opportunity",message:`${o.customer_segment} customers have ARPU of $${s.toLocaleString()}, ${((s-a)/a*100).toFixed(0)}% above average. Focus retention and upsell campaigns on this segment.`,metric:{value:`$${s.toLocaleString()}`,trend:"up"}})}if(t.gmvTrend&&t.gmvTrend.length>0){const i=t.gmvTrend.slice(-3),o=i.reduce((a,s)=>a+Number(s.discount_rate_pct||0),0)/i.length;if(o>15&&e.push({id:"discount-warning",type:"alert",title:"High Discount Rate",message:`Average discount rate over the last 3 months is ${o.toFixed(1)}%. High discounting can erode margins. Consider testing targeted offers instead of blanket discounts.`,metric:{value:`${o.toFixed(1)}%`,trend:"down"}}),i.length>=2){const a=Number(((n=i[0])==null?void 0:n.gmv)||0),s=Number(((r=i[i.length-1])==null?void 0:r.gmv)||0);if(a>0){const l=(s-a)/a*100;l>10?e.push({id:"gmv-growth",type:"success",title:"Strong GMV Growth",message:`GMV has grown ${l.toFixed(1)}% over the last ${i.length} months. Your business is showing healthy growth momentum.`,metric:{value:`+${l.toFixed(1)}%`,trend:"up"}}):l<-5&&e.push({id:"gmv-decline",type:"warning",title:"GMV Decline Detected",message:`GMV has declined ${Math.abs(l).toFixed(1)}% over the last ${i.length} months. Review pricing strategy and marketing campaigns.`,metric:{value:`${l.toFixed(1)}%`,trend:"down"}})}}}if(t.attachRate&&t.attachRate.length>0){const i=t.attachRate[0],a=[...[{name:"Sides",rate:Number((i==null?void 0:i.sides_attach_rate_pct)||0)},{name:"Beverages",rate:Number((i==null?void 0:i.beverage_attach_rate_pct)||0)},{name:"Desserts",rate:Number((i==null?void 0:i.dessert_attach_rate_pct)||0)}]].sort((c,u)=>u.rate-c.rate),s=a[0],l=a[a.length-1];s.rate>l.rate*1.5&&l.rate>0&&e.push({id:"attach-rate-opportunity",type:"opportunity",title:"Upsell Opportunity Identified",message:`${s.name} have a strong ${s.rate.toFixed(1)}% attach rate, while ${l.name} are at ${l.rate.toFixed(1)}%. Consider promoting ${l.name} with combo deals or suggestive selling.`,metric:{value:`${s.rate.toFixed(1)}%`,trend:"up"}})}if(t.channelBreakdown&&t.channelBreakdown.length>0){const i=t.channelBreakdown.reduce((l,c)=>l+Number(c.revenue||0),0),a=[...t.channelBreakdown].sort((l,c)=>Number(c.revenue||0)-Number(l.revenue||0))[0],s=Number((a==null?void 0:a.revenue)||0);if(i>0){const l=s/i*100;l>40&&e.push({id:"channel-concentration",type:"info",title:"Channel Concentration Risk",message:`${a.channel} accounts for ${l.toFixed(0)}% of revenue. Consider diversifying channel mix to reduce dependency risk.`,metric:{value:`${l.toFixed(0)}%`,trend:"down"}});const c=t.channelBreakdown.filter(u=>u.channel==="Mobile App"||u.channel==="Online");if(c.length>0){const h=c.reduce((f,p)=>f+Number(p.revenue||0),0)/i*100;h>50&&e.push({id:"digital-first",type:"success",title:"Digital-First Success",message:`Digital channels (Mobile App + Online) represent ${h.toFixed(0)}% of revenue. Your digital transformation is driving business growth.`,metric:{value:`${h.toFixed(0)}%`,trend:"up"}})}}}return e.slice(0,5)}function Ube(t,e="dashboard-export"){const n=new Date().toISOString().split("T")[0],r=`${e}-${n}.csv`;let i=`Dashboard Export
`;if(i+=`Generated: ${new Date().toLocaleString()}

`,t.filters&&(i+=`Active Filters
`,i+=`Date Range,${t.filters.dateRange}
`,i+=`Segment,${t.filters.segment}
`,i+=`Channel,${t.filters.channel}
`,i+=`Time Grain,${t.filters.timeGrain}
`,i+=`Comparison Mode,${t.filters.comparisonMode}

`),t.insights&&t.insights.length>0&&(i+=`AI-Generated Insights
`,i+=`Type,Title,Message
`,t.insights.forEach(l=>{const c=l.message.replace(/,/g,";");i+=`${l.type},"${l.title||""}","${c}"
`}),i+=`
`),t.revenueTrend&&t.revenueTrend.length>0){i+=`Revenue Trend
`;const l=Object.keys(t.revenueTrend[0]).join(",");i+=l+`
`,t.revenueTrend.forEach(c=>{const u=Object.values(c).join(",");i+=u+`
`}),i+=`
`}if(t.cacByChannel&&t.cacByChannel.length>0){i+=`Customer Acquisition Cost by Channel
`;const l=Object.keys(t.cacByChannel[0]).join(",");i+=l+`
`,t.cacByChannel.forEach(c=>{const u=Object.values(c).join(",");i+=u+`
`}),i+=`
`}if(t.arpuBySegment&&t.arpuBySegment.length>0){i+=`ARPU by Customer Segment
`;const l=Object.keys(t.arpuBySegment[0]).join(",");i+=l+`
`,t.arpuBySegment.forEach(c=>{const u=Object.values(c).join(",");i+=u+`
`}),i+=`
`}const o=new Blob([i],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(o);a.setAttribute("href",s),a.setAttribute("download",r),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function Hbe(t,e="dashboard-export"){const n=new Date().toISOString().split("T")[0],r=`${e}-${n}.json`,i={metadata:{generatedAt:new Date().toISOString(),filters:t.filters},insights:t.insights,metrics:t.metrics,revenueTrend:t.revenueTrend,cacByChannel:t.cacByChannel,arpuBySegment:t.arpuBySegment,gmvTrend:t.gmvTrend,channelBreakdown:t.channelBreakdown},o=JSON.stringify(i,null,2),a=new Blob([o],{type:"application/json"}),s=document.createElement("a"),l=URL.createObjectURL(a);s.setAttribute("href",l),s.setAttribute("download",r),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function Vbe(t,e,n={}){const{sensitivity:r=2,windowSize:i=3}=n;if(!t||t.length<i+1)return[];const o=[],a=t.map(h=>Number(h[e]||0)),s=a.reduce((h,f)=>h+f,0)/a.length,l=a.reduce((h,f)=>h+Math.pow(f-s,2),0)/a.length,c=Math.sqrt(l);if(c<s*.01)return[];const u=[];for(let h=0;h<a.length;h++)if(h<i-1)u.push(s);else{const f=a.slice(h-i+1,h+1),p=f.reduce((m,g)=>m+g,0)/f.length;u.push(p)}return a.forEach((h,f)=>{if(f<i)return;const p=u[f],m=Math.abs(h-p),g=(h-s)/c,y=m/p*100;if(Math.abs(g)>r||y>20){let w="low";Math.abs(g)>r*2||y>40?w="high":(Math.abs(g)>r*1.5||y>30)&&(w="medium");let x="";h>p?x=`${y.toFixed(0)}% above expected (${qI(p)})`:x=`${y.toFixed(0)}% below expected (${qI(p)})`,o.push({index:f,value:h,expected:p,deviation:m,severity:w,reason:x})}}),o}function Wbe(t,e,n=25){if(!t||t.length<2)return[];const r=[],i=t.map(o=>Number(o[e]||0));for(let o=1;o<i.length;o++){const a=i[o],s=i[o-1];if(s===0)continue;const l=(a-s)/s*100;if(Math.abs(l)>n){const c=Math.abs(l)>50?"high":Math.abs(l)>35?"medium":"low",u=l>0;r.push({index:o,value:a,expected:s,deviation:Math.abs(a-s),severity:c,reason:`${u?"Spike":"Drop"} of ${Math.abs(l).toFixed(0)}% from previous period`})}}return r}function qI(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(0)}K`:t.toFixed(0)}function Gbe(t,e,n,r={}){const{periods:i=3,confidence:o=.95}=r;if(!t||t.length<3)return[];const a=t.map(A=>Number(A[e]||0)),s=a.length,l=Array.from({length:s},(A,S)=>S),c=l.reduce((A,S)=>A+S,0)/s,u=a.reduce((A,S)=>A+S,0)/s;let h=0,f=0;for(let A=0;A<s;A++)h+=(l[A]-c)*(a[A]-u),f+=Math.pow(l[A]-c,2);const p=f!==0?h/f:0,m=u-p*c,y=a.map((A,S)=>A-(p*S+m)).reduce((A,S)=>A+S*S,0),v=Math.sqrt(y/(s-2)),w=o===.95?1.96:o===.9?1.645:2,x=[],E=t[s-1][n];for(let A=1;A<=i;A++){const S=s-1+A,_=p*S+m,O=1+(A-1)*.2,I=w*v*O,M=qbe(E,A);x.push({period:M,value:Math.max(0,_),lowerBound:Math.max(0,_-I),upperBound:_+I,confidence:o*100})}return x}function qbe(t,e){if(t.match(/^\d{4}-\d{2}$/)){const[n,r]=t.split("-").map(Number),i=new Date(n,r-1+e,1),o=i.getFullYear(),a=String(i.getMonth()+1).padStart(2,"0");return`${o}-${a}`}if(t.match(/^\d{4}-\d{2}-\d{2}$/)){const n=new Date(t);return n.setMonth(n.getMonth()+e),n.toISOString().split("T")[0]}return`Forecast +${e}`}function Kbe(){var pe,J,Z,re;const[t,e]=P.useState("6"),[n,r]=P.useState("all"),[i,o]=P.useState("all"),[a,s]=P.useState("overview"),[l,c]=P.useState("monthly"),[u,h]=P.useState("none"),[f,p]=P.useState("none"),m={"q4-2024":{dateRange:"3",description:"Q4 2024 Performance"},"digital-only":{dateRange:"6",channel:"Mobile App",description:"Digital Channels (6 months)"},"high-value":{dateRange:"6",segment:"Family",description:"High-Value Customers"},"year-review":{dateRange:"12",description:"Annual Review"}},g=V=>{if(V==="none"){p("none");return}const te=m[V];te&&(e(te.dateRange),te.segment?o(te.segment):o("all"),te.channel?r(te.channel):r("all"),p(V))},y=V=>{const te=new Date,ae=new Date;return ae.setMonth(ae.getMonth()-parseInt(V)),{startDate:ae.toISOString().split("T")[0],endDate:te.toISOString().split("T")[0]}},{startDate:v,endDate:w}=y(t),{data:x,isLoading:E}=ko({queryKey:["dashboard-metrics",v,w,i,n],queryFn:cc.getSummary}),{data:A,isLoading:S}=ko({queryKey:["revenue-trend",t,v,w,i,n],queryFn:()=>cc.getRevenueTrend(parseInt(t))}),{data:_,isLoading:O}=ko({queryKey:["gmv-trend",v,w,i,n],queryFn:()=>cc.getGmvTrend(v,w)}),{data:I,isLoading:M}=ko({queryKey:["cac-by-channel",v,w,i,n],queryFn:cc.getCacByChannel}),{data:R,isLoading:N}=ko({queryKey:["arpu-by-segment",v,w,i,n],queryFn:()=>cc.getArpuBySegment()}),{data:L,isLoading:F}=ko({queryKey:["attach-rate",i,v,w,n],queryFn:()=>cc.getAttachRate(i!=="all"?i:void 0,v,w)}),{data:z,isLoading:$}=ko({queryKey:["channel-breakdown",v,w,i,n],queryFn:cc.getChannelBreakdown}),U=n==="all"?z:z==null?void 0:z.filter(V=>V.channel===n),H=P.useMemo(()=>A?ek(A):[],[A]),W=P.useMemo(()=>_?ek(_):[],[_]),j=P.useMemo(()=>{var te;const V=[];if(t!=="6"&&V.push({key:"dateRange",label:"Date Range",value:tk(t),isDefault:!1}),i!=="all"&&V.push({key:"segment",label:"Segment",value:i,isDefault:!1}),n!=="all"&&V.push({key:"channel",label:"Channel",value:n,isDefault:!1}),l!=="monthly"&&V.push({key:"timeGrain",label:"Time Grain",value:l.charAt(0).toUpperCase()+l.slice(1),isDefault:!1}),u!=="none"){const ae={previous_period:"vs Previous Period",year_ago:"vs Year Ago"};V.push({key:"comparisonMode",label:"Comparison",value:ae[u]||u,isDefault:!1})}return f!=="none"&&V.push({key:"preset",label:"Preset",value:((te=m[f])==null?void 0:te.description)||f,isDefault:!1}),V},[t,i,n,l,u,f,m]),X=V=>{V==="dateRange"&&e("6"),V==="segment"&&o("all"),V==="channel"&&r("all"),V==="timeGrain"&&c("monthly"),V==="comparisonMode"&&h("none"),V==="preset"&&p("none")},q=()=>{e("6"),o("all"),r("all"),c("monthly"),h("none"),p("none")},D=P.useMemo(()=>zbe({cacByChannel:I,arpuBySegment:R,gmvTrend:W,attachRate:L,channelBreakdown:z}),[I,R,W,L,z]),le=P.useMemo(()=>!H||H.length<5?[]:Vbe(H,"revenue",{sensitivity:2,windowSize:3}),[H]),ve=P.useMemo(()=>!W||W.length<5?[]:Wbe(W,"gmv",25),[W]),ye=P.useMemo(()=>!H||H.length<6?[]:Gbe(H,"revenue","month",{periods:3,confidence:.95}),[H]),ie=V=>{const te={metrics:x,revenueTrend:H,cacByChannel:I,arpuBySegment:R,gmvTrend:W,channelBreakdown:z,insights:D,filters:{dateRange:tk(t),segment:i,channel:n,timeGrain:l,comparisonMode:u}};V==="csv"?Ube(te,`dominos-dashboard-${a}`):Hbe(te,`dominos-dashboard-${a}`)};return b.jsxs("div",{className:"space-y-8 p-8",style:{background:"var(--color-bg-app)",minHeight:"100vh"},children:[b.jsxs("div",{className:"flex items-center justify-between pb-6 border-b",style:{borderColor:"var(--color-border-subtle)"},children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl font-semibold tracking-tight",style:{color:"var(--color-text-primary)"},children:"ðŸ• Analytics Dashboard"}),b.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--color-text-secondary)"},children:"Domino's Performance Insights & Predictive Analytics"})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(F4,{className:"h-4 w-4",style:{color:"var(--color-text-secondary)"}}),b.jsxs(wh,{value:t,onValueChange:e,children:[b.jsx(mc,{className:"w-[180px]",children:b.jsx(Ah,{placeholder:"Select period"})}),b.jsxs(gc,{children:[b.jsx(Pt,{value:"1",children:"Last 30 days"}),b.jsx(Pt,{value:"3",children:"Last 3 months"}),b.jsx(Pt,{value:"6",children:"Last 6 months"}),b.jsx(Pt,{value:"12",children:"Last 12 months"}),b.jsx(Pt,{value:"24",children:"Last 24 months"})]})]})]}),b.jsxs(wh,{value:i,onValueChange:o,children:[b.jsx(mc,{className:"w-[180px]",children:b.jsx(Ah,{placeholder:"All segments"})}),b.jsxs(gc,{children:[b.jsx(Pt,{value:"all",children:"All Segments"}),b.jsx(Pt,{value:"Family",children:"Family"}),b.jsx(Pt,{value:"Young Professional",children:"Young Professional"}),b.jsx(Pt,{value:"Student",children:"Student"}),b.jsx(Pt,{value:"Single",children:"Single"})]})]}),b.jsxs(wh,{value:n,onValueChange:r,children:[b.jsx(mc,{className:"w-[180px]",children:b.jsx(Ah,{placeholder:"All channels"})}),b.jsxs(gc,{children:[b.jsx(Pt,{value:"all",children:"All Channels"}),b.jsx(Pt,{value:"Mobile App",children:"Mobile App"}),b.jsx(Pt,{value:"Online",children:"Online"}),b.jsx(Pt,{value:"Phone",children:"Phone"}),b.jsx(Pt,{value:"Walk-in",children:"Walk-in"})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs(op,{variant:"outline",size:"sm",onClick:()=>ie("csv"),className:"flex items-center gap-2 border-[#2F7FD9] text-[#2666B1] hover:bg-[#EBF4FD] hover:border-[#2666B1] font-medium transition-all",children:[b.jsx(eS,{className:"h-3.5 w-3.5"}),"Export CSV"]}),b.jsxs(op,{variant:"outline",size:"sm",onClick:()=>ie("json"),className:"flex items-center gap-2 border-[#2F7FD9] text-[#2666B1] hover:bg-[#EBF4FD] hover:border-[#2666B1] font-medium transition-all",children:[b.jsx(eS,{className:"h-3.5 w-3.5"}),"Export JSON"]})]})]})]}),b.jsx("div",{className:"flex items-center justify-between p-6",style:{background:"rgba(15, 23, 42, 0.96)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-soft)"},children:b.jsxs("div",{className:"flex items-center gap-5 flex-wrap",children:[b.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:"Advanced Filters"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Time Grain:"}),b.jsxs(wh,{value:l,onValueChange:c,children:[b.jsx(mc,{className:"w-[140px] h-8 text-sm",children:b.jsx(Ah,{})}),b.jsxs(gc,{children:[b.jsx(Pt,{value:"daily",children:"Daily"}),b.jsx(Pt,{value:"weekly",children:"Weekly"}),b.jsx(Pt,{value:"monthly",children:"Monthly"}),b.jsx(Pt,{value:"quarterly",children:"Quarterly"})]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Compare:"}),b.jsxs(wh,{value:u,onValueChange:h,children:[b.jsx(mc,{className:"w-[180px] h-8 text-sm",children:b.jsx(Ah,{})}),b.jsxs(gc,{children:[b.jsx(Pt,{value:"none",children:"No Comparison"}),b.jsx(Pt,{value:"previous_period",children:"vs Previous Period"}),b.jsx(Pt,{value:"year_ago",children:"vs Year Ago"})]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Quick Preset:"}),b.jsxs(wh,{value:f,onValueChange:g,children:[b.jsx(mc,{className:"w-[200px] h-8 text-sm",children:b.jsx(Ah,{placeholder:"Select a preset"})}),b.jsxs(gc,{children:[b.jsx(Pt,{value:"none",children:"No Preset"}),Object.entries(m).map(([V,te])=>b.jsx(Pt,{value:V,children:te.description},V))]})]})]})]})}),j.length>0&&b.jsx(Dbe,{filters:j,onRemove:X,onClearAll:q}),b.jsxs(uge,{value:a,onValueChange:s,className:"space-y-6",children:[b.jsxs(EF,{children:[b.jsx(Ch,{value:"overview",children:"Overview"}),b.jsx(Ch,{value:"sales",children:"Sales Analysis"}),b.jsx(Ch,{value:"marketing",children:"Marketing"}),b.jsx(Ch,{value:"channels",children:"Channels"}),b.jsx(Ch,{value:"customers",children:"Customers"})]}),b.jsxs(_h,{value:"overview",className:"space-y-6",children:[b.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[b.jsx(Hv,{label:b.jsx(Ns,{term:"REVENUE",children:"Total Revenue"}),value:(x==null?void 0:x.total_revenue)||0,format:"currency",delta:{value:12.5,isPositive:!0},sparkline:(H==null?void 0:H.slice(-6).map(V=>V.revenue))||[],loading:E}),b.jsx(Hv,{label:b.jsx(Ns,{term:"ORDERS",children:"Total Orders"}),value:(x==null?void 0:x.total_orders)||0,format:"number",delta:{value:8.3,isPositive:!0},sparkline:(H==null?void 0:H.slice(-6).map(V=>V.orders))||[],loading:E}),b.jsx(Hv,{label:b.jsx(Ns,{term:"AOV",children:"Avg Order Value"}),value:(x==null?void 0:x.avg_order_value)||0,format:"currency",delta:{value:3.2,isPositive:!0},loading:E}),b.jsx(Hv,{label:b.jsx(Ns,{term:"CSAT",children:"Customer Satisfaction (out of 5)"}),value:(x==null?void 0:x.customer_satisfaction)||0,format:"number",delta:{value:-1.5,isPositive:!1},loading:E})]}),b.jsx(Fbe,{insights:D}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[b.jsx(hA,{title:"Revenue Trend with Anomaly Detection",data:H||[],xKey:"month",yKeys:["revenue"],colors:["#3b82f6"],format:"currency",isLoading:S,anomalies:le,showAnomalies:!0}),b.jsx(hA,{title:"Orders Trend (Complete Months Only)",data:H||[],xKey:"month",yKeys:["orders"],colors:["#10b981"],format:"number",isLoading:S})]}),ye&&ye.length>0&&b.jsx(Bbe,{title:"Revenue Forecast (Next 3 Months)",historicalData:H||[],forecastData:ye,xKey:"month",yKey:"revenue",format:"currency",isLoading:S}),b.jsx("div",{className:"grid gap-6",children:b.jsx(Jp,{title:"Revenue by Channel",data:U||[],xKey:"channel",yKeys:["revenue"],colors:["#3b82f6"],format:"currency",isLoading:$})})]}),b.jsxs(_h,{value:"sales",className:"space-y-6",children:[b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{children:"Sales Analysis"})}),b.jsx(en,{children:b.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[b.jsx(dA,{title:"Revenue vs Orders (Complete Months)",data:H||[],xKey:"month",leftYAxis:{key:"revenue",label:"Revenue ($)",color:"#3b82f6",type:"bar"},rightYAxis:{key:"orders",label:"Orders",color:"#10b981",type:"line"},isLoading:S}),b.jsx(Jp,{title:"Monthly Comparison (Complete Months)",data:(H==null?void 0:H.slice(-12))||[],xKey:"month",yKeys:["revenue"],colors:["#3b82f6"],format:"currency",isLoading:S})]})})]}),b.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{className:"text-sm font-medium",children:"Peak Hours"})}),b.jsxs(en,{children:[b.jsx("div",{className:"text-2xl font-bold",children:"6-8 PM"}),b.jsx("p",{className:"text-xs text-gray-500",children:"35% of daily orders"})]})]}),b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{className:"text-sm font-medium",children:"Top Product"})}),b.jsxs(en,{children:[b.jsx("div",{className:"text-2xl font-bold",children:"Pepperoni"}),b.jsx("p",{className:"text-xs text-gray-500",children:"32% of revenue"})]})]}),b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{className:"text-sm font-medium",children:"Avg Delivery Time"})}),b.jsxs(en,{children:[b.jsx("div",{className:"text-2xl font-bold",children:"28 min"}),b.jsx("p",{className:"text-xs text-gray-500",children:"-2 min vs last month"})]})]})]})]}),b.jsxs(_h,{value:"marketing",className:"space-y-6",children:[b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{className:"flex items-center gap-2",children:b.jsx(Ns,{term:"CAC",children:"Customer Acquisition Cost"})})}),b.jsxs(en,{children:[b.jsxs("div",{className:"space-y-6",children:[b.jsx(Jp,{title:"CAC by Marketing Channel",data:I||[],xKey:"channel",yKeys:["cac"],colors:["#f59e0b"],format:"currency",isLoading:M}),b.jsx(dA,{title:"CAC Efficiency: Cost vs Customer Acquisition",data:I||[],xKey:"channel",leftYAxis:{key:"cac",label:"CAC ($)",color:"#ef4444",type:"bar"},rightYAxis:{key:"new_customers",label:"New Customers",color:"#10b981",type:"line"},isLoading:M})]}),b.jsx("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6 mt-6",children:I==null?void 0:I.map(V=>b.jsxs(Qt,{children:[b.jsx(sn,{className:"pb-2",children:b.jsx(ln,{className:"text-xs font-medium",children:V.channel})}),b.jsxs(en,{children:[b.jsxs("div",{className:"text-lg font-bold",children:["$",Number((V==null?void 0:V.cac)||0).toFixed(2)]}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:V.cac_grade}),b.jsxs("p",{className:"text-xs text-gray-400",children:[Number((V==null?void 0:V.new_customers)||0).toLocaleString()," customers"]})]})]},V.channel))})]})]}),b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{className:"flex items-center gap-2",children:b.jsx(Ns,{term:"ATTACH_RATE",children:"Upsell Attach Rates"})})}),b.jsx(en,{children:b.jsxs("div",{className:"space-y-4",children:[L&&L.length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[b.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Sides Attach Rate"}),b.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[Number(((pe=L[0])==null?void 0:pe.sides_attach_rate_pct)||0).toFixed(1),"%"]})]}),b.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Beverage Attach Rate"}),b.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Number(((J=L[0])==null?void 0:J.beverage_attach_rate_pct)||0).toFixed(1),"%"]})]}),b.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Dessert Attach Rate"}),b.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[Number(((Z=L[0])==null?void 0:Z.dessert_attach_rate_pct)||0).toFixed(1),"%"]})]})]}),b.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Based on ",Number(((re=L[0])==null?void 0:re.total_orders)||0).toLocaleString()," orders",i!=="all"&&` for ${i} segment`]})]}),(!L||L.length===0)&&!F&&b.jsx("p",{className:"text-gray-500",children:"No attach rate data available for selected filters"})]})})]})]}),b.jsx(_h,{value:"channels",className:"space-y-6",children:b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{children:"Channel Performance"})}),b.jsx(en,{children:b.jsxs("div",{className:"space-y-6",children:[b.jsx(Jp,{title:"Revenue by Channel (Last 30 Days)",data:z||[],xKey:"channel",yKeys:["revenue"],colors:["#3b82f6"],format:"currency",isLoading:$}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:z==null?void 0:z.map(V=>{const te=z.reduce((be,Be)=>be+Number((Be==null?void 0:Be.revenue)||0),0),ae=Number((V==null?void 0:V.revenue)||0),xe=te>0?(ae/te*100).toFixed(1):"0.0";return b.jsxs(Qt,{children:[b.jsx(sn,{className:"pb-3",children:b.jsx(ln,{className:"text-sm font-medium",children:V.channel})}),b.jsxs(en,{children:[b.jsxs("div",{className:"text-2xl font-bold",children:["$",(ae/1e3).toFixed(0),"K"]}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[xe,"% of total"]})]})]},V.channel)})})]})})]})}),b.jsxs(_h,{value:"customers",className:"space-y-6",children:[b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{className:"flex items-center gap-2",children:b.jsx(Ns,{term:"ARPU",children:"Average Revenue Per User (ARPU) by Segment"})})}),b.jsxs(en,{children:[b.jsx(Jp,{title:"ARPU by Customer Segment",data:R||[],xKey:"customer_segment",yKeys:["arpu"],colors:["#10b981"],format:"currency",isLoading:N}),b.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mt-6",children:R==null?void 0:R.slice(0,4).map(V=>b.jsxs(Qt,{children:[b.jsx(sn,{className:"pb-2",children:b.jsx(ln,{className:"text-sm font-medium",children:V.customer_segment})}),b.jsxs(en,{children:[b.jsxs("div",{className:"text-2xl font-bold",children:["$",((V==null?void 0:V.arpu)||0).toLocaleString()]}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Number((V==null?void 0:V.customer_count)||0).toLocaleString()," customers"]}),b.jsxs("p",{className:"text-xs text-gray-400",children:[Number((V==null?void 0:V.avg_orders_per_customer)||0).toFixed(1)," orders/year"]})]})]},V.customer_segment))})]})]}),b.jsxs(Qt,{children:[b.jsx(sn,{children:b.jsx(ln,{className:"flex items-center gap-2",children:b.jsx(Ns,{term:"GMV",children:"Gross Merchandise Value (GMV) Trend"})})}),b.jsxs(en,{children:[b.jsxs("div",{className:"space-y-6",children:[b.jsx(hA,{title:"GMV vs Net Revenue with Anomaly Detection",data:W||[],xKey:"month",yKeys:["gmv","net_revenue"],colors:["#3b82f6","#10b981"],format:"currency",isLoading:O,anomalies:ve,showAnomalies:!0}),b.jsx(dA,{title:"GMV vs Discount Impact",data:W||[],xKey:"month",leftYAxis:{key:"gmv",label:"GMV ($)",color:"#3b82f6",type:"bar"},rightYAxis:{key:"discount_rate_pct",label:"Discount Rate (%)",color:"#f59e0b",type:"line"},isLoading:O})]}),W&&W.length>0&&(()=>{const V=W.reduce((In,tt)=>In+Number((tt==null?void 0:tt.gmv)||0),0),te=W.reduce((In,tt)=>In+Number((tt==null?void 0:tt.net_revenue)||0),0),ae=W.reduce((In,tt)=>In+Number((tt==null?void 0:tt.discount_rate_pct)||0),0),xe=W.reduce((In,tt)=>In+Number((tt==null?void 0:tt.order_count)||0),0),be=W.length>0?V/W.length/1e6:0,Be=W.length>0?te/W.length/1e6:0,Ut=W.length>0?ae/W.length:0,Ht=xe/1e6;return b.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mt-4",children:[b.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Avg GMV"}),b.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",!isNaN(be)&&isFinite(be)?be.toFixed(1):"0.0","M"]})]}),b.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Avg Net Revenue"}),b.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",!isNaN(Be)&&isFinite(Be)?Be.toFixed(1):"0.0","M"]})]}),b.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Avg Discount Rate"}),b.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[!isNaN(Ut)&&isFinite(Ut)?Ut.toFixed(1):"0.0","%"]})]}),b.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),b.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[!isNaN(Ht)&&isFinite(Ht)?Ht.toFixed(1):"0.0","M"]})]})]})})()]})]})]})]})]})}function Xbe({block:t,tablePreview:e}){const n=()=>{if(!t.spec)return b.jsx("div",{className:"flex items-center justify-center h-full text-sm",style:{color:"var(--color-text-secondary)"},children:"No chart data available"});if(t.specType==="recharts"&&t.spec){const{type:r,data:i,dataKey:o,xKey:a,yKey:s,...l}=t.spec;if(r==="bar")return b.jsx(cs,{width:"100%",height:400,children:b.jsxs(VP,{data:i,...l,children:[b.jsx(vs,{strokeDasharray:"3 3",stroke:"rgba(100, 116, 139, 0.3)"}),b.jsx(pi,{dataKey:a||"name",stroke:"var(--color-text-secondary)"}),b.jsx(Ir,{stroke:"var(--color-text-secondary)"}),b.jsx(kn,{contentStyle:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"8px",color:"var(--color-text-primary)"}}),b.jsx(yr,{}),b.jsx(Ui,{dataKey:o||s||"value",fill:"var(--color-accent)"})]})});if(r==="line")return b.jsx(cs,{width:"100%",height:400,children:b.jsxs(HP,{data:i,...l,children:[b.jsx(vs,{strokeDasharray:"3 3",stroke:"rgba(100, 116, 139, 0.3)"}),b.jsx(pi,{dataKey:a||"name",stroke:"var(--color-text-secondary)"}),b.jsx(Ir,{stroke:"var(--color-text-secondary)"}),b.jsx(kn,{contentStyle:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"8px",color:"var(--color-text-primary)"}}),b.jsx(yr,{}),b.jsx(Hi,{type:"monotone",dataKey:o||s||"value",stroke:"var(--color-accent)",strokeWidth:2})]})})}return b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-sm p-8",style:{color:"var(--color-text-secondary)"},children:[b.jsxs("p",{className:"mb-2",children:["Chart rendering for ",t.specType]}),b.jsx("p",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:"(Spec available - renderer to be implemented)"})]})};return b.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-soft)",overflow:"hidden"},children:[(t.title||t.subtitle)&&b.jsxs("div",{className:"px-4 py-3 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[t.title&&b.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:t.title}),t.subtitle&&b.jsx("div",{className:"text-xs mt-1",style:{color:"var(--color-text-secondary)"},children:t.subtitle})]}),b.jsx("div",{className:"p-4",style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.4) 0%, rgba(30, 41, 59, 0.2) 100%)",backgroundImage:`
            linear-gradient(rgba(100, 116, 139, 0.05) 1px, transparent 1px),
            linear-gradient(90deg, rgba(100, 116, 139, 0.05) 1px, transparent 1px)
          `,backgroundSize:"20px 20px",minHeight:"360px"},children:n()}),t.meta&&b.jsxs("div",{className:"px-4 py-2 border-t text-xs flex items-center gap-4",style:{borderColor:"rgba(30, 41, 59, 0.8)",color:"var(--color-text-secondary)"},children:[t.meta.primaryMeasure&&b.jsxs("span",{children:["Measure: ",t.meta.primaryMeasure]}),t.meta.primaryDim&&b.jsxs("span",{children:["Dimension: ",t.meta.primaryDim]}),t.meta.timeframe&&b.jsxs("span",{children:["Timeframe: ",t.meta.timeframe]})]}),e&&b.jsx("div",{className:"px-4 py-3 border-t",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:b.jsxs("details",{children:[b.jsxs("summary",{className:"text-xs font-medium cursor-pointer",style:{color:"var(--color-text-secondary)"},children:["View data (",e.rows.length," rows)"]}),b.jsx("div",{className:"mt-2 overflow-auto max-h-64",children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[b.jsx("thead",{children:b.jsx("tr",{style:{background:"rgba(0, 100, 145, 0.2)"},children:e.columns.map(r=>b.jsx("th",{style:{padding:"0.25rem 0.5rem",textAlign:"left",color:"var(--color-text-primary)"},children:r},r))})}),b.jsx("tbody",{children:e.rows.slice(0,10).map((r,i)=>b.jsx("tr",{children:r.map((o,a)=>b.jsx("td",{style:{padding:"0.25rem 0.5rem",borderBottom:"1px solid rgba(30, 41, 59, 0.5)",color:"var(--color-text-secondary)"},children:o},a))},i))})]})})]})})]})}function Ybe({block:t}){const[e,n]=P.useState(t.spec),[r,i]=P.useState(null),[o,a]=P.useState(!t.spec&&!!t.dataRef),[s,l]=P.useState(null);return P.useEffect(()=>{if(!t.dataRef||t.spec||t.dataRef.type!=="genie")return;const{genie:c}=t.dataRef;if(!c)return;let u=!1;return(async()=>{try{a(!0),l(null);const h=await fetch("/api/genie/chart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!h.ok){const p=await h.json().catch(()=>({detail:"Failed to load chart"}));throw new Error(p.detail||"Failed to load chart")}const f=await h.json();if(u)return;n(f.spec),i(f.table??null),a(!1)}catch(h){if(u)return;console.error("[FullChartView] Hydration error:",h),l(h.message??"Error loading chart"),a(!1)}})(),()=>{u=!0}},[t]),o?b.jsxs("div",{className:"flex flex-col items-center justify-center p-12 rounded-lg",style:{background:"rgba(15, 23, 42, 0.96)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"var(--radius-lg)",minHeight:"400px"},children:[b.jsx(Hu,{className:"h-8 w-8 animate-spin mb-3",style:{color:"var(--color-accent)"}}),b.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Loading chart from Genie..."})]}):s?b.jsxs("div",{className:"flex flex-col items-center justify-center p-12 rounded-lg",style:{background:"rgba(15, 23, 42, 0.96)",border:"2px solid rgba(239, 68, 68, 0.6)",borderRadius:"var(--radius-lg)",minHeight:"400px"},children:[b.jsx(dx,{className:"h-8 w-8 mb-3",style:{color:"#ef4444"}}),b.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#ef4444"},children:"Couldn't load chart"}),b.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:s})]}):b.jsx(Xbe,{block:{...t,spec:e},tablePreview:r,loading:!1,error:null})}function Jbe(t){const{columns:e,rows:n}=t;return n.map(o=>{var a;return((a=o[0])==null?void 0:a.toString())||""}).some(o=>/\d{4}[-/]\d{1,2}|Q[1-4]|Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec/i.test(o))?"line":e.length===2&&n.length<=8?"pie":"bar"}function KI(t){if(!t||typeof t!="string")return 0;const e=t.replace(/[$Â£â‚¬Â¥]/g,"").replace(/,/g,"").replace(/\s+/g,"").replace(/%$/g,"").trim();if(!e||e==="-"||e==="N/A")return 0;const n=parseFloat(e);return isNaN(n)?0:n}function Zbe(t,e="bar"){const{columns:n,rows:r}=t;if(r.length===0||n.length===0)return{data:[],dataKeys:[]};if(e==="pie")return{data:r.map(s=>{var l,c;return{name:((l=s[0])==null?void 0:l.toString())||"",value:KI(((c=s[1])==null?void 0:c.toString())||"0")}}).filter(s=>s.value>0),dataKeys:["value"]};const i=r.map((a,s)=>{var c,u;const l={name:((c=a[0])==null?void 0:c.toString())||`Row ${s+1}`};for(let h=1;h<n.length;h++){const f=((u=a[h])==null?void 0:u.toString())||"";l[n[h]]=KI(f)}return l}),o=n.slice(1);return{data:i,dataKeys:o}}function Qbe(t){return["#FF6B35","#00A3E0","#FFA630","#8B5CF6","#10B981","#F59E0B","#EC4899","#6366F1"].slice(0,t)}function PA(t){return t>=1e3?t>=1e6?`$${(t/1e6).toFixed(1)}M`:`$${(t/1e3).toFixed(1)}K`:t.toFixed(2)}function exe({block:t}){const{columns:e,rows:n,meta:r}=t,[i,o]=P.useState("table"),[a,s]=P.useState(()=>Jbe(t)),l=()=>{const m=[e.join(","),...n.map(w=>w.map(x=>`"${x}"`).join(","))].join(`
`),g=new Blob([m],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(g),v=document.createElement("a");v.href=y,v.download=`${(r==null?void 0:r.title)||"table"}.csv`,v.click(),URL.revokeObjectURL(y)},{data:c,dataKeys:u}=Zbe(t,a),h=Qbe(u.length),f=()=>!c||c.length===0?b.jsx("div",{className:"flex items-center justify-center h-full text-sm",style:{color:"var(--color-text-secondary)"},children:"No data available to chart. Table may contain non-numeric values."}):!u||u.length===0?b.jsx("div",{className:"flex items-center justify-center h-full text-sm",style:{color:"var(--color-text-secondary)"},children:"No numeric columns found to chart."}):a==="pie"?b.jsx(cs,{width:"100%",height:"100%",children:b.jsxs(Gfe,{children:[b.jsx(Os,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:m})=>`${p}: ${(m*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((p,m)=>b.jsx(vv,{fill:h[m%h.length]},`cell-${m}`))}),b.jsx(kn,{formatter:p=>PA(p)}),b.jsx(yr,{})]})}):a==="line"?b.jsx(cs,{width:"100%",height:"100%",children:b.jsxs(HP,{data:c,margin:{top:20,right:30,left:20,bottom:20},children:[b.jsx(vs,{strokeDasharray:"3 3",stroke:"rgba(71, 85, 105, 0.3)"}),b.jsx(pi,{dataKey:"name",stroke:"var(--color-text-secondary)",fontSize:11}),b.jsx(Ir,{stroke:"var(--color-text-secondary)",fontSize:11}),b.jsx(kn,{contentStyle:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(71, 85, 105, 0.5)",borderRadius:"6px"},formatter:p=>PA(p)}),b.jsx(yr,{}),u.map((p,m)=>b.jsx(Hi,{type:"monotone",dataKey:p,stroke:h[m],strokeWidth:2,dot:{fill:h[m],r:4}},p))]})}):b.jsx(cs,{width:"100%",height:"100%",children:b.jsxs(VP,{data:c,margin:{top:20,right:30,left:20,bottom:20},children:[b.jsx(vs,{strokeDasharray:"3 3",stroke:"rgba(71, 85, 105, 0.3)"}),b.jsx(pi,{dataKey:"name",stroke:"var(--color-text-secondary)",fontSize:11}),b.jsx(Ir,{stroke:"var(--color-text-secondary)",fontSize:11}),b.jsx(kn,{contentStyle:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(71, 85, 105, 0.5)",borderRadius:"6px"},formatter:p=>PA(p)}),b.jsx(yr,{}),u.map((p,m)=>b.jsx(Ui,{dataKey:p,fill:h[m],radius:[4,4,0,0]},p))]})});return b.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",display:"flex",flexDirection:"column",maxHeight:"100%"},children:[b.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:(r==null?void 0:r.title)??"Table"}),(r==null?void 0:r.subtitle)&&b.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:r.subtitle})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"flex items-center gap-1 border rounded-full p-0.5",style:{borderColor:"rgba(71, 85, 105, 0.5)"},children:[b.jsxs("button",{className:"flex items-center gap-1 px-2 py-0.5 text-[10px] rounded-full transition-all",style:{background:i==="table"?"var(--color-accent)":"transparent",color:i==="table"?"white":"var(--color-text-secondary)"},onClick:()=>o("table"),children:[b.jsx(j_,{className:"h-3 w-3"}),"Table"]}),b.jsxs("button",{className:"flex items-center gap-1 px-2 py-0.5 text-[10px] rounded-full transition-all",style:{background:i==="chart"?"var(--color-accent)":"transparent",color:i==="chart"?"white":"var(--color-text-secondary)"},onClick:()=>o("chart"),children:[b.jsx(R_,{className:"h-3 w-3"}),"Chart"]})]}),i==="chart"&&b.jsxs("select",{value:a,onChange:p=>s(p.target.value),className:"text-[10px] px-2 py-1 border rounded-full",style:{background:"rgba(15, 23, 42, 0.9)",borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:[b.jsx("option",{value:"bar",children:"Bar"}),b.jsx("option",{value:"line",children:"Line"}),b.jsx("option",{value:"pie",children:"Pie"})]}),b.jsxs("span",{className:"text-[10px]",style:{color:"var(--color-text-secondary)"},children:[n.length," rows"]}),b.jsxs("button",{className:"flex items-center gap-1 px-2 py-0.5 text-[10px] border rounded-full transition-colors",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},onMouseEnter:p=>{p.currentTarget.style.borderColor="var(--color-accent)",p.currentTarget.style.color="var(--color-accent)"},onMouseLeave:p=>{p.currentTarget.style.borderColor="rgba(71, 85, 105, 0.8)",p.currentTarget.style.color="var(--color-text-secondary)"},onClick:l,children:[b.jsx(eS,{className:"h-3 w-3"}),"Download CSV"]})]})]}),b.jsx("div",{className:"flex-1 overflow-auto",children:i==="table"?b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[b.jsx("thead",{children:b.jsx("tr",{style:{background:"var(--color-accent)",color:"white"},children:e.map(p=>b.jsx("th",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.06em",padding:"0.5rem 0.75rem",textAlign:"left",fontWeight:600,position:"sticky",top:0},children:p},p))})}),b.jsx("tbody",{children:n.map((p,m)=>b.jsx("tr",{style:{background:m%2===0?"rgba(15, 23, 42, 0.9)":"rgba(30, 41, 59, 0.9)"},children:p.map((g,y)=>b.jsx("td",{style:{color:"var(--color-text-primary)",fontSize:"0.8rem",padding:"0.45rem 0.75rem",borderBottom:"1px solid rgba(30, 41, 59, 0.8)",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:g},y))},m))})]}):b.jsx("div",{style:{width:"100%",height:"600px",padding:"1rem"},children:f()})})]})}function txe({block:t}){return b.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",padding:"0.75rem",display:"flex",flexDirection:"column",height:"100%"},children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:t.alt||"Image"}),b.jsxs("button",{className:"flex items-center gap-1 text-xs transition-colors",style:{color:"var(--color-text-secondary)"},onMouseEnter:e=>{e.currentTarget.style.color="var(--color-text-primary)"},onMouseLeave:e=>{e.currentTarget.style.color="var(--color-text-secondary)"},onClick:()=>window.open(t.url,"_blank"),children:[b.jsx(I_,{className:"h-3 w-3"}),"Open in new tab"]})]}),b.jsx("div",{className:"flex-1 flex items-center justify-center overflow-auto",children:b.jsx("img",{src:t.url,alt:t.alt??"",style:{maxWidth:"100%",maxHeight:"100%",borderRadius:"var(--radius-md)",objectFit:"contain"}})})]})}const ur=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),KE=[.001,0,0,.001,0,0],TA=1.35,ii={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ea={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Cg="pdfjs_internal_editor_",ke={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ve={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},XB={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Nn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Lm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Yt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ph={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Rv={ERRORS:0,WARNINGS:1,INFOS:5},sp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},hb={moveTo:0,lineTo:1,curveTo:2,closePath:3},YB={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let b1=Rv.WARNINGS;function nxe(t){Number.isInteger(t)&&(b1=t)}function rxe(){return b1}function x1(t){b1>=Rv.INFOS&&console.info(`Info: ${t}`)}function Oe(t){b1>=Rv.WARNINGS&&console.warn(`Warning: ${t}`)}function vt(t){throw new Error(t)}function We(t,e){t||vt(e)}function ixe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cT(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=cxe(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return ixe(r)?r:null}function uT(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&cT(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Le(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const lh=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class XI extends lh{constructor(e,n){super(e,"PasswordException"),this.code=n}}class kA extends lh{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class _0 extends lh{constructor(e){super(e,"InvalidPDFException")}}class _g extends lh{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class oxe extends lh{constructor(e){super(e,"FormatError")}}class As extends lh{constructor(e){super(e,"AbortException")}}function JB(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&vt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const o=Math.min(i+n,e),a=t.subarray(i,o);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function Iv(t){typeof t!="string"&&vt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function axe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function sxe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function lxe(){try{return new Function(""),!0}catch{return!1}}class Mn{static get isLittleEndian(){return Le(this,"isLittleEndian",sxe())}static get isEvalSupported(){return Le(this,"isEvalSupported",lxe())}static get isOffscreenCanvasSupported(){return Le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Le(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Le(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return Le(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const OA=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var hs,Rb,XE;class he{static makeHexColor(e,n,r){return`#${OA[e]}${OA[n]}${OA[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],o=e[r+1];e[r]=i*n[0]+o*n[2]+n[4],e[r+1]=i*n[1]+o*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5];for(let u=0;u<6;u+=2){const h=e[r+u],f=e[r+u+1];e[r+u]=h*i+f*a+l,e[r+u+1]=h*o+f*s+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],o=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/o,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/o}static axialAlignedBoundingBox(e,n,r){const i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=e[0],h=e[1],f=e[2],p=e[3];let m=i*u+l,g=m,y=i*f+l,v=y,w=s*h+c,x=w,E=s*p+c,A=E;if(o!==0||a!==0){const S=o*u,_=o*f,O=a*h,I=a*p;m+=O,v+=O,y+=I,g+=I,w+=S,A+=S,E+=_,x+=_}r[0]=Math.min(r[0],m,y,g,v),r[1]=Math.min(r[1],w,E,x,A),r[2]=Math.max(r[2],m,y,g,v),r[3]=Math.max(r[3],w,E,x,A)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],o=e[2],a=e[3],s=r**2+i**2,l=r*o+i*a,c=o**2+a**2,u=(s+c)/2,h=Math.sqrt(u**2-(s*c-l**2));n[0]=Math.sqrt(u+h||1),n[1]=Math.sqrt(u-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return o>a?null:[r,o,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,o){o[0]=Math.min(o[0],e,r),o[1]=Math.min(o[1],n,i),o[2]=Math.max(o[2],e,r),o[3]=Math.max(o[3],n,i)}static bezierBoundingBox(e,n,r,i,o,a,s,l,c){c[0]=Math.min(c[0],e,s),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,s),c[3]=Math.max(c[3],n,l),k(this,hs,XE).call(this,e,r,o,s,n,i,a,l,3*(-e+3*(r-o)+s),6*(e-2*r+o),3*(r-e),c),k(this,hs,XE).call(this,e,r,o,s,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}hs=new WeakSet,Rb=function(e,n,r,i,o,a,s,l,c,u){if(c<=0||c>=1)return;const h=1-c,f=c*c,p=f*c,m=h*(h*(h*e+3*c*n)+3*f*r)+p*i,g=h*(h*(h*o+3*c*a)+3*f*s)+p*l;u[0]=Math.min(u[0],m),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],m),u[3]=Math.max(u[3],g)},XE=function(e,n,r,i,o,a,s,l,c,u,h,f){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&k(this,hs,Rb).call(this,e,n,r,i,o,a,s,l,-h/u,f);return}const p=u**2-4*h*c;if(p<0)return;const m=Math.sqrt(p),g=2*c;k(this,hs,Rb).call(this,e,n,r,i,o,a,s,l,(-u+m)/g,f),k(this,hs,Rb).call(this,e,n,r,i,o,a,s,l,(-u-m)/g,f)},T(he,hs);function cxe(t){return decodeURIComponent(escape(t))}let MA=null,YI=null;function ZB(t){return MA||(MA=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,YI=new Map([["ï¬…","Å¿t"]])),t.replaceAll(MA,(e,n,r)=>n?n.normalize("NFKC"):YI.get(r))}function hT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),JB(t)}const dT="pdfjs_internal_id_";function uxe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...o]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=o.length;let s=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;s=!1;break;default:return!1}for(const l of o)if(!(typeof l=="number"||s&&l===null))return!1;return!0}function Zn(t,e,n){return Math.min(Math.max(t,e),n)}function QB(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(JB(t))}function hxe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Iv(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Pg{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(o){var l;if(!o)return;let a=null;const s=o.name;if(s==="#text")a=o.value;else if(Pg.shouldBuildText(s))(l=o==null?void 0:o.attributes)!=null&&l.textContent?a=o.attributes.textContent:o.value&&(a=o.value);else return;if(a!==null&&n.push({str:a}),!!o.children)for(const c of o.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class fT{static setupStorage(e,n,r,i,o){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),o==="print")break;e.addEventListener("input",s=>{i.setValue(n,{value:s.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",s=>{i.setValue(n,{value:s.target.checked?s.target.getAttribute("xfaOn"):s.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),o==="print")break;e.addEventListener("input",s=>{i.setValue(n,{value:s.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const s of r.children)s.attributes.value===a.value?s.attributes.selected=!0:s.attributes.hasOwnProperty("selected")&&delete s.attributes.selected}e.addEventListener("input",s=>{const l=s.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:o}){const{attributes:a}=n,s=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!s||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}s&&o.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){var h,f;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,o=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:o,linkService:r});const s=o!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}s&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),s&&Pg.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[p,m,g]=u.at(-1);if(m+1===p.children.length){u.pop();continue}const y=p.children[++u.at(-1)[1]];if(y===null)continue;const{name:v}=y;if(v==="#text"){const x=document.createTextNode(y.value);c.push(x),g.append(x);continue}const w=(h=y==null?void 0:y.attributes)!=null&&h.xmlns?document.createElementNS(y.attributes.xmlns,v):document.createElement(v);if(g.append(w),y.attributes&&this.setAttributes({html:w,element:y,storage:n,intent:o,linkService:r}),((f=y.children)==null?void 0:f.length)>0)u.push([y,-1,w]);else if(y.value){const x=document.createTextNode(y.value);s&&Pg.shouldBuildText(v)&&c.push(x),w.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ba="http://www.w3.org/2000/svg",Ac=class Ac{};Q(Ac,"CSS",96),Q(Ac,"PDF",72),Q(Ac,"PDF_TO_CSS_UNITS",Ac.CSS/Ac.PDF);let Ss=Ac;async function Rp(t,e="text"){if(sm(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Nv{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:o=0,offsetY:a=0,dontFlip:s=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=o,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,h,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,h=0,f=0,p=1;break;case 90:u=0,h=1,f=1,p=0;break;case 270:u=0,h=-1,f=-1,p=0;break;case 0:u=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(f=-f,p=-p);let m,g,y,v;u===0?(m=Math.abs(c-e[1])*r+o,g=Math.abs(l-e[0])*r+a,y=(e[3]-e[1])*r,v=(e[2]-e[0])*r):(m=Math.abs(l-e[0])*r+o,g=Math.abs(c-e[1])*r+a,y=(e[2]-e[0])*r,v=(e[3]-e[1])*r),this.transform=[u*r,h*r,f*r,p*r,m-u*r*l-f*r*c,g-h*r*l-p*r*c],this.width=y,this.height=v}get rawDims(){const e=this.viewBox;return Le(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new Nv({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}convertToViewportPoint(e,n){const r=[e,n];return he.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];he.applyTransform(n,this.transform);const r=[e[2],e[3]];return he.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return he.applyInverseTransform(r,this.transform),r}}class w1 extends lh{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function jv(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function A1(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function e3(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function t3(t,e="document.pdf"){if(typeof t!="string")return e;if(jv(t))return Oe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(s=>{try{return new URL(s)}catch{try{return new URL(decodeURIComponent(s))}catch{try{return new URL(s,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(s),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=s=>{try{let l=decodeURIComponent(s);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:s):l}catch{return s}},o=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(o.test(a))return i(a);if(r.searchParams.size>0){const s=Array.from(r.searchParams.values()).reverse();for(const c of s)if(o.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(o.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class JI{constructor(){Q(this,"started",Object.create(null));Q(this,"times",[])}time(e){e in this.started&&Oe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Oe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:o}of this.times)e.push(`${r.padEnd(n)} ${o-i}ms
`);return e.join("")}}function sm(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function mi(t){t.preventDefault()}function $t(t){t.preventDefault(),t.stopPropagation()}function dxe(t){console.log("Deprecated API usage: "+t)}var jg;class Tg{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;d(this,jg)||C(this,jg,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=d(this,jg).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(n[3],10);o=o>=1&&o<=31?o:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(n[5],10);s=s>=0&&s<=59?s:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let u=parseInt(n[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=u,s+=h):c==="+"&&(a-=u,s-=h),new Date(Date.UTC(r,i,o,a,s,l))}}jg=new WeakMap,T(Tg,jg);function n3(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new Nv({viewBox:o,userUnit:1,scale:e,rotation:n})}function Ip(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Oe(`Not a valid color format: "${t}"`),[0,0,0])}function fxe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Ip(r))}e.remove()}function Lt(t){const{a:e,b:n,c:r,d:i,e:o,f:a}=t.getTransform();return[e,n,r,i,o,a]}function Co(t){const{a:e,b:n,c:r,d:i,e:o,f:a}=t.getTransform().invertSelf();return[e,n,r,i,o,a]}function Gl(t,e,n=!1,r=!0){if(e instanceof Nv){const{pageWidth:i,pageHeight:o}=e.rawDims,{style:a}=t,s=Mn.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${o}px`,u=s?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=s?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=u,a.height=h):(a.width=h,a.height=u)}r&&t.setAttribute("data-main-rotation",e.rotation)}class xo{constructor(){const{pixelRatio:e}=xo;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,o=-1){let a=1/0,s=1/0,l=1/0;r=xo.capPixels(r,o),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(s=i/e,l=i/n);const c=Math.min(a,s,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const P0=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class pxe{static get isDarkMode(){var e;return Le(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class r3{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Le(this,"commentForegroundColor",Ip(r))}}function i3(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function ZI(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.max(n,r,i),a=Math.min(n,r,i),s=(o+a)/2;if(o===a)e[0]=e[1]=0;else{const l=o-a;switch(e[1]=s<.5?l/(o+a):l/(2-o-a),o){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=s}function YE(t,e){const n=t[0],r=t[1],i=t[2],o=(1-Math.abs(2*i-1))*r,a=o*(1-Math.abs(n/60%2-1)),s=i-o/2;switch(Math.floor(n/60)){case 0:e[0]=o+s,e[1]=a+s,e[2]=s;break;case 1:e[0]=a+s,e[1]=o+s,e[2]=s;break;case 2:e[0]=s,e[1]=o+s,e[2]=a+s;break;case 3:e[0]=s,e[1]=a+s,e[2]=o+s;break;case 4:e[0]=a+s,e[1]=s,e[2]=o+s;break;case 5:case 6:e[0]=o+s,e[1]=s,e[2]=a+s;break}}function QI(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function eN(t,e,n){YE(t,n),n.map(QI);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];YE(e,n),n.map(QI);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const tN=new Map;function o3(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=tN.get(n);if(r)return r;const i=new Float32Array(9),o=i.subarray(0,3),a=i.subarray(3,6);ZI(t,a);const s=i.subarray(6,9);ZI(e,s);const l=s[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),eN(a,s,o)<c){let u,h;l?(u=a[2],h=1):(u=0,h=a[2]);const f=.005;for(;h-u>f;){const p=a[2]=(u+h)/2;l===eN(a,s,o)<c?u=p:h=p}a[2]=l?h:u}return YE(a,o),r=he.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),tN.set(n,r),r}function pT({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const o=document.createElement("p");o.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let s=0,l=a.length;s<l;++s){const c=a[s];o.append(document.createTextNode(c)),s<l-1&&o.append(document.createElement("br"))}i.append(o)}else fT.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}var zs,Us,Si,Ei,Dg,Hs,nd,rd,Lg,U0,a3,Hn,s3,l3,Th,lm;const Sa=class Sa{constructor(e){T(this,Hn);T(this,zs,null);T(this,Us,null);T(this,Si);T(this,Ei,null);T(this,Dg,null);T(this,Hs,null);T(this,nd,null);T(this,rd,null);C(this,Si,e),d(Sa,Lg)||C(Sa,Lg,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=C(this,zs,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=d(this,Si)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",mi,{signal:n}),e.addEventListener("pointerdown",k(Sa,U0,a3),{signal:n}));const r=C(this,Ei,document.createElement("div"));r.className="buttons",e.append(r);const i=d(this,Si).toolbarPosition;if(i){const{style:o}=e,a=d(this,Si)._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*a}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return d(this,zs)}hide(){var e;d(this,zs).classList.add("hidden"),(e=d(this,Us))==null||e.hideDropdown()}show(){var e,n;d(this,zs).classList.remove("hidden"),(e=d(this,Dg))==null||e.shown(),(n=d(this,Hs))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=d(this,Si),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",d(Sa,Lg)[e]),k(this,Hn,Th).call(this,r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),d(this,Ei).append(r)}async addAltText(e){const n=await e.render();k(this,Hn,Th).call(this,n),d(this,Ei).append(n,d(this,Hn,lm)),C(this,Dg,e)}addComment(e,n=null){if(d(this,Hs))return;const r=e.renderForToolbar();if(!r)return;k(this,Hn,Th).call(this,r);const i=C(this,nd,d(this,Hn,lm));n?(d(this,Ei).insertBefore(r,n),d(this,Ei).insertBefore(i,n)):d(this,Ei).append(r,i),C(this,Hs,e),e.toolbar=this}addColorPicker(e){if(d(this,Us))return;C(this,Us,e);const n=e.renderButton();k(this,Hn,Th).call(this,n),d(this,Ei).append(n,d(this,Hn,lm))}async addEditSignatureButton(e){const n=C(this,rd,await e.renderEditButton(d(this,Si)));k(this,Hn,Th).call(this,n),d(this,Ei).append(n,d(this,Hn,lm))}removeButton(e){var n,r;switch(e){case"comment":(n=d(this,Hs))==null||n.removeToolbarCommentButton(),C(this,Hs,null),(r=d(this,nd))==null||r.remove(),C(this,nd,null);break}}async addButton(e,n){switch(e){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(n);break}}async addButtonBefore(e,n,r){const i=d(this,Ei).querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){d(this,rd)&&(d(this,rd).title=e)}remove(){var e;d(this,zs).remove(),(e=d(this,Us))==null||e.destroy(),C(this,Us,null)}};zs=new WeakMap,Us=new WeakMap,Si=new WeakMap,Ei=new WeakMap,Dg=new WeakMap,Hs=new WeakMap,nd=new WeakMap,rd=new WeakMap,Lg=new WeakMap,U0=new WeakSet,a3=function(e){e.stopPropagation()},Hn=new WeakSet,s3=function(e){d(this,Si)._focusEventsAllowed=!1,$t(e)},l3=function(e){d(this,Si)._focusEventsAllowed=!0,$t(e)},Th=function(e){const n=d(this,Si)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",k(this,Hn,s3).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",k(this,Hn,l3).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",mi,{signal:n}),!0)},lm=function(){const e=document.createElement("div");return e.className="divider",e},T(Sa,U0),T(Sa,Lg,null);let JE=Sa;var $g,Mc,Ca,Es,c3,u3,ZE;class mxe{constructor(e){T(this,Es);T(this,$g,null);T(this,Mc,null);T(this,Ca);C(this,Ca,e)}show(e,n,r){const[i,o]=k(this,Es,u3).call(this,n,r),{style:a}=d(this,Mc)||C(this,Mc,k(this,Es,c3).call(this));e.append(d(this,Mc)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,Mc).remove()}}$g=new WeakMap,Mc=new WeakMap,Ca=new WeakMap,Es=new WeakSet,c3=function(){const e=C(this,Mc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=d(this,Ca)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",mi,{signal:n});const r=C(this,$g,document.createElement("div"));return r.className="buttons",e.append(r),d(this,Ca).hasCommentManager()&&k(this,Es,ZE).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{d(this,Ca).commentSelection("floating_button")}),k(this,Es,ZE).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{d(this,Ca).highlightSelection("floating_button")}),e},u3=function(e,n){let r=0,i=0;for(const o of e){const a=o.y+o.height;if(a<r)continue;const s=o.x+(n?o.width:0);if(a>r){i=s,r=a;continue}n?s>i&&(i=s):s<i&&(i=s)}return[n?1-i:i,r]},ZE=function(e,n,r,i){const o=document.createElement("button");o.classList.add("basic",e),o.tabIndex=0,o.setAttribute("data-l10n-id",n);const a=document.createElement("span");o.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const s=d(this,Ca)._signal;s instanceof AbortSignal&&!s.aborted&&(o.addEventListener("contextmenu",mi,{signal:s}),o.addEventListener("click",i,{signal:s})),d(this,$g).append(o)};function h3(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var H0;class gxe{constructor(){T(this,H0,0)}get id(){return`${Cg}${dn(this,H0)._++}`}}H0=new WeakMap;var id,Fg,Wn,od,Ib;const VT=class VT{constructor(){T(this,od);T(this,id,hT());T(this,Fg,0);T(this,Wn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const o=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Le(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:o}=e;return k(this,od,Ib).call(this,`${n}_${r}_${i}_${o}`,e)}async getFromUrl(e){return k(this,od,Ib).call(this,e,e)}async getFromBlob(e,n){const r=await n;return k(this,od,Ib).call(this,e,r)}async getFromId(e){d(this,Wn)||C(this,Wn,new Map);const n=d(this,Wn).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){d(this,Wn)||C(this,Wn,new Map);let r=d(this,Wn).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${d(this,id)}_${dn(this,Fg)._++}`,refCounter:1,isSvg:!1},d(this,Wn).set(e,r),d(this,Wn).set(r.id,r),r}getSvgUrl(e){const n=d(this,Wn).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;d(this,Wn)||C(this,Wn,new Map);const n=d(this,Wn).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const o=new OffscreenCanvas(r.width,r.height);o.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=o.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${d(this,id)}_`)}};id=new WeakMap,Fg=new WeakMap,Wn=new WeakMap,od=new WeakSet,Ib=async function(e,n){d(this,Wn)||C(this,Wn,new Map);let r=d(this,Wn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${d(this,id)}_${dn(this,Fg)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await Rp(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const o=VT._isSVGFittingCanvas,a=new FileReader,s=new Image,l=new Promise((c,u)=>{s.onload=()=>{r.bitmap=s,r.isSvg=!0,c()},a.onload=async()=>{const h=r.svgUrl=a.result;s.src=await o?`${h}#svgView(preserveAspectRatio(none))`:h},s.onerror=a.onerror=u});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Oe(i),r=null}return d(this,Wn).set(e,r),r&&d(this,Wn).set(r.id,r),r};let QE=VT;var Jt,Vs,Bg,Dt;class yxe{constructor(e=128){T(this,Jt,[]);T(this,Vs,!1);T(this,Bg);T(this,Dt,-1);C(this,Bg,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:o=NaN,overwriteIfSameType:a=!1,keepUndo:s=!1}){if(i&&e(),d(this,Vs))return;const l={cmd:e,undo:n,post:r,type:o};if(d(this,Dt)===-1){d(this,Jt).length>0&&(d(this,Jt).length=0),C(this,Dt,0),d(this,Jt).push(l);return}if(a&&d(this,Jt)[d(this,Dt)].type===o){s&&(l.undo=d(this,Jt)[d(this,Dt)].undo),d(this,Jt)[d(this,Dt)]=l;return}const c=d(this,Dt)+1;c===d(this,Bg)?d(this,Jt).splice(0,1):(C(this,Dt,c),c<d(this,Jt).length&&d(this,Jt).splice(c)),d(this,Jt).push(l)}undo(){if(d(this,Dt)===-1)return;C(this,Vs,!0);const{undo:e,post:n}=d(this,Jt)[d(this,Dt)];e(),n==null||n(),C(this,Vs,!1),C(this,Dt,d(this,Dt)-1)}redo(){if(d(this,Dt)<d(this,Jt).length-1){C(this,Dt,d(this,Dt)+1),C(this,Vs,!0);const{cmd:e,post:n}=d(this,Jt)[d(this,Dt)];e(),n==null||n(),C(this,Vs,!1)}}hasSomethingToUndo(){return d(this,Dt)!==-1}hasSomethingToRedo(){return d(this,Dt)<d(this,Jt).length-1}cleanType(e){if(d(this,Dt)!==-1){for(let n=d(this,Dt);n>=0;n--)if(d(this,Jt)[n].type!==e){d(this,Jt).splice(n+1,d(this,Dt)-n),C(this,Dt,n);return}d(this,Jt).length=0,C(this,Dt,-1)}}destroy(){C(this,Jt,null)}}Jt=new WeakMap,Vs=new WeakMap,Bg=new WeakMap,Dt=new WeakMap;var V0,d3;class Dv{constructor(e){T(this,V0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Mn.platform;for(const[r,i,o={}]of e)for(const a of r){const s=a.startsWith("mac+");n&&s?(this.callbacks.set(a.slice(4),{callback:i,options:o}),this.allKeys.add(a.split("+").at(-1))):!n&&!s&&(this.callbacks.set(a,{callback:i,options:o}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(k(this,V0,d3).call(this,n));if(!r)return;const{callback:i,options:{bubbles:o=!1,args:a=[],checker:s=null}}=r;s&&!s(e,n)||(i.bind(e,...a,n)(),o||$t(n))}}V0=new WeakSet,d3=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const W0=class W0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return fxe(e),Le(this,"_colors",e)}convert(e){const n=Ip(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((o,a)=>o===n[a]))return W0._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?he.makeHexColor(...n):e}};Q(W0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let eC=W0;var ad,zr,sd,Vt,gn,ld,Ci,cd,_i,Gn,Ws,Gs,ud,qs,Oo,Pi,Rc,zg,Ug,hd,Hg,Mo,Ks,dd,Xs,Ro,G0,Ys,fd,Vg,Js,Ic,pd,Zs,Wg,rn,it,_a,Qs,el,Gg,md,qg,tl,Io,Pa,Kg,Xg,Ti,se,Nb,tC,f3,p3,cm,m3,g3,y3,nC,v3,rC,iC,b3,or,xa,x3,w3,oC,A3,um,aC;const Uh=class Uh{constructor(e,n,r,i,o,a,s,l,c,u,h,f,p,m,g,y){T(this,se);T(this,ad,new AbortController);T(this,zr,null);T(this,sd,null);T(this,Vt,new Map);T(this,gn,new Map);T(this,ld,null);T(this,Ci,null);T(this,cd,null);T(this,_i,new yxe);T(this,Gn,null);T(this,Ws,null);T(this,Gs,null);T(this,ud,0);T(this,qs,new Set);T(this,Oo,null);T(this,Pi,null);T(this,Rc,new Set);Q(this,"_editorUndoBar",null);T(this,zg,!1);T(this,Ug,!1);T(this,hd,!1);T(this,Hg,null);T(this,Mo,null);T(this,Ks,null);T(this,dd,null);T(this,Xs,!1);T(this,Ro,null);T(this,G0,new gxe);T(this,Ys,!1);T(this,fd,!1);T(this,Vg,!1);T(this,Js,null);T(this,Ic,null);T(this,pd,null);T(this,Zs,null);T(this,Wg,null);T(this,rn,ke.NONE);T(this,it,new Set);T(this,_a,null);T(this,Qs,null);T(this,el,null);T(this,Gg,null);T(this,md,null);T(this,qg,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,tl,[0,0]);T(this,Io,null);T(this,Pa,null);T(this,Kg,null);T(this,Xg,null);T(this,Ti,null);const v=this._signal=d(this,ad).signal;C(this,Pa,e),C(this,Kg,n),C(this,Xg,r),C(this,ld,i),C(this,Gn,o),C(this,Qs,a),C(this,md,l),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:v}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),s._on("setpreference",this.onSetPreference.bind(this),{signal:v}),s._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:v}),window.addEventListener("pointerdown",()=>{C(this,fd,!0)},{capture:!0,signal:v}),window.addEventListener("pointerup",()=>{C(this,fd,!1)},{capture:!0,signal:v}),k(this,se,m3).call(this),k(this,se,b3).call(this),k(this,se,nC).call(this),C(this,Ci,l.annotationStorage),C(this,Hg,l.filterFactory),C(this,el,c),C(this,dd,u||null),C(this,zg,h),C(this,Ug,f),C(this,hd,p),C(this,Wg,m||null),this.viewParameters={realScale:Ss.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=y!==!1,o==null||o.setSidebarUiManager(this)}static get _keyboardManager(){const e=Uh.prototype,n=a=>d(a,Pa).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:s})=>{if(s instanceof HTMLInputElement){const{type:l}=s;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Le(this,"_keyboardManager",new Dv([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:s})=>!(s instanceof HTMLButtonElement)&&d(a,Pa).contains(s)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:s})=>!(s instanceof HTMLButtonElement)&&d(a,Pa).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}]]))}destroy(){var e,n,r,i,o,a,s,l,c;(e=d(this,Ti))==null||e.resolve(),C(this,Ti,null),(n=d(this,ad))==null||n.abort(),C(this,ad,null),this._signal=null;for(const u of d(this,gn).values())u.destroy();d(this,gn).clear(),d(this,Vt).clear(),d(this,Rc).clear(),(r=d(this,Zs))==null||r.clear(),C(this,zr,null),d(this,it).clear(),d(this,_i).destroy(),(i=d(this,ld))==null||i.destroy(),(o=d(this,Gn))==null||o.destroy(),(a=d(this,Qs))==null||a.destroy(),(s=d(this,Ro))==null||s.hide(),C(this,Ro,null),(l=d(this,pd))==null||l.destroy(),C(this,pd,null),C(this,sd,null),d(this,Mo)&&(clearTimeout(d(this,Mo)),C(this,Mo,null)),d(this,Io)&&(clearTimeout(d(this,Io)),C(this,Io,null)),(c=this._editorUndoBar)==null||c.destroy(),C(this,md,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return d(this,Wg)}get useNewAltTextFlow(){return d(this,Ug)}get useNewAltTextWhenAddingImage(){return d(this,hd)}get hcmFilter(){return Le(this,"hcmFilter",d(this,el)?d(this,Hg).addHCMFilter(d(this,el).foreground,d(this,el).background):"none")}get direction(){return Le(this,"direction",getComputedStyle(d(this,Pa)).direction)}get _highlightColors(){return Le(this,"_highlightColors",d(this,dd)?new Map(d(this,dd).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Le(this,"highlightColors",null);const n=new Map,r=!!d(this,el);for(const[i,o]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),o);continue}!r&&!a&&n.set(i,o)}return Le(this,"highlightColors",n)}get highlightColorNames(){return Le(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),C(this,Gs,e)}setMainHighlightColorPicker(e){C(this,pd,e)}editAltText(e,n=!1){var r;(r=d(this,ld))==null||r.editAltText(this,e,n)}hasCommentManager(){return!!d(this,Gn)}editComment(e,n,r,i){var o;(o=d(this,Gn))==null||o.showDialog(this,e,n,r,i)}selectComment(e,n){const r=d(this,gn).get(e),i=r==null?void 0:r.getEditorByUID(n);i==null||i.toggleComment(!0,!0)}updateComment(e){var n;(n=d(this,Gn))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=d(this,Gn))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=d(this,Gn))==null||n.removeComments([e.uid])}toggleComment(e,n,r=void 0){var i;(i=d(this,Gn))==null||i.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){var r;return e&&((r=d(this,Gn))==null?void 0:r.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=d(this,Gn))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(d(this,gn).has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=o=>{o.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var n;(n=d(this,Qs))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return d(this,Qs)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":C(this,hd,n);break}}onPageChanging({pageNumber:e}){C(this,ud,e-1)}focusMainContainer(){d(this,Pa).focus()}findParent(e,n){for(const r of d(this,gn).values()){const{x:i,y:o,width:a,height:s}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=o&&n<=o+s)return r}return null}disableUserSelect(e=!1){d(this,Kg).classList.toggle("noUserSelect",e)}addShouldRescale(e){d(this,Rc).add(e)}removeShouldRescale(e){d(this,Rc).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Ss.PDF_TO_CSS_UNITS;for(const r of d(this,Rc))r.onScaleChanging();(n=d(this,Gs))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:o,focusNode:a,focusOffset:s}=r,l=r.toString(),u=k(this,se,Nb).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(u);if(!h)return;r.empty();const f=k(this,se,tC).call(this,u),p=d(this,rn)===ke.NONE,m=()=>{const g=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:o,focusNode:a,focusOffset:s,text:l});p&&this.showAllEditors("highlight",!0,!0),n&&(g==null||g.editComment())};if(p){this.switchToMode(ke.HIGHLIGHT,m);return}m()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!d(this,Ci))return null;const n=`${Cg}${e}`,r=d(this,Ci).getRawValue(n);return r&&d(this,Ci).remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&d(this,Ci)&&!d(this,Ci).has(e.id)&&d(this,Ci).setValue(e.id,e)}a11yAlert(e,n=null){const r=d(this,Xg);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,d(this,Xs)&&(C(this,Xs,!1),k(this,se,cm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of d(this,it))if(n.div.contains(e)){C(this,Ic,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!d(this,Ic))return;const[e,n]=d(this,Ic);C(this,Ic,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){k(this,se,nC).call(this),k(this,se,rC).call(this)}removeEditListeners(){k(this,se,v3).call(this),k(this,se,iC).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of d(this,Pi))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of d(this,Pi))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=d(this,zr))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of d(this,it)){const o=i.serialize(!0);o&&n.push(o)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const o of n.items)for(const a of d(this,Pi))if(a.isHandlingMimeForPasting(o.type)){a.paste(o,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){Oe(`paste: "${o.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const o=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;o.push(c)}const a=()=>{for(const l of o)k(this,se,oC).call(this,l);k(this,se,aC).call(this,o)},s=()=>{for(const l of o)l.remove()};this.addCommands({cmd:a,undo:s,mustExec:!0})}catch(o){Oe(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,rn)!==ke.NONE&&!this.isEditorHandlingKeyboard&&Uh._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,Xs)&&(C(this,Xs,!1),k(this,se,cm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(k(this,se,g3).call(this),k(this,se,rC).call(this),k(this,se,or).call(this,{isEditing:d(this,rn)!==ke.NONE,isEmpty:k(this,se,um).call(this),hasSomethingToUndo:d(this,_i).hasSomethingToUndo(),hasSomethingToRedo:d(this,_i).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,se,y3).call(this),k(this,se,iC).call(this),k(this,se,or).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!d(this,Pi)){C(this,Pi,e);for(const n of d(this,Pi))k(this,se,xa).call(this,n.defaultPropertiesToUpdate)}}getId(){return d(this,G0).id}get currentLayer(){return d(this,gn).get(d(this,ud))}getLayer(e){return d(this,gn).get(e)}get currentPageIndex(){return d(this,ud)}addLayer(e){d(this,gn).set(e.pageIndex,e),d(this,Ys)?e.enable():e.disable()}removeLayer(e){d(this,gn).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,o=!1){var a,s,l,c,u,h;if(d(this,rn)!==e&&!(d(this,Ti)&&(await d(this,Ti).promise,!d(this,Ti)))){if(C(this,Ti,Promise.withResolvers()),(a=d(this,Gs))==null||a.commitOrRemove(),d(this,rn)===ke.POPUP&&((s=d(this,Gn))==null||s.hideSidebar()),(l=d(this,Gn))==null||l.destroyPopup(),C(this,rn,e),e===ke.NONE){this.setEditingState(!1),k(this,se,w3).call(this);for(const f of d(this,Vt).values())f.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),d(this,Ti).resolve();return}for(const f of d(this,Vt).values())f.addStandaloneCommentButton();e===ke.SIGNATURE&&await((u=d(this,Qs))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await k(this,se,x3).call(this),this.unselectAll();for(const f of d(this,gn).values())f.updateMode(e);if(e===ke.POPUP){d(this,sd)||C(this,sd,await d(this,md).getAnnotationsByType(new Set(d(this,Pi).map(m=>m._editorType))));const f=new Set,p=[];for(const m of d(this,Vt).values()){const{annotationElementId:g,hasComment:y,deleted:v}=m;g&&f.add(g),y&&!v&&p.push(m.getData())}for(const m of d(this,sd)){const{id:g,popupRef:y,contentsObj:v}=m;y&&(v!=null&&v.str)&&!f.has(g)&&!d(this,qs).has(g)&&p.push(m)}(h=d(this,Gn))==null||h.showSidebar(p)}if(!n){r&&this.addNewEditorFromKeyboard(),d(this,Ti).resolve();return}for(const f of d(this,Vt).values())f.uid===n?(this.setSelected(f),o?f.editComment():i?f.enterInEditMode():f.focus()):f.unselect();d(this,Ti).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==d(this,rn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(d(this,Pi)){switch(e){case Ve.CREATE:this.currentLayer.addNewEditor(n);return;case Ve.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,Gg)||C(this,Gg,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of d(this,it))r.updateParams(e,n);else for(const r of d(this,Pi))r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var o;for(const a of d(this,Vt).values())a.editorType===e&&a.show(n);(((o=d(this,Gg))==null?void 0:o.get(Ve.HIGHLIGHT_SHOW_ALL))??!0)!==n&&k(this,se,xa).call(this,[[Ve.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(d(this,Vg)!==e){C(this,Vg,e);for(const n of d(this,gn).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of d(this,Vt).values())n.pageIndex===e&&(yield n)}getEditor(e){return d(this,Vt).get(e)}addEditor(e){d(this,Vt).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(d(this,Mo)&&clearTimeout(d(this,Mo)),C(this,Mo,setTimeout(()=>{this.focusMainContainer(),C(this,Mo,null)},0))),d(this,Vt).delete(e.id),e.annotationElementId&&((n=d(this,Zs))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!d(this,qs).has(e.annotationElementId))&&((r=d(this,Ci))==null||r.remove(e.id))}addDeletedAnnotationElement(e){d(this,qs).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return d(this,qs).has(e)}removeDeletedAnnotationElement(e){d(this,qs).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){d(this,zr)!==e&&(C(this,zr,e),e&&k(this,se,xa).call(this,e.propertiesToUpdate))}updateUI(e){d(this,se,A3)===e&&k(this,se,xa).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){k(this,se,xa).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(d(this,it).has(e)){d(this,it).delete(e),e.unselect(),k(this,se,or).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,it).add(e),e.select(),k(this,se,xa).call(this,e.propertiesToUpdate),k(this,se,or).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.id}),(n=d(this,Gs))==null||n.commitOrRemove();for(const r of d(this,it))r!==e&&r.unselect();d(this,it).clear(),d(this,it).add(e),e.select(),k(this,se,xa).call(this,e.propertiesToUpdate),k(this,se,or).call(this,{hasSelectedEditor:!0})}isSelected(e){return d(this,it).has(e)}get firstSelectedEditor(){return d(this,it).values().next().value}unselect(e){e.unselect(),d(this,it).delete(e),k(this,se,or).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,it).size!==0}get isEnterHandled(){return d(this,it).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;d(this,_i).undo(),k(this,se,or).call(this,{hasSomethingToUndo:d(this,_i).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,se,um).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){d(this,_i).redo(),k(this,se,or).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,_i).hasSomethingToRedo(),isEmpty:k(this,se,um).call(this)})}addCommands(e){d(this,_i).add(e),k(this,se,or).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,se,um).call(this)})}cleanUndoStack(e){d(this,_i).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...d(this,it)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,n.length===1?n[0].editorType:n.length);for(const s of n)s.remove()},i=()=>{for(const a of n)k(this,se,oC).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=d(this,zr))==null||e.commitOrRemove()}hasSomethingToControl(){return d(this,zr)||this.hasSelection}selectAll(){for(const e of d(this,it))e.commit();k(this,se,aC).call(this,d(this,Vt).values())}unselectAll(){var e;if(!(d(this,zr)&&(d(this,zr).commitOrRemove(),d(this,rn)!==ke.NONE))&&!((e=d(this,Gs))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of d(this,it))n.unselect();d(this,it).clear(),k(this,se,or).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;d(this,tl)[0]+=e,d(this,tl)[1]+=n;const[i,o]=d(this,tl),a=[...d(this,it)],s=1e3;d(this,Io)&&clearTimeout(d(this,Io)),C(this,Io,setTimeout(()=>{C(this,Io,null),d(this,tl)[0]=d(this,tl)[1]=0,this.addCommands({cmd:()=>{for(const l of a)d(this,Vt).has(l.id)&&(l.translateInPage(i,o),l.translationDone())},undo:()=>{for(const l of a)d(this,Vt).has(l.id)&&(l.translateInPage(-i,-o),l.translationDone())},mustExec:!1})},s));for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,Oo,new Map);for(const e of d(this,it))d(this,Oo).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,Oo))return!1;this.disableUserSelect(!1);const e=d(this,Oo);C(this,Oo,null);let n=!1;for(const[{x:i,y:o,pageIndex:a},s]of e)s.newX=i,s.newY=o,s.newPageIndex=a,n||(n=i!==s.savedX||o!==s.savedY||a!==s.savedPageIndex);if(!n)return!1;const r=(i,o,a,s)=>{if(d(this,Vt).has(i.id)){const l=d(this,gn).get(s);l?i._setParentAndPosition(l,o,a):(i.pageIndex=s,i.x=o,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:o,newY:a,newPageIndex:s}]of e)r(i,o,a,s)},undo:()=>{for(const[i,{savedX:o,savedY:a,savedPageIndex:s}]of e)r(i,o,a,s)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(d(this,Oo))for(const r of d(this,Oo).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||d(this,it).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return d(this,zr)===e}getActive(){return d(this,zr)}getMode(){return d(this,rn)}isEditingMode(){return d(this,rn)!==ke.NONE}get imageManager(){return Le(this,"imageManager",new QE)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,u=n.rangeCount;c<u;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:o,height:a}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(c,u,h,f)=>({x:(u-i)/a,y:1-(c+h-r)/o,width:f/a,height:h/o});break;case"180":s=(c,u,h,f)=>({x:1-(c+h-r)/o,y:1-(u+f-i)/a,width:h/o,height:f/a});break;case"270":s=(c,u,h,f)=>({x:1-(u+f-i)/a,y:(c-r)/o,width:f/a,height:h/o});break;default:s=(c,u,h,f)=>({x:(c-r)/o,y:(u-i)/a,width:h/o,height:f/a});break}const l=[];for(let c=0,u=n.rangeCount;c<u;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:f,y:p,width:m,height:g}of h.getClientRects())m===0||g===0||l.push(s(f,p,m,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(d(this,cd)||C(this,cd,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=d(this,cd))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=d(this,cd))==null?void 0:i.get(e.data.id);if(!n)return;const r=d(this,Ci).getRawValue(n);r&&(d(this,rn)===ke.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var o;const i=(o=d(this,Zs))==null?void 0:o.get(e);i&&(i.setCanvas(n,r),d(this,Zs).delete(e))}addMissingCanvas(e,n){(d(this,Zs)||C(this,Zs,new Map)).set(e,n)}};ad=new WeakMap,zr=new WeakMap,sd=new WeakMap,Vt=new WeakMap,gn=new WeakMap,ld=new WeakMap,Ci=new WeakMap,cd=new WeakMap,_i=new WeakMap,Gn=new WeakMap,Ws=new WeakMap,Gs=new WeakMap,ud=new WeakMap,qs=new WeakMap,Oo=new WeakMap,Pi=new WeakMap,Rc=new WeakMap,zg=new WeakMap,Ug=new WeakMap,hd=new WeakMap,Hg=new WeakMap,Mo=new WeakMap,Ks=new WeakMap,dd=new WeakMap,Xs=new WeakMap,Ro=new WeakMap,G0=new WeakMap,Ys=new WeakMap,fd=new WeakMap,Vg=new WeakMap,Js=new WeakMap,Ic=new WeakMap,pd=new WeakMap,Zs=new WeakMap,Wg=new WeakMap,rn=new WeakMap,it=new WeakMap,_a=new WeakMap,Qs=new WeakMap,el=new WeakMap,Gg=new WeakMap,md=new WeakMap,qg=new WeakMap,tl=new WeakMap,Io=new WeakMap,Pa=new WeakMap,Kg=new WeakMap,Xg=new WeakMap,Ti=new WeakMap,se=new WeakSet,Nb=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},tC=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of d(this,gn).values())if(r.hasTextLayer(e))return r;return null},f3=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=k(this,se,Nb).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(d(this,Ro)||C(this,Ro,new mxe(this)),d(this,Ro).show(r,i,this.direction==="ltr"))},p3=function(){var o,a,s;const e=document.getSelection();if(!e||e.isCollapsed){d(this,_a)&&((o=d(this,Ro))==null||o.hide(),C(this,_a,null),k(this,se,or).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===d(this,_a))return;const i=k(this,se,Nb).call(this,e).closest(".textLayer");if(!i){d(this,_a)&&((a=d(this,Ro))==null||a.hide(),C(this,_a,null),k(this,se,or).call(this,{hasSelectedText:!1}));return}if((s=d(this,Ro))==null||s.hide(),C(this,_a,n),k(this,se,or).call(this,{hasSelectedText:!0}),!(d(this,rn)!==ke.HIGHLIGHT&&d(this,rn)!==ke.NONE)&&(d(this,rn)===ke.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,Xs,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=d(this,rn)===ke.HIGHLIGHT?k(this,se,tC).call(this,i):null;if(l==null||l.toggleDrawing(),d(this,fd)){const c=new AbortController,u=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&k(this,se,cm).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}else l==null||l.toggleDrawing(!0),k(this,se,cm).call(this,"main_toolbar")}},cm=function(e=""){d(this,rn)===ke.HIGHLIGHT?this.highlightSelection(e):d(this,zg)&&k(this,se,f3).call(this)},m3=function(){document.addEventListener("selectionchange",k(this,se,p3).bind(this),{signal:this._signal})},g3=function(){if(d(this,Ks))return;C(this,Ks,new AbortController);const e=this.combinedSignal(d(this,Ks));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},y3=function(){var e;(e=d(this,Ks))==null||e.abort(),C(this,Ks,null)},nC=function(){if(d(this,Js))return;C(this,Js,new AbortController);const e=this.combinedSignal(d(this,Js));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},v3=function(){var e;(e=d(this,Js))==null||e.abort(),C(this,Js,null)},rC=function(){if(d(this,Ws))return;C(this,Ws,new AbortController);const e=this.combinedSignal(d(this,Ws));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},iC=function(){var e;(e=d(this,Ws))==null||e.abort(),C(this,Ws,null)},b3=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},or=function(e){Object.entries(e).some(([r,i])=>d(this,qg)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,qg),e)}),d(this,rn)===ke.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,se,xa).call(this,[[Ve.HIGHLIGHT_FREE,!0]]))},xa=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},x3=async function(){if(!d(this,Ys)){C(this,Ys,!0);const e=[];for(const n of d(this,gn).values())e.push(n.enable());await Promise.all(e);for(const n of d(this,Vt).values())n.enable()}},w3=function(){if(this.unselectAll(),d(this,Ys)){C(this,Ys,!1);for(const e of d(this,gn).values())e.disable();for(const e of d(this,Vt).values())e.disable()}},oC=function(e){const n=d(this,gn).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},A3=function(){let e=null;for(e of d(this,it));return e},um=function(){if(d(this,Vt).size===0)return!0;if(d(this,Vt).size===1)for(const e of d(this,Vt).values())return e.isEmpty();return!1},aC=function(e){for(const n of d(this,it))n.unselect();d(this,it).clear();for(const n of e)n.isEmpty()||(d(this,it).add(n),n.select());k(this,se,or).call(this,{hasSelectedEditor:this.hasSelection})},Q(Uh,"TRANSLATE_SMALL",1),Q(Uh,"TRANSLATE_BIG",10);let ql=Uh;var wn,No,Zi,gd,jo,Ur,yd,Do,Ar,Ta,Nc,Lo,nl,po,hm,jb;const ar=class ar{constructor(e){T(this,po);T(this,wn,null);T(this,No,!1);T(this,Zi,null);T(this,gd,null);T(this,jo,null);T(this,Ur,null);T(this,yd,!1);T(this,Do,null);T(this,Ar,null);T(this,Ta,null);T(this,Nc,null);T(this,Lo,!1);C(this,Ar,e),C(this,Lo,e._uiManager.useNewAltTextFlow),d(ar,nl)||C(ar,nl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ar._l10n??(ar._l10n=e)}async render(){const e=C(this,Zi,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=C(this,gd,document.createElement("span"));e.append(n),d(this,Lo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",d(ar,nl).missing),n.setAttribute("data-l10n-id",d(ar,nl)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=d(this,Ar)._uiManager._signal;e.addEventListener("contextmenu",mi,{signal:r}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});const i=o=>{o.preventDefault(),d(this,Ar)._uiManager.editAltText(d(this,Ar)),d(this,Lo)&&d(this,Ar)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,po,hm)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(C(this,yd,!0),i(o))},{signal:r}),await k(this,po,jb).call(this),e}finish(){d(this,Zi)&&(d(this,Zi).focus({focusVisible:d(this,yd)}),C(this,yd,!1))}isEmpty(){return d(this,Lo)?d(this,wn)===null:!d(this,wn)&&!d(this,No)}hasData(){return d(this,Lo)?d(this,wn)!==null||!!d(this,Ta):this.isEmpty()}get guessedText(){return d(this,Ta)}async setGuessedText(e){d(this,wn)===null&&(C(this,Ta,e),C(this,Nc,await ar._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,po,jb).call(this))}toggleAltTextBadge(e=!1){var n;if(!d(this,Lo)||d(this,wn)){(n=d(this,Do))==null||n.remove(),C(this,Do,null);return}if(!d(this,Do)){const r=C(this,Do,document.createElement("div"));r.className="noAltTextBadge",d(this,Ar).div.append(r)}d(this,Do).classList.toggle("hidden",!e)}serialize(e){let n=d(this,wn);return!e&&d(this,Ta)===n&&(n=d(this,Nc)),{altText:n,decorative:d(this,No),guessedText:d(this,Ta),textWithDisclaimer:d(this,Nc)}}get data(){return{altText:d(this,wn),decorative:d(this,No)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:o=!1}){r&&(C(this,Ta,r),C(this,Nc,i)),!(d(this,wn)===e&&d(this,No)===n)&&(o||(C(this,wn,e),C(this,No,n)),k(this,po,jb).call(this))}toggle(e=!1){d(this,Zi)&&(!e&&d(this,Ur)&&(clearTimeout(d(this,Ur)),C(this,Ur,null)),d(this,Zi).disabled=!e)}shown(){d(this,Ar)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,po,hm)}})}destroy(){var e,n;(e=d(this,Zi))==null||e.remove(),C(this,Zi,null),C(this,gd,null),C(this,jo,null),(n=d(this,Do))==null||n.remove(),C(this,Do,null)}};wn=new WeakMap,No=new WeakMap,Zi=new WeakMap,gd=new WeakMap,jo=new WeakMap,Ur=new WeakMap,yd=new WeakMap,Do=new WeakMap,Ar=new WeakMap,Ta=new WeakMap,Nc=new WeakMap,Lo=new WeakMap,nl=new WeakMap,po=new WeakSet,hm=function(){return d(this,wn)&&"added"||d(this,wn)===null&&this.guessedText&&"review"||"missing"},jb=async function(){var i,o,a;const e=d(this,Zi);if(!e)return;if(d(this,Lo)){if(e.classList.toggle("done",!!d(this,wn)),e.setAttribute("data-l10n-id",d(ar,nl)[d(this,po,hm)]),(i=d(this,gd))==null||i.setAttribute("data-l10n-id",d(ar,nl)[`${d(this,po,hm)}-label`]),!d(this,wn)){(o=d(this,jo))==null||o.remove();return}}else{if(!d(this,wn)&&!d(this,No)){e.classList.remove("done"),(a=d(this,jo))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=d(this,jo);if(!n){C(this,jo,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${d(this,Ar).id}`;const s=100,l=d(this,Ar)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(d(this,Ur)),C(this,Ur,null)},{once:!0}),e.addEventListener("mouseenter",()=>{C(this,Ur,setTimeout(()=>{C(this,Ur,null),d(this,jo).classList.add("show"),d(this,Ar)._reportTelemetry({action:"alt_text_tooltip"})},s))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;d(this,Ur)&&(clearTimeout(d(this,Ur)),C(this,Ur,null)),(c=d(this,jo))==null||c.classList.remove("show")},{signal:l})}d(this,No)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=d(this,wn)),n.parentNode||e.append(n);const r=d(this,Ar).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},T(ar,nl,null),Q(ar,"_l10n",null);let T0=ar;var jn,ki,jc,xt,Yg,Dc,Qi,Lc,$c,Fc,Jg,sC;class db{constructor(e){T(this,Jg);T(this,jn,null);T(this,ki,null);T(this,jc,!1);T(this,xt,null);T(this,Yg,null);T(this,Dc,null);T(this,Qi,null);T(this,Lc,null);T(this,$c,!1);T(this,Fc,null);C(this,xt,e)}renderForToolbar(){const e=C(this,ki,document.createElement("button"));return e.className="comment",k(this,Jg,sC).call(this,e,!1)}renderForStandalone(){const e=C(this,jn,document.createElement("button"));e.className="annotationCommentButton";const n=d(this,xt).commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(d(this,xt)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=d(this,xt).commentButtonColor;i&&(r.backgroundColor=i)}return k(this,Jg,sC).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=d(this,jn)??d(this,ki))==null||e.focus()},0)}onUpdatedColor(){if(!d(this,jn))return;const e=d(this,xt).commentButtonColor;e&&(d(this,jn).style.backgroundColor=e),d(this,xt)._uiManager.updatePopupColor(d(this,xt))}get commentButtonWidth(){var e;return(((e=d(this,jn))==null?void 0:e.getBoundingClientRect().width)??0)/d(this,xt).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(d(this,Fc))return d(this,Fc);if(!d(this,jn))return null;const{x:e,y:n,height:r}=d(this,jn).getBoundingClientRect(),{x:i,y:o,width:a,height:s}=d(this,xt).parent.boundingClientRect;return[(e-i)/a,(n+r-o)/s]}set commentPopupPositionInLayer(e){C(this,Fc,e)}hasDefaultPopupPosition(){return d(this,Fc)===null}removeStandaloneCommentButton(){var e;(e=d(this,jn))==null||e.remove(),C(this,jn,null)}removeToolbarCommentButton(){var e;(e=d(this,ki))==null||e.remove(),C(this,ki,null)}setCommentButtonStates({selected:e,hasPopup:n}){d(this,jn)&&(d(this,jn).classList.toggle("selected",e),d(this,jn).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=d(this,xt).commentButtonPosition;const{width:u,height:h,x:f,y:p}=d(this,xt);r=f+r*u,i=p+i*h}const o=d(this,xt).parent.boundingClientRect,{x:a,y:s,width:l,height:c}=o;d(this,xt)._uiManager.editComment(d(this,xt),a+r*l,s+i*c,{...e,parentDimensions:o})}finish(){d(this,ki)&&(d(this,ki).focus({focusVisible:d(this,jc)}),C(this,jc,!1))}isDeleted(){return d(this,$c)||d(this,Qi)===""}isEmpty(){return d(this,Qi)===null}hasBeenEdited(){return this.isDeleted()||d(this,Qi)!==d(this,Yg)}serialize(){return this.data}get data(){return{text:d(this,Qi),richText:d(this,Dc),date:d(this,Lc),deleted:this.isDeleted()}}set data(e){if(e!==d(this,Qi)&&C(this,Dc,null),e===null){C(this,Qi,""),C(this,$c,!0);return}C(this,Qi,e),C(this,Lc,new Date),C(this,$c,!1)}setInitialText(e,n=null){C(this,Yg,e),this.data=e,C(this,Lc,null),C(this,Dc,n)}shown(){}destroy(){var e,n;(e=d(this,ki))==null||e.remove(),C(this,ki,null),(n=d(this,jn))==null||n.remove(),C(this,jn,null),C(this,Qi,""),C(this,Dc,null),C(this,Lc,null),C(this,xt,null),C(this,jc,!1),C(this,$c,!1)}}jn=new WeakMap,ki=new WeakMap,jc=new WeakMap,xt=new WeakMap,Yg=new WeakMap,Dc=new WeakMap,Qi=new WeakMap,Lc=new WeakMap,$c=new WeakMap,Fc=new WeakMap,Jg=new WeakSet,sC=function(e,n){if(!d(this,xt)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[d(this,xt)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=d(this,xt)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",mi,{signal:r}),n&&(e.addEventListener("focusin",o=>{d(this,xt)._focusEventsAllowed=!1,$t(o)},{capture:!0,signal:r}),e.addEventListener("focusout",o=>{d(this,xt)._focusEventsAllowed=!0,$t(o)},{capture:!0,signal:r})),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});const i=o=>{o.preventDefault(),e===d(this,ki)?this.edit():d(this,xt).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(C(this,jc,!0),i(o))},{signal:r}),e.addEventListener("pointerenter",()=>{d(this,xt).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{d(this,xt).toggleComment(!1,!1)},{signal:r}),e};var vd,Bc,Zg,Qg,ey,ty,ny,ka,zc,Oa,Uc,Ma,Kl,S3,E3,C3;const WT=class WT{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:o=null,onPinchEnd:a=null,signal:s}){T(this,Kl);T(this,vd);T(this,Bc,!1);T(this,Zg,null);T(this,Qg);T(this,ey);T(this,ty);T(this,ny);T(this,ka,null);T(this,zc);T(this,Oa,null);T(this,Uc);T(this,Ma,null);C(this,vd,e),C(this,Zg,r),C(this,Qg,n),C(this,ey,i),C(this,ty,o),C(this,ny,a),C(this,Uc,new AbortController),C(this,zc,AbortSignal.any([s,d(this,Uc).signal])),e.addEventListener("touchstart",k(this,Kl,S3).bind(this),{passive:!1,signal:d(this,zc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/xo.pixelRatio}destroy(){var e,n;(e=d(this,Uc))==null||e.abort(),C(this,Uc,null),(n=d(this,ka))==null||n.abort(),C(this,ka,null)}};vd=new WeakMap,Bc=new WeakMap,Zg=new WeakMap,Qg=new WeakMap,ey=new WeakMap,ty=new WeakMap,ny=new WeakMap,ka=new WeakMap,zc=new WeakMap,Oa=new WeakMap,Uc=new WeakMap,Ma=new WeakMap,Kl=new WeakSet,S3=function(e){var i,o,a;if((i=d(this,Qg))!=null&&i.call(this))return;if(e.touches.length===1){if(d(this,ka))return;const s=C(this,ka,new AbortController),l=AbortSignal.any([d(this,zc),s.signal]),c=d(this,vd),u={capture:!0,signal:l,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=d(this,ka))==null||p.abort(),C(this,ka,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&($t(f),h(f))},u),c.addEventListener("pointerup",h,u),c.addEventListener("pointercancel",h,u);return}if(!d(this,Ma)){C(this,Ma,new AbortController);const s=AbortSignal.any([d(this,zc),d(this,Ma).signal]),l=d(this,vd),c={signal:s,capture:!1,passive:!1};l.addEventListener("touchmove",k(this,Kl,E3).bind(this),c);const u=k(this,Kl,C3).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",$t,c),l.addEventListener("pointermove",$t,c),l.addEventListener("pointercancel",$t,c),l.addEventListener("pointerup",$t,c),(o=d(this,ey))==null||o.call(this)}if($t(e),e.touches.length!==2||(a=d(this,Zg))!=null&&a.call(this)){C(this,Oa,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),C(this,Oa,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},E3=function(e){var E;if(!d(this,Oa)||e.touches.length!==2)return;$t(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:o}=n,{screenX:a,screenY:s}=r,l=d(this,Oa),{touch0X:c,touch0Y:u,touch1X:h,touch1Y:f}=l,p=h-c,m=f-u,g=a-i,y=s-o,v=Math.hypot(g,y)||1,w=Math.hypot(p,m)||1;if(!d(this,Bc)&&Math.abs(w-v)<=WT.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=o,l.touch1X=a,l.touch1Y=s,!d(this,Bc)){C(this,Bc,!0);return}const x=[(i+a)/2,(o+s)/2];(E=d(this,ty))==null||E.call(this,x,w,v)},C3=function(e){var n;e.touches.length>=2||(d(this,Ma)&&(d(this,Ma).abort(),C(this,Ma,null),(n=d(this,ny))==null||n.call(this)),d(this,Oa)&&($t(e),C(this,Oa,null),C(this,Bc,!1)))};let kg=WT;var Hc,eo,It,pt,Ra,bd,rl,ry,Dn,Vc,Ia,$o,il,iy,Wc,Hr,oy,Gc,Na,Fo,xd,wd,Oi,qc,ay,q0,Ee,lC,sy,cC,Db,_3,P3,uC,Lb,hC,T3,k3,O3,dC,M3,fC,R3,I3,N3,pC,dm;const Me=class Me{constructor(e){T(this,Ee);T(this,Hc,null);T(this,eo,null);T(this,It,null);T(this,pt,null);T(this,Ra,null);T(this,bd,!1);T(this,rl,null);T(this,ry,"");T(this,Dn,null);T(this,Vc,null);T(this,Ia,null);T(this,$o,null);T(this,il,null);T(this,iy,"");T(this,Wc,!1);T(this,Hr,null);T(this,oy,!1);T(this,Gc,!1);T(this,Na,!1);T(this,Fo,null);T(this,xd,0);T(this,wd,0);T(this,Oi,null);T(this,qc,null);Q(this,"isSelected",!1);Q(this,"_isCopy",!1);Q(this,"_editToolbar",null);Q(this,"_initialOptions",Object.create(null));Q(this,"_initialData",null);Q(this,"_isVisible",!0);Q(this,"_uiManager",null);Q(this,"_focusEventsAllowed",!0);T(this,ay,!1);T(this,q0,Me._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[o,a];const[s,l]=this.parentDimensions;this.x=e.x/s,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Me.prototype._resizeWithKeyboard,n=ql.TRANSLATE_SMALL,r=ql.TRANSLATE_BIG;return Le(this,"_resizerKeyboardManager",new Dv([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Me.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Le(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new vxe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Me._l10n??(Me._l10n=e),Me._l10nResizer||(Me._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Me._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Me._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){vt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,ay)}set _isDraggable(e){var n;C(this,ay,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,q0)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(k(this,Ee,dm).call(this),(n=d(this,$o))==null||n.remove(),C(this,$o,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(d(this,Wc)?C(this,Wc,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[o,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/o,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){k(this,Ee,lC).call(this,this.parentDimensions,e,n)}translateInPage(e,n){d(this,Hr)||C(this,Hr,[this.x,this.y,this.width,this.height]),k(this,Ee,lC).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){d(this,Hr)||C(this,Hr,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,o]}=this;if(this.x+=e/i,this.y+=n/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[l,c]=this.getBaseTranslation();a+=l,s+=c;const{style:u}=r;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this._onTranslating(a,s),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!d(this,Hr)&&(d(this,Hr)[0]!==this.x||d(this,Hr)[1]!==this.y)}get _hasBeenResized(){return!!d(this,Hr)&&(d(this,Hr)[2]!==this.width||d(this,Hr)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Me,i=r/e,o=r/n;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:o,y:a,width:s,height:l}=this;if(s*=r,l*=i,o*=r,a*=i,this._mustFixPosition)switch(e){case 0:o=Zn(o,0,r-s),a=Zn(a,0,i-l);break;case 90:o=Zn(o,0,r-l),a=Zn(a,s,i);break;case 180:o=Zn(o,s,r),a=Zn(a,l,i);break;case 270:o=Zn(o,l,r),a=Zn(a,0,i-s);break}this.x=o/=r,this.y=a/=i;const[c,u]=this.getBaseTranslation();o+=c,a+=u,n.left=`${(100*o).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return k(r=Me,sy,cC).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return k(r=Me,sy,cC).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=d(this,It))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||d(this,Gc))return this._editToolbar;this._editToolbar=new JE(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=d(this,It))==null||n.destroy()}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return d(this,It)||(T0.initialize(Me._l10n),C(this,It,new T0(this)),d(this,Hc)&&(d(this,It).data=d(this,Hc),C(this,Hc,null))),d(this,It)}get altTextData(){var e;return(e=d(this,It))==null?void 0:e.data}set altTextData(e){d(this,It)&&(d(this,It).data=e)}get guessedAltText(){var e;return(e=d(this,It))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=d(this,It))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=d(this,It))==null?void 0:n.serialize(e)}hasAltText(){return!!d(this,It)&&!d(this,It).isEmpty()}hasAltTextData(){var e;return((e=d(this,It))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=d(this,pt))==null||e.focusButton()}addCommentButton(){return d(this,pt)||C(this,pt,new db(this))}addStandaloneCommentButton(){if(d(this,Ra)){this._uiManager.isEditingMode()&&d(this,Ra).classList.remove("hidden");return}this.hasComment&&(C(this,Ra,d(this,pt).renderForStandalone()),this.div.append(d(this,Ra)))}removeStandaloneCommentButton(){d(this,pt).removeStandaloneCommentButton(),C(this,Ra,null)}hideStandaloneCommentButton(){var e;(e=d(this,Ra))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=d(this,pt);return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){d(this,pt)||C(this,pt,new db(this)),d(this,pt).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(d(this,pt)||C(this,pt,new db(this)),d(this,pt).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=d(this,pt))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=d(this,pt))==null?void 0:e.isDeleted()}get hasComment(){return!!d(this,pt)&&!d(this,pt).isEmpty()&&!d(this,pt).isDeleted()}async editComment(e){d(this,pt)||C(this,pt,new db(this)),d(this,pt).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){d(this,pt).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[o]=this.pageDimensions,[a]=this.pageTranslation,s=a+o+1,l=i-100,c=s+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){d(this,pt).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=d(this,bd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),k(this,Ee,fC).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,o]=this.getInitialTranslation();return this.translate(i,o),h3(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,qc)||C(this,qc,new kg({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:k(this,Ee,T3).bind(this),onPinching:k(this,Ee,k3).bind(this),onPinchEnd:k(this,Ee,O3).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:n}=Mn.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(C(this,Wc,!0),this._isDraggable){k(this,Ee,M3).call(this,e);return}k(this,Ee,dC).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,Fo)&&clearTimeout(d(this,Fo)),C(this,Fo,setTimeout(()=>{var e;C(this,Fo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[o,a]=this.pageDimensions,[s,l]=this.pageTranslation,c=e/i,u=n/i,h=this.x*o,f=this.y*a,p=this.width*o,m=this.height*a;switch(r){case 0:return[h+c+s,a-f-u-m+l,h+c+p+s,a-f-u+l];case 90:return[h+u+s,a-f+c+l,h+u+m+s,a-f+c+p+l];case 180:return[h-c-p+s,a-f+u+l,h-c+s,a-f+u+m+l];case 270:return[h-u-m+s,a-f-c-p+l,h-u+s,a-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,o,a]=e,s=o-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,s,l];case 90:return[r,n-i,l,s];case 180:return[o,n-i,s,l];case 270:return[o,n-a,l,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Me._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=d(this,pt))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:o,richText:a},uid:s,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:s,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||u,popupRef:!o,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),C(this,Gc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),C(this,Gc,!1),!0):!1}isInEditMode(){return d(this,Gc)}shouldGetKeyboardEvents(){return d(this,Na)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:o,innerWidth:a}=window;return n<a&&i>0&&e<o&&r>0}rebuild(){k(this,Ee,fC).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,C(i,Hc,e.accessibilityData),i._isCopy=e.isCopy||!1;const[o,a]=i.pageDimensions,[s,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=s/o,i.y=l/a,i.width=c/o,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=d(this,il))==null||e.abort(),C(this,il,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,Fo)&&(clearTimeout(d(this,Fo)),C(this,Fo,null)),k(this,Ee,dm).call(this),this.removeEditToolbar(),d(this,Oi)){for(const r of d(this,Oi).values())clearTimeout(r);C(this,Oi,null)}this.parent=null,(n=d(this,qc))==null||n.destroy(),C(this,qc,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,Ee,_3).call(this),d(this,Dn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,o,a]=this.getPDFRect();return[Me._round(r+(o-r)*e),Me._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return d(this,pt).commentPopupPositionInLayer}set commentPopupPosition(e){d(this,pt).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return d(this,pt).hasDefaultPopupPosition()}get commentButtonWidth(){return d(this,pt).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){d(this,pt).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),C(this,Ia,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=d(this,Dn).children;if(!d(this,eo)){C(this,eo,Array.from(n));const a=k(this,Ee,R3).bind(this),s=k(this,Ee,I3).bind(this),l=this._uiManager._signal;for(const c of d(this,eo)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",s,{signal:l}),c.addEventListener("focus",k(this,Ee,N3).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Me._l10nResizer[u])}}const r=d(this,eo)[0];let i=0;for(const a of n){if(a===r)break;i++}const o=(360-this.rotation+this.parentRotation)%360/90*(d(this,eo).length/4);if(o!==i){if(o<i)for(let s=0;s<i-o;s++)d(this,Dn).append(d(this,Dn).firstChild);else if(o>i)for(let s=0;s<o-i;s++)d(this,Dn).firstChild.before(d(this,Dn).lastChild);let a=0;for(const s of n){const c=d(this,eo)[a++].getAttribute("data-resizer-name");s.setAttribute("data-l10n-id",Me._l10nResizer[c])}}k(this,Ee,pC).call(this,0),C(this,Na,!0),d(this,Dn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){d(this,Na)&&k(this,Ee,hC).call(this,d(this,iy),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){k(this,Ee,dm).call(this),this.div.focus()}select(){var e,n,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,o;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(n=this._editToolbar)==null||n.show(),(r=d(this,It))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,r,i,o;this.isSelected&&(this.isSelected=!1,(e=d(this,Dn))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(o=d(this,It))==null||o.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return d(this,oy)}set isEditing(e){C(this,oy,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){d(this,Oi)||C(this,Oi,new Map);const{action:r}=e;let i=d(this,Oi).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),d(this,Oi).delete(r),d(this,Oi).size===0&&C(this,Oi,null)},Me._telemetryTimeout),d(this,Oi).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),C(this,bd,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,bd,!0)}updateFakeAnnotationElement(e){if(!d(this,$o)&&!this.deleted){C(this,$o,e.addFakeAnnotation(this));return}if(this.deleted){d(this,$o).remove(),C(this,$o,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&d(this,$o).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Hc=new WeakMap,eo=new WeakMap,It=new WeakMap,pt=new WeakMap,Ra=new WeakMap,bd=new WeakMap,rl=new WeakMap,ry=new WeakMap,Dn=new WeakMap,Vc=new WeakMap,Ia=new WeakMap,$o=new WeakMap,il=new WeakMap,iy=new WeakMap,Wc=new WeakMap,Hr=new WeakMap,oy=new WeakMap,Gc=new WeakMap,Na=new WeakMap,Fo=new WeakMap,xd=new WeakMap,wd=new WeakMap,Oi=new WeakMap,qc=new WeakMap,ay=new WeakMap,q0=new WeakMap,Ee=new WeakSet,lC=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},sy=new WeakSet,cC=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},Db=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},_3=function(){if(d(this,Dn))return;C(this,Dn,document.createElement("div")),d(this,Dn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");d(this,Dn).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",k(this,Ee,P3).bind(this,r),{signal:n}),i.addEventListener("contextmenu",mi,{signal:n}),i.tabIndex=-1}this.div.prepend(d(this,Dn))},P3=function(e,n){var u;n.preventDefault();const{isMac:r}=Mn.platform;if(n.button!==0||n.ctrlKey&&r)return;(u=d(this,It))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,C(this,Vc,[n.screenX,n.screenY]);const o=new AbortController,a=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,Ee,hC).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",$t,{passive:!1,signal:a}),window.addEventListener("contextmenu",mi,{signal:a}),C(this,Ia,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const s=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var h;o.abort(),this.parent.togglePointerEvents(!0),(h=d(this,It))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=s,this.div.style.cursor=l,k(this,Ee,Lb).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},uC=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},Lb=function(){if(!d(this,Ia))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=d(this,Ia);C(this,Ia,null);const o=this.x,a=this.y,s=this.width,l=this.height;o===e&&a===n&&s===r&&l===i||this.addCommands({cmd:k(this,Ee,uC).bind(this,o,a,s,l),undo:k(this,Ee,uC).bind(this,e,n,r,i),mustExec:!0})},hC=function(e,n){const[r,i]=this.parentDimensions,o=this.x,a=this.y,s=this.width,l=this.height,c=Me.MIN_SIZE/r,u=Me.MIN_SIZE/i,h=k(this,Ee,Db).call(this,this.rotation),f=($,U)=>[h[0]*$+h[2]*U,h[1]*$+h[3]*U],p=k(this,Ee,Db).call(this,360-this.rotation),m=($,U)=>[p[0]*$+p[2]*U,p[1]*$+p[3]*U];let g,y,v=!1,w=!1;switch(e){case"topLeft":v=!0,g=($,U)=>[0,0],y=($,U)=>[$,U];break;case"topMiddle":g=($,U)=>[$/2,0],y=($,U)=>[$/2,U];break;case"topRight":v=!0,g=($,U)=>[$,0],y=($,U)=>[0,U];break;case"middleRight":w=!0,g=($,U)=>[$,U/2],y=($,U)=>[0,U/2];break;case"bottomRight":v=!0,g=($,U)=>[$,U],y=($,U)=>[0,0];break;case"bottomMiddle":g=($,U)=>[$/2,U],y=($,U)=>[$/2,0];break;case"bottomLeft":v=!0,g=($,U)=>[0,U],y=($,U)=>[$,0];break;case"middleLeft":w=!0,g=($,U)=>[0,U/2],y=($,U)=>[$,U/2];break}const x=g(s,l),E=y(s,l);let A=f(...E);const S=Me._round(o+A[0]),_=Me._round(a+A[1]);let O=1,I=1,M,R;if(n.fromKeyboard)({deltaX:M,deltaY:R}=n);else{const{screenX:$,screenY:U}=n,[H,W]=d(this,Vc);[M,R]=this.screenToPageTranslation($-H,U-W),d(this,Vc)[0]=$,d(this,Vc)[1]=U}if([M,R]=m(M/r,R/i),v){const $=Math.hypot(s,l);O=I=Math.max(Math.min(Math.hypot(E[0]-x[0]-M,E[1]-x[1]-R)/$,1/s,1/l),c/s,u/l)}else w?O=Zn(Math.abs(E[0]-x[0]-M),c,1)/s:I=Zn(Math.abs(E[1]-x[1]-R),u,1)/l;const N=Me._round(s*O),L=Me._round(l*I);A=f(...y(N,L));const F=S-A[0],z=_-A[1];d(this,Hr)||C(this,Hr,[this.x,this.y,this.width,this.height]),this.width=N,this.height=L,this.x=F,this.y=z,this.setDims(),this.fixAndSetPosition(),this._onResizing()},T3=function(){var e;C(this,Ia,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=d(this,It))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},k3=function(e,n,r){let o=.7*(r/n)+1-.7;if(o===1)return;const a=k(this,Ee,Db).call(this,this.rotation),s=(S,_)=>[a[0]*S+a[2]*_,a[1]*S+a[3]*_],[l,c]=this.parentDimensions,u=this.x,h=this.y,f=this.width,p=this.height,m=Me.MIN_SIZE/l,g=Me.MIN_SIZE/c;o=Math.max(Math.min(o,1/f,1/p),m/f,g/p);const y=Me._round(f*o),v=Me._round(p*o);if(y===f&&v===p)return;d(this,Hr)||C(this,Hr,[u,h,f,p]);const w=s(f/2,p/2),x=Me._round(u+w[0]),E=Me._round(h+w[1]),A=s(y/2,v/2);this.x=x-A[0],this.y=E-A[1],this.width=y,this.height=v,this.setDims(),this.fixAndSetPosition(),this._onResizing()},O3=function(){var e;(e=d(this,It))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),k(this,Ee,Lb).call(this)},dC=function(e){const{isMac:n}=Mn.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},M3=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,o=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:o},s=c=>{i.abort(),C(this,rl,null),C(this,Wc,!1),this._uiManager.endDragSession()||k(this,Ee,dC).call(this,c),r&&this._onStopDragging()};n&&(C(this,xd,e.clientX),C(this,wd,e.clientY),C(this,rl,e.pointerId),C(this,ry,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:h,pointerId:f}=c;if(f!==d(this,rl)){$t(c);return}const[p,m]=this.screenToPageTranslation(u-d(this,xd),h-d(this,wd));C(this,xd,u),C(this,wd,h),this._uiManager.dragSelectedEditors(p,m)},a),window.addEventListener("touchmove",$t,a),window.addEventListener("pointerdown",c=>{c.pointerType===d(this,ry)&&(d(this,qc)||c.isPrimary)&&s(c),$t(c)},a));const l=c=>{if(!d(this,rl)||d(this,rl)===c.pointerId){s(c);return}$t(c)};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})},fC=function(){if(d(this,il)||!this.div)return;C(this,il,new AbortController);const e=this._uiManager.combinedSignal(d(this,il));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},R3=function(e){Me._resizerKeyboardManager.exec(this,e)},I3=function(e){var n;d(this,Na)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==d(this,Dn)&&k(this,Ee,dm).call(this)},N3=function(e){C(this,iy,d(this,Na)?e:"")},pC=function(e){if(d(this,eo))for(const n of d(this,eo))n.tabIndex=e},dm=function(){C(this,Na,!1),k(this,Ee,pC).call(this,-1),k(this,Ee,Lb).call(this)},T(Me,sy),Q(Me,"_l10n",null),Q(Me,"_l10nResizer",null),Q(Me,"_borderLineWidth",-1),Q(Me,"_colorManager",new eC),Q(Me,"_zIndex",1),Q(Me,"_telemetryTimeout",1e3);let Et=Me;class vxe extends Et{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const nN=3285377520,bi=4294901760,_o=65535;class j3{constructor(e){this.h1=e?e&4294967295:nN,this.h2=e?e&4294967295:nN}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let g=0,y=e.length;g<y;g++){const v=e.charCodeAt(g);v<=255?n[r++]=v:(n[r++]=v>>>8,n[r++]=v&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,o=r-i*4,a=new Uint32Array(n.buffer,0,i);let s=0,l=0,c=this.h1,u=this.h2;const h=3432918353,f=461845907,p=h&_o,m=f&_o;for(let g=0;g<i;g++)g&1?(s=a[g],s=s*h&bi|s*p&_o,s=s<<15|s>>>17,s=s*f&bi|s*m&_o,c^=s,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[g],l=l*h&bi|l*p&_o,l=l<<15|l>>>17,l=l*f&bi|l*m&_o,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(s=0,o){case 3:s^=n[i*4+2]<<16;case 2:s^=n[i*4+1]<<8;case 1:s^=n[i*4],s=s*h&bi|s*p&_o,s=s<<15|s>>>17,s=s*f&bi|s*m&_o,i&1?c^=s:u^=s}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&bi|e*36045&_o,n=n*4283543511&bi|((n<<16|e>>>16)*2950163797&bi)>>>16,e^=n>>>1,e=e*444984403&bi|e*60499&_o,n=n*3301882366&bi|((n<<16|e>>>16)*3120437893&bi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const mC=Object.freeze({map:null,hash:"",transfer:void 0});var Kc,Xc,ja,Ln,K0,D3;class mT{constructor(){T(this,K0);T(this,Kc,!1);T(this,Xc,null);T(this,ja,null);T(this,Ln,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=d(this,Ln).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return d(this,Ln).get(e)}remove(e){const n=d(this,Ln).get(e);if(n!==void 0&&(n instanceof Et&&d(this,ja).delete(n.annotationElementId),d(this,Ln).delete(e),d(this,Ln).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of d(this,Ln).values())if(r instanceof Et)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=d(this,Ln).get(e);let i=!1;if(r!==void 0)for(const[o,a]of Object.entries(n))r[o]!==a&&(i=!0,r[o]=a);else i=!0,d(this,Ln).set(e,n);i&&k(this,K0,D3).call(this),n instanceof Et&&((d(this,ja)||C(this,ja,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return d(this,Ln).has(e)}get size(){return d(this,Ln).size}resetModified(){d(this,Kc)&&(C(this,Kc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new L3(this)}get serializable(){if(d(this,Ln).size===0)return mC;const e=new Map,n=new j3,r=[],i=Object.create(null);let o=!1;for(const[a,s]of d(this,Ln)){const l=s instanceof Et?s.serialize(!1,i):s;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),o||(o=!!l.bitmap))}if(o)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:mC}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const o of d(this,Ln).values()){if(!(o instanceof Et)){o.popup&&(o.popup.deleted?i+=1:r+=1);continue}o.isCommentDeleted?i+=1:o.hasEditedComment&&(r+=1);const a=o.telemetryFinalData;if(!a)continue;const{type:s}=a;n.has(s)||n.set(s,Object.getPrototypeOf(o).constructor),e||(e=Object.create(null));const l=e[s]||(e[s]=new Map);for(const[c,u]of Object.entries(a)){if(c==="type")continue;let h=l.get(c);h||(h=new Map,l.set(c,h));const f=h.get(u)??0;h.set(u,f+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[o,a]of n)e[o]=a.computeTelemetryFinalData(e[o]);return e}resetModifiedIds(){C(this,Xc,null)}updateEditor(e,n){var i;const r=(i=d(this,ja))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=d(this,ja))==null?void 0:n.get(e))||null}get modifiedIds(){if(d(this,Xc))return d(this,Xc);const e=[];if(d(this,ja))for(const n of d(this,ja).values())n.serialize()&&e.push(n.annotationElementId);return C(this,Xc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return d(this,Ln).entries()}}Kc=new WeakMap,Xc=new WeakMap,ja=new WeakMap,Ln=new WeakMap,K0=new WeakSet,D3=function(){d(this,Kc)||(C(this,Kc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ly;class L3 extends mT{constructor(n){super();T(this,ly);const{map:r,hash:i,transfer:o}=n.serializable,a=structuredClone(r,o?{transfer:o}:null);C(this,ly,{map:a,hash:i,transfer:o})}get print(){vt("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,ly)}get modifiedIds(){return Le(this,"modifiedIds",{ids:new Set,hash:""})}}ly=new WeakMap;var Ad;class bxe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){T(this,Ad,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),d(this,Ad).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||d(this,Ad).has(e.loadedName))){if(We(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:o,style:a}=e,s=new FontFace(i,o,a);this.addNativeFontFace(s);try{await s.load(),d(this,Ad).add(i),r==null||r(e)}catch{Oe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}vt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Oe(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Le(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Le(this,"isSyncFontLoadingSupported",ur||Mn.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(We(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const o=r.shift();setTimeout(o.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Le(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(E,A){return E.charCodeAt(A)<<24|E.charCodeAt(A+1)<<16|E.charCodeAt(A+2)<<8|E.charCodeAt(A+3)&255}function i(E,A,S,_){const O=E.substring(0,A),I=E.substring(A+S);return O+_+I}let o,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const l=s.getContext("2d");let c=0;function u(E,A){if(++c>30){Oe("Load test font never loaded."),A();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(u.bind(null,E,A))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const m=16,g=1482184792;let y=r(f,m);for(o=0,a=h.length-3;o<a;o+=4)y=y-g+r(h,o)|0;o<h.length&&(y=y-g+r(h+"XXX",o)|0),f=i(f,m,4,axe(y));const v=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${v}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const E of[e.loadedName,h]){const A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=E,x.append(A)}this._document.body.append(x),u(h,()=>{x.remove(),n.complete()})}}Ad=new WeakMap;var st;class xxe{constructor(e,n=null,r,i){T(this,st);this.compiledGlyphs=Object.create(null),C(this,st,e),this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${QB(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){Oe(`getPathGenerator - ignoring character: "${a}".`)}const o=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=o}get black(){return d(this,st).black}get bold(){return d(this,st).bold}get disableFontFace(){return d(this,st).disableFontFace??!1}get fontExtraProperties(){return d(this,st).fontExtraProperties??!1}get isInvalidPDFjsFont(){return d(this,st).isInvalidPDFjsFont}get isType3Font(){return d(this,st).isType3Font}get italic(){return d(this,st).italic}get missingFile(){return d(this,st).missingFile}get remeasure(){return d(this,st).remeasure}get vertical(){return d(this,st).vertical}get ascent(){return d(this,st).ascent}get defaultWidth(){return d(this,st).defaultWidth}get descent(){return d(this,st).descent}get bbox(){return d(this,st).bbox}get fontMatrix(){return d(this,st).fontMatrix}get fallbackName(){return d(this,st).fallbackName}get loadedName(){return d(this,st).loadedName}get mimetype(){return d(this,st).mimetype}get name(){return d(this,st).name}get data(){return d(this,st).data}clearData(){d(this,st).clearData()}get cssFontInfo(){return d(this,st).cssFontInfo}get systemFontInfo(){return d(this,st).systemFontInfo}get defaultVMetrics(){return d(this,st).defaultVMetrics}}st=new WeakMap;function wxe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(ur)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Axe(t){if(ur&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Iv(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function fb(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const gC=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,Sxe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",$3=uxe.bind(null,gC,Sxe);var Da,X0;class Exe{constructor(){T(this,Da,new Map);T(this,X0,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};d(this,X0).then(()=>{for(const[i]of d(this,Da))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:o}=r;if(o.aborted){Oe("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>o.removeEventListener("abort",a),o.addEventListener("abort",a)}d(this,Da).set(n,i)}removeEventListener(e,n){const r=d(this,Da).get(n);r==null||r(),d(this,Da).delete(n)}terminate(){for(const[,e]of d(this,Da))e==null||e();d(this,Da).clear()}}Da=new WeakMap,X0=new WeakMap;const pb={DATA:1,ERROR:2},nn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rN(){}function xr(t){if(t instanceof As||t instanceof _0||t instanceof XI||t instanceof _g||t instanceof kA)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||vt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new As(t.message);case"InvalidPDFException":return new _0(t.message);case"PasswordException":return new XI(t.message,t.code);case"ResponseException":return new _g(t.message,t.status,t.missing);case"UnknownErrorException":return new kA(t.message,t.details)}return new kA(t.message,t.toString())}var Sd,Fi,F3,B3,z3,$b;class fm{constructor(e,n,r){T(this,Fi);T(this,Sd,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",k(this,Fi,F3).bind(this),{signal:d(this,Sd).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){o.reject(a)}return o.promise}sendWithStream(e,n,r,i){const o=this.streamId++,a=this.sourceName,s=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[o]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:s,action:e,streamId:o,data:n,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[o].pullCall=u,l.postMessage({sourceName:a,targetName:s,stream:nn.PULL,streamId:o,desiredSize:c.desiredSize}),u.promise},cancel:c=>{We(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[o].cancelCall=u,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:a,targetName:s,stream:nn.CANCEL,streamId:o,reason:xr(c)}),u.promise}},r)}destroy(){var e;(e=d(this,Sd))==null||e.abort(),C(this,Sd,null)}}Sd=new WeakMap,Fi=new WeakSet,F3=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,Fi,z3).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===pb.DATA)i.resolve(e.data);else if(e.callback===pb.ERROR)i.reject(xr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,o=this.comObj;Promise.try(n,e.data).then(function(a){o.postMessage({sourceName:r,targetName:i,callback:pb.DATA,callbackId:e.callbackId,data:a})},function(a){o.postMessage({sourceName:r,targetName:i,callback:pb.ERROR,callbackId:e.callbackId,reason:xr(a)})});return}if(e.streamId){k(this,Fi,B3).call(this,e);return}n(e.data)},B3=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,a=this,s=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:nn.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:nn.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){We(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:nn.ERROR,streamId:n,reason:xr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(s,e.data,l).then(function(){o.postMessage({sourceName:r,targetName:i,stream:nn.START_COMPLETE,streamId:n,success:!0})},function(c){o.postMessage({sourceName:r,targetName:i,stream:nn.START_COMPLETE,streamId:n,reason:xr(c)})})},z3=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,a=this.streamControllers[n],s=this.streamSinks[n];switch(e.stream){case nn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(xr(e.reason));break;case nn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(xr(e.reason));break;case nn.PULL:if(!s){o.postMessage({sourceName:r,targetName:i,stream:nn.PULL_COMPLETE,streamId:n,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,Promise.try(s.onPull||rN).then(function(){o.postMessage({sourceName:r,targetName:i,stream:nn.PULL_COMPLETE,streamId:n,success:!0})},function(c){o.postMessage({sourceName:r,targetName:i,stream:nn.PULL_COMPLETE,streamId:n,reason:xr(c)})});break;case nn.ENQUEUE:if(We(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case nn.CLOSE:if(We(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),k(this,Fi,$b).call(this,a,n);break;case nn.ERROR:We(a,"error should have stream controller"),a.controller.error(xr(e.reason)),k(this,Fi,$b).call(this,a,n);break;case nn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(xr(e.reason)),k(this,Fi,$b).call(this,a,n);break;case nn.CANCEL:if(!s)break;const l=xr(e.reason);Promise.try(s.onCancel||rN,l).then(function(){o.postMessage({sourceName:r,targetName:i,stream:nn.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){o.postMessage({sourceName:r,targetName:i,stream:nn.CANCEL_COMPLETE,streamId:n,reason:xr(c)})}),s.sinkCapability.reject(l),s.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},$b=async function(e,n){var r,i,o;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[n]};var cy;class U3{constructor({enableHWA:e=!1}){T(this,cy,!1);C(this,cy,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!d(this,cy)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){vt("Abstract method `_createCanvas` called.")}}cy=new WeakMap;class Cxe extends U3{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class H3{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){vt("Abstract method `_fetch` called.")}}class iN extends H3{async _fetch(e){const n=await Rp(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Iv(n)}}class V3{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,o){return"none"}destroy(e=!1){}}var Yc,Ed,La,$a,qn,Jc,Zc,ce,Vn,pm,kh,Fb,Oh,W3,yC,Mh,mm,gm,vC,ym;class _xe extends V3{constructor({docId:n,ownerDocument:r=globalThis.document}){super();T(this,ce);T(this,Yc);T(this,Ed);T(this,La);T(this,$a);T(this,qn);T(this,Jc);T(this,Zc,0);C(this,$a,n),C(this,qn,r)}addFilter(n){if(!n)return"none";let r=d(this,ce,Vn).get(n);if(r)return r;const[i,o,a]=k(this,ce,Fb).call(this,n),s=n.length===1?i:`${i}${o}${a}`;if(r=d(this,ce,Vn).get(s),r)return d(this,ce,Vn).set(n,r),r;const l=`g_${d(this,$a)}_transfer_map_${dn(this,Zc)._++}`,c=k(this,ce,Oh).call(this,l);d(this,ce,Vn).set(n,c),d(this,ce,Vn).set(s,c);const u=k(this,ce,Mh).call(this,l);return k(this,ce,gm).call(this,i,o,a,u),c}addHCMFilter(n,r){var m;const i=`${n}-${r}`,o="base";let a=d(this,ce,pm).get(o);if((a==null?void 0:a.key)===i||(a?((m=a.filter)==null||m.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},d(this,ce,pm).set(o,a)),!n||!r))return a.url;const s=k(this,ce,ym).call(this,n);n=he.makeHexColor(...s);const l=k(this,ce,ym).call(this,r);if(r=he.makeHexColor(...l),d(this,ce,kh).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return a.url;const c=new Array(256);for(let g=0;g<=255;g++){const y=g/255;c[g]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=c.join(","),h=`g_${d(this,$a)}_hcm_filter`,f=a.filter=k(this,ce,Mh).call(this,h);k(this,ce,gm).call(this,u,u,u,f),k(this,ce,yC).call(this,f);const p=(g,y)=>{const v=s[g]/255,w=l[g]/255,x=new Array(y+1);for(let E=0;E<=y;E++)x[E]=v+E/y*(w-v);return x.join(",")};return k(this,ce,gm).call(this,p(0,5),p(1,5),p(2,5),f),a.url=k(this,ce,Oh).call(this,h),a.url}addAlphaFilter(n){let r=d(this,ce,Vn).get(n);if(r)return r;const[i]=k(this,ce,Fb).call(this,[n]),o=`alpha_${i}`;if(r=d(this,ce,Vn).get(o),r)return d(this,ce,Vn).set(n,r),r;const a=`g_${d(this,$a)}_alpha_map_${dn(this,Zc)._++}`,s=k(this,ce,Oh).call(this,a);d(this,ce,Vn).set(n,s),d(this,ce,Vn).set(o,s);const l=k(this,ce,Mh).call(this,a);return k(this,ce,vC).call(this,i,l),s}addLuminosityFilter(n){let r=d(this,ce,Vn).get(n||"luminosity");if(r)return r;let i,o;if(n?([i]=k(this,ce,Fb).call(this,[n]),o=`luminosity_${i}`):o="luminosity",r=d(this,ce,Vn).get(o),r)return d(this,ce,Vn).set(n,r),r;const a=`g_${d(this,$a)}_luminosity_map_${dn(this,Zc)._++}`,s=k(this,ce,Oh).call(this,a);d(this,ce,Vn).set(n,s),d(this,ce,Vn).set(o,s);const l=k(this,ce,Mh).call(this,a);return k(this,ce,W3).call(this,l),n&&k(this,ce,vC).call(this,i,l),s}addHighlightHCMFilter(n,r,i,o,a){var w;const s=`${r}-${i}-${o}-${a}`;let l=d(this,ce,pm).get(n);if((l==null?void 0:l.key)===s||(l?((w=l.filter)==null||w.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},d(this,ce,pm).set(n,l)),!r||!i))return l.url;const[c,u]=[r,i].map(k(this,ce,ym).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,m]=[o,a].map(k(this,ce,ym).bind(this));f<h&&([h,f,p,m]=[f,h,m,p]),d(this,ce,kh).style.color="";const g=(x,E,A)=>{const S=new Array(256),_=(f-h)/A,O=x/255,I=(E-x)/(255*A);let M=0;for(let R=0;R<=A;R++){const N=Math.round(h+R*_),L=O+R*I;for(let F=M;F<=N;F++)S[F]=L;M=N+1}for(let R=M;R<256;R++)S[R]=S[M-1];return S.join(",")},y=`g_${d(this,$a)}_hcm_${n}_filter`,v=l.filter=k(this,ce,Mh).call(this,y);return k(this,ce,yC).call(this,v),k(this,ce,gm).call(this,g(p[0],m[0],5),g(p[1],m[1],5),g(p[2],m[2],5),v),l.url=k(this,ce,Oh).call(this,y),l.url}destroy(n=!1){var r,i,o,a;n&&((r=d(this,Jc))!=null&&r.size)||((i=d(this,La))==null||i.parentNode.parentNode.remove(),C(this,La,null),(o=d(this,Ed))==null||o.clear(),C(this,Ed,null),(a=d(this,Jc))==null||a.clear(),C(this,Jc,null),C(this,Zc,0))}}Yc=new WeakMap,Ed=new WeakMap,La=new WeakMap,$a=new WeakMap,qn=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,ce=new WeakSet,Vn=function(){return d(this,Ed)||C(this,Ed,new Map)},pm=function(){return d(this,Jc)||C(this,Jc,new Map)},kh=function(){if(!d(this,La)){const n=d(this,qn).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=d(this,qn).createElementNS(ba,"svg");i.setAttribute("width",0),i.setAttribute("height",0),C(this,La,d(this,qn).createElementNS(ba,"defs")),n.append(i),i.append(d(this,La)),d(this,qn).body.append(n)}return d(this,La)},Fb=function(n){if(n.length===1){const c=n[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const h=u.join(",");return[h,h,h]}const[r,i,o]=n,a=new Array(256),s=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=r[c]/255,s[c]=i[c]/255,l[c]=o[c]/255;return[a.join(","),s.join(","),l.join(",")]},Oh=function(n){if(d(this,Yc)===void 0){C(this,Yc,"");const r=d(this,qn).URL;r!==d(this,qn).baseURI&&(jv(r)?Oe('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,Yc,uT(r,"")))}return`url(${d(this,Yc)}#${n})`},W3=function(n){const r=d(this,qn).createElementNS(ba,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},yC=function(n){const r=d(this,qn).createElementNS(ba,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Mh=function(n){const r=d(this,qn).createElementNS(ba,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),d(this,ce,kh).append(r),r},mm=function(n,r,i){const o=d(this,qn).createElementNS(ba,r);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),n.append(o)},gm=function(n,r,i,o){const a=d(this,qn).createElementNS(ba,"feComponentTransfer");o.append(a),k(this,ce,mm).call(this,a,"feFuncR",n),k(this,ce,mm).call(this,a,"feFuncG",r),k(this,ce,mm).call(this,a,"feFuncB",i)},vC=function(n,r){const i=d(this,qn).createElementNS(ba,"feComponentTransfer");r.append(i),k(this,ce,mm).call(this,i,"feFuncA",n)},ym=function(n){return d(this,ce,kh).style.color=n,Ip(getComputedStyle(d(this,ce,kh)).getPropertyValue("color"))};class G3{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){vt("Abstract method `_fetch` called.")}}class oN extends G3{async _fetch(e){const n=await Rp(e,"arraybuffer");return new Uint8Array(n)}}class q3{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){vt("Abstract method `_fetch` called.")}}class aN extends q3{async _fetch(e){const n=await Rp(e,"arraybuffer");return new Uint8Array(n)}}ur&&Oe("Please use the `legacy` build in Node.js environments.");async function gT(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class Pxe extends V3{}class Txe extends U3{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class kxe extends H3{async _fetch(e){return gT(e)}}class Oxe extends G3{async _fetch(e){return gT(e)}}class Mxe extends q3{async _fetch(e){return gT(e)}}const Sh="__forcedDependency",{floor:sN,ceil:lN}=Math;function mb(t,e,n,r,i,o){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],o)}const bC=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Cd,ol;class Rxe{constructor(e,n){T(this,Cd);T(this,ol);C(this,Cd,e),C(this,ol,n)}get length(){return d(this,Cd).length}isEmpty(e){return d(this,Cd)[e]===bC}minX(e){return d(this,ol)[e*4+0]/256}minY(e){return d(this,ol)[e*4+1]/256}maxX(e){return(d(this,ol)[e*4+2]+1)/256}maxY(e){return(d(this,ol)[e*4+3]+1)/256}}Cd=new WeakMap,ol=new WeakMap;const gb=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var Sr,Er,Qc,to,eu,Fa,ot,lt,Ba,Cr,uy,_d,tu,nu,za,Kn,Bo,hy,xC;class Ixe{constructor(e,n,r=!1){T(this,hy);T(this,Sr,{__proto__:null});T(this,Er,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Sh]:[]});T(this,Qc,new Map);T(this,to,[]);T(this,eu,[]);T(this,Fa,[[1,0,0,1,0,0]]);T(this,ot,[-1/0,-1/0,1/0,1/0]);T(this,lt,new Float64Array([1/0,1/0,-1/0,-1/0]));T(this,Ba,-1);T(this,Cr,new Set);T(this,uy,new Map);T(this,_d,new Map);T(this,tu);T(this,nu);T(this,za);T(this,Kn);T(this,Bo);C(this,tu,e.width),C(this,nu,e.height),k(this,hy,xC).call(this,n),r&&C(this,Bo,new Map)}growOperationsCount(e){e>=d(this,Kn).length&&k(this,hy,xC).call(this,e,d(this,Kn))}save(e){return C(this,Sr,{__proto__:d(this,Sr)}),C(this,Er,{__proto__:d(this,Er),transform:{__proto__:d(this,Er).transform},moveText:{__proto__:d(this,Er).moveText},sameLineText:{__proto__:d(this,Er).sameLineText},[Sh]:{__proto__:d(this,Er)[Sh]}}),C(this,ot,{__proto__:d(this,ot)}),d(this,to).push(e),this}restore(e){var i;const n=Object.getPrototypeOf(d(this,Sr));if(n===null)return this;C(this,Sr,n),C(this,Er,Object.getPrototypeOf(d(this,Er))),C(this,ot,Object.getPrototypeOf(d(this,ot)));const r=d(this,to).pop();return r!==void 0&&((i=gb(d(this,Bo),e))==null||i.dependencies.add(r),d(this,Kn)[e]=d(this,Kn)[r]),this}recordOpenMarker(e){return d(this,to).push(e),this}getOpenMarker(){return d(this,to).length===0?null:d(this,to).at(-1)}recordCloseMarker(e){var r;const n=d(this,to).pop();return n!==void 0&&((r=gb(d(this,Bo),e))==null||r.dependencies.add(n),d(this,Kn)[e]=d(this,Kn)[n]),this}beginMarkedContent(e){return d(this,eu).push(e),this}endMarkedContent(e){var r;const n=d(this,eu).pop();return n!==void 0&&((r=gb(d(this,Bo),e))==null||r.dependencies.add(n),d(this,Kn)[e]=d(this,Kn)[n]),this}pushBaseTransform(e){return d(this,Fa).push(he.multiplyByDOMMatrix(d(this,Fa).at(-1),e.getTransform())),this}popBaseTransform(){return d(this,Fa).length>1&&d(this,Fa).pop(),this}recordSimpleData(e,n){return d(this,Sr)[e]=n,this}recordIncrementalData(e,n){return d(this,Er)[e].push(n),this}resetIncrementalData(e,n){return d(this,Er)[e].length=0,this}recordNamedData(e,n){return d(this,Qc).set(e,n),this}recordSimpleDataFromNamed(e,n,r){d(this,Sr)[e]=d(this,Qc).get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Sh,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in d(this,Sr)&&this.recordFutureForcedDependency(n,d(this,Sr)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of d(this,Cr))this.recordFutureForcedDependency(Sh,e);return this}resetBBox(e){return d(this,Ba)!==e&&(C(this,Ba,e),d(this,lt)[0]=1/0,d(this,lt)[1]=1/0,d(this,lt)[2]=-1/0,d(this,lt)[3]=-1/0),this}recordClipBox(e,n,r,i,o,a){const s=he.multiplyByDOMMatrix(d(this,Fa).at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];he.axialAlignedBoundingBox([r,o,i,a],s,l);const c=he.intersect(d(this,ot),l);return c?(d(this,ot)[0]=c[0],d(this,ot)[1]=c[1],d(this,ot)[2]=c[2],d(this,ot)[3]=c[3]):(d(this,ot)[0]=d(this,ot)[1]=1/0,d(this,ot)[2]=d(this,ot)[3]=-1/0),this}recordBBox(e,n,r,i,o,a){const s=d(this,ot);if(s[0]===1/0)return this;const l=he.multiplyByDOMMatrix(d(this,Fa).at(-1),n.getTransform());if(s[0]===-1/0)return he.axialAlignedBoundingBox([r,o,i,a],l,d(this,lt)),this;const c=[1/0,1/0,-1/0,-1/0];return he.axialAlignedBoundingBox([r,o,i,a],l,c),d(this,lt)[0]=Math.min(d(this,lt)[0],Math.max(c[0],s[0])),d(this,lt)[1]=Math.min(d(this,lt)[1],Math.max(c[1],s[1])),d(this,lt)[2]=Math.max(d(this,lt)[2],Math.min(c[2],s[2])),d(this,lt)[3]=Math.max(d(this,lt)[3],Math.min(c[3],s[3])),this}recordCharacterBBox(e,n,r,i=1,o=0,a=0,s){const l=r.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&d(this,_d).get(r),c!==!1&&(u=[0,0,0,0],he.axialAlignedBoundingBox(l,r.fontMatrix,u),(i!==1||o!==0||a!==0)&&he.scaleMinMax([i,0,0,-i,o,a],u),c)))return this.recordBBox(e,n,u[0],u[2],u[1],u[3]);if(!s)return this.recordFullPageBBox(e);const h=s();return l&&u&&c===void 0&&(c=u[0]<=o-h.actualBoundingBoxLeft&&u[2]>=o+h.actualBoundingBoxRight&&u[1]<=a-h.actualBoundingBoxAscent&&u[3]>=a+h.actualBoundingBoxDescent,d(this,_d).set(r,c),c)?this.recordBBox(e,n,u[0],u[2],u[1],u[3]):this.recordBBox(e,n,o-h.actualBoundingBoxLeft,o+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return d(this,lt)[0]=Math.max(0,d(this,ot)[0]),d(this,lt)[1]=Math.max(0,d(this,ot)[1]),d(this,lt)[2]=Math.min(d(this,tu),d(this,ot)[2]),d(this,lt)[3]=Math.min(d(this,nu),d(this,ot)[3]),this}getSimpleIndex(e){return d(this,Sr)[e]}recordDependencies(e,n){const r=d(this,Cr),i=d(this,Sr),o=d(this,Er);for(const a of n)a in d(this,Sr)?r.add(i[a]):a in o&&o[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return d(this,Qc).has(n)&&d(this,Cr).add(d(this,Qc).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Sh]),d(this,Bo)){const r=gb(d(this,Bo),e),{dependencies:i}=r;d(this,Cr).forEach(i.add,i),d(this,to).forEach(i.add,i),d(this,eu).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(d(this,Ba)===e){const r=sN(d(this,lt)[0]*256/d(this,tu)),i=sN(d(this,lt)[1]*256/d(this,nu)),o=lN(d(this,lt)[2]*256/d(this,tu)),a=lN(d(this,lt)[3]*256/d(this,nu));mb(d(this,za),e,r,i,o,a);for(const s of d(this,Cr))s!==e&&mb(d(this,za),s,r,i,o,a);for(const s of d(this,to))s!==e&&mb(d(this,za),s,r,i,o,a);for(const s of d(this,eu))s!==e&&mb(d(this,za),s,r,i,o,a);n||(d(this,Cr).clear(),C(this,Ba,-1))}return this}recordShowTextOperation(e,n=!1){const r=Array.from(d(this,Cr));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return d(this,Ba)===e&&(C(this,Ba,-1),d(this,ot)[0]=Math.max(d(this,ot)[0],d(this,lt)[0]),d(this,ot)[1]=Math.max(d(this,ot)[1],d(this,lt)[1]),d(this,ot)[2]=Math.min(d(this,ot)[2],d(this,lt)[2]),d(this,ot)[3]=Math.min(d(this,ot)[3],d(this,lt)[3]),n||d(this,Cr).clear()),this}_takePendingDependencies(){const e=d(this,Cr);return C(this,Cr,new Set),e}_extractOperation(e){const n=d(this,uy).get(e);return d(this,uy).delete(e),n}_pushPendingDependencies(e){for(const n of e)d(this,Cr).add(n)}take(){return d(this,_d).clear(),new Rxe(d(this,Kn),d(this,za))}takeDebugMetadata(){return d(this,Bo)}}Sr=new WeakMap,Er=new WeakMap,Qc=new WeakMap,to=new WeakMap,eu=new WeakMap,Fa=new WeakMap,ot=new WeakMap,lt=new WeakMap,Ba=new WeakMap,Cr=new WeakMap,uy=new WeakMap,_d=new WeakMap,tu=new WeakMap,nu=new WeakMap,za=new WeakMap,Kn=new WeakMap,Bo=new WeakMap,hy=new WeakSet,xC=function(e,n){const r=new ArrayBuffer(e*4);C(this,za,new Uint8ClampedArray(r)),C(this,Kn,new Uint32Array(r)),n&&n.length>0?(d(this,Kn).set(n),d(this,Kn).fill(bC,n.length)):d(this,Kn).fill(bC)};var mt,Wt,no,Pd,Td;const GT=class GT{constructor(e,n,r){T(this,mt);T(this,Wt);T(this,no);T(this,Pd,0);T(this,Td,0);if(e instanceof GT&&d(e,no)===!!r)return e;C(this,mt,e),C(this,Wt,n),C(this,no,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return dn(this,Td)._++,d(this,mt).save(d(this,Wt)),this}restore(e){return d(this,Td)>0&&(d(this,mt).restore(d(this,Wt)),dn(this,Td)._--),this}recordOpenMarker(e){return dn(this,Pd)._++,this}getOpenMarker(){return d(this,Pd)>0?d(this,Wt):d(this,mt).getOpenMarker()}recordCloseMarker(e){return dn(this,Pd)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return d(this,mt).pushBaseTransform(e),this}popBaseTransform(){return d(this,mt).popBaseTransform(),this}recordSimpleData(e,n){return d(this,mt).recordSimpleData(e,d(this,Wt)),this}recordIncrementalData(e,n){return d(this,mt).recordIncrementalData(e,d(this,Wt)),this}resetIncrementalData(e,n){return d(this,mt).resetIncrementalData(e,d(this,Wt)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return d(this,mt).recordSimpleDataFromNamed(e,n,d(this,Wt)),this}recordFutureForcedDependency(e,n){return d(this,mt).recordFutureForcedDependency(e,d(this,Wt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return d(this,mt).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return d(this,mt).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return d(this,no)||d(this,mt).resetBBox(d(this,Wt)),this}recordClipBox(e,n,r,i,o,a){return d(this,no)||d(this,mt).recordClipBox(d(this,Wt),n,r,i,o,a),this}recordBBox(e,n,r,i,o,a){return d(this,no)||d(this,mt).recordBBox(d(this,Wt),n,r,i,o,a),this}recordCharacterBBox(e,n,r,i,o,a,s){return d(this,no)||d(this,mt).recordCharacterBBox(d(this,Wt),n,r,i,o,a,s),this}recordFullPageBBox(e){return d(this,no)||d(this,mt).recordFullPageBBox(d(this,Wt)),this}getSimpleIndex(e){return d(this,mt).getSimpleIndex(e)}recordDependencies(e,n){return d(this,mt).recordDependencies(d(this,Wt),n),this}recordNamedDependency(e,n){return d(this,mt).recordNamedDependency(d(this,Wt),n),this}recordOperation(e){return d(this,mt).recordOperation(d(this,Wt),!0),this}recordShowTextOperation(e){return d(this,mt).recordShowTextOperation(d(this,Wt),!0),this}bboxToClipBoxDropOperation(e){return d(this,no)||d(this,mt).bboxToClipBoxDropOperation(d(this,Wt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};mt=new WeakMap,Wt=new WeakMap,no=new WeakMap,Pd=new WeakMap,Td=new WeakMap;let k0=GT;const xi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},zn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function wC(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class yT{isModifyingCurrentTransform(){return!1}getPattern(){vt("Abstract method `getPattern` called.")}}class Nxe extends yT{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let o;if(i===zn.STROKE||i===zn.FILL){const a=n.current.getClippedPathBoundingBox(i,Lt(e))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",s,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),r=he.transform(r,[1,0,0,1,a[0],a[1]]),u.transform(...n.baseTransform),this.matrix&&u.transform(...this.matrix),wC(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),o=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);o.setTransform(h)}else wC(e,this._bbox),o=this._createGradient(e);return o}}function RA(t,e,n,r,i,o,a,s){const l=e.coords,c=e.colors,u=t.data,h=t.width*4;let f;l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=o,o=a,a=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=a,a=s,s=f),l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=o,o=a,a=f);const p=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(m>=w)return;const x=c[o],E=c[o+1],A=c[o+2],S=c[a],_=c[a+1],O=c[a+2],I=c[s],M=c[s+1],R=c[s+2],N=Math.round(m),L=Math.round(w);let F,z,$,U,H,W,j,X;for(let q=N;q<=L;q++){if(q<y){const ie=q<m?0:(m-q)/(m-y);F=p-(p-g)*ie,z=x-(x-S)*ie,$=E-(E-_)*ie,U=A-(A-O)*ie}else{let ie;q>w?ie=1:y===w?ie=0:ie=(y-q)/(y-w),F=g-(g-v)*ie,z=S-(S-I)*ie,$=_-(_-M)*ie,U=O-(O-R)*ie}let D;q<m?D=0:q>w?D=1:D=(m-q)/(m-w),H=p-(p-v)*D,W=x-(x-I)*D,j=E-(E-M)*D,X=A-(A-R)*D;const le=Math.round(Math.min(F,H)),ve=Math.round(Math.max(F,H));let ye=h*q+le*4;for(let ie=le;ie<=ve;ie++)D=(F-ie)/(F-H),D<0?D=0:D>1&&(D=1),u[ye++]=z-(z-W)*D|0,u[ye++]=$-($-j)*D|0,u[ye++]=U-(U-X)*D|0,u[ye++]=255}}function jxe(t,e,n){const r=e.coords,i=e.colors;let o,a;switch(e.type){case"lattice":const s=e.verticesPerRow,l=Math.floor(r.length/s)-1,c=s-1;for(o=0;o<l;o++){let u=o*s;for(let h=0;h<c;h++,u++)RA(t,n,r[u],r[u+1],r[u+s],i[u],i[u+1],i[u+s]),RA(t,n,r[u+s+1],r[u+1],r[u+s],i[u+s+1],i[u+1],i[u+s])}break;case"triangles":for(o=0,a=r.length;o<a;o+=3)RA(t,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class Dxe extends yT{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const s=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-s,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=c/h,m=u/f,g={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-l,scaleX:1/p,scaleY:1/m},y=h+2*2,v=f+2*2,w=r.getCanvas("mesh",y,v),x=w.context,E=x.createImageData(h,f);if(n){const S=E.data;for(let _=0,O=S.length;_<O;_+=4)S[_]=n[0],S[_+1]=n[1],S[_+2]=n[2],S[_+3]=255}for(const S of this._figures)jxe(E,S,g);return x.putImageData(E,2,2),{canvas:w.canvas,offsetX:s-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){wC(e,this._bbox);const o=new Float32Array(2);if(i===zn.SHADING)he.singularValueDecompose2dScale(Lt(e),o);else if(this.matrix){he.singularValueDecompose2dScale(this.matrix,o);const[s,l]=o;he.singularValueDecompose2dScale(n.baseTransform,o),o[0]*=s,o[1]*=l}else he.singularValueDecompose2dScale(n.baseTransform,o);const a=this._createMeshCanvas(o,i===zn.SHADING?null:this._background,n.cachedCanvases);return i!==zn.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Lxe extends yT{getPattern(){return"hotpink"}}function $xe(t){switch(t[0]){case"RadialAxial":return new Nxe(t);case"Mesh":return new Dxe(t);case"Dummy":return new Lxe}throw new Error(`Unknown IR type: ${t[0]}`)}const cN={COLORED:1,UNCOLORED:2},Y0=class Y0{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){var W,j;const{bbox:r,operatorList:i,paintType:o,tilingType:a,color:s,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),x1("TilingType: "+a);const h=r[0],f=r[1],p=r[2],m=r[3],g=p-h,y=m-f,v=new Float32Array(2);he.singularValueDecompose2dScale(this.matrix,v);const[w,x]=v;he.singularValueDecompose2dScale(this.baseTransform,v);const E=w*v[0],A=x*v[1];let S=g,_=y,O=!1,I=!1;const M=Math.ceil(c*E),R=Math.ceil(u*A),N=Math.ceil(g*E),L=Math.ceil(y*A);M>=N?S=c:O=!0,R>=L?_=u:I=!0;const F=this.getSizeAndScale(S,this.ctx.canvas.width,E),z=this.getSizeAndScale(_,this.ctx.canvas.height,A),$=e.cachedCanvases.getCanvas("pattern",F.size,z.size),U=$.context,H=l.createCanvasGraphics(U,n);if(H.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(H,o,s),U.translate(-F.scale*h,-z.scale*f),H.transform(0,F.scale,0,0,z.scale,0,0),U.save(),(W=H.dependencyTracker)==null||W.save(),this.clipBbox(H,h,f,p,m),H.baseTransform=Lt(H.ctx),H.executeOperatorList(i),H.endDrawing(),(j=H.dependencyTracker)==null||j.restore(),U.restore(),O||I){const X=$.canvas;O&&(S=c),I&&(_=u);const q=this.getSizeAndScale(S,this.ctx.canvas.width,E),D=this.getSizeAndScale(_,this.ctx.canvas.height,A),le=q.size,ve=D.size,ye=e.cachedCanvases.getCanvas("pattern-workaround",le,ve),ie=ye.context,pe=O?Math.floor(g/c):0,J=I?Math.floor(y/u):0;for(let Z=0;Z<=pe;Z++)for(let re=0;re<=J;re++)ie.drawImage(X,le*Z,ve*re,le,ve,0,0,le,ve);return{canvas:ye.canvas,scaleX:q.scale,scaleY:D.scale,offsetX:h,offsetY:f}}return{canvas:$.canvas,scaleX:F.scale,scaleY:z.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,n,r){const i=Math.max(Y0.MAX_PATTERN_SIZE,n);let o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}clipBbox(e,n,r,i,o){const a=i-n,s=o-r;e.ctx.rect(n,r,a,s),he.axialAlignedBoundingBox([n,r,i,o],Lt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,o=e.current;switch(n){case cN.COLORED:const{fillStyle:a,strokeStyle:s}=this.ctx;i.fillStyle=o.fillColor=a,i.strokeStyle=o.strokeColor=s;break;case cN.UNCOLORED:i.fillStyle=i.strokeStyle=r,o.fillColor=o.strokeColor=r;break;default:throw new oxe(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,o){let a=r;i!==zn.SHADING&&(a=he.transform(a,n.baseTransform),this.matrix&&(a=he.transform(a,this.matrix)));const s=this.createPatternCanvas(n,o);let l=new DOMMatrix(a);l=l.translate(s.offsetX,s.offsetY),l=l.scale(1/s.scaleX,1/s.scaleY);const c=e.createPattern(s.canvas,"repeat");return c.setTransform(l),c}};Q(Y0,"MAX_PATTERN_SIZE",3e3);let AC=Y0;function Fxe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:o=4294967295,inverseDecode:a=!1}){const s=Mn.isLittleEndian?4278190080:255,[l,c]=a?[o,s]:[s,o],u=r>>3,h=r&7,f=t.length;n=new Uint32Array(n.buffer);let p=0;for(let m=0;m<i;m++){for(const y=e+u;e<y;e++){const v=e<f?t[e]:255;n[p++]=v&128?c:l,n[p++]=v&64?c:l,n[p++]=v&32?c:l,n[p++]=v&16?c:l,n[p++]=v&8?c:l,n[p++]=v&4?c:l,n[p++]=v&2?c:l,n[p++]=v&1?c:l}if(h===0)continue;const g=e<f?t[e++]:255;for(let y=0;y<h;y++)n[p++]=g&1<<7-y?c:l}return{srcPos:e,destPos:p}}const uN=16,hN=100,Bxe=15,dN=10,kr=16,IA=new DOMMatrix,ai=new Float32Array(2),zh=new Float32Array([1/0,1/0,-1/0,-1/0]);function zxe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,o,a,s){e.transform(n,r,i,o,a,s),this.__originalTransform(n,r,i,o,a,s)},t.setTransform=function(n,r,i,o,a,s){e.setTransform(n,r,i,o,a,s),this.__originalSetTransform(n,r,i,o,a,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,o,a,s){e.bezierCurveTo(n,r,i,o,a,s),this.__originalBezierCurveTo(n,r,i,o,a,s)},t.rect=function(n,r,i,o){e.rect(n,r,i,o),this.__originalRect(n,r,i,o)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Uxe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function yb(t,e,n,r,i,o,a,s,l,c){const[u,h,f,p,m,g]=Lt(t);if(h===0&&f===0){const w=a*u+m,x=Math.round(w),E=s*p+g,A=Math.round(E),S=(a+l)*u+m,_=Math.abs(Math.round(S)-x)||1,O=(s+c)*p+g,I=Math.abs(Math.round(O)-A)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(p),x,A),t.drawImage(e,n,r,i,o,0,0,_,I),t.setTransform(u,h,f,p,m,g),[_,I]}if(u===0&&p===0){const w=s*f+m,x=Math.round(w),E=a*h+g,A=Math.round(E),S=(s+c)*f+m,_=Math.abs(Math.round(S)-x)||1,O=(a+l)*h+g,I=Math.abs(Math.round(O)-A)||1;return t.setTransform(0,Math.sign(h),Math.sign(f),0,x,A),t.drawImage(e,n,r,i,o,0,0,I,_),t.setTransform(u,h,f,p,m,g),[I,_]}t.drawImage(e,n,r,i,o,a,s,l,c);const y=Math.hypot(u,h),v=Math.hypot(f,p);return[y*l,v*c]}class fN{constructor(e,n,r){Q(this,"alphaIsShape",!1);Q(this,"fontSize",0);Q(this,"fontSizeScale",1);Q(this,"textMatrix",null);Q(this,"textMatrixScale",1);Q(this,"fontMatrix",KE);Q(this,"leading",0);Q(this,"x",0);Q(this,"y",0);Q(this,"lineX",0);Q(this,"lineY",0);Q(this,"charSpacing",0);Q(this,"wordSpacing",0);Q(this,"textHScale",1);Q(this,"textRenderingMode",Nn.FILL);Q(this,"textRise",0);Q(this,"fillColor","#000000");Q(this,"strokeColor","#000000");Q(this,"patternFill",!1);Q(this,"patternStroke",!1);Q(this,"fillAlpha",1);Q(this,"strokeAlpha",1);Q(this,"lineWidth",1);Q(this,"activeSMask",null);Q(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=zh.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=zn.FILL,n=null){const r=this.minMax.slice();if(e===zn.STROKE){n||vt("Stroke bounding box must include transform."),he.singularValueDecompose2dScale(n,ai);const i=ai[0]*this.lineWidth/2,o=ai[1]*this.lineWidth/2;r[0]-=i,r[1]-=o,r[2]+=i,r[3]+=o}return r}updateClipFromPath(){const e=he.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(zh,0)}getClippedPathBoundingBox(e=zn.FILL,n=null){return he.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function pN(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%kr,o=(n-i)/kr,a=i===0?o:o+1,s=t.createImageData(r,kr);let l=0,c;const u=e.data,h=s.data;let f,p,m,g;if(e.kind===Lm.GRAYSCALE_1BPP){const y=u.byteLength,v=new Uint32Array(h.buffer,0,h.byteLength>>2),w=v.length,x=r+7>>3,E=4294967295,A=Mn.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(m=f<o?kr:i,c=0,p=0;p<m;p++){const S=y-l;let _=0;const O=S>x?r:S*8-7,I=O&-8;let M=0,R=0;for(;_<I;_+=8)R=u[l++],v[c++]=R&128?E:A,v[c++]=R&64?E:A,v[c++]=R&32?E:A,v[c++]=R&16?E:A,v[c++]=R&8?E:A,v[c++]=R&4?E:A,v[c++]=R&2?E:A,v[c++]=R&1?E:A;for(;_<O;_++)M===0&&(R=u[l++],M=128),v[c++]=R&M?E:A,M>>=1}for(;c<w;)v[c++]=0;t.putImageData(s,0,f*kr)}}else if(e.kind===Lm.RGBA_32BPP){for(p=0,g=r*kr*4,f=0;f<o;f++)h.set(u.subarray(l,l+g)),l+=g,t.putImageData(s,0,p),p+=kr;f<a&&(g=r*i*4,h.set(u.subarray(l,l+g)),t.putImageData(s,0,p))}else if(e.kind===Lm.RGB_24BPP)for(m=kr,g=r*m,f=0;f<a;f++){for(f>=o&&(m=i,g=r*m),c=0,p=g;p--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;t.putImageData(s,0,f*kr)}else throw new Error(`bad image kind: ${e.kind}`)}function mN(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%kr,o=(n-i)/kr,a=i===0?o:o+1,s=t.createImageData(r,kr);let l=0;const c=e.data,u=s.data;for(let h=0;h<a;h++){const f=h<o?kr:i;({srcPos:l}=Fxe({src:c,srcPos:l,dest:u,width:r,height:f,nonBlackColor:0})),t.putImageData(s,0,h*kr)}}function Qp(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function vb(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function gN(t,e){if(e)return!0;he.singularValueDecompose2dScale(t,ai);const n=Math.fround(xo.pixelRatio*Ss.PDF_TO_CSS_UNITS);return ai[0]<=n&&ai[1]<=n}const Hxe=["butt","round","square"],Vxe=["miter","round","bevel"],Wxe={},yN={};var wo,SC,EC,CC;const qT=class qT{constructor(e,n,r,i,o,{optionalContentConfig:a,markedContentStack:s=null},l,c,u){T(this,wo);this.ctx=e,this.current=new fN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=a,this.cachedCanvases=new Uxe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,n,r=null){var i;return typeof n=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const o=this.ctx.canvas.width,a=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,a),this.ctx.fillStyle=s,r){const l=this.cachedCanvases.getCanvas("transparent",o,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Lt(this.compositeCtx))}this.ctx.save(),vb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Lt(this.ctx)}executeOperatorList(e,n,r,i,o){var v;const a=e.argsArray,s=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const u=c-l>dN&&typeof r=="function",h=u?Date.now()+Bxe:0;let f=0;const p=this.commonObjs,m=this.objs;let g,y;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!o||o(l))if(g=s[l],y=a[l]??null,g!==sp.dependency)y===null?this[g](l):this[g](l,...y);else for(const w of y){(v=this.dependencyTracker)==null||v.recordNamedData(w,l);const x=w.startsWith("g_")?p:m;if(!x.has(w))return x.get(w,r),l}if(l++,l===c)return l;if(u&&++f>dN){if(Date.now()>h)return r(),l;f=0}}}endDrawing(){k(this,wo,SC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,wo,EC).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let o=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),s=r,l=i,c="prescale1",u,h;for(;o>2&&s>1||a>2&&l>1;){let f=s,p=l;o>2&&s>1&&(f=s>=16384?Math.floor(s/2)-1||1:Math.ceil(s/2),o/=s/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),u=this.cachedCanvases.getCanvas(c,f,p),h=u.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,s,l,0,0,f,p),e=u.canvas,s=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:s,paintHeight:l}}_createMaskCanvas(e,n){var M,R;const r=this.ctx,{width:i,height:o}=n,a=this.current.fillColor,s=this.current.patternFill,l=Lt(r);let c,u,h,f;if((n.bitmap||n.data)&&n.count>1){const N=n.bitmap||n.data.buffer;u=JSON.stringify(s?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(N),c||(c=new Map,this._cachedBitmapsMap.set(N,c));const L=c.get(u);if(L&&!s){const F=Math.round(Math.min(l[0],l[2])+l[4]),z=Math.round(Math.min(l[1],l[3])+l[5]);return(M=this.dependencyTracker)==null||M.recordDependencies(e,xi.transformAndFill),{canvas:L,offsetX:F,offsetY:z}}h=L}h||(f=this.cachedCanvases.getCanvas("maskCanvas",i,o),mN(f.context,n));let p=he.transform(l,[1/i,0,0,-1/o,0,0]);p=he.transform(p,[1,0,0,1,0,-o]);const m=zh.slice();he.axialAlignedBoundingBox([0,0,i,o],p,m);const[g,y,v,w]=m,x=Math.round(v-g)||1,E=Math.round(w-y)||1,A=this.cachedCanvases.getCanvas("fillCanvas",x,E),S=A.context,_=g,O=y;S.translate(-_,-O),S.transform(...p),h||(h=this._scaleImage(f.canvas,Co(S)),h=h.img,c&&s&&c.set(u,h)),S.imageSmoothingEnabled=gN(Lt(S),n.interpolate),yb(S,h,0,0,h.width,h.height,0,0,i,o),S.globalCompositeOperation="source-in";const I=he.transform(Co(S),[1,0,0,1,-_,-O]);return S.fillStyle=s?a.getPattern(r,this,I,zn.FILL,e):a,S.fillRect(0,0,i,o),c&&!s&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,A.canvas)),(R=this.dependencyTracker)==null||R.recordDependencies(e,xi.transformAndFill),{canvas:A.canvas,offsetX:Math.round(_),offsetY:Math.round(O)}}setLineWidth(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=Hxe[n]}setLineJoin(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Vxe[n]}setMiterLimit(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){var o;(o=this.dependencyTracker)==null||o.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var r,i,o,a,s;for(const[l,c]of n)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(o=this.dependencyTracker)==null||o.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(s=this.dependencyTracker)==null||s.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=o.context;a.setTransform(this.suspendedCtx.getTransform()),Qp(this.suspendedCtx,a),zxe(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Qp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const o=i[0],a=i[1],s=i[2]-o,l=i[3]-a;s===0||l===0||(this.genericComposeSMask(n.context,r,s,l,n.subtype,n.backdrop,n.transferMap,o,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,o,a,s,l,c,u,h){let f=e.canvas,p=l-u,m=c-h;if(a)if(p<0||m<0||p+r>f.width||m+i>f.height){const y=this.cachedCanvases.getCanvas("maskExtension",r,i),v=y.context;v.drawImage(f,-p,-m),v.globalCompositeOperation="destination-atop",v.fillStyle=a,v.fillRect(0,0,r,i),v.globalCompositeOperation="source-over",f=y.canvas,p=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(p,m,r,i),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,m,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),o==="Alpha"&&s?n.filter=this.filterFactory.addAlphaFilter(s):o==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(s));const g=new Path2D;g.rect(l,c,r,i),n.clip(g),n.globalCompositeOperation="destination-in",n.drawImage(f,p,m,r,i,l,c,r,i),n.restore()}save(e){var r;this.inSMaskMode&&Qp(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Qp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,o,a,s){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,o,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[o]=r;if(!i){o||(o=r[0]=new Path2D),this[n](e,o);return}if(this.dependencyTracker!==null){const a=n===sp.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}if(!(o instanceof Path2D)){const a=r[0]=new Path2D;for(let s=0,l=o.length;s<l;)switch(o[s++]){case hb.moveTo:a.moveTo(o[s++],o[s++]);break;case hb.lineTo:a.lineTo(o[s++],o[s++]);break;case hb.curveTo:a.bezierCurveTo(o[s++],o[s++],o[s++],o[s++],o[s++],o[s++]);break;case hb.closePath:a.closePath();break;default:Oe(`Unrecognized drawing path operator: ${o[s-1]}`);break}o=a}he.axialAlignedBoundingBox(i,Lt(this.ctx),this.current.minMax),this[n](e,o),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){var a;const i=this.ctx,o=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&(o!=null&&o.getPattern)){const s=o.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=o.getPattern(i,this,Co(i),zn.STROKE,e),s){const l=new Path2D;l.addPath(n,i.getTransform().invertSelf().multiplySelf(s)),n=l}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,xi.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(zn.STROKE,Lt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){var c,u,h;const i=this.ctx,o=this.current.fillColor,a=this.current.patternFill;let s=!1;if(a){const f=o.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=o.getPattern(i,this,Co(i),zn.FILL,e),f){const p=new Path2D;p.addPath(n,i.getTransform().invertSelf().multiplySelf(f)),n=p}s=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),(u=this.dependencyTracker)==null||u.recordDependencies(e,xi.fill),s&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var r;this.ctx.fill(n),(r=this.dependencyTracker)==null||r.recordDependencies(e,xi.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=Wxe}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=yN}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,o=r.getTransform().invertSelf();for(const{transform:a,x:s,y:l,fontSize:c,path:u}of n)u&&i.addPath(u,new DOMMatrix(a).preMultiplySelf(o).translate(s,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),o=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(o.fontMatrix=i.fontMatrix||KE,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Oe("Invalid font matrix for font "+n),r<0?(r=-r,o.fontDirection=-1):o.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",s=((f=i.systemFontInfo)==null?void 0:f.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=r;r<uN?u=uN:r>hN&&(u=hN),this.current.fontSizeScale=r/u,this.ctx.font=`${c} ${l} ${u}px ${s}`}setTextRenderingMode(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,r,i,o,a){var v,w,x,E;const s=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,f=u&Nn.FILL_STROKE_MASK,p=!!(u&Nn.ADD_TO_PATH_FLAG),m=l.patternFill&&!c.missingFile,g=l.patternStroke&&!c.missingFile;let y;if((c.disableFontFace||p||m||g)&&!c.missingFile&&(y=c.getPathGenerator(this.commonObjs,n)),y&&(c.disableFontFace||m||g)){s.save(),s.translate(r,i),s.scale(h,-h),(v=this.dependencyTracker)==null||v.recordCharacterBBox(e,s,c);let A;if(f===Nn.FILL||f===Nn.FILL_STROKE)if(o){A=s.getTransform(),s.setTransform(...o);const S=k(this,wo,CC).call(this,y,A,o);s.fill(S)}else s.fill(y);if(f===Nn.STROKE||f===Nn.FILL_STROKE)if(a){A||(A=s.getTransform()),s.setTransform(...a);const{a:S,b:_,c:O,d:I}=A,M=he.inverseTransform(a),R=he.transform([S,_,O,I,0,0],M);he.singularValueDecompose2dScale(R,ai),s.lineWidth*=Math.max(ai[0],ai[1])/h,s.stroke(k(this,wo,CC).call(this,y,A,a))}else s.lineWidth/=h,s.stroke(y);s.restore()}else(f===Nn.FILL||f===Nn.FILL_STROKE)&&(s.fillText(n,r,i),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,s,c,h,r,i,()=>s.measureText(n))),(f===Nn.STROKE||f===Nn.FILL_STROKE)&&(this.dependencyTracker&&((x=this.dependencyTracker)==null||x.recordCharacterBBox(e,s,c,h,r,i,()=>s.measureText(n)).recordDependencies(e,xi.stroke)),s.strokeText(n,r,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Lt(s),x:r,y:i,fontSize:h,path:y}),(E=this.dependencyTracker)==null||E.recordCharacterBBox(e,s,c,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Le(this,"isFontSubpixelAAEnabled",r)}showText(e,n){var O,I,M,R;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,xi.showText).resetBBox(e),this.current.textRenderingMode&Nn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),(O=this.dependencyTracker)==null||O.recordShowTextOperation(e);return}const o=r.fontSize;if(o===0){(I=this.dependencyTracker)==null||I.recordOperation(e);return}const a=this.ctx,s=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,u=r.fontDirection,h=r.textHScale*u,f=n.length,p=i.vertical,m=p?1:-1,g=i.defaultVMetrics,y=o*r.fontMatrix[0],v=r.textRenderingMode===Nn.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),u>0?a.scale(h,-1):a.scale(h,1);let w,x;if(r.patternFill){a.save();const N=r.fillColor.getPattern(a,this,Co(a),zn.FILL,e);w=Lt(a),a.restore(),a.fillStyle=N}if(r.patternStroke){a.save();const N=r.strokeColor.getPattern(a,this,Co(a),zn.STROKE,e);x=Lt(a),a.restore(),a.strokeStyle=N}let E=r.lineWidth;const A=r.textMatrixScale;if(A===0||E===0){const N=r.textRenderingMode&Nn.FILL_STROKE_MASK;(N===Nn.STROKE||N===Nn.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=A;if(s!==1&&(a.scale(s,s),E/=s),a.lineWidth=E,i.isInvalidPDFjsFont){const N=[];let L=0;for(const z of n)N.push(z.unicode),L+=z.width;const F=N.join("");if(a.fillText(F,0,0),this.dependencyTracker!==null){const z=a.measureText(F);this.dependencyTracker.recordBBox(e,this.ctx,-z.actualBoundingBoxLeft,z.actualBoundingBoxRight,-z.actualBoundingBoxAscent,z.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=L*y*h,a.restore(),this.compose();return}let S=0,_;for(_=0;_<f;++_){const N=n[_];if(typeof N=="number"){S+=m*N*o/1e3;continue}let L=!1;const F=(N.isSpace?c:0)+l,z=N.fontChar,$=N.accent;let U,H,W=N.width;if(p){const q=N.vmetric||g,D=-(N.vmetric?q[1]:W*.5)*y,le=q[2]*y;W=q?-q[0]:W,U=D/s,H=(S+le)/s}else U=S/s,H=0;let j;if(i.remeasure&&W>0){j=a.measureText(z);const q=j.width*1e3/o*s;if(W<q&&this.isFontSubpixelAAEnabled){const D=W/q;L=!0,a.save(),a.scale(D,1),U/=D}else W!==q&&(U+=(W-q)/2e3*o/s)}if(this.contentVisible&&(N.isInFont||i.missingFile)){if(v&&!$)a.fillText(z,U,H),(M=this.dependencyTracker)==null||M.recordCharacterBBox(e,a,j?{bbox:null}:i,o/s,U,H,()=>j??a.measureText(z));else if(this.paintChar(e,z,U,H,w,x),$){const q=U+o*$.offset.x/s,D=H-o*$.offset.y/s;this.paintChar(e,$.fontChar,q,D,w,x)}}const X=p?W*y-F*u:W*y+F*u;S+=X,L&&a.restore()}p?r.y-=S:r.x+=S*h,a.restore(),this.compose(),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,o=i.font,a=i.fontSize,s=i.fontDirection,l=o.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,h=i.textHScale*s,f=i.fontMatrix||KE,p=n.length,m=i.textRenderingMode===Nn.INVISIBLE;let g,y,v,w;if(m||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,s);const x=this.dependencyTracker;for(this.dependencyTracker=x?new k0(x,e):null,g=0;g<p;++g){if(y=n[g],typeof y=="number"){w=l*y*a/1e3,this.ctx.translate(w,0),i.x+=w*h;continue}const E=(y.isSpace?u:0)+c,A=o.charProcOperatorList[y.operatorListId];A?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...f),this.executeOperatorList(A),this.restore()):Oe(`Type3 character "${y.operatorListId}" is not available.`);const S=[y.width,0];he.applyTransform(S,f),v=S[0]*a+E,r.translate(v,0),i.x+=v*h}r.restore(),x&&(this.dependencyTracker=x)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,o,a,s){var c;const l=new Path2D;l.rect(i,o,a-i,s-o),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,o,s).recordClipBox(e,this.ctx,i,a,o,s),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||Lt(this.ctx),o={createCanvasGraphics:(a,s)=>new qT(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new k0(this.dependencyTracker,s,!0):null)};r=new AC(n,this.ctx,o,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=$xe(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,Co(r),zn.SHADING,e);const o=Co(r);if(o){const{width:s,height:l}=r.canvas,c=zh.slice();he.axialAlignedBoundingBox([0,0,s,l],o,c);const[u,h,f,p]=c;this.ctx.fillRect(u,h,f-u,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,xi.transform).recordDependencies(e,xi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){vt("Should not call beginInlineImage")}beginImageData(){vt("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=Lt(this.ctx),r)){he.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[o,a,s,l]=r,c=new Path2D;c.rect(o,a,s-o,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,o,s,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var x;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||x1("TODO: Support non-isolated groups."),n.knockout&&Oe("Knockout groups not supported.");const i=Lt(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let o=zh.slice();he.axialAlignedBoundingBox(n.bbox,Lt(r),o);const a=[0,0,r.canvas.width,r.canvas.height];o=he.intersect(o,a)||[0,0,0,0];const s=Math.floor(o[0]),l=Math.floor(o[1]),c=Math.max(Math.ceil(o[2])-s,1),u=Math.max(Math.ceil(o[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,c,u),p=f.context;p.translate(-s,-l),p.transform(...i);let m=new Path2D;const[g,y,v,w]=n.bbox;if(m.rect(g,y,v-g,w-y),n.matrix){const E=new Path2D;E.addPath(m,new DOMMatrix(n.matrix)),m=E}p.clip(m),n.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:s,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(s,l),r.save()),Qp(r,p),this.ctx=p,(x=this.dependencyTracker)==null||x.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){var o;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(o=this.dependencyTracker)==null||o.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Lt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const s=zh.slice();he.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,s),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,r,i,o,a){if(k(this,wo,SC).call(this),vb(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const s=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=s,r[3]=l,he.singularValueDecompose2dScale(Lt(this.ctx),ai);const{viewportScale:c}=this,u=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(n,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(ai[0],0,0,-ai[1],0,l*ai[1]),vb(this.ctx)}else{vb(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],s,l),this.ctx.clip(c)}}this.current=new fN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...o)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),k(this,wo,EC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var s;if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,o=this._createMaskCanvas(e,n),a=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,o.offsetX,o.offsetY),(s=this.dependencyTracker)==null||s.resetBBox(e).recordBBox(e,this.ctx,o.offsetX,o.offsetX+a.width,o.offsetY,o.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,o=0,a,s){var h,f,p;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=Lt(l);l.transform(r,i,o,a,0,0);const u=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let m=0,g=s.length;m<g;m+=2){const y=he.transform(c,[r,i,o,a,s[m],s[m+1]]);l.drawImage(u.canvas,y[4],y[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,y[4],y[4]+u.canvas.width,y[5],y[5]+u.canvas.height)}l.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var a,s,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,o=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,xi.transformAndFill);for(const c of n){const{data:u,width:h,height:f,transform:p}=c,m=this.cachedCanvases.getCanvas("maskCanvas",h,f),g=m.context;g.save();const y=this.getObject(e,u,c);mN(g,y),g.globalCompositeOperation="source-in",g.fillStyle=o?i.getPattern(g,this,Co(r),zn.FILL,e):i,g.fillRect(0,0,h,f),g.restore(),r.save(),r.transform(...p),r.scale(1,-1),yb(r,m.canvas,0,0,h,f,0,-1,1,1),(s=this.dependencyTracker)==null||s.recordBBox(e,r,0,h,0,f),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){Oe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,o){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){Oe("Dependent image isn't ready yet");return}const s=a.width,l=a.height,c=[];for(let u=0,h=o.length;u<h;u+=2)c.push({transform:[r,0,0,i,o[u],o[u+1]],x:0,y:0,w:s,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,o=this.cachedCanvases.getCanvas("inlineImage",r,i),a=o.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",o.canvas}paintInlineImageXObject(e,n){var c;if(!this.contentVisible)return;const r=n.width,i=n.height,o=this.ctx;this.save(e);const{filter:a}=o;a!=="none"&&a!==""&&(o.filter="none"),o.scale(1/r,-1/i);let s;if(n.bitmap)s=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)s=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;pN(h,n),s=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(s,Co(o));o.imageSmoothingEnabled=gN(Lt(o),n.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,o,0,r,-i,0).recordDependencies(e,xi.imageXObject).recordOperation(e),yb(o,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){var a,s,l;if(!this.contentVisible)return;const i=this.ctx;let o;if(n.bitmap)o=n.bitmap;else{const c=n.width,u=n.height,f=this.cachedCanvases.getCanvas("inlineImage",c,u).context;pN(f,n),o=this.applyTransferMapsToCanvas(f)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),yb(i,o,c.x,c.y,c.w,c.h,0,-1,1,1),(s=this.dependencyTracker)==null||s.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,xi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){var a,s;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const o=this.ctx;this.pendingClip?(i||(this.pendingClip===yN?o.clip(n,"evenodd"):o.clip(n)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(s=this.dependencyTracker)==null||s.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Lt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:o}=this.ctx.getTransform();let a,s;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(o);if(l===c)if(e===0)a=s=1/l;else{const u=l*e;a=s=u<1?1/u:1}else if(e===0)a=1/l,s=1/c;else{const u=l*e,h=c*e;a=u<1?1/u:1,s=h<1?1/h:1}}else{const l=Math.abs(n*o-r*i),c=Math.hypot(n,r),u=Math.hypot(i,o);if(e===0)a=u/l,s=c/l;else{const h=e*l;a=u>h?u/h:1,s=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[o,a]=this.getScaleForStroking();if(o===a){r.lineWidth=(i||1)*o,r.stroke(e);return}const s=r.getLineDash();n&&r.save(),r.scale(o,a),IA.a=1/o,IA.d=1/a;const l=new Path2D;if(l.addPath(e,IA),s.length>0){const c=Math.max(o,a);r.setLineDash(s.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};wo=new WeakSet,SC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},EC=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},CC=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let Zh=qT;for(const t in sp)Zh.prototype[t]!==void 0&&(Zh.prototype[sp[t]]=Zh.prototype[t]);var kd,Od,dy,Md,Bb;const Hh=class Hh{constructor(e){T(this,Md);T(this,kd);T(this,Od);T(this,dy);C(this,kd,e),C(this,Od,new DataView(d(this,kd))),C(this,dy,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const c of Hh.strings){const u=n.encode(e[c]);r[c]=u,i+=4+u.length}const o=new ArrayBuffer(i),a=new Uint8Array(o),s=new DataView(o);let l=0;for(const c of Hh.strings){const u=r[c],h=u.length;s.setUint32(l,h),a.set(u,l+4),l+=4+h}return We(l===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}get fontFamily(){return k(this,Md,Bb).call(this,0)}get fontWeight(){return k(this,Md,Bb).call(this,1)}get italicAngle(){return k(this,Md,Bb).call(this,2)}};kd=new WeakMap,Od=new WeakMap,dy=new WeakMap,Md=new WeakSet,Bb=function(e){We(e<Hh.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=d(this,Od).getUint32(n)+4;const r=d(this,Od).getUint32(n);return d(this,dy).decode(new Uint8Array(d(this,kd),n+4,r))},Q(Hh,"strings",["fontFamily","fontWeight","italicAngle"]);let O0=Hh;var al,zo,ru,iu,vm;const Vh=class Vh{constructor(e){T(this,iu);T(this,al);T(this,zo);T(this,ru);C(this,al,e),C(this,zo,new DataView(d(this,al))),C(this,ru,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const f of Vh.strings){const p=n.encode(e[f]);r[f]=p,i+=4+p.length}i+=4;let o,a,s=1+i;e.style&&(o=n.encode(e.style.style),a=n.encode(e.style.weight),s+=4+o.length+4+a.length);const l=new ArrayBuffer(s),c=new Uint8Array(l),u=new DataView(l);let h=0;u.setUint8(h++,e.guessFallback?1:0),u.setUint32(h,0),h+=4,i=0;for(const f of Vh.strings){const p=r[f],m=p.length;i+=4+m,u.setUint32(h,m),c.set(p,h+4),h+=4+m}return u.setUint32(h-i-4,i),e.style&&(u.setUint32(h,o.length),c.set(o,h+4),h+=4+o.length,u.setUint32(h,a.length),c.set(a,h+4),h+=4+a.length),We(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return d(this,zo).getUint8(0)!==0}get css(){return k(this,iu,vm).call(this,0)}get loadedName(){return k(this,iu,vm).call(this,1)}get baseFontName(){return k(this,iu,vm).call(this,2)}get src(){return k(this,iu,vm).call(this,3)}get style(){let e=1;e+=4+d(this,zo).getUint32(e);const n=d(this,zo).getUint32(e),r=d(this,ru).decode(new Uint8Array(d(this,al),e+4,n));e+=4+n;const i=d(this,zo).getUint32(e),o=d(this,ru).decode(new Uint8Array(d(this,al),e+4,i));return{style:r,weight:o}}};al=new WeakMap,zo=new WeakMap,ru=new WeakMap,iu=new WeakSet,vm=function(e){We(e<Vh.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=d(this,zo).getUint32(n)+4;const r=d(this,zo).getUint32(n);return d(this,ru).decode(new Uint8Array(d(this,al),n+4,r))},Q(Vh,"strings",["css","loadedName","baseFontName","src"]);let M0=Vh;var Rd,Id,Nd,jd,Vr,Uo,fy,ct,Kt,Xi,zb,bm;const Re=class Re{constructor({data:e,extra:n}){T(this,Kt);T(this,Uo);T(this,fy);T(this,ct);C(this,Uo,e),C(this,fy,new TextDecoder),C(this,ct,new DataView(d(this,Uo))),n&&Object.assign(this,n)}get black(){return k(this,Kt,Xi).call(this,0)}get bold(){return k(this,Kt,Xi).call(this,1)}get disableFontFace(){return k(this,Kt,Xi).call(this,2)}get fontExtraProperties(){return k(this,Kt,Xi).call(this,3)}get isInvalidPDFjsFont(){return k(this,Kt,Xi).call(this,4)}get isType3Font(){return k(this,Kt,Xi).call(this,5)}get italic(){return k(this,Kt,Xi).call(this,6)}get missingFile(){return k(this,Kt,Xi).call(this,7)}get remeasure(){return k(this,Kt,Xi).call(this,8)}get vertical(){return k(this,Kt,Xi).call(this,9)}get ascent(){return k(this,Kt,zb).call(this,0)}get defaultWidth(){return k(this,Kt,zb).call(this,1)}get descent(){return k(this,Kt,zb).call(this,2)}get bbox(){let e=d(Re,Id);if(d(this,ct).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(d(this,ct).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=d(Re,Nd);if(d(this,ct).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(d(this,ct).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=d(Re,jd);if(d(this,ct).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(d(this,ct).getInt16(e,!0)),e+=2;return r}get fallbackName(){return k(this,Kt,bm).call(this,0)}get loadedName(){return k(this,Kt,bm).call(this,1)}get mimetype(){return k(this,Kt,bm).call(this,2)}get name(){return k(this,Kt,bm).call(this,3)}get data(){let e=d(Re,Vr);const n=d(this,ct).getUint32(e);e+=4+n;const r=d(this,ct).getUint32(e);e+=4+r;const i=d(this,ct).getUint32(e);e+=4+i;const o=d(this,ct).getUint32(e);if(o!==0)return new Uint8Array(d(this,Uo),e+4,o)}clearData(){let e=d(Re,Vr);const n=d(this,ct).getUint32(e);e+=4+n;const r=d(this,ct).getUint32(e);e+=4+r;const i=d(this,ct).getUint32(e);e+=4+i;const o=d(this,ct).getUint32(e);new Uint8Array(d(this,Uo),e+4,o).fill(0),d(this,ct).setUint32(e,0)}get cssFontInfo(){let e=d(Re,Vr);const n=d(this,ct).getUint32(e);e+=4+n;const r=d(this,ct).getUint32(e);e+=4+r;const i=d(this,ct).getUint32(e);if(i===0)return null;const o=new Uint8Array(i);return o.set(new Uint8Array(d(this,Uo),e+4,i)),new O0(o.buffer)}get systemFontInfo(){let e=d(Re,Vr);const n=d(this,ct).getUint32(e);e+=4+n;const r=d(this,ct).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(d(this,Uo),e+4,r)),new M0(i.buffer)}static write(e){const n=e.systemFontInfo?M0.write(e.systemFontInfo):null,r=e.cssFontInfo?O0.write(e.cssFontInfo):null,i=new TextEncoder,o={};let a=0;for(const g of Re.strings)o[g]=i.encode(e[g]),a+=4+o[g].length;const s=d(Re,Vr)+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(s),c=new Uint8Array(l),u=new DataView(l);let h=0;const f=Re.bools.length;let p=0,m=0;for(let g=0;g<f;g++){const y=e[Re.bools[g]];p|=(y===void 0?0:y?2:1)<<m,m+=2,(m===8||g===f-1)&&(u.setUint8(h++,p),p=0,m=0)}We(h===d(Re,Rd),"FontInfo.write: Boolean properties offset mismatch");for(const g of Re.numbers)u.setFloat64(h,e[g]),h+=8;if(We(h===d(Re,Id),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(h++,4);for(const g of e.bbox)u.setInt16(h,g,!0),h+=2}else u.setUint8(h++,0),h+=2*4;if(We(h===d(Re,Nd),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(h++,6);for(const g of e.fontMatrix)u.setFloat64(h,g,!0),h+=8}else u.setUint8(h++,0),h+=8*6;if(We(h===d(Re,jd),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(h++,1);for(const g of e.defaultVMetrics)u.setInt16(h,g,!0),h+=2}else u.setUint8(h++,0),h+=3*2;We(h===d(Re,Vr),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(d(Re,Vr),0),h+=4;for(const g of Re.strings){const y=o[g],v=y.length;u.setUint32(h,v),c.set(y,h+4),h+=4+v}if(u.setUint32(d(Re,Vr),h-d(Re,Vr)-4),!n)u.setUint32(h,0),h+=4;else{const g=n.byteLength;u.setUint32(h,g),We(h+4+g<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),h+4),h+=4+g}if(!r)u.setUint32(h,0),h+=4;else{const g=r.byteLength;u.setUint32(h,g),We(h+4+g<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),h+4),h+=4+g}return e.data===void 0?(u.setUint32(h,0),h+=4):(u.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),We(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};Rd=new WeakMap,Id=new WeakMap,Nd=new WeakMap,jd=new WeakMap,Vr=new WeakMap,Uo=new WeakMap,fy=new WeakMap,ct=new WeakMap,Kt=new WeakSet,Xi=function(e){We(e<Re.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=d(this,ct).getUint8(n)>>r&3;return i===0?void 0:i===2},zb=function(e){return We(e<Re.numbers.length,"Invalid number index"),d(this,ct).getFloat64(d(Re,Rd)+e*8)},bm=function(e){We(e<Re.strings.length,"Invalid string index");let n=d(Re,Vr)+4;for(let o=0;o<e;o++)n+=d(this,ct).getUint32(n)+4;const r=d(this,ct).getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(d(this,Uo),n+4,r)),d(this,fy).decode(i)},Q(Re,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Q(Re,"numbers",["ascent","defaultWidth","descent"]),Q(Re,"strings",["fallbackName","loadedName","mimetype","name"]),T(Re,Rd,Math.ceil(Re.bools.length*2/8)),T(Re,Id,d(Re,Rd)+Re.numbers.length*8),T(Re,Nd,d(Re,Id)+1+2*4),T(Re,jd,d(Re,Nd)+1+8*6),T(Re,Vr,d(Re,jd)+1+2*3);let _C=Re;var py,my;class Di{static get workerPort(){return d(this,py)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");C(this,py,e)}static get workerSrc(){return d(this,my)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");C(this,my,e)}}py=new WeakMap,my=new WeakMap,T(Di,py,null),T(Di,my,"");var Dd,gy;class Gxe{constructor({parsedData:e,rawData:n}){T(this,Dd);T(this,gy);C(this,Dd,e),C(this,gy,n)}getRaw(){return d(this,gy)}get(e){return d(this,Dd).get(e)??null}[Symbol.iterator](){return d(this,Dd).entries()}}Dd=new WeakMap,gy=new WeakMap;const Rh=Symbol("INTERNAL");var yy,vy,by,Ld;class qxe{constructor(e,{name:n,intent:r,usage:i,rbGroups:o}){T(this,yy,!1);T(this,vy,!1);T(this,by,!1);T(this,Ld,!0);C(this,yy,!!(e&ii.DISPLAY)),C(this,vy,!!(e&ii.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=o}get visible(){if(d(this,by))return d(this,Ld);if(!d(this,Ld))return!1;const{print:e,view:n}=this.usage;return d(this,yy)?(n==null?void 0:n.viewState)!=="OFF":d(this,vy)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Rh&&vt("Internal method `_setVisible` called."),C(this,by,r),C(this,Ld,n)}}yy=new WeakMap,vy=new WeakMap,by=new WeakMap,Ld=new WeakMap;var sl,ut,$d,Fd,xy,PC;class Kxe{constructor(e,n=ii.DISPLAY){T(this,xy);T(this,sl,null);T(this,ut,new Map);T(this,$d,null);T(this,Fd,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,C(this,Fd,e.order);for(const r of e.groups)d(this,ut).set(r.id,new qxe(n,r));if(e.baseState==="OFF")for(const r of d(this,ut).values())r._setVisible(Rh,!1);for(const r of e.on)d(this,ut).get(r)._setVisible(Rh,!0);for(const r of e.off)d(this,ut).get(r)._setVisible(Rh,!1);C(this,$d,this.getHash())}}isVisible(e){if(d(this,ut).size===0)return!0;if(!e)return x1("Optional content group not defined."),!0;if(e.type==="OCG")return d(this,ut).has(e.id)?d(this,ut).get(e.id).visible:(Oe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,xy,PC).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!d(this,ut).has(n))return Oe(`Optional content group not found: ${n}`),!0;if(d(this,ut).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!d(this,ut).has(n))return Oe(`Optional content group not found: ${n}`),!0;if(!d(this,ut).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!d(this,ut).has(n))return Oe(`Optional content group not found: ${n}`),!0;if(!d(this,ut).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!d(this,ut).has(n))return Oe(`Optional content group not found: ${n}`),!0;if(d(this,ut).get(n).visible)return!1}return!0}return Oe(`Unknown optional content policy ${e.policy}.`),!0}return Oe(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var o;const i=d(this,ut).get(e);if(!i){Oe(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const s of a)s!==e&&((o=d(this,ut).get(s))==null||o._setVisible(Rh,!1,!0));i._setVisible(Rh,!!n,!0),C(this,sl,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const o=d(this,ut).get(i);if(o)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!o.visible,n);break}}C(this,sl,null)}get hasInitialVisibility(){return d(this,$d)===null||this.getHash()===d(this,$d)}getOrder(){return d(this,ut).size?d(this,Fd)?d(this,Fd).slice():[...d(this,ut).keys()]:null}getGroup(e){return d(this,ut).get(e)||null}getHash(){if(d(this,sl)!==null)return d(this,sl);const e=new j3;for(const[n,r]of d(this,ut))e.update(`${n}:${r.visible}`);return C(this,sl,e.hexdigest())}[Symbol.iterator](){return d(this,ut).entries()}}sl=new WeakMap,ut=new WeakMap,$d=new WeakMap,Fd=new WeakMap,xy=new WeakSet,PC=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const o=e[i];let a;if(Array.isArray(o))a=k(this,xy,PC).call(this,o);else if(d(this,ut).has(o))a=d(this,ut).get(o).visible;else return Oe(`Optional content group not found: ${o}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class Xxe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){We(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:o,progressiveDone:a,contentDispositionFilename:s}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=s,(o==null?void 0:o.length)>0){const l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(r),!0)});We(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,o;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(o=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||o.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){We(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Yxe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Jxe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Yxe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=A1(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Jxe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Zxe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let u=s(n);return u=unescape(u),u=l(u),u=c(u),o(u)}if(n=a(t),n){const u=c(n);return o(u)}if(n=r("filename","i").exec(t),n){n=n[1];let u=s(n);return u=c(u),o(u)}function r(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(u,{fatal:!0}),p=Iv(h);h=f.decode(p),e=!1}catch{}}return h}function o(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,g,y,v]=f;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[y,v]}const m=[];for(let g=0;g<h.length&&g in h;++g){let[y,v]=h[g];v=s(v),y&&(v=unescape(v),g===0&&(v=l(v))),m.push(v)}return m.join("")}function s(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const f=u.slice(0,h),m=u.slice(h+1).replace(/^[^']*'/,"");return i(f,m)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,y){return String.fromCharCode(parseInt(y,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function K3(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function S1(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function X3({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t.get("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Y3(t){const e=t.get("Content-Disposition");if(e){let n=Zxe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(A1(n))return n}return null}function Lv(t,e){return new _g(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function J3(t){return t===200||t===206}function Z3(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Q3(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Oe(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Qxe{constructor(e){Q(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=K3(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return We(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new e0e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new t0e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class e0e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,Z3(r,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=S1(o.url),!J3(o.status))throw Lv(o.status,i);this._reader=o.body.getReader(),this._headersCapability.resolve();const a=o.headers,{allowRangeRequests:s,suggestedLength:l}=X3({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=l||this._contentLength,this._filename=Y3(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new As("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Q3(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class t0e{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,Z3(o,this._withCredentials,this._abortController)).then(s=>{const l=S1(s.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!J3(s.status))throw Lv(s.status,a);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:Q3(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const NA=200,jA=206;function n0e(t){const e=t.response;return typeof e!="string"?e:Iv(e).buffer}class r0e{constructor({url:e,httpHeaders:n,withCredentials:r}){Q(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=K3(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[o,a]of this.headers)n.setRequestHeader(o,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=jA):i.expectedStatus=NA,n.responseType="arraybuffer",We(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const o=i.status||NA;if(!(o===NA&&r.expectedStatus===jA)&&o!==r.expectedStatus){r.onError(i.status);return}const s=n0e(i);if(o===jA){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:s}):(Oe('Missing or invalid "Content-Range" header.'),r.onError(0))}else s?r.onDone({begin:0,chunk:s}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class i0e{constructor(e){this._source=e,this._manager=new r0e(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return We(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o0e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new a0e(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class o0e{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=S1(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(s=>{const[l,...c]=s.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:a}=X3({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Y3(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Lv(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a0e{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=S1((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Lv(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const s0e=/^[a-z][a-z0-9\-+.]+:/i;function l0e(t){if(s0e.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class c0e{constructor(e){this.source=e,this.url=l0e(e.url),We(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return We(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new u0e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new h0e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class u0e{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Lv(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new As("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h0e{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const em=Symbol("INITIAL_DATA");var Wr,wy,TC;class ez{constructor(){T(this,wy);T(this,Wr,Object.create(null))}get(e,n=null){if(n){const i=k(this,wy,TC).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=d(this,Wr)[e];if(!r||r.data===em)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=d(this,Wr)[e];return!!n&&n.data!==em}delete(e){const n=d(this,Wr)[e];return!n||n.data===em?!1:(delete d(this,Wr)[e],!0)}resolve(e,n=null){const r=k(this,wy,TC).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in d(this,Wr)){const{data:r}=d(this,Wr)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}C(this,Wr,Object.create(null))}*[Symbol.iterator](){for(const e in d(this,Wr)){const{data:n}=d(this,Wr)[e];n!==em&&(yield[e,n])}}}Wr=new WeakMap,wy=new WeakSet,TC=function(e){var n;return(n=d(this,Wr))[e]||(n[e]={...Promise.withResolvers(),data:em})};const d0e=1e5,vN=30;var Cj,ll,_r,Ay,Sy,ou,Ua,Ey,Cy,au,Bd,zd,cl,Ud,_y,Hd,su,Py,Ty,qt,Vd,lu,ky,ul,Wd,Cs,tz,nz,kC,fi,Ub,OC,rz,iz;let Og=(qt=class{constructor({textContentSource:e,container:n,viewport:r}){T(this,Cs);T(this,ll,Promise.withResolvers());T(this,_r,null);T(this,Ay,!1);T(this,Sy,!!((Cj=globalThis.FontInspector)!=null&&Cj.enabled));T(this,ou,null);T(this,Ua,null);T(this,Ey,0);T(this,Cy,0);T(this,au,null);T(this,Bd,null);T(this,zd,0);T(this,cl,0);T(this,Ud,Object.create(null));T(this,_y,[]);T(this,Hd,null);T(this,su,[]);T(this,Py,new WeakMap);T(this,Ty,null);var l;if(e instanceof ReadableStream)C(this,Hd,e);else if(typeof e=="object")C(this,Hd,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,_r,C(this,Bd,n)),C(this,cl,r.scale*xo.pixelRatio),C(this,zd,r.rotation),C(this,Ua,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:o,pageX:a,pageY:s}=r.rawDims;C(this,Ty,[1,0,0,-1,-a,s+o]),C(this,Cy,i),C(this,Ey,o),k(l=qt,fi,rz).call(l),Gl(n,r),d(this,ll).promise.finally(()=>{d(qt,Wd).delete(this),C(this,Ua,null),C(this,Ud,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Mn.platform;return Le(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{d(this,au).read().then(({value:n,done:r})=>{if(r){d(this,ll).resolve();return}d(this,ou)??C(this,ou,n.lang),Object.assign(d(this,Ud),n.styles),k(this,Cs,tz).call(this,n.items),e()},d(this,ll).reject)};return C(this,au,d(this,Hd).getReader()),d(qt,Wd).add(this),e(),d(this,ll).promise}update({viewport:e,onBefore:n=null}){var o;const r=e.scale*xo.pixelRatio,i=e.rotation;if(i!==d(this,zd)&&(n==null||n(),C(this,zd,i),Gl(d(this,Bd),{rotation:i})),r!==d(this,cl)){n==null||n(),C(this,cl,r);const a={div:null,properties:null,ctx:k(o=qt,fi,Ub).call(o,d(this,ou))};for(const s of d(this,su))a.properties=d(this,Py).get(s),a.div=s,k(this,Cs,kC).call(this,a)}}cancel(){var n;const e=new As("TextLayer task cancelled.");(n=d(this,au))==null||n.cancel(e).catch(()=>{}),C(this,au,null),d(this,ll).reject(e)}get textDivs(){return d(this,su)}get textContentItemsStr(){return d(this,_y)}static cleanup(){if(!(d(this,Wd).size>0)){d(this,Vd).clear();for(const{canvas:e}of d(this,lu).values())e.remove();d(this,lu).clear()}}},ll=new WeakMap,_r=new WeakMap,Ay=new WeakMap,Sy=new WeakMap,ou=new WeakMap,Ua=new WeakMap,Ey=new WeakMap,Cy=new WeakMap,au=new WeakMap,Bd=new WeakMap,zd=new WeakMap,cl=new WeakMap,Ud=new WeakMap,_y=new WeakMap,Hd=new WeakMap,su=new WeakMap,Py=new WeakMap,Ty=new WeakMap,Vd=new WeakMap,lu=new WeakMap,ky=new WeakMap,ul=new WeakMap,Wd=new WeakMap,Cs=new WeakSet,tz=function(e){var i,o;if(d(this,Ay))return;(o=d(this,Ua)).ctx??(o.ctx=k(i=qt,fi,Ub).call(i,d(this,ou)));const n=d(this,su),r=d(this,_y);for(const a of e){if(n.length>d0e){Oe("Ignoring additional textDivs for performance reasons."),C(this,Ay,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const s=d(this,_r);C(this,_r,document.createElement("span")),d(this,_r).classList.add("markedContent"),a.id&&d(this,_r).setAttribute("id",`${a.id}`),s.append(d(this,_r))}else a.type==="endMarkedContent"&&C(this,_r,d(this,_r).parentNode);continue}r.push(a.str),k(this,Cs,nz).call(this,a)}},nz=function(e){var g;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};d(this,su).push(n);const i=he.transform(d(this,Ty),e.transform);let o=Math.atan2(i[1],i[0]);const a=d(this,Ud)[e.fontName];a.vertical&&(o+=Math.PI/2);let s=d(this,Sy)&&a.fontSubstitution||a.fontFamily;s=qt.fontFamilyMap.get(s)||s;const l=Math.hypot(i[2],i[3]),c=l*k(g=qt,fi,iz).call(g,s,a,d(this,ou));let u,h;o===0?(u=i[4],h=i[5]-c):(u=i[4]+c*Math.sin(o),h=i[5]-c*Math.cos(o));const f="calc(var(--total-scale-factor) *",p=n.style;d(this,_r)===d(this,Bd)?(p.left=`${(100*u/d(this,Cy)).toFixed(2)}%`,p.top=`${(100*h/d(this,Ey)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(d(qt,ul)*l).toFixed(2)}px)`,p.fontFamily=s,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,d(this,Sy)&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),o!==0&&(r.angle=o*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);y!==v&&Math.max(y,v)/Math.min(y,v)>1.5&&(m=!0)}if(m&&(r.canvasWidth=a.vertical?e.height:e.width),d(this,Py).set(n,r),d(this,Ua).div=n,d(this,Ua).properties=r,k(this,Cs,kC).call(this,d(this,Ua)),r.hasText&&d(this,_r).append(n),r.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),d(this,_r).append(y)}},kC=function(e){var s;const{div:n,properties:r,ctx:i}=e,{style:o}=n;let a="";if(d(qt,ul)>1&&(a=`scale(${1/d(qt,ul)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=o,{canvasWidth:c,fontSize:u}=r;k(s=qt,fi,OC).call(s,i,u*d(this,cl),l);const{width:h}=i.measureText(n.textContent);h>0&&(a=`scaleX(${c*d(this,cl)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(o.transform=a)},fi=new WeakSet,Ub=function(e=null){let n=d(this,lu).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,lu).set(e,n),d(this,ky).set(n,{size:0,family:""})}return n},OC=function(e,n,r){const i=d(this,ky).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},rz=function(){if(d(this,ul)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),C(this,ul,e.getBoundingClientRect().height),e.remove()},iz=function(e,n,r){const i=d(this,Vd).get(e);if(i)return i;const o=k(this,fi,Ub).call(this,r);o.canvas.width=o.canvas.height=vN,k(this,fi,OC).call(this,o,vN,e);const a=o.measureText(""),s=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let c=.8;return s?c=s/(s+l):(Mn.platform.isFirefox&&Oe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),d(this,Vd).set(e,c),c},T(qt,fi),T(qt,Vd,new Map),T(qt,lu,new Map),T(qt,ky,new WeakMap),T(qt,ul,null),T(qt,Wd,new Set),qt);const f0e=100;function vT(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new MC,{docId:n}=e,r=t.url?wxe(t.url):null,i=t.data?Axe(t.data):null,o=t.httpHeaders||null,a=t.withCredentials===!0,s=t.password??null,l=t.range instanceof bT?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let u=t.worker instanceof lp?t.worker:null;const h=t.verbosity,f=typeof t.docBaseUrl=="string"&&!jv(t.docBaseUrl)?t.docBaseUrl:null,p=fb(t.cMapUrl),m=t.cMapPacked!==!1,g=t.CMapReaderFactory||(ur?kxe:iN),y=fb(t.iccUrl),v=fb(t.standardFontDataUrl),w=t.StandardFontDataFactory||(ur?Oxe:oN),x=fb(t.wasmUrl),E=t.WasmFactory||(ur?Mxe:aN),A=t.stopAtErrors!==!0,S=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,_=t.isEvalSupported!==!1,O=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!ur,I=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!ur&&(Mn.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,R=typeof t.disableFontFace=="boolean"?t.disableFontFace:ur,N=t.fontExtraProperties===!0,L=t.enableXfa===!0,F=t.ownerDocument||globalThis.document,z=t.disableRange===!0,$=t.disableStream===!0,U=t.disableAutoFetch===!0,H=t.pdfBug===!0,W=t.CanvasFactory||(ur?Txe:Cxe),j=t.FilterFactory||(ur?Pxe:_xe),X=t.enableHWA===!0,q=t.useWasm!==!1,D=l?l.length:t.length??NaN,le=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!ur&&!R,ve=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(g===iN&&w===oN&&E===aN&&p&&v&&x&&sm(p,document.baseURI)&&sm(v,document.baseURI)&&sm(x,document.baseURI)),ye=null;nxe(h);const ie={canvasFactory:new W({ownerDocument:F,enableHWA:X}),filterFactory:new j({docId:n,ownerDocument:F}),cMapReaderFactory:ve?null:new g({baseUrl:p,isCompressed:m}),standardFontDataFactory:ve?null:new w({baseUrl:v}),wasmFactory:ve?null:new E({baseUrl:x})};u||(u=lp.create({verbosity:h,port:Di.workerPort}),e._worker=u);const pe={docId:n,apiVersion:"5.4.296",data:i,password:s,disableAutoFetch:U,rangeChunkSize:c,length:D,docBaseUrl:f,enableXfa:L,evaluatorOptions:{maxImageSize:S,disableFontFace:R,ignoreErrors:A,isEvalSupported:_,isOffscreenCanvasSupported:O,isImageDecoderSupported:I,canvasMaxAreaInBytes:M,fontExtraProperties:N,useSystemFonts:le,useWasm:q,useWorkerFetch:ve,cMapUrl:p,iccUrl:y,standardFontDataUrl:v,wasmUrl:x}},J={ownerDocument:F,pdfBug:H,styleElement:ye,loadingParams:{disableAutoFetch:U,enableXfa:L}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Z=u.messageHandler.sendWithPromise("GetDocRequest",pe,i?[i.buffer]:null);let re;if(l)re=new Xxe(l,{disableRange:z,disableStream:$});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const V=sm(r)?Qxe:ur?c0e:i0e;re=new V({url:r,length:D,httpHeaders:o,withCredentials:a,rangeChunkSize:c,disableRange:z,disableStream:$})}return Z.then(V=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const te=new fm(n,V,u.port),ae=new g0e(te,e,re,J,ie,X);e._transport=ae,te.send("Ready",null)})}).catch(e._capability.reject),e}var J0;const Z0=class Z0{constructor(){Q(this,"_capability",Promise.withResolvers());Q(this,"_transport",null);Q(this,"_worker",null);Q(this,"docId",`d${dn(Z0,J0)._++}`);Q(this,"destroyed",!1);Q(this,"onPassword",null);Q(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(o){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,o}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};J0=new WeakMap,T(Z0,J0,0);let MC=Z0;var cu,Oy,My,Ry,Iy,_j;let bT=(_j=class{constructor(e,n,r=!1,i=null){T(this,cu,Promise.withResolvers());T(this,Oy,[]);T(this,My,[]);T(this,Ry,[]);T(this,Iy,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){d(this,Iy).push(e)}addProgressListener(e){d(this,Ry).push(e)}addProgressiveReadListener(e){d(this,My).push(e)}addProgressiveDoneListener(e){d(this,Oy).push(e)}onDataRange(e,n){for(const r of d(this,Iy))r(e,n)}onDataProgress(e,n){d(this,cu).promise.then(()=>{for(const r of d(this,Ry))r(e,n)})}onDataProgressiveRead(e){d(this,cu).promise.then(()=>{for(const n of d(this,My))n(e)})}onDataProgressiveDone(){d(this,cu).promise.then(()=>{for(const e of d(this,Oy))e()})}transportReady(){d(this,cu).resolve()}requestDataRange(e,n){vt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},cu=new WeakMap,Oy=new WeakMap,My=new WeakMap,Ry=new WeakMap,Iy=new WeakMap,_j);class p0e{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Le(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ha,uu,xm;class m0e{constructor(e,n,r,i=!1){T(this,uu);T(this,Ha,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new JI:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new ez,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}={}){return new Nv({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Le(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:o=ea.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:m=null}){var I,M,R;(I=this._stats)==null||I.time("Overall");const g=this._transport.getRenderingIntent(i,o,h,f),{renderingIntent:y,cacheKey:v}=g;C(this,Ha,!1),l||(l=this._transport.getOptionalContentConfig(y));let w=this._intentStates.get(v);w||(w=Object.create(null),this._intentStates.set(v,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const x=!!(y&ii.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(M=this._stats)==null||M.time("Page Request"),this._pumpOperatorList(g));const E=!!(this._pdfBug&&((R=globalThis.StepperManager)!=null&&R.enabled)),A=!this.recordedBBoxes&&(p||E),S=N=>{var L,F;if(w.renderTasks.delete(_),A){const z=(L=_.gfx)==null?void 0:L.dependencyTracker.take();z&&(_.stepper&&_.stepper.setOperatorBBoxes(z,_.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=z))}x&&C(this,Ha,!0),k(this,uu,xm).call(this),N?(_.capability.reject(N),this._abortOperatorList({intentState:w,reason:N instanceof Error?N:new Error(N)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(F=globalThis.Stats)!=null&&F.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new RC({callback:S,params:{canvas:n,canvasContext:e,dependencyTracker:A?new Ixe(n,w.operatorList.length,E):null,viewport:r,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:m});(w.renderTasks||(w.renderTasks=new Set)).add(_);const O=_.task;return Promise.all([w.displayReadyCapability.promise,l]).then(([N,L])=>{var F;if(this.destroyed){S();return}if((F=this._stats)==null||F.time("Rendering"),!(L.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:N,optionalContentConfig:L}),_.operatorListChanged()}).catch(S),O}getOperatorList({intent:e="display",annotationMode:n=ea.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function o(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let s=this._intentStates.get(a.cacheKey);s||(s=Object.create(null),this._intentStates.set(a.cacheKey,s));let l;return s.opListReadCapability||(l=Object.create(null),l.operatorListChanged=o,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||(s.renderTasks=new Set)).add(l),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Pg.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function o(){a.read().then(function({value:l,done:c}){if(c){r(s);return}s.lang??(s.lang=l.lang),Object.assign(s.styles,l.styles),s.items.push(...l.items),o()},i)}const a=n.getReader(),s={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),C(this,Ha,!1),Promise.all(e)}cleanup(e=!1){C(this,Ha,!0);const n=k(this,uu,xm).call(this);return e&&n&&this._stats&&(this._stats=new JI),n}_startRenderPage(e,n){var i,o;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(o=r.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&k(this,uu,xm).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:o,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:o,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const u=()=>{l.read().then(({value:h,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),u())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();k(this,uu,xm).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof w1){let i=f0e;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new As(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,o]of this._intentStates)if(o===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Ha=new WeakMap,uu=new WeakSet,xm=function(){if(!d(this,Ha)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,Ha,!1),!0};var hl,ro,Va,hu,Q0,du,fu,mr,Hb,oz,az,wm,Gd,Vb;const Rt=class Rt{constructor({name:e=null,port:n=null,verbosity:r=rxe()}={}){T(this,mr);T(this,hl,Promise.withResolvers());T(this,ro,null);T(this,Va,null);T(this,hu,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(d(Rt,fu).has(n))throw new Error("Cannot use more than one PDFWorker per port.");d(Rt,fu).set(n,this),k(this,mr,oz).call(this,n)}else k(this,mr,az).call(this)}get promise(){return d(this,hl).promise}get port(){return d(this,Va)}get messageHandler(){return d(this,ro)}destroy(){var e,n;this.destroyed=!0,(e=d(this,hu))==null||e.terminate(),C(this,hu,null),d(Rt,fu).delete(d(this,Va)),C(this,Va,null),(n=d(this,ro))==null||n.destroy(),C(this,ro,null)}static create(e){const n=d(this,fu).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Rt(e)}static get workerSrc(){if(Di.workerSrc)return Di.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Le(this,"_setupFakeWorkerGlobal",(async()=>d(this,Gd,Vb)?d(this,Gd,Vb):(await import(this.workerSrc)).WorkerMessageHandler)())}};hl=new WeakMap,ro=new WeakMap,Va=new WeakMap,hu=new WeakMap,Q0=new WeakMap,du=new WeakMap,fu=new WeakMap,mr=new WeakSet,Hb=function(){d(this,hl).resolve(),d(this,ro).send("configure",{verbosity:this.verbosity})},oz=function(e){C(this,Va,e),C(this,ro,new fm("main","worker",e)),d(this,ro).on("ready",()=>{}),k(this,mr,Hb).call(this)},az=function(){if(d(Rt,du)||d(Rt,Gd,Vb)){k(this,mr,wm).call(this);return}let{workerSrc:e}=Rt;try{Rt._isSameOrigin(window.location,e)||(e=Rt._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new fm("main","worker",n),i=()=>{o.abort(),r.destroy(),n.terminate(),this.destroyed?d(this,hl).reject(new Error("Worker was destroyed")):k(this,mr,wm).call(this)},o=new AbortController;n.addEventListener("error",()=>{d(this,hu)||i()},{signal:o.signal}),r.on("test",s=>{if(o.abort(),this.destroyed||!s){i();return}C(this,ro,r),C(this,Va,n),C(this,hu,n),k(this,mr,Hb).call(this)}),r.on("ready",s=>{if(o.abort(),this.destroyed){i();return}try{a()}catch{k(this,mr,wm).call(this)}});const a=()=>{const s=new Uint8Array;r.send("test",s,[s.buffer])};a();return}catch{x1("The worker has been disabled.")}k(this,mr,wm).call(this)},wm=function(){d(Rt,du)||(Oe("Setting up fake worker."),C(Rt,du,!0)),Rt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){d(this,hl).reject(new Error("Worker was destroyed"));return}const n=new Exe;C(this,Va,n);const r=`fake${dn(Rt,Q0)._++}`,i=new fm(r+"_worker",r,n);e.setup(i,n),C(this,ro,new fm(r,r+"_worker",n)),k(this,mr,Hb).call(this)}).catch(e=>{d(this,hl).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Gd=new WeakSet,Vb=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},T(Rt,Gd),T(Rt,Q0,0),T(Rt,du,!1),T(Rt,fu,new WeakMap),ur&&(C(Rt,du,!0),Di.workerSrc||(Di.workerSrc="./pdf.worker.mjs")),Rt._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},Rt._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Rt.fromPort=e=>{if(dxe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Rt.create(e)};let lp=Rt;var Wa,Ho,qd,Kd,Ga,pu,Am;class g0e{constructor(e,n,r,i,o,a){T(this,pu);T(this,Wa,new Map);T(this,Ho,new Map);T(this,qd,new Map);T(this,Kd,new Map);T(this,Ga,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new ez,this.fontLoader=new bxe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Le(this,"annotationStorage",new mT)}getRenderingIntent(e,n=ea.ENABLE,r=null,i=!1,o=!1){let a=ii.DISPLAY,s=mC;switch(e){case"any":a=ii.ANY;break;case"display":break;case"print":a=ii.PRINT;break;default:Oe(`getRenderingIntent - invalid intent: ${e}`)}const l=a&ii.PRINT&&r instanceof L3?r:this.annotationStorage;switch(n){case ea.DISABLE:a+=ii.ANNOTATIONS_DISABLE;break;case ea.ENABLE:break;case ea.ENABLE_FORMS:a+=ii.ANNOTATIONS_FORMS;break;case ea.ENABLE_STORAGE:a+=ii.ANNOTATIONS_STORAGE,s=l.serializable;break;default:Oe(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=ii.IS_EDITING),o&&(a+=ii.OPLIST);const{ids:c,hash:u}=l.modifiedIds,h=[a,s.hash,u];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:s,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=d(this,Ga))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of d(this,Ho).values())e.push(i._destroy());d(this,Ho).clear(),d(this,qd).clear(),d(this,Kd).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,o;this.commonObjs.clear(),this.fontLoader.clear(),d(this,Wa).clear(),this.filterFactory.destroy(),Og.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new As("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{We(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:a}){if(a){i.close();return}We(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var s;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:o,contentLength:a}=this._fullReader;return(!i||!o)&&(this._lastProgress&&((s=n.onProgress)==null||s.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:o,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{We(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(r.begin,r.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:a,done:s}){if(s){i.close();return}We(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{o.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new p0e(r,this))}),e.on("DocException",r=>{n._capability.reject(xr(r))}),e.on("PasswordRequest",r=>{C(this,Ga,Promise.withResolvers());try{if(!n.onPassword)throw xr(r);const i=o=>{o instanceof Error?d(this,Ga).reject(o):d(this,Ga).resolve({password:o})};n.onPassword(i,r.code)}catch(i){d(this,Ga).reject(i)}return d(this,Ga).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;d(this,Ho).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,o])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in o){const h=o.error;Oe(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const s=new _C(o),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,c=new xxe(s,l,o.extra,o.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:u}=o;We(u,"The imageRef must be defined.");for(const h of d(this,Ho).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===u)return f.dataLen?(this.commonObjs.resolve(r,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,o,a])=>{var l;if(this.destroyed)return;const s=d(this,Ho).get(i);if(!s.objs.has(r)){if(s._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(o){case"Image":case"Pattern":s.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Oe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=d(this,qd).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&d(this,Kd).set(o.refStr,e);const a=new m0e(n,o,this,this._params.pdfBug);return d(this,Ho).set(n,a),a});return d(this,qd).set(n,i),i}getPageIndex(e){return gC(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return k(this,pu,Am).call(this,"GetFieldObjects")}hasJSActions(){return k(this,pu,Am).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return k(this,pu,Am).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,pu,Am).call(this,"GetOptionalContentConfig").then(n=>new Kxe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=d(this,Wa).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var o,a;return{info:i[0],metadata:i[1]?new Gxe(i[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return d(this,Wa).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of d(this,Ho).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),d(this,Wa).clear(),this.filterFactory.destroy(!0),Og.cleanup()}}cachedPageNumber(e){if(!gC(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return d(this,Kd).get(n)??null}}Wa=new WeakMap,Ho=new WeakMap,qd=new WeakMap,Kd=new WeakMap,Ga=new WeakMap,pu=new WeakSet,Am=function(e,n=null){const r=d(this,Wa).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return d(this,Wa).set(e,i),i};var dl;class y0e{constructor(e){T(this,dl,null);Q(this,"onContinue",null);Q(this,"onError",null);C(this,dl,e)}get promise(){return d(this,dl).capability.promise}cancel(e=0){d(this,dl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=d(this,dl).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=d(this,dl);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}dl=new WeakMap;var fl,mu;const Sc=class Sc{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:a,pageIndex:s,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:m=null}){T(this,fl,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=s,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new y0e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=m}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var l,c;if(this.cancelled)return;if(this._canvas){if(d(Sc,mu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(Sc,mu).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:o,dependencyTracker:a}=this.params,s=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Zh(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,i,o;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),d(this,fl)&&(window.cancelAnimationFrame(d(this,fl)),C(this,fl,null)),d(Sc,mu).delete(this._canvas),e||(e=new w1(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(o=(i=this.task).onError)==null||o.call(i,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,fl,window.requestAnimationFrame(()=>{C(this,fl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(Sc,mu).delete(this._canvas),this.callback())))}};fl=new WeakMap,mu=new WeakMap,T(Sc,mu,new WeakSet);let RC=Sc;const sz="5.4.296",lz="f56dc8601";var Gr,gu,Xd,yn,Ny,Yd,qa,jy,pl,io,Dy,dt,IC,NC,jC,yc,cz,$s;const wr=class wr{constructor({editor:e=null,uiManager:n=null}){T(this,dt);T(this,Gr,null);T(this,gu,null);T(this,Xd);T(this,yn,null);T(this,Ny,!1);T(this,Yd,!1);T(this,qa,null);T(this,jy);T(this,pl,null);T(this,io,null);var r,i;e?(C(this,Yd,!1),C(this,qa,e)):C(this,Yd,!0),C(this,io,(e==null?void 0:e._uiManager)||n),C(this,jy,d(this,io)._eventBus),C(this,Xd,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=d(this,io))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),d(wr,Dy)||C(wr,Dy,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Le(this,"_keyboardManager",new Dv([[["Escape","mac+Escape"],wr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wr.prototype._moveToPrevious],[["Home","mac+Home"],wr.prototype._moveToBeginning],[["End","mac+End"],wr.prototype._moveToEnd]]))}renderButton(){const e=C(this,Gr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",d(this,qa)&&(e.ariaControls=`${d(this,qa).id}_colorpicker_dropdown`);const n=d(this,io)._signal;e.addEventListener("click",k(this,dt,yc).bind(this),{signal:n}),e.addEventListener("keydown",k(this,dt,jC).bind(this),{signal:n});const r=C(this,gu,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=d(this,Xd),e.append(r),e}renderMainDropdown(){const e=C(this,yn,k(this,dt,IC).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===d(this,Gr)){k(this,dt,yc).call(this,e);return}const n=e.target.getAttribute("data-color");n&&k(this,dt,NC).call(this,n,e)}_moveToNext(e){var n,r;if(!d(this,dt,$s)){k(this,dt,yc).call(this,e);return}if(e.target===d(this,Gr)){(n=d(this,yn).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=d(this,yn))==null?void 0:n.firstChild)||e.target===d(this,Gr)){d(this,dt,$s)&&this._hideDropdownFromKeyboard();return}d(this,dt,$s)||k(this,dt,yc).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!d(this,dt,$s)){k(this,dt,yc).call(this,e);return}(n=d(this,yn).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!d(this,dt,$s)){k(this,dt,yc).call(this,e);return}(n=d(this,yn).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=d(this,yn))==null||e.classList.add("hidden"),d(this,Gr).ariaExpanded="false",(n=d(this,pl))==null||n.abort(),C(this,pl,null)}_hideDropdownFromKeyboard(){var e;if(!d(this,Yd)){if(!d(this,dt,$s)){(e=d(this,qa))==null||e.unselect();return}this.hideDropdown(),d(this,Gr).focus({preventScroll:!0,focusVisible:d(this,Ny)})}}updateColor(e){if(d(this,gu)&&(d(this,gu).style.backgroundColor=e),!d(this,yn))return;const n=d(this,io).highlightColors.values();for(const r of d(this,yn).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=d(this,Gr))==null||e.remove(),C(this,Gr,null),C(this,gu,null),(n=d(this,yn))==null||n.remove(),C(this,yn,null)}};Gr=new WeakMap,gu=new WeakMap,Xd=new WeakMap,yn=new WeakMap,Ny=new WeakMap,Yd=new WeakMap,qa=new WeakMap,jy=new WeakMap,pl=new WeakMap,io=new WeakMap,Dy=new WeakMap,dt=new WeakSet,IC=function(){const e=document.createElement("div"),n=d(this,io)._signal;e.addEventListener("contextmenu",mi,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),d(this,qa)&&(e.id=`${d(this,qa).id}_colorpicker_dropdown`);for(const[r,i]of d(this,io).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=r,o.setAttribute("data-l10n-id",d(wr,Dy)[r]);const a=document.createElement("span");o.append(a),a.className="swatch",a.style.backgroundColor=i,o.ariaSelected=i===d(this,Xd),o.addEventListener("click",k(this,dt,NC).bind(this,i),{signal:n}),e.append(o)}return e.addEventListener("keydown",k(this,dt,jC).bind(this),{signal:n}),e},NC=function(e,n){n.stopPropagation(),d(this,jy).dispatch("switchannotationeditorparams",{source:this,type:Ve.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},jC=function(e){wr._keyboardManager.exec(this,e)},yc=function(e){if(d(this,dt,$s)){this.hideDropdown();return}if(C(this,Ny,e.detail===0),d(this,pl)||(C(this,pl,new AbortController),window.addEventListener("pointerdown",k(this,dt,cz).bind(this),{signal:d(this,io).combinedSignal(d(this,pl))})),d(this,Gr).ariaExpanded="true",d(this,yn)){d(this,yn).classList.remove("hidden");return}const n=C(this,yn,k(this,dt,IC).call(this));d(this,Gr).append(n)},cz=function(e){var n;(n=d(this,yn))!=null&&n.contains(e.target)||this.hideDropdown()},$s=function(){return d(this,yn)&&!d(this,yn).classList.contains("hidden")},T(wr,Dy,null);let Mg=wr;var Vo,Ly,Jd,$y;const Ec=class Ec{constructor(e){T(this,Vo,null);T(this,Ly,null);T(this,Jd,null);C(this,Ly,e),C(this,Jd,e._uiManager),d(Ec,$y)||C(Ec,$y,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(d(this,Vo))return d(this,Vo);const{editorType:e,colorType:n,colorValue:r}=d(this,Ly),i=C(this,Vo,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",d(Ec,$y)[e]),i.addEventListener("input",()=>{d(this,Jd).updateParams(n,i.value)},{signal:d(this,Jd)._signal}),i}update(e){d(this,Vo)&&(d(this,Vo).value=e)}destroy(){var e;(e=d(this,Vo))==null||e.remove(),C(this,Vo,null)}hideDropdown(){}};Vo=new WeakMap,Ly=new WeakMap,Jd=new WeakMap,$y=new WeakMap,T(Ec,$y,null);let R0=Ec;function bN(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function tm(t){return Math.max(0,Math.min(255,255*t))}class xN{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=tm(e),[e,e,e]}static G_HTML([e]){const n=bN(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(tm)}static RGB_HTML(e){return`#${e.map(bN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[tm(1-Math.min(1,e+i)),tm(1-Math.min(1,r+i)),tm(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,o=1-n,a=1-r,s=Math.min(i,o,a);return["CMYK",i,o,a,s]}}class v0e{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){vt("Abstract method `_createSVG` called.")}}class Rg extends v0e{_createSVG(e){return document.createElementNS(ba,e)}}const b0e=9,th=new WeakSet,x0e=new Date().getTimezoneOffset()*60*1e3;class wN{static create(e){switch(e.data.annotationType){case Yt.LINK:return new xT(e);case Yt.TEXT:return new A0e(e);case Yt.WIDGET:switch(e.data.fieldType){case"Tx":return new S0e(e);case"Btn":return e.data.radioButton?new dz(e):e.data.checkBox?new C0e(e):new _0e(e);case"Ch":return new P0e(e);case"Sig":return new E0e(e)}return new ch(e);case Yt.POPUP:return new LC(e);case Yt.FREETEXT:return new yz(e);case Yt.LINE:return new k0e(e);case Yt.SQUARE:return new O0e(e);case Yt.CIRCLE:return new M0e(e);case Yt.POLYLINE:return new vz(e);case Yt.CARET:return new I0e(e);case Yt.INK:return new wT(e);case Yt.POLYGON:return new R0e(e);case Yt.HIGHLIGHT:return new bz(e);case Yt.UNDERLINE:return new N0e(e);case Yt.SQUIGGLY:return new j0e(e);case Yt.STRIKEOUT:return new D0e(e);case Yt.STAMP:return new xz(e);case Yt.FILEATTACHMENT:return new L0e(e);default:return new zt(e)}}}var yu,Zd,Mi,Fy,DC;const KT=class KT{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){T(this,Fy);T(this,yu,null);T(this,Zd,!1);T(this,Mi,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return KT._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,n=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var s;const e=(s=this.annotationStorage)==null?void 0:s.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let o=-1/0,a=-1/0;if((n==null?void 0:n.length)>=8){for(let l=0;l<n.length;l+=8)n[l+1]>a?(a=n[l+1],o=n[l+2]):n[l+1]===a&&(o=Math.max(o,n[l+2]));return[o,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>a?(a=l[c+1],o=l[c]):l[c+1]===a&&(o=Math.max(o,l[c]));if(o!==1/0)return[o,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-o)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var n,r,i;const{data:e}=this;return((r=(n=this.annotationStorage.getRawValue(`${Cg}${e.id}`))==null?void 0:n.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Cg}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=d(this,Mi))==null?void 0:e.popup)||this.popup)==null||n.remove(),C(this,Mi,this.popup=null)}updateEdited(e){var o;if(!this.container)return;e.rect&&(d(this,yu)||C(this,yu,{rect:this.data.rect.slice(0)}));const{rect:n,popup:r}=e;n&&k(this,Fy,DC).call(this,n);let i=((o=d(this,Mi))==null?void 0:o.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=d(this,Mi).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),C(this,Mi,null),this.popup=null))}resetEdited(){var e;d(this,yu)&&(k(this,Fy,DC).call(this,d(this,yu).rect),(e=d(this,Mi))==null||e.popup.resetEdited(),C(this,yu,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",n.id),!(this instanceof ch)&&!(this instanceof xT)&&(o.tabIndex=0);const{style:a}=o;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(o.title=n.alternativeText),n.noRotate&&o.classList.add("norotate"),!n.rect||this instanceof LC){const{rotation:g}=n;return!n.hasOwnCanvas&&g!==0&&this.setRotation(g,o),o}const{width:s,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const g=n.borderStyle.horizontalCornerRadius,y=n.borderStyle.verticalCornerRadius;if(g>0||y>0){const w=`calc(${g}px * var(--total-scale-factor)) / calc(${y}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof dz){const w=`calc(${s}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=w}switch(n.borderStyle.style){case Ph.SOLID:a.borderStyle="solid";break;case Ph.DASHED:a.borderStyle="dashed";break;case Ph.BEVELED:Oe("Unimplemented border style: beveled");break;case Ph.INSET:Oe("Unimplemented border style: inset");break;case Ph.UNDERLINE:a.borderBottomStyle="solid";break}const v=n.borderColor||null;v?(C(this,Zd,!0),a.borderColor=he.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}const c=he.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:h,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(c[0]-f)/u}%`,a.top=`${100*(c[1]-p)/h}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(a.width=`${100*s/u}%`,a.height=`${100*l/h}%`):this.setRotation(m,o),o}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:o,height:a}=this;e%180!==0&&([o,a]=[a,o]),n.style.width=`${100*o/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const o=i.detail[n],a=o[0],s=o.slice(1);i.target.style[r]=xN[`${a}_HTML`](s),this.annotationStorage.setValue(this.data.id,{[r]:xN[`${a}_rgb`](s)})};return Le(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const o=e[i]||r[i];o==null||o(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,o]of Object.entries(n)){const a=r[i];if(a){const s={detail:{[i]:o},target:e};a(s),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,o]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,y,v,w]=e.subarray(2,6);if(i===g&&o===y&&n===v&&r===w)return}const{style:a}=this.container;let s;if(d(this,Zd)){const{borderColor:g,borderWidth:y}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const l=i-n,c=o-r,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=u.createElement("defs");h.append(f);const p=u.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,y=e.length;g<y;g+=8){const v=e[g],w=e[g+1],x=e[g+2],E=e[g+3],A=u.createElement("rect"),S=(x-n)/l,_=(o-w)/c,O=(v-x)/l,I=(w-E)/c;A.setAttribute("x",S),A.setAttribute("y",_),A.setAttribute("width",O),A.setAttribute("height",I),p.append(A),s==null||s.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${_}" width="${O}" height="${I}"/>`)}d(this,Zd)&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate);const o=C(this,Mi,new LC({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(d(this,Mi)||this.popup||this.data.popupRef)}get extraPopupElement(){return d(this,Mi)}render(){vt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:o,id:a,exportValues:s}of i){if(o===-1||a===n)continue;const l=typeof s=="string"?s:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!th.has(c)){Oe(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:o}=i,a=i.getAttribute("data-element-id");a!==n&&th.has(i)&&r.push({id:a,exportValue:o,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};yu=new WeakMap,Zd=new WeakMap,Mi=new WeakMap,Fy=new WeakSet,DC=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:a,pageX:s,pageY:l}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-s)/o}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/o}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let zt=KT;class w0e extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var li,vc,uz,hz;class xT extends zt{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});T(this,li);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let o=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),o=!0):n.action?(this._bindNamedAction(i,n.action,n.overlaidText),o=!0):n.attachment?(k(this,li,uz).call(this,i,n.attachment,n.overlaidText,n.attachmentDest),o=!0):n.setOCGState?(k(this,li,hz).call(this,i,n.setOCGState,n.overlaidText),o=!0):n.dest?(this._bindLink(i,n.dest,n.overlaidText),o=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),o=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(i),this.container}_bindLink(n,r,i=""){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&k(this,li,vc).call(this),i&&(n.title=i)}_bindNamedAction(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(n.title=i),k(this,li,vc).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(r.actions)){const a=i.get(o);a&&(n[a]=()=>{var s;return(s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:o}}),!1})}r.overlaidText&&(n.title=r.overlaidText),n.onclick||(n.onclick=()=>!1),k(this,li,vc).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),k(this,li,vc).call(this),!this._fieldObjects){Oe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var h;i==null||i();const{fields:o,refs:a,include:s}=r,l=[];if(o.length!==0||a.length!==0){const f=new Set(a);for(const p of o){const m=this._fieldObjects[p]||[];for(const{id:g}of m)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===s&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,u=[];for(const f of l){const{id:p}=f;switch(u.push(p),f.type){case"text":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;c.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!th.has(m)){Oe(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}li=new WeakSet,vc=function(){this.container.setAttribute("data-internal-link","")},uz=function(n,r,i="",o=null){n.href=this.linkService.getAnchorUrl(""),r.description?n.title=r.description:i&&(n.title=i),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,o),!1},k(this,li,vc).call(this)},hz=function(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(n.title=i),k(this,li,vc).call(this)};class A0e extends zt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ch extends zt{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Mn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,o){r.includes("mouse")?e.addEventListener(r,a=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var s;if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}o&&((s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(a)}}))})}_setEventListeners(e,n,r,i){var o,a,s;for(const[l,c]of r)(c==="Action"||(o=this.data.actions)!=null&&o[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((s=this.data.actions)!=null&&s.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":he.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||b0e,o=e.style;let a;const s=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-s),u=Math.round(c/(TA*i))||1,h=c/u;a=Math.min(i,l(h/TA))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-s);a=Math.min(i,l(c/TA))}o.fontSize=`calc(${a}px * var(--total-scale-factor))`,o.color=he.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(o.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class S0e extends ch{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const o=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),o.setValue(a.id,{[i]:r})}render(){var i,o;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(n,{value:this.data.fieldValue});let s=a.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&s.length>l&&(s=s.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),th.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,m=!!f&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",y=>{e.setValue(n,{value:y.target.value}),this.setPropertyOnSiblings(r,"value",y.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",y=>{const v=this.data.defaultFieldValue??"";r.value=u.userValue=v,u.formattedValue=null});let g=y=>{const{formattedValue:v}=u;v!=null&&(y.target.value=v),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",v=>{var x;if(u.focused)return;const{target:w}=v;if(m&&(w.type=f,p&&(w.step=p)),u.userValue){const E=u.userValue;if(m)if(f==="time"){const A=new Date(E),S=[A.getHours(),A.getMinutes(),A.getSeconds()];w.value=S.map(_=>_.toString().padStart(2,"0")).join(":")}else w.value=new Date(E-x0e).toISOString().split(f==="date"?"T":".",1)[0];else w.value=E}u.lastCommittedValue=w.value,u.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const w={value(x){u.userValue=x.detail.value??"",m||e.setValue(n,{value:u.userValue.toString()}),x.target.value=u.userValue},formattedValue(x){const{formattedValue:E}=x.detail;u.formattedValue=E,E!=null&&x.target!==document.activeElement&&(x.target.value=E);const A={formattedValue:E};m&&(A.value=E),e.setValue(n,A)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var _;const{charLimit:E}=x.detail,{target:A}=x;if(E===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",E);let S=u.userValue;!S||S.length<=E||(S=S.slice(0,E),A.value=u.userValue=S,e.setValue(n,{value:S}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(w,v)}),r.addEventListener("keydown",v=>{var E;u.commitKey=1;let w=-1;if(v.key==="Escape"?w=0:v.key==="Enter"&&!this.data.multiLine?w=2:v.key==="Tab"&&(u.commitKey=3),w===-1)return;const{value:x}=v.target;u.lastCommittedValue!==x&&(u.lastCommittedValue=x,u.userValue=x,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const y=g;g=null,r.addEventListener("blur",v=>{var E,A;if(!u.focused||!v.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(u.focused=!1);const{target:w}=v;let{value:x}=w;if(m){if(x&&f==="time"){const S=x.split(":").map(_=>parseInt(_,10));x=new Date(2e3,0,1,S[0],S[1],S[2]||0).valueOf(),w.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();w.type="text"}u.userValue=x,u.lastCommittedValue!==x&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:u.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),y(v)}),(o=this.data.actions)!=null&&o.Keystroke&&r.addEventListener("beforeinput",v=>{var I;u.lastCommittedValue=null;const{data:w,target:x}=v,{value:E,selectionStart:A,selectionEnd:S}=x;let _=A,O=S;switch(v.inputType){case"deleteWordBackward":{const M=E.substring(0,A).match(/\w*[^\w]*$/);M&&(_-=M[0].length);break}case"deleteWordForward":{const M=E.substring(A).match(/^[^\w]*\w*/);M&&(O+=M[0].length);break}case"deleteContentBackward":A===S&&(_-=1);break;case"deleteContentForward":A===S&&(O+=1);break}v.preventDefault(),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,change:w||"",willCommit:!1,selStart:_,selEnd:O}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class E0e extends ch{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class C0e extends ch{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return th.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",n.exportValue),o.tabIndex=0,o.addEventListener("change",a=>{const{name:s,checked:l}=a.target;for(const c of this._getElementsByName(s,r)){const u=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),o.addEventListener("resetform",a=>{const s=n.defaultFieldValue||"Off";a.target.checked=s===n.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",a=>{const s={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(s,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class dz extends ch{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const o=document.createElement("input");if(th.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",a=>{const{name:s,checked:l}=a.target;for(const c of this._getElementsByName(s,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),o.addEventListener("resetform",a=>{const s=n.defaultFieldValue;a.target.checked=s!=null&&s===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;o.addEventListener("updatefromsandbox",s=>{const l={value:c=>{const u=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const f=u&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class _0e extends xT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class P0e extends ch{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");th.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,r.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),o=!1),i.append(h)}let a=null;if(o){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const s=u=>{const h=u?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=s(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const h={value(f){a==null||a();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const g of i.options)g.selected=m.has(g.value);e.setValue(n,{value:s(!0)}),l=s(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,y=>y.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:s(!0),items:c(f)}),l=s(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=s(!1)},insert(f){const{index:p,displayValue:m,exportValue:g}=f.detail.insert,y=i.children[p],v=document.createElement("option");v.textContent=m,v.value=g,y?y.before(v):i.append(v),e.setValue(n,{value:s(!0),items:c(f)}),l=s(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:g,exportValue:y}=m,v=document.createElement("option");v.textContent=g,v.value=y,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:s(!0),items:c(f)}),l=s(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(n,{value:s(!0)}),l=s(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,u)}),i.addEventListener("input",u=>{var p;const h=s(!0),f=s(!1);e.setValue(n,{value:h}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(n,{value:s(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var By,$C;class LC extends zt{constructor(n){const{data:r,elements:i,parent:o}=n,a=!!o._commentManager;super(n,{isRenderable:!a&&zt._hasPopupData(r)});T(this,By);if(this.elements=i,a&&zt._hasPopupData(r)){const s=this.popup=k(this,By,$C).call(this);for(const l of i)l.popup=s}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const r=this.popup=k(this,By,$C).call(this),i=[];for(const o of this.elements)o.popup=r,o.container.ariaHasPopup="dialog",i.push(o.data.id),o.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(o=>`${dT}${o}`).join(",")),this.container}}By=new WeakSet,$C=function(){return new T0e({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var qr,ml,ew,tw,Qd,ef,Gt,Wo,gl,vu,tf,nf,Go,Kr,Ka,Xa,An,Ya,yl,zy,Ja,rf,bu,vl,Xn,bl,Fe,Wb,FC,BC,zC,Gb,UC,fz,pz,mz,gz,qb,Kb,HC;class T0e{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:o,contentsObj:a,richText:s,parent:l,rect:c,parentRect:u,open:h,commentManager:f=null}){T(this,Fe);T(this,qr,null);T(this,ml,k(this,Fe,mz).bind(this));T(this,ew,k(this,Fe,HC).bind(this));T(this,tw,k(this,Fe,Kb).bind(this));T(this,Qd,k(this,Fe,qb).bind(this));T(this,ef,null);T(this,Gt,null);T(this,Wo,null);T(this,gl,null);T(this,vu,null);T(this,tf,null);T(this,nf,null);T(this,Go,!1);T(this,Kr,null);T(this,Ka,null);T(this,Xa,null);T(this,An,null);T(this,Ya,null);T(this,yl,null);T(this,zy,null);T(this,Ja,null);T(this,rf,null);T(this,bu,null);T(this,vl,!1);T(this,Xn,null);T(this,bl,null);C(this,Gt,e),C(this,rf,i),C(this,Wo,a),C(this,Ja,s),C(this,tf,l),C(this,ef,n),C(this,zy,c),C(this,nf,u),C(this,vu,r),C(this,qr,f),C(this,Xn,r[0]),C(this,gl,Tg.toDateObject(o)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),f?this.renderCommentButton():(k(this,Fe,Wb).call(this),d(this,Gt).hidden=!0,h&&k(this,Fe,qb).call(this))}renderCommentButton(){if(d(this,An)||(d(this,Ya)||k(this,Fe,FC).call(this),!d(this,Ya)))return;const{signal:e}=C(this,Ka,new AbortController),n=!!d(this,Xn).extraPopupElement,r=()=>{d(this,qr).toggleCommentPopup(this,!0,void 0,!n)},i=()=>{d(this,qr).toggleCommentPopup(this,!1,!0,!n)},o=()=>{d(this,qr).toggleCommentPopup(this,!1,!1)};if(n){C(this,An,d(this,Xn).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",d(this,ml),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",o,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=C(this,An,document.createElement("button"));a.className="annotationCommentButton";const s=d(this,Xn).container;a.style.zIndex=s.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),k(this,Fe,zC).call(this),k(this,Fe,BC).call(this),a.addEventListener("keydown",d(this,ml),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",o,{signal:e}),s.after(a)}}get commentButtonColor(){const{color:e,opacity:n}=d(this,Xn).commentData;return e?d(this,tf)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=d(this,An))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:o}=d(this,Xn).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:o}}get elementBeforePopup(){return d(this,An)}get comment(){return d(this,bl)||C(this,bl,d(this,Xn).commentText),d(this,bl)}set comment(e){e!==this.comment&&(d(this,Xn).commentText=C(this,bl,e))}get parentBoundingClientRect(){return d(this,Xn).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){d(this,An)&&(d(this,An).classList.toggle("selected",e),d(this,An).ariaExpanded=n)}setSelectedCommentButton(e){d(this,An).classList.toggle("selected",e)}get commentPopupPosition(){if(d(this,yl))return d(this,yl);const{x:e,y:n,height:r}=d(this,An).getBoundingClientRect(),{x:i,y:o,width:a,height:s}=d(this,Xn).layer.getBoundingClientRect();return[(e-i)/a,(n+r-o)/s]}set commentPopupPosition(e){C(this,yl,e)}hasDefaultPopupPosition(){return d(this,yl)===null}get commentButtonPosition(){return d(this,Ya)}get commentButtonWidth(){return d(this,An).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=d(this,yl)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:o,y:a,width:s,height:l}=i;d(this,qr).showDialog(null,this,o+n*s,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(d(this,Kr))return;const e=C(this,Kr,document.createElement("div"));if(e.className="popup",d(this,ef)){const o=e.style.outlineColor=he.makeHexColor(...d(this,ef));e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const n=document.createElement("span");if(n.className="header",(r=d(this,rf))!=null&&r.str){const o=document.createElement("span");o.className="title",n.append(o),{dir:o.dir,str:o.textContent}=d(this,rf)}if(e.append(n),d(this,gl)){const o=document.createElement("time");o.className="popupDate",o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,gl).valueOf()})),o.dateTime=d(this,gl).toISOString(),n.append(o)}pT({html:d(this,Fe,Gb)||d(this,Wo).str,dir:(i=d(this,Wo))==null?void 0:i.dir,className:"popupContent"},e),d(this,Gt).append(e)}updateEdited({rect:e,popup:n,deleted:r}){var i;if(d(this,qr)){r?(this.remove(),C(this,bl,null)):n&&(n.deleted?this.remove():(k(this,Fe,zC).call(this),C(this,bl,n.text))),e&&(C(this,Ya,null),k(this,Fe,FC).call(this),k(this,Fe,BC).call(this));return}if(r||n!=null&&n.deleted){this.remove();return}k(this,Fe,Wb).call(this),d(this,bu)||C(this,bu,{contentsObj:d(this,Wo),richText:d(this,Ja)}),e&&C(this,Xa,null),n&&n.text&&(C(this,Ja,k(this,Fe,pz).call(this,n.text)),C(this,gl,Tg.toDateObject(n.date)),C(this,Wo,null)),(i=d(this,Kr))==null||i.remove(),C(this,Kr,null)}resetEdited(){var e;d(this,bu)&&({contentsObj:dn(this,Wo)._,richText:dn(this,Ja)._}=d(this,bu),C(this,bu,null),(e=d(this,Kr))==null||e.remove(),C(this,Kr,null),C(this,Xa,null))}remove(){var e,n,r;if((e=d(this,Ka))==null||e.abort(),C(this,Ka,null),(n=d(this,Kr))==null||n.remove(),C(this,Kr,null),C(this,vl,!1),C(this,Go,!1),(r=d(this,An))==null||r.remove(),C(this,An,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){C(this,vl,this.isVisible),d(this,vl)&&(d(this,Gt).hidden=!0)}maybeShow(){d(this,qr)||(k(this,Fe,Wb).call(this),d(this,vl)&&(d(this,Kr)||k(this,Fe,Kb).call(this),C(this,vl,!1),d(this,Gt).hidden=!1))}get isVisible(){return d(this,qr)?!1:d(this,Gt).hidden===!1}}qr=new WeakMap,ml=new WeakMap,ew=new WeakMap,tw=new WeakMap,Qd=new WeakMap,ef=new WeakMap,Gt=new WeakMap,Wo=new WeakMap,gl=new WeakMap,vu=new WeakMap,tf=new WeakMap,nf=new WeakMap,Go=new WeakMap,Kr=new WeakMap,Ka=new WeakMap,Xa=new WeakMap,An=new WeakMap,Ya=new WeakMap,yl=new WeakMap,zy=new WeakMap,Ja=new WeakMap,rf=new WeakMap,bu=new WeakMap,vl=new WeakMap,Xn=new WeakMap,bl=new WeakMap,Fe=new WeakSet,Wb=function(){var n;if(d(this,Ka))return;C(this,Ka,new AbortController);const{signal:e}=d(this,Ka);for(const r of this.trigger)r.addEventListener("click",d(this,Qd),{signal:e}),r.addEventListener("pointerenter",d(this,tw),{signal:e}),r.addEventListener("pointerleave",d(this,ew),{signal:e}),r.classList.add("popupTriggerArea");for(const r of d(this,vu))(n=r.container)==null||n.addEventListener("keydown",d(this,ml),{signal:e})},FC=function(){const e=d(this,vu).find(n=>n.hasCommentButton);e&&C(this,Ya,e._normalizePoint(e.commentButtonPosition))},BC=function(){if(d(this,Xn).extraPopupElement&&!d(this,Xn).editor)return;this.renderCommentButton();const[e,n]=d(this,Ya),{style:r}=d(this,An);r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`},zC=function(){d(this,Xn).extraPopupElement||(this.renderCommentButton(),d(this,An).style.backgroundColor=this.commentButtonColor||"")},Gb=function(){const e=d(this,Ja),n=d(this,Wo);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&d(this,Ja).html||null},UC=function(){var e,n,r;return((r=(n=(e=d(this,Fe,Gb))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},fz=function(){var e,n,r;return((r=(n=(e=d(this,Fe,Gb))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},pz=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:d(this,Fe,fz),fontSize:d(this,Fe,UC)?`calc(${d(this,Fe,UC)}px * var(--total-scale-factor))`:""}};for(const o of e.split(`
`))n.push({name:"span",value:o,attributes:i});return r},mz=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&d(this,Go))&&k(this,Fe,qb).call(this)},gz=function(){if(d(this,Xa)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:o}}}=d(this,tf);let a=!!d(this,nf),s=a?d(this,nf):d(this,zy);for(const m of d(this,vu))if(!s||he.intersect(m.data.rect,s)!==null){s=m.data.rect,a=!0;break}const l=he.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),u=a?s[2]-s[0]+5:0,h=l[0]+u,f=l[1];C(this,Xa,[100*(h-i)/n,100*(f-o)/r]);const{style:p}=d(this,Gt);p.left=`${d(this,Xa)[0]}%`,p.top=`${d(this,Xa)[1]}%`},qb=function(){if(d(this,qr)){d(this,qr).toggleCommentPopup(this,!1);return}C(this,Go,!d(this,Go)),d(this,Go)?(k(this,Fe,Kb).call(this),d(this,Gt).addEventListener("click",d(this,Qd)),d(this,Gt).addEventListener("keydown",d(this,ml))):(k(this,Fe,HC).call(this),d(this,Gt).removeEventListener("click",d(this,Qd)),d(this,Gt).removeEventListener("keydown",d(this,ml)))},Kb=function(){d(this,Kr)||this.render(),this.isVisible?d(this,Go)&&d(this,Gt).classList.add("focused"):(k(this,Fe,gz).call(this),d(this,Gt).hidden=!1,d(this,Gt).style.zIndex=parseInt(d(this,Gt).style.zIndex)+1e3)},HC=function(){d(this,Gt).classList.remove("focused"),!(d(this,Go)||!this.isVisible)&&(d(this,Gt).hidden=!0,d(this,Gt).style.zIndex=parseInt(d(this,Gt).style.zIndex)-1e3)};class yz extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ke.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Uy;class k0e extends zt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,Uy,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,o=this.svgFactory.create(r,i,!0),a=C(this,Uy,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),a.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),a.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),a.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),a.setAttribute("stroke-width",n.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Uy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uy=new WeakMap;var Hy;class O0e extends zt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,Hy,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,o=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,s=C(this,Hy,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",a/2),s.setAttribute("y",a/2),s.setAttribute("width",r-a),s.setAttribute("height",i-a),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Hy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hy=new WeakMap;var Vy;class M0e extends zt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,Vy,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,o=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,s=C(this,Vy,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",r/2),s.setAttribute("cy",i/2),s.setAttribute("rx",r/2-a/2),s.setAttribute("ry",i/2-a/2),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Vy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vy=new WeakMap;var Wy;class vz extends zt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,Wy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:o},width:a,height:s}=this;if(!r)return this.container;const l=this.svgFactory.create(a,s,!0);let c=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-n[0],m=n[3]-r[h+1];c.push(`${p},${m}`)}c=c.join(" ");const u=C(this,Wy,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Wy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wy=new WeakMap;class R0e extends vz{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class I0e extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Gy,xu,qy,VC;class wT extends zt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,qy);T(this,Gy,null);T(this,xu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ke.HIGHLIGHT:ke.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:o,popupRef:a}}=this,{transform:s,width:l,height:c}=k(this,qy,VC).call(this,r,n),u=this.svgFactory.create(l,c,!0),h=C(this,Gy,this.svgFactory.createElement("svg:g"));u.append(h),h.setAttribute("stroke-width",o.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",s);for(let f=0,p=i.length;f<p;f++){const m=this.svgFactory.createElement(this.svgElementName);d(this,xu).push(m),m.setAttribute("points",i[f].join(",")),h.append(m)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:o}=n,a=d(this,Gy);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let s=0,l=d(this,xu).length;s<l;s++)d(this,xu)[s].setAttribute("points",i[s].join(","));if(o){const{transform:s,width:l,height:c}=k(this,qy,VC).call(this,this.data.rotation,o);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",s)}}getElementsToTriggerPopup(){return d(this,xu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gy=new WeakMap,xu=new WeakMap,qy=new WeakSet,VC=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class bz extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ke.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class N0e extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class j0e extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class D0e extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class xz extends zt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ke.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ky,Xy,WC;class L0e extends zt{constructor(n){var i;super(n,{isRenderable:!0});T(this,Xy);T(this,Ky,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",k(this,Xy,WC).bind(this)),C(this,Ky,i);const{isMac:o}=Mn.platform;return n.addEventListener("keydown",a=>{a.key==="Enter"&&(o?a.metaKey:a.ctrlKey)&&k(this,Xy,WC).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return d(this,Ky)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ky=new WeakMap,Xy=new WeakSet,WC=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var of,wu,af,xl,Yy,Au,Xl,GC,qC,sf;let AT=(sf=class{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:o,viewport:a,structTreeLayer:s,commentManager:l,linkService:c,annotationStorage:u}){T(this,Xl);T(this,of,null);T(this,wu,null);T(this,af,null);T(this,xl,new Map);T(this,Yy,null);T(this,Au,null);this.div=e,C(this,of,n),C(this,wu,r),C(this,Yy,s||null),C(this,Au,c||null),C(this,af,u||new mT),this.page=o,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return d(this,xl).size>0}async render(e){var a,s,l;const{annotations:n}=e,r=this.div;Gl(r,this.viewport);const i=new Map,o={data:null,layer:r,linkService:d(this,Au),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Rg,annotationStorage:d(this,af),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of n){if(c.noHTML)continue;const u=c.annotationType===Yt.POPUP;if(u){const p=i.get(c.id);if(!p)continue;o.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const h=wN.create(o);if(!h.isRenderable)continue;if(!u&&c.popupRef){const p=i.get(c.popupRef);p?p.push(h):i.set(c.popupRef,[h])}const f=h.render();c.hidden&&(f.style.visibility="hidden"),await k(this,Xl,GC).call(this,f,c.id,o.elements),(s=(a=h.extraPopupElement)==null?void 0:a.popup)==null||s.renderCommentButton(),h._isEditable&&(d(this,xl).set(h.data.id,h),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(h))}k(this,Xl,qC).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:d(this,Au),svgFactory:new Rg,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=sf._defaultBorderStyle),n.data=r;const i=wN.create(n);if(!i.isRenderable)continue;const o=i.render();await k(this,Xl,GC).call(this,o,r.id,null)}}update({viewport:e}){const n=this.div;this.viewport=e,Gl(n,{rotation:e.rotation}),k(this,Xl,qC).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(d(this,xl).values())}getEditableAnnotation(e){return d(this,xl).get(e)}addFakeAnnotation(e){var s;const{div:n}=this,{id:r,rotation:i}=e,o=new w0e({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:d(this,Au),annotationStorage:d(this,af)}),a=o.render();return n.append(a),(s=d(this,of))==null||s.moveElementInDOM(n,a,a,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Le(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ph.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},of=new WeakMap,wu=new WeakMap,af=new WeakMap,xl=new WeakMap,Yy=new WeakMap,Au=new WeakMap,Xl=new WeakSet,GC=async function(e,n,r){var s,l;const i=e.firstChild||e,o=i.id=`${dT}${n}`,a=await((s=d(this,Yy))==null?void 0:s.getAriaAttributes(o));if(a)for(const[c,u]of a)i.setAttribute(c,u);r?r.at(-1).container.after(e):(this.div.append(e),(l=d(this,of))==null||l.moveElementInDOM(this.div,e,i,!1))},qC=function(){var n;if(!d(this,wu))return;const e=this.div;for(const[r,i]of d(this,wu)){const o=e.querySelector(`[data-annotation-id="${r}"]`);if(!o)continue;i.className="annotationContent";const{firstChild:a}=o;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):o.append(i);const s=d(this,xl).get(r);s&&(s._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,o.id,i),s._hasNoCanvas=!1):s.canvas=i)}d(this,wu).clear()},sf);const bb=/\r\n?|\n/g;var Xr,Jy,Su,Yr,un,wz,Az,Sz,Xb,ds,Yb,Jb,Ez,XC,Cz;const Tt=class Tt extends Et{constructor(n){super({...n,name:"freeTextEditor"});T(this,un);T(this,Xr,"");T(this,Jy,`${this.id}-editor`);T(this,Su,null);T(this,Yr);Q(this,"_colorPicker",null);this.color=n.color||Tt._defaultColor||Et._defaultLineColor,C(this,Yr,n.fontSize||Tt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const n=Tt.prototype,r=a=>a.isEmpty(),i=ql.TRANSLATE_SMALL,o=ql.TRANSLATE_BIG;return Le(this,"_keyboardManager",new Dv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[o,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,o],checker:r}]]))}static initialize(n,r){Et.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Ve.FREETEXT_SIZE:Tt._defaultFontSize=r;break;case Ve.FREETEXT_COLOR:Tt._defaultColor=r;break}}updateParams(n,r){switch(n){case Ve.FREETEXT_SIZE:k(this,un,wz).call(this,r);break;case Ve.FREETEXT_COLOR:k(this,un,Az).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ve.FREETEXT_SIZE,Tt._defaultFontSize],[Ve.FREETEXT_COLOR,Tt._defaultColor||Et._defaultLineColor]]}get propertiesToUpdate(){return[[Ve.FREETEXT_SIZE,d(this,Yr)],[Ve.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new R0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ve.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-Tt._internalPadding*n,-(Tt._internalPadding+d(this,Yr))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,Su,new AbortController);const n=this._uiManager.combinedSignal(d(this,Su));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,Jy)),this._isDraggable=!0,(n=d(this,Su))==null||n.abort(),C(this,Su,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=d(this,Xr),r=C(this,Xr,k(this,un,Sz).call(this).trimEnd());if(n===r)return;const i=o=>{if(C(this,Xr,o),!o){this.remove();return}k(this,un,Jb).call(this),this._uiManager.rebuild(this),k(this,un,Xb).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),k(this,un,Xb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Tt._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,Jy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${d(this,Yr)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[o,a]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[f,p]=this.pageTranslation;let m,g;switch(this.rotation){case 0:m=n+(s[0]-f)/u,g=r+this.height-(s[1]-p)/h;break;case 90:m=n+(s[0]-f)/u,g=r-(s[1]-p)/h,[l,c]=[c,-l];break;case 180:m=n-this.width+(s[0]-f)/u,g=r-(s[1]-p)/h,[l,c]=[-l,-c];break;case 270:m=n+(s[0]-f-this.height*h)/u,g=r+(s[1]-p-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(m*o,g*a,l,c)}else this._moveAfterPaste(n,r);k(this,un,Jb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,g,y;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const o=k(m=Tt,ds,XC).call(m,r.getData("text")||"").replaceAll(bb,`
`);if(!o)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const s=a.getRangeAt(0);if(!o.includes(`
`)){s.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=s,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(bb,"")),v!==this.editorDiv){let w=u;for(const x of this.editorDiv.childNodes){if(x===v){w=h;continue}w.push(k(g=Tt,ds,Yb).call(g,x))}}u.push(l.nodeValue.slice(0,c).replaceAll(bb,""))}else if(l===this.editorDiv){let v=u,w=0;for(const x of this.editorDiv.childNodes)w++===c&&(v=h),v.push(k(y=Tt,ds,Yb).call(y,x))}C(this,Xr,`${u.join(`
`)}${o}${h.join(`
`)}`),k(this,un,Jb).call(this);const f=new Range;let p=Math.sumPrecise(u.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(p<=w){f.setStart(v,p),f.setEnd(v,p);break}p-=w}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=Tt._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,r,i){var s;let o=null;if(n instanceof yz){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:f,popupRef:p,richText:m,contentsObj:g,creationDate:y,modificationDate:v},textContent:w,textPosition:x,parent:{page:{pageNumber:E}}}=n;if(!w||w.length===0)return null;o=n={annotationType:ke.FREETEXT,color:Array.from(c),fontSize:l,value:w.join(`
`),position:x,pageIndex:E-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(g==null?void 0:g.str)||null,richText:m,creationDate:y,modificationDate:v}}const a=await super.deserialize(n,r,i);return C(a,Yr,n.fontSize),a.color=he.makeHexColor(...n.color),C(a,Xr,k(s=Tt,ds,XC).call(s,n.value)),a._initialData=o,n.comment&&a.setCommentData(n),a}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Et._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(n),{color:r,fontSize:d(this,Yr),value:k(this,un,Ez).call(this)});return this.addComment(i),n?(i.isCopy=!0,i):this.annotationElementId&&!k(this,un,Cz).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${d(this,Yr)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const o of d(this,Xr).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:d(this,Xr)}}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Xr=new WeakMap,Jy=new WeakMap,Su=new WeakMap,Yr=new WeakMap,un=new WeakSet,wz=function(n){const r=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-d(this,Yr))*this.parentScale),C(this,Yr,o),k(this,un,Xb).call(this)},i=d(this,Yr);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Az=function(n){const r=o=>{this.color=o,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Sz=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const o of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(n.push(k(i=Tt,ds,Yb).call(i,o)),r=o);return n.join(`
`)},Xb=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:o,div:a}=this,s=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",o.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=s,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},ds=new WeakSet,Yb=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(bb,"")},Jb=function(){if(this.editorDiv.replaceChildren(),!!d(this,Xr))for(const n of d(this,Xr).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},Ez=function(){return d(this,Xr).replaceAll("Â "," ")},XC=function(n){return n.replaceAll(" ","Â ")},Cz=function(n){const{value:r,fontSize:i,color:o,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((s,l)=>s!==o[l])||n.pageIndex!==a},T(Tt,ds),Q(Tt,"_freeTextDefaultContent",""),Q(Tt,"_internalPadding",0),Q(Tt,"_defaultColor",null),Q(Tt,"_defaultFontSize",10),Q(Tt,"_type","freetext"),Q(Tt,"_editorType",ke.FREETEXT);let KC=Tt;class ue{toSVGPath(){vt("Abstract method `toSVGPath` must be implemented.")}get box(){vt("Abstract getter `box` must be implemented.")}serialize(e,n){vt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,o,a){a||(a=new Float32Array(e.length));for(let s=0,l=e.length;s<l;s+=2)a[s]=n+e[s]*i,a[s+1]=r+e[s+1]*o;return a}static _rescaleAndSwap(e,n,r,i,o,a){a||(a=new Float32Array(e.length));for(let s=0,l=e.length;s<l;s+=2)a[s]=n+e[s+1]*i,a[s+1]=r+e[s]*o;return a}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let o=0,a=e.length;o<a;o+=2)i[o]=n+e[o],i[o+1]=r+e[o+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,o){switch(o){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,o,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+o)/6,(5*i+a)/6,(r+o)/2,(i+a)/2]}}Q(ue,"PRECISION",1e-4);var Jr,oo,lf,cf,qo,ze,Eu,Cu,Zy,Qy,uf,hf,wl,ev,nw,rw,bn,Sm,_z,Pz,Tz,kz,Oz,Mz;const Ea=class Ea{constructor({x:e,y:n},r,i,o,a,s=0){T(this,bn);T(this,Jr);T(this,oo,[]);T(this,lf);T(this,cf);T(this,qo,[]);T(this,ze,new Float32Array(18));T(this,Eu);T(this,Cu);T(this,Zy);T(this,Qy);T(this,uf);T(this,hf);T(this,wl,[]);C(this,Jr,r),C(this,hf,o*i),C(this,cf,a),d(this,ze).set([NaN,NaN,NaN,NaN,e,n],6),C(this,lf,s),C(this,Qy,d(Ea,ev)*i),C(this,Zy,d(Ea,rw)*i),C(this,uf,i),d(this,wl).push(e,n)}isEmpty(){return isNaN(d(this,ze)[8])}add({x:e,y:n}){var I;C(this,Eu,e),C(this,Cu,n);const[r,i,o,a]=d(this,Jr);let[s,l,c,u]=d(this,ze).subarray(8,12);const h=e-c,f=n-u,p=Math.hypot(h,f);if(p<d(this,Zy))return!1;const m=p-d(this,Qy),g=m/p,y=g*h,v=g*f;let w=s,x=l;s=c,l=u,c+=y,u+=v,(I=d(this,wl))==null||I.push(e,n);const E=-v/m,A=y/m,S=E*d(this,hf),_=A*d(this,hf);return d(this,ze).set(d(this,ze).subarray(2,8),0),d(this,ze).set([c+S,u+_],4),d(this,ze).set(d(this,ze).subarray(14,18),12),d(this,ze).set([c-S,u-_],16),isNaN(d(this,ze)[6])?(d(this,qo).length===0&&(d(this,ze).set([s+S,l+_],2),d(this,qo).push(NaN,NaN,NaN,NaN,(s+S-r)/o,(l+_-i)/a),d(this,ze).set([s-S,l-_],14),d(this,oo).push(NaN,NaN,NaN,NaN,(s-S-r)/o,(l-_-i)/a)),d(this,ze).set([w,x,s,l,c,u],6),!this.isEmpty()):(d(this,ze).set([w,x,s,l,c,u],6),Math.abs(Math.atan2(x-l,w-s)-Math.atan2(v,y))<Math.PI/2?([s,l,c,u]=d(this,ze).subarray(2,6),d(this,qo).push(NaN,NaN,NaN,NaN,((s+c)/2-r)/o,((l+u)/2-i)/a),[s,l,w,x]=d(this,ze).subarray(14,18),d(this,oo).push(NaN,NaN,NaN,NaN,((w+s)/2-r)/o,((x+l)/2-i)/a),!0):([w,x,s,l,c,u]=d(this,ze).subarray(0,6),d(this,qo).push(((w+5*s)/6-r)/o,((x+5*l)/6-i)/a,((5*s+c)/6-r)/o,((5*l+u)/6-i)/a,((s+c)/2-r)/o,((l+u)/2-i)/a),[c,u,s,l,w,x]=d(this,ze).subarray(12,18),d(this,oo).push(((w+5*s)/6-r)/o,((x+5*l)/6-i)/a,((5*s+c)/6-r)/o,((5*l+u)/6-i)/a,((s+c)/2-r)/o,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=d(this,qo),n=d(this,oo);if(isNaN(d(this,ze)[6])&&!this.isEmpty())return k(this,bn,_z).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);k(this,bn,Tz).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return k(this,bn,Pz).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,o,a){return new Rz(e,n,r,i,o,a)}getOutlines(){var h;const e=d(this,qo),n=d(this,oo),r=d(this,ze),[i,o,a,s]=d(this,Jr),l=new Float32Array((((h=d(this,wl))==null?void 0:h.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(d(this,wl)[f]-i)/a,l[f+1]=(d(this,wl)[f+1]-o)/s;if(l[l.length-2]=(d(this,Eu)-i)/a,l[l.length-1]=(d(this,Cu)-o)/s,isNaN(r[6])&&!this.isEmpty())return k(this,bn,kz).call(this,l);const c=new Float32Array(d(this,qo).length+24+d(this,oo).length);let u=e.length;for(let f=0;f<u;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}u=k(this,bn,Mz).call(this,c,u);for(let f=n.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(n[f+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=n[f+p],c[u+1]=n[f+p+1],u+=2}return k(this,bn,Oz).call(this,c,u),this.newFreeDrawOutline(c,l,d(this,Jr),d(this,uf),d(this,lf),d(this,cf))}};Jr=new WeakMap,oo=new WeakMap,lf=new WeakMap,cf=new WeakMap,qo=new WeakMap,ze=new WeakMap,Eu=new WeakMap,Cu=new WeakMap,Zy=new WeakMap,Qy=new WeakMap,uf=new WeakMap,hf=new WeakMap,wl=new WeakMap,ev=new WeakMap,nw=new WeakMap,rw=new WeakMap,bn=new WeakSet,Sm=function(){const e=d(this,ze).subarray(4,6),n=d(this,ze).subarray(16,18),[r,i,o,a]=d(this,Jr);return[(d(this,Eu)+(e[0]-n[0])/2-r)/o,(d(this,Cu)+(e[1]-n[1])/2-i)/a,(d(this,Eu)+(n[0]-e[0])/2-r)/o,(d(this,Cu)+(n[1]-e[1])/2-i)/a]},_z=function(){const[e,n,r,i]=d(this,Jr),[o,a,s,l]=k(this,bn,Sm).call(this);return`M${(d(this,ze)[2]-e)/r} ${(d(this,ze)[3]-n)/i} L${(d(this,ze)[4]-e)/r} ${(d(this,ze)[5]-n)/i} L${o} ${a} L${s} ${l} L${(d(this,ze)[16]-e)/r} ${(d(this,ze)[17]-n)/i} L${(d(this,ze)[14]-e)/r} ${(d(this,ze)[15]-n)/i} Z`},Pz=function(e){const n=d(this,oo);e.push(`L${n[4]} ${n[5]} Z`)},Tz=function(e){const[n,r,i,o]=d(this,Jr),a=d(this,ze).subarray(4,6),s=d(this,ze).subarray(16,18),[l,c,u,h]=k(this,bn,Sm).call(this);e.push(`L${(a[0]-n)/i} ${(a[1]-r)/o} L${l} ${c} L${u} ${h} L${(s[0]-n)/i} ${(s[1]-r)/o}`)},kz=function(e){const n=d(this,ze),[r,i,o,a]=d(this,Jr),[s,l,c,u]=k(this,bn,Sm).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/o,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/o,(n[5]-i)/a,NaN,NaN,NaN,NaN,s,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(n[16]-r)/o,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/o,(n[15]-i)/a],0),this.newFreeDrawOutline(h,e,d(this,Jr),d(this,uf),d(this,lf),d(this,cf))},Oz=function(e,n){const r=d(this,oo);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},Mz=function(e,n){const r=d(this,ze).subarray(4,6),i=d(this,ze).subarray(16,18),[o,a,s,l]=d(this,Jr),[c,u,h,f]=k(this,bn,Sm).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-o)/s,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-o)/s,(i[1]-a)/l],n),n+=24},T(Ea,ev,8),T(Ea,nw,2),T(Ea,rw,d(Ea,ev)+d(Ea,nw));let I0=Ea;var df,_u,Za,tv,Zr,nv,Zt,iw,Iz;class Rz extends ue{constructor(n,r,i,o,a,s){super();T(this,iw);T(this,df);T(this,_u,new Float32Array(4));T(this,Za);T(this,tv);T(this,Zr);T(this,nv);T(this,Zt);C(this,Zt,n),C(this,Zr,r),C(this,df,i),C(this,nv,o),C(this,Za,a),C(this,tv,s),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],k(this,iw,Iz).call(this,s);const[l,c,u,h]=d(this,_u);for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/u,n[f+1]=(n[f+1]-c)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/u,r[f+1]=(r[f+1]-c)/h}toSVGPath(){const n=[`M${d(this,Zt)[4]} ${d(this,Zt)[5]}`];for(let r=6,i=d(this,Zt).length;r<i;r+=6){if(isNaN(d(this,Zt)[r])){n.push(`L${d(this,Zt)[r+4]} ${d(this,Zt)[r+5]}`);continue}n.push(`C${d(this,Zt)[r]} ${d(this,Zt)[r+1]} ${d(this,Zt)[r+2]} ${d(this,Zt)[r+3]} ${d(this,Zt)[r+4]} ${d(this,Zt)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,o],a){const s=i-n,l=o-r;let c,u;switch(a){case 0:c=ue._rescale(d(this,Zt),n,o,s,-l),u=ue._rescale(d(this,Zr),n,o,s,-l);break;case 90:c=ue._rescaleAndSwap(d(this,Zt),n,r,s,l),u=ue._rescaleAndSwap(d(this,Zr),n,r,s,l);break;case 180:c=ue._rescale(d(this,Zt),i,r,-s,l),u=ue._rescale(d(this,Zr),i,r,-s,l);break;case 270:c=ue._rescaleAndSwap(d(this,Zt),i,o,-s,-l),u=ue._rescaleAndSwap(d(this,Zr),i,o,-s,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return d(this,_u)}newOutliner(n,r,i,o,a,s=0){return new I0(n,r,i,o,a,s)}getNewOutline(n,r){const[i,o,a,s]=d(this,_u),[l,c,u,h]=d(this,df),f=a*u,p=s*h,m=i*u+l,g=o*h+c,y=this.newOutliner({x:d(this,Zr)[0]*f+m,y:d(this,Zr)[1]*p+g},d(this,df),d(this,nv),n,d(this,tv),r??d(this,Za));for(let v=2;v<d(this,Zr).length;v+=2)y.add({x:d(this,Zr)[v]*f+m,y:d(this,Zr)[v+1]*p+g});return y.getOutlines()}}df=new WeakMap,_u=new WeakMap,Za=new WeakMap,tv=new WeakMap,Zr=new WeakMap,nv=new WeakMap,Zt=new WeakMap,iw=new WeakSet,Iz=function(n){const r=d(this,Zt);let i=r[4],o=r[5];const a=[i,o,i,o];let s=i,l=o,c=i,u=o;const h=n?Math.max:Math.min,f=new Float32Array(4);for(let m=6,g=r.length;m<g;m+=6){const y=r[m+4],v=r[m+5];isNaN(r[m])?(he.pointBoundingBox(y,v,a),l>v?(s=y,l=v):l===v&&(s=h(s,y)),u<v?(c=y,u=v):u===v&&(c=h(c,y))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,he.bezierBoundingBox(i,o,...r.slice(m,m+6),f),he.rectBoundingBox(f[0],f[1],f[2],f[3],a),l>f[1]?(s=f[0],l=f[1]):l===f[1]&&(s=h(s,f[0])),u<f[3]?(c=f[2],u=f[3]):u===f[3]&&(c=h(c,f[2]))),i=y,o=v}const p=d(this,_u);p[0]=a[0]-d(this,Za),p[1]=a[1]-d(this,Za),p[2]=a[2]-a[0]+2*d(this,Za),p[3]=a[3]-a[1]+2*d(this,Za),this.firstPoint=[s,l],this.lastPoint=[c,u]};var rv,iv,ov,Al,ao,vr,Nz,Zb,jz,Dz,JC;class YC{constructor(e,n=0,r=0,i=!0){T(this,vr);T(this,rv);T(this,iv);T(this,ov);T(this,Al,[]);T(this,ao,[]);const o=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:g,y,width:v,height:w}of e){const x=Math.floor((g-n)/a)*a,E=Math.ceil((g+v+n)/a)*a,A=Math.floor((y-n)/a)*a,S=Math.ceil((y+w+n)/a)*a,_=[x,A,S,!0],O=[E,A,S,!1];d(this,Al).push(_,O),he.rectBoundingBox(x,A,E,S,o)}const s=o[2]-o[0]+2*r,l=o[3]-o[1]+2*r,c=o[0]-r,u=o[1]-r;let h=i?-1/0:1/0,f=1/0;const p=d(this,Al).at(i?-1:-2),m=[p[0],p[2]];for(const g of d(this,Al)){const[y,v,w,x]=g;!x&&i?v<f?(f=v,h=y):v===f&&(h=Math.max(h,y)):x&&!i&&(v<f?(f=v,h=y):v===f&&(h=Math.min(h,y))),g[0]=(y-c)/s,g[1]=(v-u)/l,g[2]=(w-u)/l}C(this,rv,new Float32Array([c,u,s,l])),C(this,iv,[h,f]),C(this,ov,m)}getOutlines(){d(this,Al).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of d(this,Al))n[3]?(e.push(...k(this,vr,JC).call(this,n)),k(this,vr,jz).call(this,n)):(k(this,vr,Dz).call(this,n),e.push(...k(this,vr,JC).call(this,n)));return k(this,vr,Nz).call(this,e)}}rv=new WeakMap,iv=new WeakMap,ov=new WeakMap,Al=new WeakMap,ao=new WeakMap,vr=new WeakSet,Nz=function(e){const n=[],r=new Set;for(const a of e){const[s,l,c]=a;n.push([s,l,a],[s,c,a])}n.sort((a,s)=>a[1]-s[1]||a[0]-s[0]);for(let a=0,s=n.length;a<s;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let o;for(;r.size>0;){const a=r.values().next().value;let[s,l,c,u,h]=a;r.delete(a);let f=s,p=l;for(o=[s,c],i.push(o);;){let m;if(r.has(u))m=u;else if(r.has(h))m=h;else break;r.delete(m),[s,l,c,u,h]=m,f!==s&&(o.push(f,p,s,p===l?l:c),f=s),p=p===l?c:l}o.push(f,p)}return new $0e(i,d(this,rv),d(this,iv),d(this,ov))},Zb=function(e){const n=d(this,ao);let r=0,i=n.length-1;for(;r<=i;){const o=r+i>>1,a=n[o][0];if(a===e)return o;a<e?r=o+1:i=o-1}return i+1},jz=function([,e,n]){const r=k(this,vr,Zb).call(this,e);d(this,ao).splice(r,0,[e,n])},Dz=function([,e,n]){const r=k(this,vr,Zb).call(this,e);for(let i=r;i<d(this,ao).length;i++){const[o,a]=d(this,ao)[i];if(o!==e)break;if(o===e&&a===n){d(this,ao).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[o,a]=d(this,ao)[i];if(o!==e)break;if(o===e&&a===n){d(this,ao).splice(i,1);return}}},JC=function(e){const[n,r,i]=e,o=[[n,r,i]],a=k(this,vr,Zb).call(this,i);for(let s=0;s<a;s++){const[l,c]=d(this,ao)[s];for(let u=0,h=o.length;u<h;u++){const[,f,p]=o[u];if(!(c<=f||p<=l)){if(f>=l){if(p>c)o[u][1]=c;else{if(h===1)return[];o.splice(u,1),u--,h--}continue}o[u][2]=l,p>c&&o.push([n,c,p])}}}return o};var av,ff;class $0e extends ue{constructor(n,r,i,o){super();T(this,av);T(this,ff);C(this,ff,n),C(this,av,r),this.firstPoint=i,this.lastPoint=o}toSVGPath(){const n=[];for(const r of d(this,ff)){let[i,o]=r;n.push(`M${i} ${o}`);for(let a=2;a<r.length;a+=2){const s=r[a],l=r[a+1];s===i?(n.push(`V${l}`),o=l):l===o&&(n.push(`H${s}`),i=s)}n.push("Z")}return n.join(" ")}serialize([n,r,i,o],a){const s=[],l=i-n,c=o-r;for(const u of d(this,ff)){const h=new Array(u.length);for(let f=0;f<u.length;f+=2)h[f]=n+u[f]*l,h[f+1]=o-u[f+1]*c;s.push(h)}return s}get box(){return d(this,av)}get classNamesForOutlining(){return["highlightOutline"]}}av=new WeakMap,ff=new WeakMap;class ZC extends I0{newFreeDrawOutline(e,n,r,i,o,a){return new F0e(e,n,r,i,o,a)}}class F0e extends Rz{newOutliner(e,n,r,i,o,a=0){return new ZC(e,n,r,i,o,a)}}var pf,sv,Qa,Pu,lv,Pr,cv,uv,Tu,Qr,ei,$n,mf,gf,Yn,yf,Ri,hv,$e,QC,Qb,Lz,$z,Fz,e_,bc,Li,Ih,Bz,ex,tx,zz,Uz,Hz,Vz,Wz;const Qe=class Qe extends Et{constructor(n){super({...n,name:"highlightEditor"});T(this,$e);T(this,pf,null);T(this,sv,0);T(this,Qa);T(this,Pu,null);T(this,lv,null);T(this,Pr,null);T(this,cv,null);T(this,uv,0);T(this,Tu,null);T(this,Qr,null);T(this,ei,null);T(this,$n,!1);T(this,mf,null);T(this,gf,null);T(this,Yn,null);T(this,yf,"");T(this,Ri);T(this,hv,"");this.color=n.color||Qe._defaultColor,C(this,Ri,n.thickness||Qe._defaultThickness),this.opacity=n.opacity||Qe._defaultOpacity,C(this,Qa,n.boxes||null),C(this,hv,n.methodOfCreation||""),C(this,yf,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(C(this,$n,!0),k(this,$e,Qb).call(this,n),k(this,$e,bc).call(this)):d(this,Qa)&&(C(this,pf,n.anchorNode),C(this,sv,n.anchorOffset),C(this,cv,n.focusNode),C(this,uv,n.focusOffset),k(this,$e,QC).call(this),k(this,$e,bc).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=Qe.prototype;return Le(this,"_keyboardManager",new Dv([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,$n)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:d(this,Ri),methodOfCreation:d(this,hv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;Et.initialize(n,r),Qe._defaultColor||(Qe._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Ve.HIGHLIGHT_COLOR:Qe._defaultColor=r;break;case Ve.HIGHLIGHT_THICKNESS:Qe._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return d(this,gf)}get commentButtonPosition(){return d(this,mf)}updateParams(n,r){switch(n){case Ve.HIGHLIGHT_COLOR:k(this,$e,Lz).call(this,r);break;case Ve.HIGHLIGHT_THICKNESS:k(this,$e,$z).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ve.HIGHLIGHT_COLOR,Qe._defaultColor],[Ve.HIGHLIGHT_THICKNESS,Qe._defaultThickness]]}get propertiesToUpdate(){return[[Ve.HIGHLIGHT_COLOR,this.color||Qe._defaultColor],[Ve.HIGHLIGHT_THICKNESS,d(this,Ri)||Qe._defaultThickness],[Ve.HIGHLIGHT_FREE,d(this,$n)]]}onUpdatedColor(){var n,r;(n=this.parent)==null||n.drawLayer.updateProperties(d(this,ei),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=d(this,lv))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",C(this,lv,new Mg({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,$e,tx).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,k(this,$e,tx).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){k(this,$e,e_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,$e,bc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?k(this,$e,e_).call(this):n&&(k(this,$e,bc).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var o,a,s;const{drawLayer:r}=this.parent;let i;d(this,$n)?(n=(n-this.rotation+360)%360,i=k(o=Qe,Li,Ih).call(o,d(this,Qr).box,n)):i=k(a=Qe,Li,Ih).call(a,[this.x,this.y,this.width,this.height],n),r.updateProperties(d(this,ei),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(d(this,Yn),{bbox:k(s=Qe,Li,Ih).call(s,d(this,Pr).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();d(this,yf)&&(n.setAttribute("aria-label",d(this,yf)),n.setAttribute("role","mark")),d(this,$n)?n.classList.add("free"):this.div.addEventListener("keydown",k(this,$e,Bz).bind(this),{signal:this._uiManager._signal});const r=C(this,Tu,document.createElement("div"));return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=d(this,Pu),this.setDims(this.width,this.height),h3(this,d(this,Tu),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(d(this,Yn),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(d(this,Yn),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:k(this,$e,ex).call(this,!0);break;case 1:case 3:k(this,$e,ex).call(this,!1);break}}select(){var n;super.select(),d(this,Yn)&&((n=this.parent)==null||n.drawLayer.updateProperties(d(this,Yn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),d(this,Yn)&&((n=this.parent)==null||n.drawLayer.updateProperties(d(this,Yn),{rootClass:{selected:!1}}),d(this,$n)||k(this,$e,ex).call(this,!1))}get _mustFixPosition(){return!d(this,$n)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(d(this,ei),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(d(this,Yn),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:o,y:a}){const{x:s,y:l,width:c,height:u}=i.getBoundingClientRect(),h=new AbortController,f=n.combinedSignal(h),p=m=>{h.abort(),k(this,Li,Vz).call(this,n,m)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",$t,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",mi,{signal:f}),i.addEventListener("pointermove",k(this,Li,Hz).bind(this,n),{signal:f}),this._freeHighlight=new ZC({x:o,y:a},[s,l,c,u],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var g,y,v,w;let o=null;if(n instanceof bz){const{data:{quadPoints:x,rect:E,rotation:A,id:S,color:_,opacity:O,popupRef:I,richText:M,contentsObj:R,creationDate:N,modificationDate:L},parent:{page:{pageNumber:F}}}=n;o=n={annotationType:ke.HIGHLIGHT,color:Array.from(_),opacity:O,quadPoints:x,boxes:null,pageIndex:F-1,rect:E.slice(0),rotation:A,annotationElementId:S,id:S,deleted:!1,popupRef:I,richText:M,comment:(R==null?void 0:R.str)||null,creationDate:N,modificationDate:L}}else if(n instanceof wT){const{data:{inkLists:x,rect:E,rotation:A,id:S,color:_,borderStyle:{rawWidth:O},popupRef:I,richText:M,contentsObj:R,creationDate:N,modificationDate:L},parent:{page:{pageNumber:F}}}=n;o=n={annotationType:ke.HIGHLIGHT,color:Array.from(_),thickness:O,inkLists:x,boxes:null,pageIndex:F-1,rect:E.slice(0),rotation:A,annotationElementId:S,id:S,deleted:!1,popupRef:I,richText:M,comment:(R==null?void 0:R.str)||null,creationDate:N,modificationDate:L}}const{color:a,quadPoints:s,inkLists:l,opacity:c}=n,u=await super.deserialize(n,r,i);u.color=he.makeHexColor(...a),u.opacity=c||1,l&&C(u,Ri,n.thickness),u._initialData=o,n.comment&&u.setCommentData(n);const[h,f]=u.pageDimensions,[p,m]=u.pageTranslation;if(s){const x=C(u,Qa,[]);for(let E=0;E<s.length;E+=8)x.push({x:(s[E]-p)/h,y:1-(s[E+1]-m)/f,width:(s[E+2]-s[E])/h,height:(s[E+1]-s[E+5])/f});k(g=u,$e,QC).call(g),k(y=u,$e,bc).call(y),u.rotate(u.rotation)}else if(l){C(u,$n,!0);const x=l[0],E={x:x[0]-p,y:f-(x[1]-m)},A=new ZC(E,[0,0,h,f],1,d(u,Ri)/2,!0,.001);for(let O=0,I=x.length;O<I;O+=2)E.x=x[O]-p,E.y=f-(x[O+1]-m),A.add(E);const{id:S,clipPathId:_}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);k(v=u,$e,Qb).call(v,{highlightOutlines:A.getOutlines(),highlightId:S,clipPathId:_}),k(w=u,$e,bc).call(w),u.rotate(u.parentRotation)}return u}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=Et._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(n);return Object.assign(i,{color:r,opacity:this.opacity,thickness:d(this,Ri),quadPoints:k(this,$e,zz).call(this),outlines:k(this,$e,Uz).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!k(this,$e,Wz).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};pf=new WeakMap,sv=new WeakMap,Qa=new WeakMap,Pu=new WeakMap,lv=new WeakMap,Pr=new WeakMap,cv=new WeakMap,uv=new WeakMap,Tu=new WeakMap,Qr=new WeakMap,ei=new WeakMap,$n=new WeakMap,mf=new WeakMap,gf=new WeakMap,Yn=new WeakMap,yf=new WeakMap,Ri=new WeakMap,hv=new WeakMap,$e=new WeakSet,QC=function(){const n=new YC(d(this,Qa),.001);C(this,Qr,n.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,Qr).box;const r=new YC(d(this,Qa),.0025,.001,this._uiManager.direction==="ltr");C(this,Pr,r.getOutlines());const{firstPoint:i}=d(this,Qr);C(this,mf,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:o}=d(this,Pr);C(this,gf,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},Qb=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var f,p;if(C(this,Qr,n),C(this,Pr,n.getNewOutline(d(this,Ri)/2+1.5,.0025)),r>=0)C(this,ei,r),C(this,Pu,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),C(this,Yn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,Pr).box,path:{d:d(this,Pr).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,ei),{bbox:k(f=Qe,Li,Ih).call(f,d(this,Qr).box,(m-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,Yn),{bbox:k(p=Qe,Li,Ih).call(p,d(this,Pr).box,m),path:{d:d(this,Pr).toSVGPath()}})}const[a,s,l,c]=n.box;switch(this.rotation){case 0:this.x=a,this.y=s,this.width=l,this.height=c;break;case 90:{const[m,g]=this.parentDimensions;this.x=s,this.y=1-a,this.width=l*g/m,this.height=c*m/g;break}case 180:this.x=1-a,this.y=1-s,this.width=l,this.height=c;break;case 270:{const[m,g]=this.parentDimensions;this.x=1-s,this.y=a,this.width=l*g/m,this.height=c*m/g;break}}const{firstPoint:u}=n;C(this,mf,[(u[0]-a)/l,(u[1]-s)/c]);const{lastPoint:h}=d(this,Pr);C(this,gf,[(h[0]-a)/l,(h[1]-s)/c])},Lz=function(n){const r=(a,s)=>{this.color=a,this.opacity=s,this.onUpdatedColor()},i=this.color,o=this.opacity;this.addCommands({cmd:r.bind(this,n,Qe._defaultOpacity),undo:r.bind(this,i,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},$z=function(n){const r=d(this,Ri),i=o=>{C(this,Ri,o),k(this,$e,Fz).call(this,o)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},Fz=function(n){d(this,$n)&&(k(this,$e,Qb).call(this,{highlightOutlines:d(this,Qr).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},e_=function(){d(this,ei)===null||!this.parent||(this.parent.drawLayer.remove(d(this,ei)),C(this,ei,null),this.parent.drawLayer.remove(d(this,Yn)),C(this,Yn,null))},bc=function(n=this.parent){d(this,ei)===null&&({id:dn(this,ei)._,clipPathId:dn(this,Pu)._}=n.drawLayer.draw({bbox:d(this,Qr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:d(this,$n)},path:{d:d(this,Qr).toSVGPath()}},!1,!0),C(this,Yn,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,$n)},bbox:d(this,Pr).box,path:{d:d(this,Pr).toSVGPath()}},d(this,$n))),d(this,Tu)&&(d(this,Tu).style.clipPath=d(this,Pu)))},Li=new WeakSet,Ih=function([n,r,i,o],a){switch(a){case 90:return[1-r-o,n,o,i];case 180:return[1-n-i,1-r-o,i,o];case 270:return[r,1-n-i,o,i]}return[n,r,i,o]},Bz=function(n){Qe._keyboardManager.exec(this,n)},ex=function(n){if(!d(this,pf))return;const r=window.getSelection();n?r.setPosition(d(this,pf),d(this,sv)):r.setPosition(d(this,cv),d(this,uv))},tx=function(){return d(this,$n)?this.rotation:0},zz=function(){if(d(this,$n))return null;const[n,r]=this.pageDimensions,[i,o]=this.pageTranslation,a=d(this,Qa),s=new Float32Array(a.length*8);let l=0;for(const{x:c,y:u,width:h,height:f}of a){const p=c*n+i,m=(1-u)*r+o;s[l]=s[l+4]=p,s[l+1]=s[l+3]=m,s[l+2]=s[l+6]=p+h*n,s[l+5]=s[l+7]=m-f*r,l+=8}return s},Uz=function(n){return d(this,Qr).serialize(n,k(this,$e,tx).call(this))},Hz=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Vz=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Wz=function(n){const{color:r}=this._initialData;return this.hasEditedComment||n.color.some((i,o)=>i!==r[o])},T(Qe,Li),Q(Qe,"_defaultColor",null),Q(Qe,"_defaultOpacity",1),Q(Qe,"_defaultThickness",12),Q(Qe,"_type","highlight"),Q(Qe,"_editorType",ke.HIGHLIGHT),Q(Qe,"_freeHighlightId",-1),Q(Qe,"_freeHighlight",null),Q(Qe,"_freeHighlightClipId","");let N0=Qe;var ku;class Gz{constructor(){T(this,ku,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){d(this,ku)[e]=n}toSVGProperties(){const e=d(this,ku);return C(this,ku,Object.create(null)),{root:e}}reset(){C(this,ku,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){vt("Not implemented")}}ku=new WeakMap;var ti,vf,Sn,Ou,Mu,Sl,El,Cl,Ru,Ke,t_,n_,r_,Em,qz,nx,Cm,Nh;const fe=class fe extends Et{constructor(n){super(n);T(this,Ke);T(this,ti,null);T(this,vf);Q(this,"_colorPicker",null);Q(this,"_drawId",null);C(this,vf,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(k(this,Ke,t_).call(this,n),k(this,Ke,Em).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[o,a]of Object.entries(r))i.has(o)?Object.assign(n[o],a):n[o]=a;return n}static getDefaultDrawingOptions(n){vt("Not implemented")}static get typesMap(){vt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(d(fe,Sn).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,o]of this.typesMap)n.push([i,r[o]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,o]of this.constructor.typesMap)n.push([i,r[o]]);return n}_updateProperty(n,r,i){const o=this._drawingOptions,a=o[r],s=l=>{var u;o.updateProperty(r,l);const c=d(this,ti).updateProperty(r,l);c&&k(this,Ke,Cm).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,o.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(d(this,ti).getPathResizingSVGProperties(k(this,Ke,nx).call(this)),{bbox:k(this,Ke,Nh).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(d(this,ti).getPathResizedSVGProperties(k(this,Ke,nx).call(this)),{bbox:k(this,Ke,Nh).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:k(this,Ke,Nh).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties(d(this,ti).getPathTranslatedSVGProperties(k(this,Ke,nx).call(this),this.parentDimensions),{bbox:k(this,Ke,Nh).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,vf)&&(C(this,vf,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){k(this,Ke,r_).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Ke,Em).call(this),k(this,Ke,Cm).call(this,d(this,ti).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),k(this,Ke,r_).call(this)):n&&(this._uiManager.addShouldRescale(this),k(this,Ke,Em).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,fe._mergeSVGProperties({bbox:k(this,Ke,Nh).call(this)},d(this,ti).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&k(this,Ke,Cm).call(this,d(this,ti).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const o=document.createElement("div");return i.append(o),o.setAttribute("aria-hidden","true"),o.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,o,a){vt("Not implemented")}static startDrawing(n,r,i,o){var y;const{target:a,offsetX:s,offsetY:l,pointerId:c,pointerType:u}=o;if(d(fe,El)&&d(fe,El)!==u)return;const{viewport:{rotation:h}}=n,{width:f,height:p}=a.getBoundingClientRect(),m=C(fe,Ou,new AbortController),g=n.combinedSignal(m);if(d(fe,Sl)||C(fe,Sl,c),d(fe,El)??C(fe,El,u),window.addEventListener("pointerup",v=>{var w;d(fe,Sl)===v.pointerId?this._endDraw(v):(w=d(fe,Cl))==null||w.delete(v.pointerId)},{signal:g}),window.addEventListener("pointercancel",v=>{var w;d(fe,Sl)===v.pointerId?this._currentParent.endDrawingSession():(w=d(fe,Cl))==null||w.delete(v.pointerId)},{signal:g}),window.addEventListener("pointerdown",v=>{d(fe,El)===v.pointerType&&((d(fe,Cl)||C(fe,Cl,new Set)).add(v.pointerId),d(fe,Sn).isCancellable()&&(d(fe,Sn).removeLastElement(),d(fe,Sn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",mi,{signal:g}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),a.addEventListener("touchmove",v=>{v.timeStamp===d(fe,Ru)&&$t(v)},{signal:g}),n.toggleDrawing(),(y=r._editorUndoBar)==null||y.hide(),d(fe,Sn)){n.drawLayer.updateProperties(this._currentDrawId,d(fe,Sn).startNew(s,l,f,p,h));return}r.updateUIForDefaultProperties(this),C(fe,Sn,this.createDrawerInstance(s,l,f,p,h)),C(fe,Mu,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(d(fe,Mu).toSVGProperties(),d(fe,Sn).defaultSVGProperties),!0,!1)}static _drawMove(n){var a;if(C(fe,Ru,-1),!d(fe,Sn))return;const{offsetX:r,offsetY:i,pointerId:o}=n;if(d(fe,Sl)===o){if(((a=d(fe,Cl))==null?void 0:a.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(fe,Sn).add(r,i)),C(fe,Ru,n.timeStamp),$t(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,C(fe,Sn,null),C(fe,Mu,null),C(fe,El,null),C(fe,Ru,NaN)),d(fe,Ou)&&(d(fe,Ou).abort(),C(fe,Ou,null),C(fe,Sl,NaN),C(fe,Cl,null))}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,d(fe,Sn).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=d(fe,Sn),o=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(o,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(o,i.removeLastElement())},mustExec:!1,type:Ve.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Ve.DRAW_STEP),!d(fe,Sn).isEmpty()){const{pageDimensions:[i,o],scale:a}=r,s=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(fe,Sn).getOutlines(i*a,o*a,a,this._INNER_MARGIN),drawingOptions:d(fe,Mu),mustBeCommitted:!n});return this._cleanup(!0),s}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,o,a,s){vt("Not implemented")}static async deserialize(n,r,i){var h,f;const{rawDims:{pageWidth:o,pageHeight:a,pageX:s,pageY:l}}=r.viewport,c=this.deserializeDraw(s,l,o,a,this._INNER_MARGIN,n),u=await super.deserialize(n,r,i);return u.createDrawingOptions(n),k(h=u,Ke,t_).call(h,{drawOutlines:c}),k(f=u,Ke,Em).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(n){const[r,i]=this.pageTranslation,[o,a]=this.pageDimensions;return d(this,ti).serialize([r,i,o,a],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};ti=new WeakMap,vf=new WeakMap,Sn=new WeakMap,Ou=new WeakMap,Mu=new WeakMap,Sl=new WeakMap,El=new WeakMap,Cl=new WeakMap,Ru=new WeakMap,Ke=new WeakSet,t_=function({drawOutlines:n,drawId:r,drawingOptions:i}){C(this,ti,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=k(this,Ke,n_).call(this,n,this.parent),k(this,Ke,Cm).call(this,n.box)},n_=function(n,r){const{id:i}=r.drawLayer.draw(fe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},r_=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Em=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=k(this,Ke,n_).call(this,d(this,ti),n)}},qz=function([n,r,i,o]){const{parentDimensions:[a,s],rotation:l}=this;switch(l){case 90:return[r,1-n,i*(s/a),o*(a/s)];case 180:return[1-n,1-r,i,o];case 270:return[1-r,n,i*(s/a),o*(a/s)];default:return[n,r,i,o]}},nx=function(){const{x:n,y:r,width:i,height:o,parentDimensions:[a,s],rotation:l}=this;switch(l){case 90:return[1-r,n,i*(a/s),o*(s/a)];case 180:return[1-n,1-r,i,o];case 270:return[r,1-n,i*(a/s),o*(s/a)];default:return[n,r,i,o]}},Cm=function(n){[this.x,this.y,this.width,this.height]=k(this,Ke,qz).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Nh=function(){const{x:n,y:r,width:i,height:o,rotation:a,parentRotation:s,parentDimensions:[l,c]}=this;switch((a*4+s)/90){case 1:return[1-r-o,n,o,i];case 2:return[1-n-i,1-r-o,i,o];case 3:return[r,1-n-i,o,i];case 4:return[n,r-i*(l/c),o*(c/l),i*(l/c)];case 5:return[1-r,n,i*(l/c),o*(c/l)];case 6:return[1-n-o*(c/l),1-r,o*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-n-o*(c/l),i*(l/c),o*(c/l)];case 8:return[n-i,r-o,i,o];case 9:return[1-r,n-i,o,i];case 10:return[1-n,1-r,i,o];case 11:return[r-o,1-n,o,i];case 12:return[n-o*(c/l),r,o*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),n-o*(c/l),i*(l/c),o*(c/l)];case 14:return[1-n,1-r-i*(l/c),o*(c/l),i*(l/c)];case 15:return[r,1-n,i*(l/c),o*(c/l)];default:return[n,r,i,o]}},Q(fe,"_currentDrawId",-1),Q(fe,"_currentParent",null),T(fe,Sn,null),T(fe,Ou,null),T(fe,Mu,null),T(fe,Sl,NaN),T(fe,El,null),T(fe,Cl,null),T(fe,Ru,NaN),Q(fe,"_INNER_MARGIN",3);let j0=fe;var Ko,En,Cn,Iu,bf,sr,Fn,Ii,Nu,ju,Du,xf,rx;class B0e{constructor(e,n,r,i,o,a){T(this,xf);T(this,Ko,new Float64Array(6));T(this,En);T(this,Cn);T(this,Iu);T(this,bf);T(this,sr);T(this,Fn,"");T(this,Ii,0);T(this,Nu,new $v);T(this,ju);T(this,Du);C(this,ju,r),C(this,Du,i),C(this,Iu,o),C(this,bf,a),[e,n]=k(this,xf,rx).call(this,e,n);const s=C(this,En,[NaN,NaN,NaN,NaN,e,n]);C(this,sr,[e,n]),C(this,Cn,[{line:s,points:d(this,sr)}]),d(this,Ko).set(s,0)}updateProperty(e,n){e==="stroke-width"&&C(this,bf,n)}isEmpty(){return!d(this,Cn)||d(this,Cn).length===0}isCancellable(){return d(this,sr).length<=10}add(e,n){[e,n]=k(this,xf,rx).call(this,e,n);const[r,i,o,a]=d(this,Ko).subarray(2,6),s=e-o,l=n-a;return Math.hypot(d(this,ju)*s,d(this,Du)*l)<=2?null:(d(this,sr).push(e,n),isNaN(r)?(d(this,Ko).set([o,a,e,n],2),d(this,En).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(d(this,Ko)[0])&&d(this,En).splice(6,6),d(this,Ko).set([r,i,o,a,e,n],0),d(this,En).push(...ue.createBezierPoints(r,i,o,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(d(this,sr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,o){C(this,ju,r),C(this,Du,i),C(this,Iu,o),[e,n]=k(this,xf,rx).call(this,e,n);const a=C(this,En,[NaN,NaN,NaN,NaN,e,n]);C(this,sr,[e,n]);const s=d(this,Cn).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),d(this,Cn).push({line:a,points:d(this,sr)}),d(this,Ko).set(a,0),C(this,Ii,0),this.toSVGPath(),null}getLastElement(){return d(this,Cn).at(-1)}setLastElement(e){return d(this,Cn)?(d(this,Cn).push(e),C(this,En,e.line),C(this,sr,e.points),C(this,Ii,0),{path:{d:this.toSVGPath()}}):d(this,Nu).setLastElement(e)}removeLastElement(){if(!d(this,Cn))return d(this,Nu).removeLastElement();d(this,Cn).pop(),C(this,Fn,"");for(let e=0,n=d(this,Cn).length;e<n;e++){const{line:r,points:i}=d(this,Cn)[e];C(this,En,r),C(this,sr,i),C(this,Ii,0),this.toSVGPath()}return{path:{d:d(this,Fn)}}}toSVGPath(){const e=ue.svgRound(d(this,En)[4]),n=ue.svgRound(d(this,En)[5]);if(d(this,sr).length===2)return C(this,Fn,`${d(this,Fn)} M ${e} ${n} Z`),d(this,Fn);if(d(this,sr).length<=6){const i=d(this,Fn).lastIndexOf("M");C(this,Fn,`${d(this,Fn).slice(0,i)} M ${e} ${n}`),C(this,Ii,6)}if(d(this,sr).length===4){const i=ue.svgRound(d(this,En)[10]),o=ue.svgRound(d(this,En)[11]);return C(this,Fn,`${d(this,Fn)} L ${i} ${o}`),C(this,Ii,12),d(this,Fn)}const r=[];d(this,Ii)===0&&(r.push(`M ${e} ${n}`),C(this,Ii,6));for(let i=d(this,Ii),o=d(this,En).length;i<o;i+=6){const[a,s,l,c,u,h]=d(this,En).slice(i,i+6).map(ue.svgRound);r.push(`C${a} ${s} ${l} ${c} ${u} ${h}`)}return C(this,Fn,d(this,Fn)+r.join(" ")),C(this,Ii,d(this,En).length),d(this,Fn)}getOutlines(e,n,r,i){const o=d(this,Cn).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),d(this,Nu).build(d(this,Cn),e,n,r,d(this,Iu),d(this,bf),i),C(this,Ko,null),C(this,En,null),C(this,Cn,null),C(this,Fn,null),d(this,Nu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ko=new WeakMap,En=new WeakMap,Cn=new WeakMap,Iu=new WeakMap,bf=new WeakMap,sr=new WeakMap,Fn=new WeakMap,Ii=new WeakMap,Nu=new WeakMap,ju=new WeakMap,Du=new WeakMap,xf=new WeakSet,rx=function(e,n){return ue._normalizePoint(e,n,d(this,ju),d(this,Du),d(this,Iu))};var lr,dv,fv,ni,Xo,Yo,wf,Af,Lu,Un,wa,Kz,Xz,Yz;class $v extends ue{constructor(){super(...arguments);T(this,Un);T(this,lr);T(this,dv,0);T(this,fv);T(this,ni);T(this,Xo);T(this,Yo);T(this,wf);T(this,Af);T(this,Lu)}build(n,r,i,o,a,s,l){C(this,Xo,r),C(this,Yo,i),C(this,wf,o),C(this,Af,a),C(this,Lu,s),C(this,fv,l??0),C(this,ni,n),k(this,Un,Xz).call(this)}get thickness(){return d(this,Lu)}setLastElement(n){return d(this,ni).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,ni).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of d(this,ni)){if(n.push(`M${ue.svgRound(r[4])} ${ue.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${ue.svgRound(r[10])} ${ue.svgRound(r[11])}`);continue}for(let i=6,o=r.length;i<o;i+=6){const[a,s,l,c,u,h]=r.subarray(i,i+6).map(ue.svgRound);n.push(`C${a} ${s} ${l} ${c} ${u} ${h}`)}}return n.join("")}serialize([n,r,i,o],a){const s=[],l=[],[c,u,h,f]=k(this,Un,Kz).call(this);let p,m,g,y,v,w,x,E,A;switch(d(this,Af)){case 0:A=ue._rescale,p=n,m=r+o,g=i,y=-o,v=n+c*i,w=r+(1-u-f)*o,x=n+(c+h)*i,E=r+(1-u)*o;break;case 90:A=ue._rescaleAndSwap,p=n,m=r,g=i,y=o,v=n+u*i,w=r+c*o,x=n+(u+f)*i,E=r+(c+h)*o;break;case 180:A=ue._rescale,p=n+i,m=r,g=-i,y=o,v=n+(1-c-h)*i,w=r+u*o,x=n+(1-c)*i,E=r+(u+f)*o;break;case 270:A=ue._rescaleAndSwap,p=n+i,m=r+o,g=-i,y=-o,v=n+(1-u-f)*i,w=r+(1-c-h)*o,x=n+(1-u)*i,E=r+(1-c)*o;break}for(const{line:S,points:_}of d(this,ni))s.push(A(S,p,m,g,y,a?new Array(S.length):null)),l.push(A(_,p,m,g,y,a?new Array(_.length):null));return{lines:s,points:l,rect:[v,w,x,E]}}static deserialize(n,r,i,o,a,{paths:{lines:s,points:l},rotation:c,thickness:u}){const h=[];let f,p,m,g,y;switch(c){case 0:y=ue._rescale,f=-n/i,p=r/o+1,m=1/i,g=-1/o;break;case 90:y=ue._rescaleAndSwap,f=-r/o,p=-n/i,m=1/o,g=1/i;break;case 180:y=ue._rescale,f=n/i+1,p=-r/o,m=-1/i,g=1/o;break;case 270:y=ue._rescaleAndSwap,f=r/o+1,p=n/i+1,m=-1/o,g=-1/i;break}if(!s){s=[];for(const w of l){const x=w.length;if(x===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const E=new Float32Array(3*(x-2));s.push(E);let[A,S,_,O]=w.subarray(0,4);E.set([NaN,NaN,NaN,NaN,A,S],0);for(let I=4;I<x;I+=2){const M=w[I],R=w[I+1];E.set(ue.createBezierPoints(A,S,_,O,M,R),(I-2)*3),[A,S,_,O]=[_,O,M,R]}}}for(let w=0,x=s.length;w<x;w++)h.push({line:y(s[w].map(E=>E??NaN),f,p,m,g),points:y(l[w].map(E=>E??NaN),f,p,m,g)});const v=new this.prototype.constructor;return v.build(h,i,o,1,c,u,a),v}get box(){return d(this,lr)}updateProperty(n,r){return n==="stroke-width"?k(this,Un,Yz).call(this,r):null}updateParentDimensions([n,r],i){const[o,a]=k(this,Un,wa).call(this);C(this,Xo,n),C(this,Yo,r),C(this,wf,i);const[s,l]=k(this,Un,wa).call(this),c=s-o,u=l-a,h=d(this,lr);return h[0]-=c,h[1]-=u,h[2]+=2*c,h[3]+=2*u,h}updateRotation(n){return C(this,dv,n),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,lr).map(ue.svgRound).join(" ")}get defaultProperties(){const[n,r]=d(this,lr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(n)} ${ue.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=d(this,lr);let i=0,o=0,a=0,s=0,l=0,c=0;switch(d(this,dv)){case 90:o=r/n,a=-n/r,l=n;break;case 180:i=-1,s=-1,l=n,c=r;break;case 270:o=-r/n,a=n/r,c=r;break;default:return""}return`matrix(${i} ${o} ${a} ${s} ${ue.svgRound(l)} ${ue.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,o]){const[a,s]=k(this,Un,wa).call(this),[l,c,u,h]=d(this,lr);if(Math.abs(u-a)<=ue.PRECISION||Math.abs(h-s)<=ue.PRECISION){const y=n+i/2-(l+u/2),v=r+o/2-(c+h/2);return{path:{"transform-origin":`${ue.svgRound(n)} ${ue.svgRound(r)}`,transform:`${this.rotationTransform} translate(${y} ${v})`}}}const f=(i-2*a)/(u-2*a),p=(o-2*s)/(h-2*s),m=u/i,g=h/o;return{path:{"transform-origin":`${ue.svgRound(l)} ${ue.svgRound(c)}`,transform:`${this.rotationTransform} scale(${m} ${g}) translate(${ue.svgRound(a)} ${ue.svgRound(s)}) scale(${f} ${p}) translate(${ue.svgRound(-a)} ${ue.svgRound(-s)})`}}}getPathResizedSVGProperties([n,r,i,o]){const[a,s]=k(this,Un,wa).call(this),l=d(this,lr),[c,u,h,f]=l;if(l[0]=n,l[1]=r,l[2]=i,l[3]=o,Math.abs(h-a)<=ue.PRECISION||Math.abs(f-s)<=ue.PRECISION){const v=n+i/2-(c+h/2),w=r+o/2-(u+f/2);for(const{line:x,points:E}of d(this,ni))ue._translate(x,v,w,x),ue._translate(E,v,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(n)} ${ue.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(h-2*a),m=(o-2*s)/(f-2*s),g=-p*(c+a)+n+a,y=-m*(u+s)+r+s;if(p!==1||m!==1||g!==0||y!==0)for(const{line:v,points:w}of d(this,ni))ue._rescale(v,g,y,p,m,v),ue._rescale(w,g,y,p,m,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(n)} ${ue.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[o,a]=i,s=d(this,lr),l=n-s[0],c=r-s[1];if(d(this,Xo)===o&&d(this,Yo)===a)for(const{line:u,points:h}of d(this,ni))ue._translate(u,l,c,u),ue._translate(h,l,c,h);else{const u=d(this,Xo)/o,h=d(this,Yo)/a;C(this,Xo,o),C(this,Yo,a);for(const{line:f,points:p}of d(this,ni))ue._rescale(f,l,c,u,h,f),ue._rescale(p,l,c,u,h,p);s[2]*=u,s[3]*=h}return s[0]=n,s[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(n)} ${ue.svgRound(r)}`}}}get defaultSVGProperties(){const n=d(this,lr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(n[0])} ${ue.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}lr=new WeakMap,dv=new WeakMap,fv=new WeakMap,ni=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,wf=new WeakMap,Af=new WeakMap,Lu=new WeakMap,Un=new WeakSet,wa=function(n=d(this,Lu)){const r=d(this,fv)+n/2*d(this,wf);return d(this,Af)%180===0?[r/d(this,Xo),r/d(this,Yo)]:[r/d(this,Yo),r/d(this,Xo)]},Kz=function(){const[n,r,i,o]=d(this,lr),[a,s]=k(this,Un,wa).call(this,0);return[n+a,r+s,i-2*a,o-2*s]},Xz=function(){const n=C(this,lr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of d(this,ni)){if(o.length<=12){for(let l=4,c=o.length;l<c;l+=6)he.pointBoundingBox(o[l],o[l+1],n);continue}let a=o[4],s=o[5];for(let l=6,c=o.length;l<c;l+=6){const[u,h,f,p,m,g]=o.subarray(l,l+6);he.bezierBoundingBox(a,s,u,h,f,p,m,g,n),a=m,s=g}}const[r,i]=k(this,Un,wa).call(this);n[0]=Zn(n[0]-r,0,1),n[1]=Zn(n[1]-i,0,1),n[2]=Zn(n[2]+r,0,1),n[3]=Zn(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},Yz=function(n){const[r,i]=k(this,Un,wa).call(this);C(this,Lu,n);const[o,a]=k(this,Un,wa).call(this),[s,l]=[o-r,a-i],c=d(this,lr);return c[0]-=s,c[1]-=l,c[2]+=2*s,c[3]+=2*l,c};class E1 extends Gz{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Et._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new E1(this._viewParameters);return e.updateAll(this),e}}var ow,Jz;const Wh=class Wh extends j0{constructor(n){super({...n,name:"inkEditor"});T(this,ow);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){Et.initialize(n,r),this._defaultDrawingOptions=new E1(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Le(this,"typesMap",new Map([[Ve.INK_THICKNESS,"stroke-width"],[Ve.INK_COLOR,"stroke"],[Ve.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,o,a){return new B0e(n,r,i,o,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,o,a,s){return $v.deserialize(n,r,i,o,a,s)}static async deserialize(n,r,i){let o=null;if(n instanceof wT){const{data:{inkLists:s,rect:l,rotation:c,id:u,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:m,richText:g,contentsObj:y,creationDate:v,modificationDate:w},parent:{page:{pageNumber:x}}}=n;o=n={annotationType:ke.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:s},boxes:null,pageIndex:x-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:m,richText:g,comment:(y==null?void 0:y.str)||null,creationDate:v,modificationDate:w}}const a=await super.deserialize(n,r,i);return a._initialData=o,n.comment&&a.setCommentData(n),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new R0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ve.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=Wh.getDefaultDrawingOptions({stroke:he.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":s}}=this,l=Object.assign(super.serialize(n),{color:Et._colorManager.convert(o),opacity:a,thickness:s,paths:{lines:r,points:i}});return this.addComment(l),n?(l.isCopy=!0,l):this.annotationElementId&&!k(this,ow,Jz).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};ow=new WeakSet,Jz=function(n){const{color:r,thickness:i,opacity:o,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((s,l)=>s!==r[l])||n.thickness!==i||n.opacity!==o||n.pageIndex!==a},Q(Wh,"_type","ink"),Q(Wh,"_editorType",ke.INK),Q(Wh,"_defaultDrawingOptions",null);let i_=Wh;class o_ extends $v{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const xb=8,nm=3;var $u,rt,a_,so,Zz,Qz,s_,ix,e5,t5,n5,l_,c_,r5;class ta{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},o,a,s,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const h=200,f=u.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:m,actualBoundingBoxAscent:g,actualBoundingBoxDescent:y,fontBoundingBoxAscent:v,fontBoundingBoxDescent:w,width:x}=u.measureText(e),E=1.5,A=Math.ceil(Math.max(Math.abs(p)+Math.abs(m)||0,x)*E),S=Math.ceil(Math.max(Math.abs(g)+Math.abs(y)||h,Math.abs(v)+Math.abs(w)||h)*E);c=new OffscreenCanvas(A,S),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=f,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,A,S),u.fillStyle="black",u.fillText(e,A*(E-1)/2,S*(3-E)/2);const _=k(this,rt,l_).call(this,u.getImageData(0,0,A,S).data),O=k(this,rt,n5).call(this,_),I=k(this,rt,c_).call(this,O),M=k(this,rt,s_).call(this,_,A,S,I);return this.processDrawnLines({lines:{curves:M,width:A,height:S},pageWidth:o,pageHeight:a,rotation:s,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,o){const[a,s,l]=k(this,rt,r5).call(this,e),[c,u]=k(this,rt,t5).call(this,a,s,l,Math.hypot(s,l)*d(this,$u).sigmaSFactor,d(this,$u).sigmaR,d(this,$u).kernelSize),h=k(this,rt,c_).call(this,u),f=k(this,rt,s_).call(this,c,s,l,h);return this.processDrawnLines({lines:{curves:f,width:s,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:o,mustSmooth:a,areContours:s}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:u}=e,h=e.thickness??0,f=[],p=Math.min(n/c,r/u),m=p/n,g=p/r,y=[];for(const{points:w}of l){const x=a?k(this,rt,e5).call(this,w):w;if(!x)continue;y.push(x);const E=x.length,A=new Float32Array(E),S=new Float32Array(3*(E===2?2:E-2));if(f.push({line:S,points:A}),E===2){A[0]=x[0]*m,A[1]=x[1]*g,S.set([NaN,NaN,NaN,NaN,A[0],A[1]],0);continue}let[_,O,I,M]=x;_*=m,O*=g,I*=m,M*=g,A.set([_,O,I,M],0),S.set([NaN,NaN,NaN,NaN,_,O],0);for(let R=4;R<E;R+=2){const N=A[R]=x[R]*m,L=A[R+1]=x[R+1]*g;S.set(ue.createBezierPoints(_,O,I,M,N,L),(R-2)*3),[_,O,I,M]=[I,M,N,L]}}if(f.length===0)return null;const v=s?new o_:new $v;return v.build(f,n,r,1,i,s?0:h,o),{outline:v,newCurves:y,areContours:s,thickness:h,width:c,height:u}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:o}){let a=1/0,s=-1/0,l=0;for(const x of e){l+=x.length;for(let E=2,A=x.length;E<A;E++){const S=x[E]-x[E-2];a=Math.min(a,S),s=Math.max(s,S)}}let c;a>=-128&&s<=127?c=Int8Array:a>=-32768&&s<=32767?c=Int16Array:c=Int32Array;const u=e.length,h=xb+nm*u,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=o,f[p++]=n?0:1,f[p++]=Math.max(0,Math.floor(r??0)),f[p++]=u,f[p++]=c.BYTES_PER_ELEMENT;for(const x of e)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const m=new CompressionStream("deflate-raw"),g=m.writable.getWriter();await g.ready,g.write(f);const y=c.prototype.constructor;for(const x of e){const E=new y(x.length-2);for(let A=2,S=x.length;A<S;A++)E[A-2]=x[A]-x[A-2];g.write(E)}g.close();const v=await new Response(m.readable).arrayBuffer(),w=new Uint8Array(v);return QB(w)}static async decompressSignature(e){try{const n=hxe(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),o=i.getWriter();await o.ready,o.write(n).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let a=null,s=0;for await(const x of r)a||(a=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),a.set(x,s),s+=x.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],h=l[3],f=l[4]===0,p=l[5],m=l[6],g=l[7],y=[],v=(xb+nm*m)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(g){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,v);break}s=0;for(let x=0;x<m;x++){const E=l[nm*x+xb],A=new Float32Array(E+2);y.push(A);for(let S=0;S<nm-1;S++)A[S]=l[nm*x+xb+S+1];for(let S=0;S<E;S++)A[S+2]=A[S]+w[s++]}return{areContours:f,thickness:p,outlines:y,width:u,height:h}}catch(n){return Oe(`decompressSignature: ${n}`),null}}}$u=new WeakMap,rt=new WeakSet,a_=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},so=new WeakMap,Zz=function(e,n,r,i,o,a,s){const l=k(this,rt,a_).call(this,r,i,o,a);for(let c=0;c<8;c++){const u=(-c+l-s+16)%8,h=d(this,so)[2*u],f=d(this,so)[2*u+1];if(e[(r+h)*n+(i+f)]!==0)return u}return-1},Qz=function(e,n,r,i,o,a,s){const l=k(this,rt,a_).call(this,r,i,o,a);for(let c=0;c<8;c++){const u=(c+l+s+16)%8,h=d(this,so)[2*u],f=d(this,so)[2*u+1];if(e[(r+h)*n+(i+f)]!==0)return u}return-1},s_=function(e,n,r,i){const o=e.length,a=new Int32Array(o);for(let u=0;u<o;u++)a[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)a[u*n]=a[u*n+n-1]=0;for(let u=0;u<n;u++)a[u]=a[n*r-1-u]=0;let s=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let h=1;h<n-1;h++){const f=u*n+h,p=a[f];if(p===0)continue;let m=u,g=h;if(p===1&&a[f-1]===0)s+=1,g-=1;else if(p>=1&&a[f+1]===0)s+=1,g+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const y=[h,u],v=g===h+1,w={isHole:v,points:y,id:s,parent:0};c.push(w);let x;for(const R of c)if(R.id===l){x=R;break}x?x.isHole?w.parent=v?x.parent:l:w.parent=v?l:x.parent:w.parent=v?l:0;const E=k(this,rt,Zz).call(this,a,n,u,h,m,g,0);if(E===-1){a[f]=-s,a[f]!==1&&(l=Math.abs(a[f]));continue}let A=d(this,so)[2*E],S=d(this,so)[2*E+1];const _=u+A,O=h+S;m=_,g=O;let I=u,M=h;for(;;){const R=k(this,rt,Qz).call(this,a,n,I,M,m,g,1);A=d(this,so)[2*R],S=d(this,so)[2*R+1];const N=I+A,L=M+S;y.push(L,N);const F=I*n+M;if(a[F+1]===0?a[F]=-s:a[F]===1&&(a[F]=s),N===u&&L===h&&I===_&&M===O){a[f]!==1&&(l=Math.abs(a[f]));break}else m=I,g=M,I=N,M=L}}}return c},ix=function(e,n,r,i){if(r-n<=4){for(let _=n;_<r-2;_+=2)i.push(e[_],e[_+1]);return}const o=e[n],a=e[n+1],s=e[r-4]-o,l=e[r-3]-a,c=Math.hypot(s,l),u=s/c,h=l/c,f=u*a-h*o,p=l/s,m=1/c,g=Math.atan(p),y=Math.cos(g),v=Math.sin(g),w=m*(Math.abs(y)+Math.abs(v)),x=m*(1-w+w**2),E=Math.max(Math.atan(Math.abs(v+y)*x),Math.atan(Math.abs(v-y)*x));let A=0,S=n;for(let _=n+2;_<r-2;_+=2){const O=Math.abs(f-u*e[_+1]+h*e[_]);O>A&&(S=_,A=O)}A>(c*E)**2?(k(this,rt,ix).call(this,e,n,S+2,i),k(this,rt,ix).call(this,e,S,r,i)):i.push(o,a)},e5=function(e){const n=[],r=e.length;return k(this,rt,ix).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},t5=function(e,n,r,i,o,a){const s=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let g=0;g<a;g++){const y=(g-c)**2;for(let v=0;v<a;v++)s[g*a+v]=Math.exp((y+(v-c)**2)/l)}const u=new Float32Array(256),h=-2*o**2;for(let g=0;g<256;g++)u[g]=Math.exp(g**2/h);const f=e.length,p=new Uint8Array(f),m=new Uint32Array(256);for(let g=0;g<r;g++)for(let y=0;y<n;y++){const v=g*n+y,w=e[v];let x=0,E=0;for(let S=0;S<a;S++){const _=g+S-c;if(!(_<0||_>=r))for(let O=0;O<a;O++){const I=y+O-c;if(I<0||I>=n)continue;const M=e[_*n+I],R=s[S*a+O]*u[Math.abs(M-w)];x+=M*R,E+=R}}const A=p[v]=Math.round(x/E);m[A]++}return[p,m]},n5=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},l_=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,o=1/0;for(let s=0,l=r.length;s<l;s++){const c=r[s]=e[s<<2];i=Math.max(i,c),o=Math.min(o,c)}const a=255/(i-o);for(let s=0,l=r.length;s<l;s++)r[s]=(r[s]-o)*a;return r},c_=function(e){let n,r=-1/0,i=-1/0;const o=e.findIndex(l=>l!==0);let a=o,s=o;for(n=o;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,s=n-1),r=l,a=n)}for(n=s-1;n>=0&&!(e[n]>e[n+1]);n--);return n},r5=function(e){const n=e,{width:r,height:i}=e,{maxDim:o}=d(this,$u);let a=r,s=i;if(r>o||i>o){let f=r,p=i,m=Math.log2(Math.max(r,i)/o);const g=Math.floor(m);m=m===g?g-1:g;for(let v=0;v<m;v++){a=Math.ceil(f/2),s=Math.ceil(p/2);const w=new OffscreenCanvas(a,s);w.getContext("2d").drawImage(e,0,0,f,p,0,0,a,s),f=a,p=s,e!==n&&e.close(),e=w.transferToImageBitmap()}const y=Math.min(o/a,o/s);a=Math.round(a*y),s=Math.round(s*y)}const c=new OffscreenCanvas(a,s).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,s),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,s);const u=c.getImageData(0,0,a,s).data;return[k(this,rt,l_).call(this,u),a,s]},T(ta,rt),T(ta,$u,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),T(ta,so,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class ST extends Gz{constructor(){super(),super.updateProperties({fill:Et._defaultLineColor,"stroke-width":0})}clone(){const e=new ST;return e.updateAll(this),e}}class ET extends E1{constructor(e){super(e),super.updateProperties({stroke:Et._defaultLineColor,"stroke-width":1})}clone(){const e=new ET(this._viewParameters);return e.updateAll(this),e}}var _l,Jo,Pl,Fu;const Fr=class Fr extends j0{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});T(this,_l,!1);T(this,Jo,null);T(this,Pl,null);T(this,Fu,null);this._willKeepAspectRatio=!0,C(this,Pl,n.signatureData||null),C(this,Jo,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){Et.initialize(n,r),this._defaultDrawingOptions=new ST,this._defaultDrawnSignatureOptions=new ET(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Le(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!d(this,Jo)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(d(this,Pl)){const{lines:o,mustSmooth:a,areContours:s,description:l,uuid:c,heightInPage:u}=d(this,Pl),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,m=ta.processDrawnLines({lines:o,pageWidth:h,pageHeight:f,rotation:p,innerMargin:Fr._INNER_MARGIN,mustSmooth:a,areContours:s});this.addSignature(m,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:d(this,Jo)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){C(this,Fu,n),this.addEditToolbar()}getUuid(){return d(this,Fu)}get description(){return d(this,Jo)}set description(n){C(this,Jo,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:o,height:a}=d(this,Pl),s=Math.max(o,a),l=ta.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:o,height:a},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,i,o){const{x:a,y:s}=this,{outline:l}=C(this,Pl,n);C(this,_l,l instanceof o_),this.description=i;let c;d(this,_l)?c=Fr.getDefaultDrawingOptions():(c=Fr._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let h=r/u;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:o}=this.parent.viewport;return ta.process(n,r,i,o,Fr._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:o},rotation:a}=this.parent.viewport;return ta.extractContoursFromText(n,r,i,o,a,Fr._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:o}=this.parent.viewport;return ta.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:o,innerMargin:Fr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=Fr.getDefaultDrawingOptions():(this._drawingOptions=Fr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":o}}=this,a=Object.assign(super.serialize(n),{isSignature:!0,areContours:d(this,_l),color:[0,0,0],thickness:d(this,_l)?0:o});return this.addComment(a),n?(a.paths={lines:r,points:i},a.uuid=d(this,Fu),a.isCopy=!0):a.lines=r,d(this,Jo)&&(a.accessibilityData={type:"Figure",alt:d(this,Jo)}),a}static deserializeDraw(n,r,i,o,a,s){return s.areContours?o_.deserialize(n,r,i,o,a,s):$v.deserialize(n,r,i,o,a,s)}static async deserialize(n,r,i){var a;const o=await super.deserialize(n,r,i);return C(o,_l,n.areContours),o.description=((a=n.accessibilityData)==null?void 0:a.alt)||"",C(o,Fu,n.uuid),o}};_l=new WeakMap,Jo=new WeakMap,Pl=new WeakMap,Fu=new WeakMap,Q(Fr,"_type","signature"),Q(Fr,"_editorType",ke.SIGNATURE),Q(Fr,"_defaultDrawingOptions",null);let u_=Fr;var Nt,_n,Tl,es,kl,Sf,ts,Bu,Zo,ri,Ef,Xe,_m,Pm,ox,ax,sx,d_,lx,i5;class h_ extends Et{constructor(n){super({...n,name:"stampEditor"});T(this,Xe);T(this,Nt,null);T(this,_n,null);T(this,Tl,null);T(this,es,null);T(this,kl,null);T(this,Sf,"");T(this,ts,null);T(this,Bu,!1);T(this,Zo,null);T(this,ri,!1);T(this,Ef,!1);C(this,es,n.bitmapUrl),C(this,kl,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){Et.initialize(n,r)}static isHandlingMimeForPasting(n){return P0.includes(n)}static paste(n,r){r.pasteEditor({mode:ke.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:a,height:s}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:o,width:a,height:s,channels:o.length/(a*s)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;d(this,_n)&&(C(this,Nt,null),this._uiManager.imageManager.deleteId(d(this,_n)),(n=d(this,ts))==null||n.remove(),C(this,ts,null),d(this,Zo)&&(clearTimeout(d(this,Zo)),C(this,Zo,null))),super.remove()}rebuild(){if(!this.parent){d(this,_n)&&k(this,Xe,ox).call(this);return}super.rebuild(),this.div!==null&&(d(this,_n)&&d(this,ts)===null&&k(this,Xe,ox).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(d(this,Tl)||d(this,Nt)||d(this,es)||d(this,kl)||d(this,_n)||d(this,Bu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),d(this,Bu)||(d(this,Nt)?k(this,Xe,ax).call(this):k(this,Xe,ox).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:o}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(C(this,_n,i),o&&C(this,Nt,o),C(this,Bu,!1),k(this,Xe,ax).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,Zo)!==null&&clearTimeout(d(this,Zo)),C(this,Zo,setTimeout(()=>{C(this,Zo,null),k(this,Xe,d_).call(this)},200))}copyCanvas(n,r,i=!1){n||(n=224);const{width:o,height:a}=d(this,Nt),s=new xo;let l=d(this,Nt),c=o,u=a,h=null;if(r){if(o>r||a>r){const _=Math.min(r/o,r/a);c=Math.floor(o*_),u=Math.floor(a*_)}h=document.createElement("canvas");const p=h.width=Math.ceil(c*s.sx),m=h.height=Math.ceil(u*s.sy);d(this,ri)||(l=k(this,Xe,sx).call(this,p,m));const g=h.getContext("2d");g.filter=this._uiManager.hcmFilter;let y="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":pxe.isDarkMode&&(y="#8f8f9d",v="#42414d");const w=15,x=w*s.sx,E=w*s.sy,A=new OffscreenCanvas(x*2,E*2),S=A.getContext("2d");S.fillStyle=y,S.fillRect(0,0,x*2,E*2),S.fillStyle=v,S.fillRect(0,0,x,E),S.fillRect(x,E,x,E),g.fillStyle=g.createPattern(A,"repeat"),g.fillRect(0,0,p,m),g.drawImage(l,0,0,l.width,l.height,0,0,p,m)}let f=null;if(i){let p,m;if(s.symmetric&&l.width<n&&l.height<n)p=l.width,m=l.height;else if(l=d(this,Nt),o>n||a>n){const v=Math.min(n/o,n/a);p=Math.floor(o*v),m=Math.floor(a*v),d(this,ri)||(l=k(this,Xe,sx).call(this,p,m))}const y=new OffscreenCanvas(p,m).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,p,m),f={width:p,height:m,data:y.getImageData(0,0,p,m).data}}return{canvas:h,width:c,height:u,imageData:f}}static async deserialize(n,r,i){var y;let o=null,a=!1;if(n instanceof xz){const{data:{rect:v,rotation:w,id:x,structParent:E,popupRef:A,richText:S,contentsObj:_,creationDate:O,modificationDate:I},container:M,parent:{page:{pageNumber:R}},canvas:N}=n;let L,F;N?(delete n.canvas,{id:L,bitmap:F}=i.imageManager.getFromCanvas(M.id,N),N.remove()):(a=!0,n._hasNoCanvas=!0);const z=((y=await r._structTree.getAriaAttributes(`${dT}${x}`))==null?void 0:y.get("aria-label"))||"";o=n={annotationType:ke.STAMP,bitmapId:L,bitmap:F,pageIndex:R-1,rect:v.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:z},isSvg:!1,structParent:E,popupRef:A,richText:S,comment:(_==null?void 0:_.str)||null,creationDate:O,modificationDate:I}}const s=await super.deserialize(n,r,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:h,isSvg:f,accessibilityData:p}=n;a?(i.addMissingCanvas(n.id,s),C(s,Bu,!0)):h&&i.imageManager.isValidId(h)?(C(s,_n,h),c&&C(s,Nt,c)):C(s,es,u),C(s,ri,f);const[m,g]=s.pageDimensions;return s.width=(l[2]-l[0])/m,s.height=(l[3]-l[1])/g,p&&(s.altTextData=p),s._initialData=o,n.comment&&s.setCommentData(n),C(s,Ef,!!o),s}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(n),{bitmapId:d(this,_n),isSvg:d(this,ri)});if(this.addComment(i),n)return i.bitmapUrl=k(this,Xe,lx).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:o,altText:a}=this.serializeAltText(!1);if(!o&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=k(this,Xe,i5).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const s=d(this,ri)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(d(this,_n)))r.stamps.set(d(this,_n),{area:s,serialized:i}),i.bitmap=k(this,Xe,lx).call(this,!1);else if(d(this,ri)){const l=r.stamps.get(d(this,_n));s>l.area&&(l.area=s,l.serialized.bitmap.close(),l.serialized.bitmap=k(this,Xe,lx).call(this,!1))}return i}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Nt=new WeakMap,_n=new WeakMap,Tl=new WeakMap,es=new WeakMap,kl=new WeakMap,Sf=new WeakMap,ts=new WeakMap,Bu=new WeakMap,Zo=new WeakMap,ri=new WeakMap,Ef=new WeakMap,Xe=new WeakSet,_m=function(n,r=!1){if(!n){this.remove();return}C(this,Nt,n.bitmap),r||(C(this,_n,n.id),C(this,ri,n.isSvg)),n.file&&C(this,Sf,n.file.name),k(this,Xe,ax).call(this)},Pm=function(){if(C(this,Tl,null),this._uiManager.enableWaiting(!1),!!d(this,ts)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Nt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Nt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},ox=function(){if(d(this,_n)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,_n)).then(i=>k(this,Xe,_m).call(this,i,!0)).finally(()=>k(this,Xe,Pm).call(this));return}if(d(this,es)){const i=d(this,es);C(this,es,null),this._uiManager.enableWaiting(!0),C(this,Tl,this._uiManager.imageManager.getFromUrl(i).then(o=>k(this,Xe,_m).call(this,o)).finally(()=>k(this,Xe,Pm).call(this)));return}if(d(this,kl)){const i=d(this,kl);C(this,kl,null),this._uiManager.enableWaiting(!0),C(this,Tl,this._uiManager.imageManager.getFromFile(i).then(o=>k(this,Xe,_m).call(this,o)).finally(()=>k(this,Xe,Pm).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=P0.join(",");const r=this._uiManager._signal;C(this,Tl,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,Xe,_m).call(this,o)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>k(this,Xe,Pm).call(this))),n.click()},ax=function(){var c;const{div:n}=this;let{width:r,height:i}=d(this,Nt);const[o,a]=this.pageDimensions,s=.75;if(this.width)r=this.width*o,i=this.height*a;else if(r>s*o||i>s*a){const u=Math.min(s*o/r,s*a/i);r*=u,i*=u}this._uiManager.enableWaiting(!1);const l=C(this,ts,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/o,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),k(this,Xe,d_).call(this),d(this,Ef)||(this.parent.addUndoableEditor(this),C(this,Ef,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Sf)&&this.div.setAttribute("aria-description",d(this,Sf)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},sx=function(n,r){const{width:i,height:o}=d(this,Nt);let a=i,s=o,l=d(this,Nt);for(;a>2*n||s>2*r;){const c=a,u=s;a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),s>2*r&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const h=new OffscreenCanvas(a,s);h.getContext("2d").drawImage(l,0,0,c,u,0,0,a,s),l=h.transferToImageBitmap()}return l},d_=function(){const[n,r]=this.parentDimensions,{width:i,height:o}=this,a=new xo,s=Math.ceil(i*n*a.sx),l=Math.ceil(o*r*a.sy),c=d(this,ts);if(!c||c.width===s&&c.height===l)return;c.width=s,c.height=l;const u=d(this,ri)?d(this,Nt):k(this,Xe,sx).call(this,s,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(u,0,0,u.width,u.height,0,0,s,l)},lx=function(n){if(n){if(d(this,ri)){const o=this._uiManager.imageManager.getSvgUrl(d(this,_n));if(o)return o}const r=document.createElement("canvas");return{width:r.width,height:r.height}=d(this,Nt),r.getContext("2d").drawImage(d(this,Nt),0,0),r.toDataURL()}if(d(this,ri)){const[r,i]=this.pageDimensions,o=Math.round(this.width*r*Ss.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Ss.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(o,a);return s.getContext("2d").drawImage(d(this,Nt),0,0,d(this,Nt).width,d(this,Nt).height,0,0,o,a),s.transferToImageBitmap()}return structuredClone(d(this,Nt))},i5=function(n){var s;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,o=n.pageIndex===r,a=(((s=n.accessibilityData)==null?void 0:s.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&o&&a,isSameAltText:a}},Q(h_,"_type","stamp"),Q(h_,"_editorType",ke.STAMP);var zu,Cf,Ol,Ml,ns,Tr,Rl,_f,Pf,lo,rs,Pn,is,Il,Tf,me,Nl,gt,f_,o5,Po,p_,m_,cx;const Ji=class Ji{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:o,annotationLayer:a,drawLayer:s,textLayer:l,viewport:c,l10n:u}){T(this,gt);T(this,zu);T(this,Cf,!1);T(this,Ol,null);T(this,Ml,null);T(this,ns,null);T(this,Tr,new Map);T(this,Rl,!1);T(this,_f,!1);T(this,Pf,!1);T(this,lo,null);T(this,rs,null);T(this,Pn,null);T(this,is,null);T(this,Il,null);T(this,Tf,-1);T(this,me);const h=[...d(Ji,Nl).values()];if(!Ji._initialized){Ji._initialized=!0;for(const f of h)f.initialize(u,e)}e.registerEditorTypes(h),C(this,me,e),this.pageIndex=n,this.div=r,C(this,zu,o),C(this,Ol,a),this.viewport=c,C(this,Pn,l),this.drawLayer=s,this._structTree=i,d(this,me).addLayer(this)}get isEmpty(){return d(this,Tr).size===0}get isInvisible(){return this.isEmpty&&d(this,me).getMode()===ke.NONE}updateToolbar(e){d(this,me).updateToolbar(e)}updateMode(e=d(this,me).getMode()){switch(k(this,gt,cx).call(this),e){case ke.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ke.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ke.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===ke.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of d(Ji,Nl).values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=d(this,Pn))==null?void 0:n.div)}setEditingState(e){d(this,me).setEditingState(e)}addCommands(e){d(this,me).addCommands(e)}cleanUndoStack(e){d(this,me).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=d(this,Ol))==null||n.div.classList.toggle("disabled",!e)}async enable(){var r;C(this,Pf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=d(this,Il))==null||r.abort(),C(this,Il,null);const e=new Set;for(const i of d(this,gt,f_))i.enableEditing(),i.show(!0),i.annotationElementId&&(d(this,me).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=d(this,Ol);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),d(this,me).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const o=await this.deserialize(i);o&&(this.addOrRebuild(o),o.enableEditing())}C(this,Pf,!1),d(this,me)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(C(this,_f,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),d(this,Pn)&&!d(this,Il)){C(this,Il,new AbortController);const i=d(this,me).combinedSignal(d(this,Il));d(this,Pn).div.addEventListener("pointerdown",o=>{const{clientX:s,clientY:l,timeStamp:c}=o,u=d(this,Tf);if(c-u>500){C(this,Tf,c);return}C(this,Tf,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(s,l);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const m=new RegExp(`^${Cg}[0-9]+$`);for(const y of f)if(m.test(y.id)){p=y.id;break}if(!p)return;const g=d(this,Tr).get(p);(g==null?void 0:g.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),g.dblclick(o))},{signal:i,capture:!0})}const e=d(this,Ol);if(e){const i=new Map,o=new Map;for(const s of d(this,gt,f_)){if(s.disableEditing(),!s.annotationElementId){s.updateFakeAnnotationElement(e);continue}if(s.serialize()!==null){i.set(s.annotationElementId,s);continue}else o.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}const a=e.getEditableAnnotations();for(const s of a){const{id:l}=s.data;if(d(this,me).isDeletedAnnotationElement(l)){s.updateEdited({deleted:!0});continue}let c=o.get(l);if(c){c.resetAnnotationElement(s),c.show(!1),s.show();continue}c=i.get(l),c&&(d(this,me).addChangedExistingAnnotation(c),c.renderAnnotationElement(s)&&c.show(!1)),s.show()}}k(this,gt,cx).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of d(Ji,Nl).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,_f,!1)}getEditableAnnotation(e){var n;return((n=d(this,Ol))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){d(this,me).getActive()!==e&&d(this,me).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=d(this,Pn))!=null&&e.div&&!d(this,is)){C(this,is,new AbortController);const n=d(this,me).combinedSignal(d(this,is));d(this,Pn).div.addEventListener("pointerdown",k(this,gt,o5).bind(this),{signal:n}),d(this,Pn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=d(this,Pn))!=null&&e.div&&d(this,is)&&(d(this,is).abort(),C(this,is,null),d(this,Pn).div.classList.remove("highlighting"))}enableClick(){if(d(this,Ml))return;C(this,Ml,new AbortController);const e=d(this,me).combinedSignal(d(this,Ml));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=d(this,Ml))==null||e.abort(),C(this,Ml,null)}attach(e){d(this,Tr).set(e.id,e);const{annotationElementId:n}=e;n&&d(this,me).isDeletedAnnotationElement(n)&&d(this,me).removeDeletedAnnotationElement(e)}detach(e){var n;d(this,Tr).delete(e.id),(n=d(this,zu))==null||n.removePointerInTextLayer(e.contentDiv),!d(this,_f)&&e.annotationElementId&&d(this,me).addDeletedAnnotationElement(e)}remove(e){this.detach(e),d(this,me).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(d(this,me).addDeletedAnnotationElement(e.annotationElementId),Et.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),d(this,me).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!d(this,Pf)),d(this,me).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!d(this,ns)&&(e._focusEventsAllowed=!1,C(this,ns,setTimeout(()=>{C(this,ns,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:d(this,me)._signal}),n.focus())},0))),e._structTreeParentId=(r=d(this,zu))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of d(this,Tr).values())if(n.uid===e)return n;return null}getNextId(){return d(this,me).getId()}combinedSignal(e){return d(this,me).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=d(this,gt,Po))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await d(this,me).updateMode(e.mode);const{offsetX:r,offsetY:i}=k(this,gt,m_).call(this),o=this.getNextId(),a=k(this,gt,p_).call(this,{parent:this,id:o,x:r,y:i,uiManager:d(this,me),isCentered:!0,...n});a&&this.add(a)}async deserialize(e){var n;return await((n=d(Ji,Nl).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,d(this,me)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),o=k(this,gt,p_).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:d(this,me),isCentered:n,...r});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(k(this,gt,m_).call(this),!0,e)}setSelected(e){d(this,me).setSelected(e)}toggleSelected(e){d(this,me).toggleSelected(e)}unselect(e){d(this,me).unselect(e)}pointerup(e){var i;const{isMac:n}=Mn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!d(this,Rl)||(C(this,Rl,!1),(i=d(this,gt,Po))!=null&&i.isDrawer&&d(this,gt,Po).supportMultipleDrawings))return;if(!d(this,Cf)){C(this,Cf,!0);return}const r=d(this,me).getMode();if(r===ke.STAMP||r===ke.SIGNATURE){d(this,me).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(d(this,me).getMode()===ke.HIGHLIGHT&&this.enableTextSelection(),d(this,Rl)){C(this,Rl,!1);return}const{isMac:n}=Mn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(C(this,Rl,!0),(i=d(this,gt,Po))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=d(this,me).getActive();C(this,Cf,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),d(this,lo)){d(this,gt,Po).startDrawing(this,d(this,me),!1,e);return}d(this,me).setCurrentDrawingSession(this),C(this,lo,new AbortController);const n=d(this,me).combinedSignal(d(this,lo));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(C(this,rs,null),this.commitOrRemove())},{signal:n}),d(this,gt,Po).startDrawing(this,d(this,me),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&C(this,rs,n);return}d(this,rs)&&setTimeout(()=>{var n;(n=d(this,rs))==null||n.focus(),C(this,rs,null)},0)}endDrawingSession(e=!1){return d(this,lo)?(d(this,me).setCurrentDrawingSession(null),d(this,lo).abort(),C(this,lo,null),C(this,rs,null),d(this,gt,Po).endDrawing(e)):null}findNewParent(e,n,r){const i=d(this,me).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return d(this,lo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,lo)&&d(this,gt,Po).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=d(this,me).getActive())==null?void 0:e.parent)===this&&(d(this,me).commitOrRemove(),d(this,me).setActiveEditor(null)),d(this,ns)&&(clearTimeout(d(this,ns)),C(this,ns,null));for(const r of d(this,Tr).values())(n=d(this,zu))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,d(this,Tr).clear(),d(this,me).removeLayer(this)}render({viewport:e}){this.viewport=e,Gl(this.div,e);for(const n of d(this,me).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){d(this,me).commitOrRemove(),k(this,gt,cx).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Gl(this.div,{rotation:r}),n!==r)for(const i of d(this,Tr).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return d(this,me).viewParameters.realScale}};zu=new WeakMap,Cf=new WeakMap,Ol=new WeakMap,Ml=new WeakMap,ns=new WeakMap,Tr=new WeakMap,Rl=new WeakMap,_f=new WeakMap,Pf=new WeakMap,lo=new WeakMap,rs=new WeakMap,Pn=new WeakMap,is=new WeakMap,Il=new WeakMap,Tf=new WeakMap,me=new WeakMap,Nl=new WeakMap,gt=new WeakSet,f_=function(){return d(this,Tr).size!==0?d(this,Tr).values():d(this,me).getEditors(this.pageIndex)},o5=function(e){d(this,me).unselectAll();const{target:n}=e;if(n===d(this,Pn).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&d(this,Pn).div.contains(n)){const{isMac:r}=Mn.platform;if(e.button!==0||e.ctrlKey&&r)return;d(this,me).showAllEditors("highlight",!0,!0),d(this,Pn).div.classList.add("free"),this.toggleDrawing(),N0.startHighlighting(this,d(this,me).direction==="ltr",{target:d(this,Pn).div,x:e.x,y:e.y}),d(this,Pn).div.addEventListener("pointerup",()=>{d(this,Pn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,me)._signal}),e.preventDefault()}},Po=function(){return d(Ji,Nl).get(d(this,me).getMode())},p_=function(e){const n=d(this,gt,Po);return n?new n.prototype.constructor(e):null},m_=function(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,o=Math.max(0,e),a=Math.max(0,n),s=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(o+s)/2-e,u=(a+l)/2-n,[h,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:f}},cx=function(){for(const e of d(this,Tr).values())e.isEmpty()&&e.remove()},Q(Ji,"_initialized",!1),T(Ji,Nl,new Map([KC,i_,h_,N0,u_].map(e=>[e._editorType,e])));let D0=Ji;var co,cr,Uu,pv,aw,a5,ua,g_,s5,y_;const mn=class mn{constructor({pageIndex:e}){T(this,ua);T(this,co,null);T(this,cr,new Map);T(this,Uu,new Map);this.pageIndex=e}setParent(e){if(!d(this,co)){C(this,co,e);return}if(d(this,co)!==e){if(d(this,cr).size>0)for(const n of d(this,cr).values())n.remove(),e.append(n);C(this,co,e)}}static get _svgFactory(){return Le(this,"_svgFactory",new Rg)}draw(e,n=!1,r=!1){const i=dn(mn,pv)._++,o=k(this,ua,g_).call(this),a=mn._svgFactory.createElement("defs");o.append(a);const s=mn._svgFactory.createElement("path");a.append(s);const l=`path_p${this.pageIndex}_${i}`;s.setAttribute("id",l),s.setAttribute("vector-effect","non-scaling-stroke"),n&&d(this,Uu).set(i,s);const c=r?k(this,ua,s5).call(this,a,l):null,u=mn._svgFactory.createElement("use");return o.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(o,e),d(this,cr).set(i,o),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=dn(mn,pv)._++,i=k(this,ua,g_).call(this),o=mn._svgFactory.createElement("defs");i.append(o);const a=mn._svgFactory.createElement("path");o.append(a);const s=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",s),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const h=mn._svgFactory.createElement("mask");o.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=mn._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=mn._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${s}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=mn._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${s}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),d(this,cr).set(r,i),r}finalizeDraw(e,n){d(this,Uu).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var l;if(!n)return;const{root:r,bbox:i,rootClass:o,path:a}=n,s=typeof e=="number"?d(this,cr).get(e):e;if(s){if(r&&k(this,ua,y_).call(this,s,r),i&&k(l=mn,aw,a5).call(l,s,i),o){const{classList:c}=s;for(const[u,h]of Object.entries(o))c.toggle(u,h)}if(a){const u=s.firstChild.firstChild;k(this,ua,y_).call(this,u,a)}}}updateParent(e,n){if(n===this)return;const r=d(this,cr).get(e);r&&(d(n,co).append(r),d(this,cr).delete(e),d(n,cr).set(e,r))}remove(e){d(this,Uu).delete(e),d(this,co)!==null&&(d(this,cr).get(e).remove(),d(this,cr).delete(e))}destroy(){C(this,co,null);for(const e of d(this,cr).values())e.remove();d(this,cr).clear(),d(this,Uu).clear()}};co=new WeakMap,cr=new WeakMap,Uu=new WeakMap,pv=new WeakMap,aw=new WeakSet,a5=function(e,[n,r,i,o]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*o}%`},ua=new WeakSet,g_=function(){const e=mn._svgFactory.create(1,1,!0);return d(this,co).append(e),e.setAttribute("aria-hidden",!0),e},s5=function(e,n){const r=mn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const o=mn._svgFactory.createElement("use");return r.append(o),o.setAttribute("href",`#${n}`),o.classList.add("clip"),i},y_=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},T(mn,aw),T(mn,pv,0);let L0=mn;globalThis._pdfjsTestingUtils={HighlightOutliner:YC};globalThis.pdfjsLib={AbortException:As,AnnotationEditorLayer:D0,AnnotationEditorParamsType:Ve,AnnotationEditorType:ke,AnnotationEditorUIManager:ql,AnnotationLayer:AT,AnnotationMode:ea,AnnotationType:Yt,applyOpacity:i3,build:lz,ColorPicker:Mg,createValidAbsoluteUrl:cT,CSSConstants:r3,DOMSVGFactory:Rg,DrawLayer:L0,FeatureTest:Mn,fetchData:Rp,findContrastColor:o3,getDocument:vT,getFilenameFromUrl:e3,getPdfFilenameFromUrl:t3,getRGB:Ip,getUuid:hT,getXfaPageViewport:n3,GlobalWorkerOptions:Di,ImageKind:Lm,InvalidPDFException:_0,isDataScheme:jv,isPdfFile:A1,isValidExplicitDest:$3,MathClamp:Zn,noContextMenu:mi,normalizeUnicode:ZB,OPS:sp,OutputScale:xo,PasswordResponses:YB,PDFDataRangeTransport:bT,PDFDateString:Tg,PDFWorker:lp,PermissionFlag:XB,PixelsPerInch:Ss,RenderingCancelledException:w1,renderRichText:pT,ResponseException:_g,setLayerDimensions:Gl,shadow:Le,SignatureExtractor:ta,stopEvent:$t,SupportedImageMimeTypes:P0,TextLayer:Og,TouchManager:kg,updateUrlHash:uT,Util:he,VerbosityLevel:Rv,version:sz,XfaLayer:fT};const z0e=Object.freeze(Object.defineProperty({__proto__:null,AbortException:As,AnnotationEditorLayer:D0,AnnotationEditorParamsType:Ve,AnnotationEditorType:ke,AnnotationEditorUIManager:ql,AnnotationLayer:AT,AnnotationMode:ea,AnnotationType:Yt,CSSConstants:r3,ColorPicker:Mg,DOMSVGFactory:Rg,DrawLayer:L0,FeatureTest:Mn,GlobalWorkerOptions:Di,ImageKind:Lm,InvalidPDFException:_0,MathClamp:Zn,OPS:sp,OutputScale:xo,PDFDataRangeTransport:bT,PDFDateString:Tg,PDFWorker:lp,PasswordResponses:YB,PermissionFlag:XB,PixelsPerInch:Ss,RenderingCancelledException:w1,ResponseException:_g,SignatureExtractor:ta,SupportedImageMimeTypes:P0,TextLayer:Og,TouchManager:kg,Util:he,VerbosityLevel:Rv,XfaLayer:fT,applyOpacity:i3,build:lz,createValidAbsoluteUrl:cT,fetchData:Rp,findContrastColor:o3,getDocument:vT,getFilenameFromUrl:e3,getPdfFilenameFromUrl:t3,getRGB:Ip,getUuid:hT,getXfaPageViewport:n3,isDataScheme:jv,isPdfFile:A1,isValidExplicitDest:$3,noContextMenu:mi,normalizeUnicode:ZB,renderRichText:pT,setLayerDimensions:Gl,shadow:Le,stopEvent:$t,updateUrlHash:uT,version:sz},Symbol.toStringTag,{value:"Module"}));var AN=Object.prototype.hasOwnProperty;function SN(t,e,n){for(n of t.keys())if(Qh(n,e))return n}function Qh(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Qh(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=SN(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=SN(e,i),!i)||!Qh(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(AN.call(t,n)&&++r&&!AN.call(e,n)||!(n in e)||!Qh(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Fv(t){let e=!1;return{promise:new Promise((r,i)=>{t.then(o=>!e&&r(o)).catch(o=>!e&&i(o))}),cancel(){e=!0}}}const U0e=["onCopy","onCut","onPaste"],H0e=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],V0e=["onFocus","onBlur"],W0e=["onInput","onInvalid","onReset","onSubmit"],G0e=["onLoad","onError"],q0e=["onKeyDown","onKeyPress","onKeyUp"],K0e=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],X0e=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Y0e=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],J0e=["onSelect"],Z0e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Q0e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],ewe=["onScroll"],twe=["onWheel"],nwe=["onAnimationStart","onAnimationEnd","onAnimationIteration"],rwe=["onTransitionEnd"],iwe=["onToggle"],owe=["onChange"],awe=[...U0e,...H0e,...V0e,...W0e,...G0e,...q0e,...K0e,...X0e,...Y0e,...J0e,...Z0e,...Q0e,...ewe,...twe,...nwe,...rwe,...owe,...iwe];function l5(t,e){const n={};for(const r of awe){const i=t[r];i&&(e?n[r]=o=>i(o,e(r)):n[r]=i)}return n}var swe=function(){},lwe=swe;const tr=et(lwe),c5=P.createContext(null),cwe="noopener noreferrer nofollow";class uwe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ge(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ge(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||cwe,e.target=r?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(n=>{Ge(this.pdfDocument),Ge(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{Ge(Array.isArray(n));const r=n[0];new Promise(i=>{Ge(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(o=>{i(o)}).catch(()=>{Ge(!1)}):typeof r=="number"?i(r):Ge(!1)}).then(i=>{const o=i+1;Ge(this.pdfViewer),Ge(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:o})})})}goToPage(e){const n=e-1;Ge(this.pdfViewer),Ge(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function ed({children:t,type:e}){return b.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const EN={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function hwe(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function cp(){return P.useReducer(hwe,{value:void 0,error:void 0})}const C1=typeof window<"u",u5=C1&&window.location.protocol==="file:";function dwe(t){return typeof t<"u"}function uc(t){return dwe(t)&&t!==null}function fwe(t){return typeof t=="string"}function pwe(t){return t instanceof ArrayBuffer}function mwe(t){return Ge(C1),t instanceof Blob}function v_(t){return fwe(t)&&/^data:/.test(t)}function CN(t){Ge(v_(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function gwe(){return C1&&window.devicePixelRatio||1}const h5="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function _N(){tr(!u5,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${h5}`)}function ywe(){tr(!u5,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${h5}`)}function nh(t){t!=null&&t.cancel&&t.cancel()}function b_(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function vwe(t){return t.name==="RenderingCancelledException"}function bwe(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:o}=i.target;if(!o)return n(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}const{PDFDataRangeTransport:xwe}=z0e,wwe=(t,e)=>{switch(e){case EN.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case EN.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function PN(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const Awe=P.forwardRef(function({children:e,className:n,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:o,file:a,inputRef:s,imageResourcesPath:l,loading:c="Loading PDFâ€¦",noData:u="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:p,onLoadSuccess:m,onPassword:g=wwe,onSourceError:y,onSourceSuccess:v,options:w,renderMode:x,rotate:E,scale:A,...S},_){const[O,I]=cp(),{value:M,error:R}=O,[N,L]=cp(),{value:F,error:z}=N,$=P.useRef(new uwe),U=P.useRef([]),H=P.useRef(void 0),W=P.useRef(void 0);a&&a!==H.current&&PN(a)&&(tr(!Qh(a,H.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),H.current=a),w&&w!==W.current&&(tr(!Qh(w,W.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),W.current=w);const j=P.useRef({scrollPageIntoView:te=>{const{dest:ae,pageNumber:xe,pageIndex:be=xe-1}=te;if(h){h({dest:ae,pageIndex:be,pageNumber:xe});return}const Be=U.current[be];if(Be){Be.scrollIntoView();return}tr(!1,`An internal link leading to page ${xe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});P.useImperativeHandle(_,()=>({linkService:$,pages:U,viewer:j}),[]);function X(){v&&v()}function q(){R&&(tr(!1,R.toString()),y&&y(R))}function D(){I({type:"RESET"})}P.useEffect(D,[a,I]);const le=P.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return v_(a)?{data:CN(a)}:(_N(),{url:a});if(a instanceof xwe)return{range:a};if(pwe(a))return{data:a};if(C1&&mwe(a))return{data:await bwe(a)};if(Ge(typeof a=="object"),Ge(PN(a)),"url"in a&&typeof a.url=="string"){if(v_(a.url)){const{url:te,...ae}=a;return{data:CN(te),...ae}}_N()}return a},[a]);P.useEffect(()=>{const te=Fv(le());return te.promise.then(ae=>{I({type:"RESOLVE",value:ae})}).catch(ae=>{I({type:"REJECT",error:ae})}),()=>{nh(te)}},[le,I]),P.useEffect(()=>{if(!(typeof M>"u")){if(M===!1){q();return}X()}},[M]);function ve(){F&&(m&&m(F),U.current=new Array(F.numPages),$.current.setDocument(F))}function ye(){z&&(tr(!1,z.toString()),f&&f(z))}P.useEffect(function(){L({type:"RESET"})},[L,M]),P.useEffect(function(){if(!M)return;const ae=w?{...M,...w}:M,xe=vT(ae);p&&(xe.onProgress=p),g&&(xe.onPassword=g);const be=xe,Be=be.promise.then(Ut=>{L({type:"RESOLVE",value:Ut})}).catch(Ut=>{be.destroyed||L({type:"REJECT",error:Ut})});return()=>{Be.finally(()=>be.destroy())}},[w,L,M]),P.useEffect(()=>{if(!(typeof F>"u")){if(F===!1){ye();return}ve()}},[F]),P.useEffect(function(){$.current.setViewer(j.current),$.current.setExternalLinkRel(i),$.current.setExternalLinkTarget(o)},[i,o]);const ie=P.useCallback((te,ae)=>{U.current[te]=ae},[]),pe=P.useCallback(te=>{delete U.current[te]},[]),J=P.useMemo(()=>({imageResourcesPath:l,linkService:$.current,onItemClick:h,pdf:F,registerPage:ie,renderMode:x,rotate:E,scale:A,unregisterPage:pe}),[l,h,F,ie,x,E,A,pe]),Z=P.useMemo(()=>l5(S,()=>F),[S,F]);function re(){function te(xe){return!!(xe!=null&&xe.pdf)}if(!te(J))throw new Error("pdf is undefined");const ae=typeof e=="function"?e(J):e;return b.jsx(c5.Provider,{value:J,children:ae})}function V(){return a?F==null?b.jsx(ed,{type:"loading",children:typeof c=="function"?c():c}):F===!1?b.jsx(ed,{type:"error",children:typeof r=="function"?r():r}):re():b.jsx(ed,{type:"no-data",children:typeof u=="function"?u():u})}return b.jsx("div",{className:Pe("react-pdf__Document",n),ref:s,...Z,children:V()})});function d5(){return P.useContext(c5)}function f5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(o){for(var a=0,s=n;a<s.length;a++){var l=s[a];typeof l=="function"?l(o):l&&(l.current=o)}}}const p5=P.createContext(null);function _1(){return P.useContext(p5)}function Swe(){const t=d5(),e=_1();Ge(e);const n={...t,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:o,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:s,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:h,rotate:f,scale:p=1}=n;Ge(u),Ge(c),Ge(i);const[m,g]=cp(),{value:y,error:v}=m,w=P.useRef(null);tr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){y&&a&&a(y)}function E(){v&&(tr(!1,v.toString()),o&&o(v))}P.useEffect(function(){g({type:"RESET"})},[g,c]),P.useEffect(function(){if(!c)return;const I=Fv(c.getAnnotations()),M=I;return I.promise.then(R=>{g({type:"RESOLVE",value:R})}).catch(R=>{g({type:"REJECT",error:R})}),()=>{nh(M)}},[g,c]),P.useEffect(()=>{if(y!==void 0){if(y===!1){E();return}x()}},[y]);function A(){l&&l()}function S(O){tr(!1,`${O}`),s&&s(O)}const _=P.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return P.useEffect(function(){if(!u||!c||!i||!y)return;const{current:I}=w;if(!I)return;const M=_.clone({dontFlip:!0}),R={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:u.annotationStorage,commentManager:null,div:I,l10n:null,linkService:i,page:c,structTreeLayer:null,viewport:M},N={annotations:y,annotationStorage:u.annotationStorage,div:I,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:M};I.innerHTML="";try{new AT(R).render(N),A()}catch(L){S(L)}return()=>{}},[y,r,i,c,u,h,_]),b.jsx("div",{className:Pe("react-pdf__Page__annotations","annotationLayer"),ref:w})}const m5={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Ewe=/^H(\d+)$/;function Cwe(t){return t in m5}function P1(t){return"children"in t}function g5(t){return P1(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function _we(t){const e={};if(P1(t)){const{role:n}=t,r=n.match(Ewe);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(Cwe(n)){const i=m5[n];i&&(e.role=i)}}return e}function y5(t){const e={};if(P1(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),g5(t)){const[n]=t.children;if(n){const r=y5(n);return{...e,...r}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function Pwe(t){return t?{..._we(t),...y5(t)}:null}function v5({className:t,node:e}){const n=P.useMemo(()=>Pwe(e),[e]),r=P.useMemo(()=>!P1(e)||g5(e)?null:e.children.map((i,o)=>b.jsx(v5,{node:i},o)),[e]);return b.jsx("span",{className:t,...n,children:r})}function Twe(){const t=_1();Ge(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,i]=cp(),{value:o,error:a}=r,{customTextRenderer:s,page:l}=t;function c(){o&&n&&n(o)}function u(){a&&(tr(!1,a.toString()),e&&e(a))}return P.useEffect(function(){i({type:"RESET"})},[i,l]),P.useEffect(function(){if(s||!l)return;const f=Fv(l.getStructTree()),p=f;return f.promise.then(m=>{i({type:"RESOLVE",value:m})}).catch(m=>{i({type:"REJECT",error:m})}),()=>nh(p)},[s,l,i]),P.useEffect(()=>{if(o!==void 0){if(o===!1){u();return}c()}},[o]),o?b.jsx(v5,{className:"react-pdf__Page__structTree structTree",node:o}):null}const TN=ea;function kwe(t){const e=_1();Ge(e);const n={...e,...t},{_className:r,canvasBackground:i,devicePixelRatio:o=gwe(),onRenderError:a,onRenderSuccess:s,page:l,renderForms:c,renderTextLayer:u,rotate:h,scale:f}=n,{canvasRef:p}=t;Ge(l);const m=P.useRef(null);function g(){l&&s&&s(b_(l,f))}function y(E){vwe(E)||(tr(!1,E.toString()),a&&a(E))}const v=P.useMemo(()=>l.getViewport({scale:f*o,rotation:h}),[o,l,h,f]),w=P.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);P.useEffect(function(){if(!l)return;l.cleanup();const{current:A}=m;if(!A)return;A.width=v.width,A.height=v.height,A.style.width=`${Math.floor(w.width)}px`,A.style.height=`${Math.floor(w.height)}px`,A.style.visibility="hidden";const S={annotationMode:c?TN.ENABLE_FORMS:TN.ENABLE,canvas:A,canvasContext:A.getContext("2d",{alpha:!1}),viewport:v};i&&(S.background=i);const _=l.render(S),O=_;return _.promise.then(()=>{A.style.visibility="",g()}).catch(y),()=>nh(O)},[i,l,c,v,w]);const x=P.useCallback(()=>{const{current:E}=m;E&&(E.width=0,E.height=0)},[]);return P.useEffect(()=>x,[x]),b.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:f5(p,m),style:{display:"block",userSelect:"none"},children:u?b.jsx(Twe,{}):null})}function Owe(t){return"str"in t}function Mwe(){const t=_1();Ge(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:o,page:a,pageIndex:s,pageNumber:l,rotate:c,scale:u}=t;Ge(a);const[h,f]=cp(),{value:p,error:m}=h,g=P.useRef(null);tr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function y(){p&&r&&r(p)}function v(){m&&(tr(!1,m.toString()),n&&n(m))}P.useEffect(function(){f({type:"RESET"})},[a,f]),P.useEffect(function(){if(!a)return;const O=Fv(a.getTextContent()),I=O;return O.promise.then(M=>{f({type:"RESOLVE",value:M})}).catch(M=>{f({type:"REJECT",error:M})}),()=>nh(I)},[a,f]),P.useEffect(()=>{if(p!==void 0){if(p===!1){v();return}y()}},[p]);const w=P.useCallback(()=>{o&&o()},[o]),x=P.useCallback(_=>{tr(!1,_.toString()),i&&i(_)},[i]);function E(){const _=g.current;_&&_.classList.add("selecting")}function A(){const _=g.current;_&&_.classList.remove("selecting")}const S=P.useMemo(()=>a.getViewport({scale:u,rotation:c}),[a,c,u]);return P.useLayoutEffect(function(){if(!a||!p)return;const{current:O}=g;if(!O)return;O.innerHTML="";const I=a.streamTextContent({includeMarkedContent:!0}),M={container:O,textContentSource:I,viewport:S},R=new Og(M),N=R;return R.render().then(()=>{const L=document.createElement("div");L.className="endOfContent",O.append(L);const F=O.querySelectorAll('[role="presentation"]');if(e){let z=0;p.items.forEach(($,U)=>{if(!Owe($))return;const H=F[z];if(!H)return;const W=e({pageIndex:s,pageNumber:l,itemIndex:U,...$});H.innerHTML=W,z+=$.str&&$.hasEOL?2:1})}w()}).catch(x),()=>nh(N)},[e,x,w,a,s,l,p,S]),b.jsx("div",{className:Pe("react-pdf__Page__textContent","textLayer"),onMouseUp:A,onMouseDown:E,ref:g})}const kN=1;function Rwe(t){const n={...d5(),...t},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:o,canvasRef:a,children:s,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:m,loading:g="Loading pageâ€¦",noData:y="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:E,onGetTextError:A,onGetTextSuccess:S,onLoadError:_,onLoadSuccess:O,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:M,onRenderError:R,onRenderSuccess:N,onRenderTextLayerError:L,onRenderTextLayerSuccess:F,pageIndex:z,pageNumber:$,pdf:U,registerPage:H,renderAnnotationLayer:W=!0,renderForms:j=!1,renderMode:X="canvas",renderTextLayer:q=!0,rotate:D,scale:le=kN,unregisterPage:ve,width:ye,...ie}=n,[pe,J]=cp(),{value:Z,error:re}=pe,V=P.useRef(null);Ge(U);const te=uc($)?$-1:z??null,ae=$??(uc(z)?z+1:null),xe=D??(Z?Z.rotate:null),be=P.useMemo(()=>{if(!Z)return null;let oe=1;const Ce=le??kN;if(ye||p){const Te=Z.getViewport({scale:1,rotation:xe});ye?oe=ye/Te.width:p&&(oe=p/Te.height)}return Ce*oe},[p,Z,xe,le,ye]);P.useEffect(function(){return()=>{uc(te)&&i&&ve&&ve(te)}},[i,U,te,ve]);function Be(){if(O){if(!Z||!be)return;O(b_(Z,be))}if(i&&H){if(!uc(te)||!V.current)return;H(te,V.current)}}function Ut(){re&&(tr(!1,re.toString()),_&&_(re))}P.useEffect(function(){J({type:"RESET"})},[J,U,te]),P.useEffect(function(){if(!U||!ae)return;const Ce=Fv(U.getPage(ae)),Te=Ce;return Ce.promise.then(Ze=>{J({type:"RESOLVE",value:Ze})}).catch(Ze=>{J({type:"REJECT",error:Ze})}),()=>nh(Te)},[J,U,ae]),P.useEffect(()=>{if(Z!==void 0){if(Z===!1){Ut();return}Be()}},[Z,be]);const Ht=P.useMemo(()=>uc(te)&&ae&&uc(xe)&&uc(be)?{_className:r,canvasBackground:o,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:v,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:E,onGetTextError:A,onGetTextSuccess:S,onRenderAnnotationLayerError:I,onRenderAnnotationLayerSuccess:M,onRenderError:R,onRenderSuccess:N,onRenderTextLayerError:L,onRenderTextLayerSuccess:F,page:Z,pageIndex:te,pageNumber:ae,renderForms:j,renderTextLayer:q,rotate:xe,scale:be}:null,[r,o,u,h,v,w,x,E,A,S,I,M,R,N,L,F,Z,te,ae,j,q,xe,be]),In=P.useMemo(()=>l5(ie,()=>Z&&(be?b_(Z,be):void 0)),[ie,Z,be]),tt=`${te}@${be}/${xe}`;function Gi(){switch(X){case"custom":return Ge(c),b.jsx(c,{},`${tt}_custom`);case"none":return null;case"canvas":default:return b.jsx(kwe,{canvasRef:a},`${tt}_canvas`)}}function ic(){return q?b.jsx(Mwe,{},`${tt}_text`):null}function hh(){return W?b.jsx(Swe,{},`${tt}_annotations`):null}function dh(){function oe(Te){return!!(Te!=null&&Te.page)}if(!oe(Ht))throw new Error("page is undefined");const Ce=typeof s=="function"?s(Ht):s;return b.jsxs(p5.Provider,{value:Ht,children:[Gi(),ic(),hh(),Ce]})}function Y(){return ae?U===null||Z===void 0||Z===null?b.jsx(ed,{type:"loading",children:typeof g=="function"?g():g}):U===!1||Z===!1?b.jsx(ed,{type:"error",children:typeof f=="function"?f():f}):dh():b.jsx(ed,{type:"no-data",children:typeof y=="function"?y():y})}return b.jsx("div",{className:Pe(r,l),"data-page-number":ae,ref:f5(m,V),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${be}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...In,children:Y()})}ywe();Di.workerSrc="pdf.worker.mjs";Di.workerSrc=`${window.location.origin}/pdf.worker.min.mjs`;function Iwe({block:t}){const{title:e,url:n,page:r}=t,[i,o]=P.useState(0),[a,s]=P.useState(r||1),[l,c]=P.useState(!0),[u,h]=P.useState(null),f=n.startsWith("/Volumes/")||n.includes("/Volumes/");let p=n;f&&(p=`/api/explore/files/proxy?path=${encodeURIComponent(n)}`);function m({numPages:x}){o(x),c(!1),h(null)}function g(x){h(`Failed to load PDF: ${x.message}`),c(!1)}function y(x){s(E=>Math.max(1,Math.min(E+x,i)))}function v(){y(-1)}function w(){y(1)}return b.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",display:"flex",flexDirection:"column",height:"100%"},children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Oj,{className:"h-4 w-4",style:{color:"var(--color-accent)"}}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:e}),i>0&&b.jsxs("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:["Page ",a," of ",i]})]})]}),b.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1 text-xs rounded border transition-colors",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},onMouseEnter:x=>{x.currentTarget.style.borderColor="var(--color-accent)",x.currentTarget.style.color="var(--color-accent)"},onMouseLeave:x=>{x.currentTarget.style.borderColor="rgba(71, 85, 105, 0.8)",x.currentTarget.style.color="var(--color-text-secondary)"},children:[b.jsx(I_,{className:"h-3 w-3"}),"Open in New Tab"]})]}),b.jsxs("div",{className:"flex-1 overflow-auto flex flex-col items-center p-4",children:[l&&b.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mt-8",children:[b.jsx(Hu,{className:"h-5 w-5 animate-spin"}),b.jsx("span",{children:"Loading PDF..."})]}),u&&b.jsxs("div",{className:"text-red-400 mt-8 text-center",children:[b.jsx("p",{children:u}),b.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Try opening in a new tab using the button above"})]}),b.jsx(Awe,{file:p,onLoadSuccess:m,onLoadError:g,loading:"",children:b.jsx(Rwe,{pageNumber:a,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})})]}),i>1&&!u&&b.jsxs("div",{className:"flex items-center justify-center gap-4 px-4 py-3 border-t",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[b.jsx("button",{onClick:v,disabled:a<=1,className:"p-2 rounded border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:b.jsx(U4,{className:"h-4 w-4"})}),b.jsxs("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:["Page ",a," / ",i]}),b.jsx("button",{onClick:w,disabled:a>=i,className:"p-2 rounded border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:b.jsx(kj,{className:"h-4 w-4"})})]})]})}function Nwe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const jwe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Dwe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Lwe={};function ON(t,e){return(Lwe.jsx?Dwe:jwe).test(t)}const $we=/[ \t\n\f\r]/g;function Fwe(t){return typeof t=="object"?t.type==="text"?MN(t.value):!1:MN(t)}function MN(t){return t.replace($we,"")===""}class Bv{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Bv.prototype.normal={};Bv.prototype.property={};Bv.prototype.space=void 0;function b5(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Bv(n,r,e)}function x_(t){return t.toLowerCase()}class jr{constructor(e,n){this.attribute=n,this.property=e}}jr.prototype.attribute="";jr.prototype.booleanish=!1;jr.prototype.boolean=!1;jr.prototype.commaOrSpaceSeparated=!1;jr.prototype.commaSeparated=!1;jr.prototype.defined=!1;jr.prototype.mustUseProperty=!1;jr.prototype.number=!1;jr.prototype.overloadedBoolean=!1;jr.prototype.property="";jr.prototype.spaceSeparated=!1;jr.prototype.space=void 0;let Bwe=0;const De=uh(),an=uh(),w_=uh(),ne=uh(),wt=uh(),td=uh(),$r=uh();function uh(){return 2**++Bwe}const A_=Object.freeze(Object.defineProperty({__proto__:null,boolean:De,booleanish:an,commaOrSpaceSeparated:$r,commaSeparated:td,number:ne,overloadedBoolean:w_,spaceSeparated:wt},Symbol.toStringTag,{value:"Module"})),DA=Object.keys(A_);class CT extends jr{constructor(e,n,r,i){let o=-1;if(super(e,n),RN(this,"space",i),typeof r=="number")for(;++o<DA.length;){const a=DA[o];RN(this,DA[o],(r&A_[a])===A_[a])}}}CT.prototype.defined=!0;function RN(t,e,n){n&&(t[e]=n)}function Np(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new CT(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[x_(r)]=r,n[x_(o.attribute)]=r}return new Bv(e,n,t.space)}const x5=Np({properties:{ariaActiveDescendant:null,ariaAtomic:an,ariaAutoComplete:null,ariaBusy:an,ariaChecked:an,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:wt,ariaCurrent:null,ariaDescribedBy:wt,ariaDetails:null,ariaDisabled:an,ariaDropEffect:wt,ariaErrorMessage:null,ariaExpanded:an,ariaFlowTo:wt,ariaGrabbed:an,ariaHasPopup:null,ariaHidden:an,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:wt,ariaLevel:ne,ariaLive:null,ariaModal:an,ariaMultiLine:an,ariaMultiSelectable:an,ariaOrientation:null,ariaOwns:wt,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:an,ariaReadOnly:an,ariaRelevant:null,ariaRequired:an,ariaRoleDescription:wt,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:an,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function w5(t,e){return e in t?t[e]:e}function A5(t,e){return w5(t,e.toLowerCase())}const zwe=Np({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:td,acceptCharset:wt,accessKey:wt,action:null,allow:null,allowFullScreen:De,allowPaymentRequest:De,allowUserMedia:De,alt:null,as:null,async:De,autoCapitalize:null,autoComplete:wt,autoFocus:De,autoPlay:De,blocking:wt,capture:null,charSet:null,checked:De,cite:null,className:wt,cols:ne,colSpan:null,content:null,contentEditable:an,controls:De,controlsList:wt,coords:ne|td,crossOrigin:null,data:null,dateTime:null,decoding:null,default:De,defer:De,dir:null,dirName:null,disabled:De,download:w_,draggable:an,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:De,formTarget:null,headers:wt,height:ne,hidden:w_,high:ne,href:null,hrefLang:null,htmlFor:wt,httpEquiv:wt,id:null,imageSizes:null,imageSrcSet:null,inert:De,inputMode:null,integrity:null,is:null,isMap:De,itemId:null,itemProp:wt,itemRef:wt,itemScope:De,itemType:wt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:De,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:De,muted:De,name:null,nonce:null,noModule:De,noValidate:De,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:De,optimum:ne,pattern:null,ping:wt,placeholder:null,playsInline:De,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:De,referrerPolicy:null,rel:wt,required:De,reversed:De,rows:ne,rowSpan:ne,sandbox:wt,scope:null,scoped:De,seamless:De,selected:De,shadowRootClonable:De,shadowRootDelegatesFocus:De,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:an,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:De,useMap:null,value:an,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:wt,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:De,declare:De,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:De,noHref:De,noShade:De,noWrap:De,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:an,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:De,disableRemotePlayback:De,prefix:null,property:null,results:ne,security:null,unselectable:null},space:"html",transform:A5}),Uwe=Np({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$r,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:wt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:De,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:td,g2:td,glyphName:td,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:$r,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:wt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$r,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$r,rev:$r,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$r,requiredFeatures:$r,requiredFonts:$r,requiredFormats:$r,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:$r,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$r,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$r,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:w5}),S5=Np({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),E5=Np({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:A5}),C5=Np({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Hwe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Vwe=/[A-Z]/g,IN=/-[a-z]/g,Wwe=/^data[-\w.:]+$/i;function Gwe(t,e){const n=x_(e);let r=e,i=jr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Wwe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(IN,Kwe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!IN.test(o)){let a=o.replace(Vwe,qwe);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=CT}return new i(r,e)}function qwe(t){return"-"+t.toLowerCase()}function Kwe(t){return t.charAt(1).toUpperCase()}const Xwe=b5([x5,zwe,S5,E5,C5],"html"),_T=b5([x5,Uwe,S5,E5,C5],"svg");function Ywe(t){return t.join(" ").trim()}var PT={},NN=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Jwe=/\n/g,Zwe=/^\s*/,Qwe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,e1e=/^:\s*/,t1e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,n1e=/^[;\s]*/,r1e=/^\s+|\s+$/g,i1e=`
`,jN="/",DN="*",wc="",o1e="comment",a1e="declaration";function s1e(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var g=m.match(Jwe);g&&(n+=g.length);var y=m.lastIndexOf(i1e);r=~y?m.length-y:r+m.length}function o(){var m={line:n,column:r};return function(g){return g.position=new a(m),c(),g}}function a(m){this.start=m,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function s(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(m){var g=m.exec(t);if(g){var y=g[0];return i(y),t=t.slice(y.length),g}}function c(){l(Zwe)}function u(m){var g;for(m=m||[];g=h();)g!==!1&&m.push(g);return m}function h(){var m=o();if(!(jN!=t.charAt(0)||DN!=t.charAt(1))){for(var g=2;wc!=t.charAt(g)&&(DN!=t.charAt(g)||jN!=t.charAt(g+1));)++g;if(g+=2,wc===t.charAt(g-1))return s("End of comment missing");var y=t.slice(2,g-2);return r+=2,i(y),t=t.slice(g),r+=2,m({type:o1e,comment:y})}}function f(){var m=o(),g=l(Qwe);if(g){if(h(),!l(e1e))return s("property missing ':'");var y=l(t1e),v=m({type:a1e,property:LN(g[0].replace(NN,wc)),value:y?LN(y[0].replace(NN,wc)):wc});return l(n1e),v}}function p(){var m=[];u(m);for(var g;g=f();)g!==!1&&(m.push(g),u(m));return m}return c(),p()}function LN(t){return t?t.replace(r1e,wc):wc}var l1e=s1e,c1e=jl&&jl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(PT,"__esModule",{value:!0});PT.default=h1e;const u1e=c1e(l1e);function h1e(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,u1e.default)(t),i=typeof e=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:a,value:s}=o;i?e(a,s,o):s&&(n=n||{},n[a]=s)}),n}var T1={};Object.defineProperty(T1,"__esModule",{value:!0});T1.camelCase=void 0;var d1e=/^--[a-zA-Z0-9_-]+$/,f1e=/-([a-z])/g,p1e=/^[^-]+$/,m1e=/^-(webkit|moz|ms|o|khtml)-/,g1e=/^-(ms)-/,y1e=function(t){return!t||p1e.test(t)||d1e.test(t)},v1e=function(t,e){return e.toUpperCase()},$N=function(t,e){return"".concat(e,"-")},b1e=function(t,e){return e===void 0&&(e={}),y1e(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(g1e,$N):t=t.replace(m1e,$N),t.replace(f1e,v1e))};T1.camelCase=b1e;var x1e=jl&&jl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},w1e=x1e(PT),A1e=T1;function S_(t,e){var n={};return!t||typeof t!="string"||(0,w1e.default)(t,function(r,i){r&&i&&(n[(0,A1e.camelCase)(r,e)]=i)}),n}S_.default=S_;var S1e=S_;const E1e=et(S1e),_5=P5("end"),TT=P5("start");function P5(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function C1e(t){const e=TT(t),n=_5(t);if(e&&n)return{start:e,end:n}}function $m(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?FN(t.position):"start"in t||"end"in t?FN(t):"line"in t||"column"in t?E_(t):""}function E_(t){return BN(t&&t.line)+":"+BN(t&&t.column)}function FN(t){return E_(t&&t.start)+"-"+E_(t&&t.end)}function BN(t){return t&&typeof t=="number"?t:1}class ir extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=$m(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ir.prototype.file="";ir.prototype.name="";ir.prototype.reason="";ir.prototype.message="";ir.prototype.stack="";ir.prototype.column=void 0;ir.prototype.line=void 0;ir.prototype.ancestors=void 0;ir.prototype.cause=void 0;ir.prototype.fatal=void 0;ir.prototype.place=void 0;ir.prototype.ruleId=void 0;ir.prototype.source=void 0;const kT={}.hasOwnProperty,_1e=new Map,P1e=/[A-Z]/g,T1e=new Set(["table","tbody","thead","tfoot","tr"]),k1e=new Set(["td","th"]),T5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function O1e(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=$1e(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=L1e(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?_T:Xwe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=k5(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function k5(t,e,n){if(e.type==="element")return M1e(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return R1e(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return N1e(t,e,n);if(e.type==="mdxjsEsm")return I1e(t,e);if(e.type==="root")return j1e(t,e,n);if(e.type==="text")return D1e(t,e)}function M1e(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=_T,t.schema=i),t.ancestors.push(e);const o=M5(t,e.tagName,!1),a=F1e(t,e);let s=MT(t,e);return T1e.has(e.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Fwe(l):!0})),O5(t,a,o,e),OT(a,s),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function R1e(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ig(t,e.position)}function I1e(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ig(t,e.position)}function N1e(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=_T,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:M5(t,e.name,!0),a=B1e(t,e),s=MT(t,e);return O5(t,a,o,e),OT(a,s),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function j1e(t,e,n){const r={};return OT(r,MT(t,e)),t.create(e,t.Fragment,r,n)}function D1e(t,e){return e.value}function O5(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function OT(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function L1e(t,e,n){return r;function r(i,o,a,s){const c=Array.isArray(a.children)?n:e;return s?c(o,a,s):c(o,a)}}function $1e(t,e){return n;function n(r,i,o,a){const s=Array.isArray(o.children),l=TT(r);return e(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function F1e(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&kT.call(e.properties,i)){const o=z1e(t,i,e.properties[i]);if(o){const[a,s]=o;t.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&k1e.has(e.tagName)?r=s:n[a]=s}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function B1e(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(n,t.evaluater.evaluateExpression(s.argument))}else Ig(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const s=r.value.data.estree.body[0];s.type,o=t.evaluater.evaluateExpression(s.expression)}else Ig(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function MT(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:_1e;for(;++r<e.children.length;){const o=e.children[r];let a;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const s=k5(t,o,a);s!==void 0&&n.push(s)}return n}function z1e(t,e,n){const r=Gwe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Nwe(n):Ywe(n)),r.property==="style"){let i=typeof n=="object"?n:U1e(t,String(n));return t.stylePropertyNameCase==="css"&&(i=H1e(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Hwe[r.property]||r.property:r.attribute,n]}}function U1e(t,e){try{return E1e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new ir("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=T5+"#cannot-parse-style-attribute",i}}function M5(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,a;for(;++o<i.length;){const s=ON(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=a}else r=ON(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return kT.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ig(t)}function Ig(t,e){const n=new ir("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=T5+"#cannot-handle-mdx-estrees-without-createevaluater",n}function H1e(t){const e={};let n;for(n in t)kT.call(t,n)&&(e[V1e(n)]=t[n]);return e}function V1e(t){let e=t.replace(P1e,W1e);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function W1e(t){return"-"+t.toLowerCase()}const LA={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},G1e={};function RT(t,e){const n=G1e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return R5(t,r,i)}function R5(t,e,n){if(q1e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return zN(t.children,e,n)}return Array.isArray(t)?zN(t,e,n):""}function zN(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=R5(t[i],e,n);return r.join("")}function q1e(t){return!!(t&&typeof t=="object")}const UN=document.createElement("i");function IT(t){const e="&"+t+";";UN.innerHTML=e;const n=UN.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function di(t,e,n,r){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function Ni(t,e){return t.length>0?(di(t,t.length,0,e),t):e}const HN={}.hasOwnProperty;function I5(t){const e={};let n=-1;for(;++n<t.length;)K1e(e,t[n]);return e}function K1e(t,e){let n;for(n in e){const i=(HN.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;if(o)for(a in o){HN.call(i,a)||(i[a]=[]);const s=o[a];X1e(i[a],Array.isArray(s)?s:s?[s]:[])}}}function X1e(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);di(t,0,0,r)}function N5(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function yo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const hr=rc(/[A-Za-z]/),nr=rc(/[\dA-Za-z]/),Y1e=rc(/[#-'*+\--9=?A-Z^-~]/);function $0(t){return t!==null&&(t<32||t===127)}const C_=rc(/\d/),J1e=rc(/[\dA-Fa-f]/),Z1e=rc(/[!-/:-@[-`{-~]/);function we(t){return t!==null&&t<-2}function bt(t){return t!==null&&(t<0||t===32)}function He(t){return t===-2||t===-1||t===32}const k1=rc(new RegExp("\\p{P}|\\p{S}","u")),rh=rc(/\s/);function rc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function jp(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let a="";if(o===37&&nr(t.charCodeAt(n+1))&&nr(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a="ï¿½"}else a=String.fromCharCode(o);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function qe(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return He(l)?(t.enter(n),s(l)):e(l)}function s(l){return He(l)&&o++<i?(t.consume(l),s):(t.exit(n),e(l))}}const Q1e={tokenize:eAe};function eAe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),qe(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return we(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),a)}}const tAe={tokenize:nAe},VN={tokenize:rAe};function nAe(t){const e=this,n=[];let r=0,i,o,a;return s;function s(x){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,l,c)(x)}return c(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const E=e.events.length;let A=E,S;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){S=e.events[A][1].end;break}v(r);let _=E;for(;_<e.events.length;)e.events[_][1].end={...S},_++;return di(e.events,A+1,0,e.events.slice(E)),e.events.length=_,c(x)}return s(x)}function c(x){if(r===n.length){if(!i)return f(x);if(i.currentConstruct&&i.currentConstruct.concrete)return m(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(VN,u,h)(x)}function u(x){return i&&w(),v(r),f(x)}function h(x){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,m(x)}function f(x){return e.containerState={},t.attempt(VN,p,m)(x)}function p(x){return r++,n.push([e.currentConstruct,e.containerState]),f(x)}function m(x){if(x===null){i&&w(),v(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),g(x)}function g(x){if(x===null){y(t.exit("chunkFlow"),!0),v(0),t.consume(x);return}return we(x)?(t.consume(x),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(x),g)}function y(x,E){const A=e.sliceStream(x);if(E&&A.push(null),x.previous=o,o&&(o.next=x),o=x,i.defineSkip(x.start),i.write(A),e.parser.lazy[x.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<a&&(!i.events[S][1].end||i.events[S][1].end.offset>a))return;const _=e.events.length;let O=_,I,M;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(I){M=e.events[O][1].end;break}I=!0}for(v(r),S=_;S<e.events.length;)e.events[S][1].end={...M},S++;di(e.events,O+1,0,e.events.slice(_)),e.events.length=S}}function v(x){let E=n.length;for(;E-- >x;){const A=n[E];e.containerState=A[1],A[0].exit.call(e,t)}n.length=x}function w(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function rAe(t,e,n){return qe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function up(t){if(t===null||bt(t)||rh(t))return 1;if(k1(t))return 2}function O1(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const __={name:"attention",resolveAll:iAe,tokenize:oAe};function iAe(t,e){let n=-1,r,i,o,a,s,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},f={...t[n][1].start};WN(h,-l),WN(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},o={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},t[r][1].end={...a.start},t[n][1].start={...s.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ni(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ni(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),c=Ni(c,O1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ni(c,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Ni(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,di(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function oAe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=up(r);let o;return a;function a(l){return o=l,t.enter("attentionSequence"),s(l)}function s(l){if(l===o)return t.consume(l),s;const c=t.exit("attentionSequence"),u=up(l),h=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(o===42?h:h&&(i||!f)),c._close=!!(o===42?f:f&&(u||!h)),e(l)}}function WN(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const aAe={name:"autolink",tokenize:sAe};function sAe(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(p){return hr(p)?(t.consume(p),a):p===64?n(p):c(p)}function a(p){return p===43||p===45||p===46||nr(p)?(r=1,s(p)):c(p)}function s(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||nr(p))&&r++<32?(t.consume(p),s):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||$0(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),u):Y1e(p)?(t.consume(p),c):n(p)}function u(p){return nr(p)?h(p):n(p)}function h(p){return p===46?(t.consume(p),r=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||nr(p))&&r++<63){const m=p===45?f:h;return t.consume(p),m}return n(p)}}const zv={partial:!0,tokenize:lAe};function lAe(t,e,n){return r;function r(o){return He(o)?qe(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||we(o)?e(o):n(o)}}const j5={continuation:{tokenize:uAe},exit:hAe,name:"blockQuote",tokenize:cAe};function cAe(t,e,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return He(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function uAe(t,e,n){const r=this;return i;function i(a){return He(a)?qe(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(j5,e,n)(a)}}function hAe(t){t.exit("blockQuote")}const D5={name:"characterEscape",tokenize:dAe};function dAe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Z1e(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const L5={name:"characterReference",tokenize:fAe};function fAe(t,e,n){const r=this;let i=0,o,a;return s;function s(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,a=nr,u(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=J1e,u):(t.enter("characterReferenceValue"),o=7,a=C_,u(h))}function u(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return a===nr&&!IT(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(h)&&i++<o?(t.consume(h),u):n(h)}}const GN={partial:!0,tokenize:mAe},qN={concrete:!0,name:"codeFenced",tokenize:pAe};function pAe(t,e,n){const r=this,i={partial:!0,tokenize:A};let o=0,a=0,s;return l;function l(S){return c(S)}function c(S){const _=r.events[r.events.length-1];return o=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,s=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(S)}function u(S){return S===s?(a++,t.consume(S),u):a<3?n(S):(t.exit("codeFencedFenceSequence"),He(S)?qe(t,h,"whitespace")(S):h(S))}function h(S){return S===null||we(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check(GN,g,E)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||we(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(S)):He(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),qe(t,p,"whitespace")(S)):S===96&&S===s?n(S):(t.consume(S),f)}function p(S){return S===null||we(S)?h(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||we(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(S)):S===96&&S===s?n(S):(t.consume(S),m)}function g(S){return t.attempt(i,E,y)(S)}function y(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),v}function v(S){return o>0&&He(S)?qe(t,w,"linePrefix",o+1)(S):w(S)}function w(S){return S===null||we(S)?t.check(GN,g,E)(S):(t.enter("codeFlowValue"),x(S))}function x(S){return S===null||we(S)?(t.exit("codeFlowValue"),w(S)):(t.consume(S),x)}function E(S){return t.exit("codeFenced"),e(S)}function A(S,_,O){let I=0;return M;function M(z){return S.enter("lineEnding"),S.consume(z),S.exit("lineEnding"),R}function R(z){return S.enter("codeFencedFence"),He(z)?qe(S,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):N(z)}function N(z){return z===s?(S.enter("codeFencedFenceSequence"),L(z)):O(z)}function L(z){return z===s?(I++,S.consume(z),L):I>=a?(S.exit("codeFencedFenceSequence"),He(z)?qe(S,F,"whitespace")(z):F(z)):O(z)}function F(z){return z===null||we(z)?(S.exit("codeFencedFence"),_(z)):O(z)}}}function mAe(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const $A={name:"codeIndented",tokenize:yAe},gAe={partial:!0,tokenize:vAe};function yAe(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),qe(t,o,"linePrefix",5)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):we(c)?t.attempt(gAe,a,l)(c):(t.enter("codeFlowValue"),s(c))}function s(c){return c===null||we(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),s)}function l(c){return t.exit("codeIndented"),e(c)}}function vAe(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):we(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):qe(t,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):we(a)?i(a):n(a)}}const bAe={name:"codeText",previous:wAe,resolve:xAe,tokenize:AAe};function xAe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function wAe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function AAe(t,e,n){let r=0,i,o;return a;function a(h){return t.enter("codeText"),t.enter("codeTextSequence"),s(h)}function s(h){return h===96?(t.consume(h),r++,s):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(o=t.enter("codeTextSequence"),i=0,u(h)):we(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||we(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function u(h){return h===96?(t.consume(h),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(o.type="codeTextData",c(h))}}class SAe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&rm(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);rm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rm(this.left,n.reverse())}}}function rm(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function $5(t){const e={};let n=-1,r,i,o,a,s,l,c;const u=new SAe(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,EAe(u,n)),n=e[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=u.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},s=u.slice(i,n),s.unshift(r),u.splice(i,n-i+1,s))}}return di(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function EAe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let u,h,f=-1,p=n,m=0,g=0;const y=[g];for(;p;){for(;t.get(++i)[1]!==p;);o.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),h&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<s.length;)s[f][0]==="exit"&&s[f-1][0]==="enter"&&s[f][1].type===s[f-1][1].type&&s[f][1].start.line!==s[f][1].end.line&&(g=f+1,y.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),f=y.length;f--;){const v=s.slice(y[f],y[f+1]),w=o.pop();l.push([w,w+v.length-1]),t.splice(w,2,v)}for(l.reverse(),f=-1;++f<l.length;)c[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return c}const CAe={resolve:PAe,tokenize:TAe},_Ae={partial:!0,tokenize:kAe};function PAe(t){return $5(t),t}function TAe(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):we(s)?t.check(_Ae,a,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function a(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function kAe(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),qe(t,o,"linePrefix")}function o(a){if(a===null||we(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function F5(t,e,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(v){return v===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(v),t.exit(o),f):v===null||v===32||v===41||$0(v)?n(v):(t.enter(r),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),g(v))}function f(v){return v===62?(t.enter(o),t.consume(v),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(s),f(v)):v===null||v===60||we(v)?n(v):(t.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function g(v){return!u&&(v===null||v===41||bt(v))?(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(v)):u<c&&v===40?(t.consume(v),u++,g):v===41?(t.consume(v),u--,g):v===null||v===32||v===40||$0(v)?n(v):(t.consume(v),v===92?y:g)}function y(v){return v===40||v===41||v===92?(t.consume(v),g):g(v)}}function B5(t,e,n,r,i,o){const a=this;let s=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(o),u}function u(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(t.exit(o),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):we(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||we(p)||s++>999?(t.exit("chunkString"),u(p)):(t.consume(p),l||(l=!He(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(t.consume(p),s++,h):h(p)}}function z5(t,e,n,r,i,o){let a;return s;function s(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),a=f===40?41:f,l):n(f)}function l(f){return f===a?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(o),c(f))}function c(f){return f===a?(t.exit(o),l(a)):f===null?n(f):we(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),qe(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===a||f===null||we(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?h:u)}function h(f){return f===a||f===92?(t.consume(f),u):u(f)}}function Fm(t,e){let n;return r;function r(i){return we(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):He(i)?qe(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const OAe={name:"definition",tokenize:RAe},MAe={partial:!0,tokenize:IAe};function RAe(t,e,n){const r=this;let i;return o;function o(p){return t.enter("definition"),a(p)}function a(p){return B5.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=yo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return bt(p)?Fm(t,c)(p):c(p)}function c(p){return F5(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return t.attempt(MAe,h,h)(p)}function h(p){return He(p)?qe(t,f,"whitespace")(p):f(p)}function f(p){return p===null||we(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function IAe(t,e,n){return r;function r(s){return bt(s)?Fm(t,i)(s):n(s)}function i(s){return z5(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return He(s)?qe(t,a,"whitespace")(s):a(s)}function a(s){return s===null||we(s)?e(s):n(s)}}const NAe={name:"hardBreakEscape",tokenize:jAe};function jAe(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return we(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const DAe={name:"headingAtx",resolve:LAe,tokenize:$Ae};function LAe(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},di(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function $Ae(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),o(u)}function o(u){return t.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&r++<6?(t.consume(u),a):u===null||bt(u)?(t.exit("atxHeadingSequence"),s(u)):n(u)}function s(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||we(u)?(t.exit("atxHeading"),e(u)):He(u)?qe(t,s,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||bt(u)?(t.exit("atxHeadingText"),s(u)):(t.consume(u),c)}}const FAe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KN=["pre","script","style","textarea"],BAe={concrete:!0,name:"htmlFlow",resolveTo:HAe,tokenize:VAe},zAe={partial:!0,tokenize:GAe},UAe={partial:!0,tokenize:WAe};function HAe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function VAe(t,e,n){const r=this;let i,o,a,s,l;return c;function c(D){return u(D)}function u(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),h}function h(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),o=!0,g):D===63?(t.consume(D),i=3,r.interrupt?e:j):hr(D)?(t.consume(D),a=String.fromCharCode(D),y):n(D)}function f(D){return D===45?(t.consume(D),i=2,p):D===91?(t.consume(D),i=5,s=0,m):hr(D)?(t.consume(D),i=4,r.interrupt?e:j):n(D)}function p(D){return D===45?(t.consume(D),r.interrupt?e:j):n(D)}function m(D){const le="CDATA[";return D===le.charCodeAt(s++)?(t.consume(D),s===le.length?r.interrupt?e:N:m):n(D)}function g(D){return hr(D)?(t.consume(D),a=String.fromCharCode(D),y):n(D)}function y(D){if(D===null||D===47||D===62||bt(D)){const le=D===47,ve=a.toLowerCase();return!le&&!o&&KN.includes(ve)?(i=1,r.interrupt?e(D):N(D)):FAe.includes(a.toLowerCase())?(i=6,le?(t.consume(D),v):r.interrupt?e(D):N(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):o?w(D):x(D))}return D===45||nr(D)?(t.consume(D),a+=String.fromCharCode(D),y):n(D)}function v(D){return D===62?(t.consume(D),r.interrupt?e:N):n(D)}function w(D){return He(D)?(t.consume(D),w):M(D)}function x(D){return D===47?(t.consume(D),M):D===58||D===95||hr(D)?(t.consume(D),E):He(D)?(t.consume(D),x):M(D)}function E(D){return D===45||D===46||D===58||D===95||nr(D)?(t.consume(D),E):A(D)}function A(D){return D===61?(t.consume(D),S):He(D)?(t.consume(D),A):x(D)}function S(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),l=D,_):He(D)?(t.consume(D),S):O(D)}function _(D){return D===l?(t.consume(D),l=null,I):D===null||we(D)?n(D):(t.consume(D),_)}function O(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||bt(D)?A(D):(t.consume(D),O)}function I(D){return D===47||D===62||He(D)?x(D):n(D)}function M(D){return D===62?(t.consume(D),R):n(D)}function R(D){return D===null||we(D)?N(D):He(D)?(t.consume(D),R):n(D)}function N(D){return D===45&&i===2?(t.consume(D),$):D===60&&i===1?(t.consume(D),U):D===62&&i===4?(t.consume(D),X):D===63&&i===3?(t.consume(D),j):D===93&&i===5?(t.consume(D),W):we(D)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(zAe,q,L)(D)):D===null||we(D)?(t.exit("htmlFlowData"),L(D)):(t.consume(D),N)}function L(D){return t.check(UAe,F,q)(D)}function F(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),z}function z(D){return D===null||we(D)?L(D):(t.enter("htmlFlowData"),N(D))}function $(D){return D===45?(t.consume(D),j):N(D)}function U(D){return D===47?(t.consume(D),a="",H):N(D)}function H(D){if(D===62){const le=a.toLowerCase();return KN.includes(le)?(t.consume(D),X):N(D)}return hr(D)&&a.length<8?(t.consume(D),a+=String.fromCharCode(D),H):N(D)}function W(D){return D===93?(t.consume(D),j):N(D)}function j(D){return D===62?(t.consume(D),X):D===45&&i===2?(t.consume(D),j):N(D)}function X(D){return D===null||we(D)?(t.exit("htmlFlowData"),q(D)):(t.consume(D),X)}function q(D){return t.exit("htmlFlow"),e(D)}}function WAe(t,e,n){const r=this;return i;function i(a){return we(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function GAe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(zv,e,n)}}const qAe={name:"htmlText",tokenize:KAe};function KAe(t,e,n){const r=this;let i,o,a;return s;function s(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),l}function l(j){return j===33?(t.consume(j),c):j===47?(t.consume(j),A):j===63?(t.consume(j),x):hr(j)?(t.consume(j),O):n(j)}function c(j){return j===45?(t.consume(j),u):j===91?(t.consume(j),o=0,m):hr(j)?(t.consume(j),w):n(j)}function u(j){return j===45?(t.consume(j),p):n(j)}function h(j){return j===null?n(j):j===45?(t.consume(j),f):we(j)?(a=h,U(j)):(t.consume(j),h)}function f(j){return j===45?(t.consume(j),p):h(j)}function p(j){return j===62?$(j):j===45?f(j):h(j)}function m(j){const X="CDATA[";return j===X.charCodeAt(o++)?(t.consume(j),o===X.length?g:m):n(j)}function g(j){return j===null?n(j):j===93?(t.consume(j),y):we(j)?(a=g,U(j)):(t.consume(j),g)}function y(j){return j===93?(t.consume(j),v):g(j)}function v(j){return j===62?$(j):j===93?(t.consume(j),v):g(j)}function w(j){return j===null||j===62?$(j):we(j)?(a=w,U(j)):(t.consume(j),w)}function x(j){return j===null?n(j):j===63?(t.consume(j),E):we(j)?(a=x,U(j)):(t.consume(j),x)}function E(j){return j===62?$(j):x(j)}function A(j){return hr(j)?(t.consume(j),S):n(j)}function S(j){return j===45||nr(j)?(t.consume(j),S):_(j)}function _(j){return we(j)?(a=_,U(j)):He(j)?(t.consume(j),_):$(j)}function O(j){return j===45||nr(j)?(t.consume(j),O):j===47||j===62||bt(j)?I(j):n(j)}function I(j){return j===47?(t.consume(j),$):j===58||j===95||hr(j)?(t.consume(j),M):we(j)?(a=I,U(j)):He(j)?(t.consume(j),I):$(j)}function M(j){return j===45||j===46||j===58||j===95||nr(j)?(t.consume(j),M):R(j)}function R(j){return j===61?(t.consume(j),N):we(j)?(a=R,U(j)):He(j)?(t.consume(j),R):I(j)}function N(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),i=j,L):we(j)?(a=N,U(j)):He(j)?(t.consume(j),N):(t.consume(j),F)}function L(j){return j===i?(t.consume(j),i=void 0,z):j===null?n(j):we(j)?(a=L,U(j)):(t.consume(j),L)}function F(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||bt(j)?I(j):(t.consume(j),F)}function z(j){return j===47||j===62||bt(j)?I(j):n(j)}function $(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function U(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),H}function H(j){return He(j)?qe(t,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):W(j)}function W(j){return t.enter("htmlTextData"),a(j)}}const NT={name:"labelEnd",resolveAll:ZAe,resolveTo:QAe,tokenize:eSe},XAe={tokenize:tSe},YAe={tokenize:nSe},JAe={tokenize:rSe};function ZAe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&di(t,0,t.length,n),t}function QAe(t,e){let n=t.length,r=0,i,o,a,s;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[o][1].start},end:{...t[a][1].end}},u={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[a-2][1].start}};return s=[["enter",l,e],["enter",c,e]],s=Ni(s,t.slice(o+1,o+r+3)),s=Ni(s,[["enter",u,e]]),s=Ni(s,O1(e.parser.constructs.insideSpan.null,t.slice(o+r+4,a-3),e)),s=Ni(s,[["exit",u,e],t[a-2],t[a-1],["exit",c,e]]),s=Ni(s,t.slice(a+1)),s=Ni(s,[["exit",l,e]]),di(t,o,t.length,s),t}function eSe(t,e,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(f){return o?o._inactive?h(f):(a=r.parser.defined.includes(yo(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(XAe,u,a?u:h)(f):f===91?t.attempt(YAe,u,a?c:h)(f):a?u(f):h(f)}function c(f){return t.attempt(JAe,u,h)(f)}function u(f){return e(f)}function h(f){return o._balanced=!0,n(f)}}function tSe(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return bt(h)?Fm(t,o)(h):o(h)}function o(h){return h===41?u(h):F5(t,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return bt(h)?Fm(t,l)(h):u(h)}function s(h){return n(h)}function l(h){return h===34||h===39||h===40?z5(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return bt(h)?Fm(t,u)(h):u(h)}function u(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function nSe(t,e,n){const r=this;return i;function i(s){return B5.call(r,t,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(yo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function a(s){return n(s)}}function rSe(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const iSe={name:"labelStartImage",resolveAll:NT.resolveAll,tokenize:oSe};function oSe(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const aSe={name:"labelStartLink",resolveAll:NT.resolveAll,tokenize:sSe};function sSe(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const FA={name:"lineEnding",tokenize:lSe};function lSe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),qe(t,e,"linePrefix")}}const ux={name:"thematicBreak",tokenize:cSe};function cSe(t,e,n){let r=0,i;return o;function o(c){return t.enter("thematicBreak"),a(c)}function a(c){return i=c,s(c)}function s(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||we(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),He(c)?qe(t,s,"whitespace")(c):s(c))}}const br={continuation:{tokenize:fSe},exit:mSe,name:"list",tokenize:dSe},uSe={partial:!0,tokenize:gSe},hSe={partial:!0,tokenize:pSe};function dSe(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:C_(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(ux,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return C_(p)&&++a<10?(t.consume(p),l):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(zv,r.interrupt?n:u,t.attempt(uSe,f,h))}function u(p){return r.containerState.initialBlankLine=!0,o++,f(p)}function h(p){return He(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function fSe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(zv,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,qe(t,e,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!He(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(hSe,e,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,qe(t,t.attempt(br,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function pSe(t,e,n){const r=this;return qe(t,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):n(o)}}function mSe(t){t.exit(this.containerState.type)}function gSe(t,e,n){const r=this;return qe(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!He(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const XN={name:"setextUnderline",resolveTo:ySe,tokenize:vSe};function ySe(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function vSe(t,e,n){const r=this;let i;return o;function o(c){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return t.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(t.consume(c),s):(t.exit("setextHeadingLineSequence"),He(c)?qe(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||we(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const bSe={tokenize:xSe};function xSe(t){const e=this,n=t.attempt(zv,r,t.attempt(this.parser.constructs.flowInitial,i,qe(t,t.attempt(this.parser.constructs.flow,i,t.attempt(CAe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const wSe={resolveAll:H5()},ASe=U5("string"),SSe=U5("text");function U5(t){return{resolveAll:H5(t==="text"?ESe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,a,s);return a;function a(u){return c(u)?o(u):s(u)}function s(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function H5(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function ESe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(c===-2)l=!0,s++;else if(c!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(s=0),s){const c={type:n===t.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const CSe={42:br,43:br,45:br,48:br,49:br,50:br,51:br,52:br,53:br,54:br,55:br,56:br,57:br,62:j5},_Se={91:OAe},PSe={[-2]:$A,[-1]:$A,32:$A},TSe={35:DAe,42:ux,45:[XN,ux],60:BAe,61:XN,95:ux,96:qN,126:qN},kSe={38:L5,92:D5},OSe={[-5]:FA,[-4]:FA,[-3]:FA,33:iSe,38:L5,42:__,60:[aAe,qAe],91:aSe,92:[NAe,D5],93:NT,95:__,96:bAe},MSe={null:[__,wSe]},RSe={null:[42,95]},ISe={null:[]},NSe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:RSe,contentInitial:_Se,disable:ISe,document:CSe,flow:TSe,flowInitial:PSe,insideSpan:MSe,string:kSe,text:OSe},Symbol.toStringTag,{value:"Module"}));function jSe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:_(A),check:_(S),consume:w,enter:x,exit:E,interrupt:_(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:h};let u=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function h(R){return a=Ni(a,R),y(),a[a.length-1]!==null?[]:(O(e,0),c.events=O1(o,c.events,c),c.events)}function f(R,N){return LSe(p(R),N)}function p(R){return DSe(a,R)}function m(){const{_bufferIndex:R,_index:N,line:L,column:F,offset:z}=r;return{_bufferIndex:R,_index:N,line:L,column:F,offset:z}}function g(R){i[R.line]=R.column,M()}function y(){let R;for(;r._index<a.length;){const N=a[r._index];if(typeof N=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<N.length;)v(N.charCodeAt(r._bufferIndex));else v(N)}}function v(R){u=u(R)}function w(R){we(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,M()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=R}function x(R,N){const L=N||{};return L.type=R,L.start=m(),c.events.push(["enter",L,c]),s.push(L),L}function E(R){const N=s.pop();return N.end=m(),c.events.push(["exit",N,c]),N}function A(R,N){O(R,N.from)}function S(R,N){N.restore()}function _(R,N){return L;function L(F,z,$){let U,H,W,j;return Array.isArray(F)?q(F):"tokenize"in F?q([F]):X(F);function X(ye){return ie;function ie(pe){const J=pe!==null&&ye[pe],Z=pe!==null&&ye.null,re=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(Z)?Z:Z?[Z]:[]];return q(re)(pe)}}function q(ye){return U=ye,H=0,ye.length===0?$:D(ye[H])}function D(ye){return ie;function ie(pe){return j=I(),W=ye,ye.partial||(c.currentConstruct=ye),ye.name&&c.parser.constructs.disable.null.includes(ye.name)?ve():ye.tokenize.call(N?Object.assign(Object.create(c),N):c,l,le,ve)(pe)}}function le(ye){return R(W,j),z}function ve(ye){return j.restore(),++H<U.length?D(U[H]):$}}}function O(R,N){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&di(c.events,N,c.events.length-N,R.resolve(c.events.slice(N),c)),R.resolveTo&&(c.events=R.resolveTo(c.events,c))}function I(){const R=m(),N=c.previous,L=c.currentConstruct,F=c.events.length,z=Array.from(s);return{from:F,restore:$};function $(){r=R,c.previous=N,c.currentConstruct=L,c.events.length=F,s=z,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function DSe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,o)];else{if(a=t.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function LSe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function $Se(t){const r={constructs:I5([NSe,...(t||{}).extensions||[]]),content:i(Q1e),defined:[],document:i(tAe),flow:i(bSe),lazy:{},string:i(ASe),text:i(SSe)};return r;function i(o){return a;function a(s){return jSe(r,o,s)}}}function FSe(t){for(;!$5(t););return t}const YN=/[\0\t\n\r]/g;function BSe(){let t=1,e="",n=!0,r;return i;function i(o,a,s){const l=[];let c,u,h,f,p;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),h=0,e="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(YN.lastIndex=h,c=YN.exec(o),f=c&&c.index!==void 0?c.index:o.length,p=o.charCodeAt(f),!c){e=o.slice(h);break}if(p===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(o.slice(h,f)),t+=f-h),p){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return s&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const zSe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function USe(t){return t.replace(zSe,HSe)}function HSe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return N5(n.slice(o?2:1),o?16:10)}return IT(n)||t}const V5={}.hasOwnProperty;function VSe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),WSe(n)(FSe($Se(n).document().write(BSe()(t,e,!0))))}function WSe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ht),autolinkProtocol:I,autolinkEmail:I,atxHeading:o(xe),blockQuote:o(Z),characterEscape:I,characterReference:I,codeFenced:o(re),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(re,a),codeText:o(V,a),codeTextData:I,data:I,codeFlowValue:I,definition:o(te),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(ae),hardBreakEscape:o(be),hardBreakTrailing:o(be),htmlFlow:o(Be,a),htmlFlowData:I,htmlText:o(Be,a),htmlTextData:I,image:o(Ut),label:a,link:o(Ht),listItem:o(tt),listItemValue:f,listOrdered:o(In,h),listUnordered:o(In),paragraph:o(Gi),reference:D,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(xe),strong:o(ic),thematicBreak:o(dh)},exit:{atxHeading:l(),atxHeadingSequence:A,autolink:l(),autolinkEmail:J,autolinkProtocol:pe,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:ye,characterReference:ie,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:M,codeIndented:l(v),codeText:l(z),codeTextData:M,data:M,definition:l(),definitionDestinationString:E,definitionLabelString:w,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(L),htmlFlowData:M,htmlText:l(F),htmlTextData:M,image:l(U),label:W,labelText:H,lineEnding:R,link:l($),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:le,resourceDestinationString:j,resourceTitleString:X,resource:q,setextHeading:l(O),setextHeadingLineSequence:_,setextHeadingText:S,strong:l(),thematicBreak:l()}};W5(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Y){let oe={type:"root",children:[]};const Ce={stack:[oe],tokenStack:[],config:e,enter:s,exit:c,buffer:a,resume:u,data:n},Te=[];let Ze=-1;for(;++Ze<Y.length;)if(Y[Ze][1].type==="listOrdered"||Y[Ze][1].type==="listUnordered")if(Y[Ze][0]==="enter")Te.push(Ze);else{const qi=Te.pop();Ze=i(Y,qi,Ze)}for(Ze=-1;++Ze<Y.length;){const qi=e[Y[Ze][0]];V5.call(qi,Y[Ze][1].type)&&qi[Y[Ze][1].type].call(Object.assign({sliceSerialize:Y[Ze][2].sliceSerialize},Ce),Y[Ze][1])}if(Ce.tokenStack.length>0){const qi=Ce.tokenStack[Ce.tokenStack.length-1];(qi[1]||JN).call(Ce,void 0,qi[0])}for(oe.position={start:js(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:js(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)oe=e.transforms[Ze](oe)||oe;return oe}function i(Y,oe,Ce){let Te=oe-1,Ze=-1,qi=!1,oc,ma,Dp,Lp;for(;++Te<=Ce;){const Dr=Y[Te];switch(Dr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Dr[0]==="enter"?Ze++:Ze--,Lp=void 0;break}case"lineEndingBlank":{Dr[0]==="enter"&&(oc&&!Lp&&!Ze&&!Dp&&(Dp=Te),Lp=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Lp=void 0}if(!Ze&&Dr[0]==="enter"&&Dr[1].type==="listItemPrefix"||Ze===-1&&Dr[0]==="exit"&&(Dr[1].type==="listUnordered"||Dr[1].type==="listOrdered")){if(oc){let fh=Te;for(ma=void 0;fh--;){const ga=Y[fh];if(ga[1].type==="lineEnding"||ga[1].type==="lineEndingBlank"){if(ga[0]==="exit")continue;ma&&(Y[ma][1].type="lineEndingBlank",qi=!0),ga[1].type="lineEnding",ma=fh}else if(!(ga[1].type==="linePrefix"||ga[1].type==="blockQuotePrefix"||ga[1].type==="blockQuotePrefixWhitespace"||ga[1].type==="blockQuoteMarker"||ga[1].type==="listItemIndent"))break}Dp&&(!ma||Dp<ma)&&(oc._spread=!0),oc.end=Object.assign({},ma?Y[ma][1].start:Dr[1].end),Y.splice(ma||Te,0,["exit",oc,Dr[2]]),Te++,Ce++}if(Dr[1].type==="listItemPrefix"){const fh={type:"listItem",_spread:!1,start:Object.assign({},Dr[1].start),end:void 0};oc=fh,Y.splice(Te,0,["enter",fh,Dr[2]]),Te++,Ce++,Dp=void 0,Lp=!0}}}return Y[oe][1]._spread=qi,Ce}function o(Y,oe){return Ce;function Ce(Te){s.call(this,Y(Te),Te),oe&&oe.call(this,Te)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(Y,oe,Ce){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([oe,Ce||void 0]),Y.position={start:js(oe.start),end:void 0}}function l(Y){return oe;function oe(Ce){Y&&Y.call(this,Ce),c.call(this,Ce)}}function c(Y,oe){const Ce=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==Y.type&&(oe?oe.call(this,Y,Te[0]):(Te[1]||JN).call(this,Y,Te[0]));else throw new Error("Cannot close `"+Y.type+"` ("+$m({start:Y.start,end:Y.end})+"): itâ€™s not open");Ce.position.end=js(Y.end)}function u(){return RT(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(Y){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function p(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Y}function m(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Y}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/(\r?\n|\r)$/g,"")}function w(Y){const oe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=oe,Ce.identifier=yo(this.sliceSerialize(Y)).toLowerCase()}function x(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function E(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function A(Y){const oe=this.stack[this.stack.length-1];if(!oe.depth){const Ce=this.sliceSerialize(Y).length;oe.depth=Ce}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function _(Y){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function I(Y){const Ce=this.stack[this.stack.length-1].children;let Te=Ce[Ce.length-1];(!Te||Te.type!=="text")&&(Te=hh(),Te.position={start:js(Y.start),end:void 0},Ce.push(Te)),this.stack.push(Te)}function M(Y){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Y),oe.position.end=js(Y.end)}function R(Y){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=oe.children[oe.children.length-1];Ce.position.end=js(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(oe.type)&&(I.call(this,Y),M.call(this,Y))}function N(){this.data.atHardBreak=!0}function L(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function F(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function z(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function $(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function U(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function H(Y){const oe=this.sliceSerialize(Y),Ce=this.stack[this.stack.length-2];Ce.label=USe(oe),Ce.identifier=yo(oe).toLowerCase()}function W(){const Y=this.stack[this.stack.length-1],oe=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Te=Y.children;Ce.children=Te}else Ce.alt=oe}function j(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function X(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function q(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function le(Y){const oe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=oe,Ce.identifier=yo(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function ve(Y){this.data.characterReferenceType=Y.type}function ye(Y){const oe=this.sliceSerialize(Y),Ce=this.data.characterReferenceType;let Te;Ce?(Te=N5(oe,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=IT(oe);const Ze=this.stack[this.stack.length-1];Ze.value+=Te}function ie(Y){const oe=this.stack.pop();oe.position.end=js(Y.end)}function pe(Y){M.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Y)}function J(Y){M.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Y)}function Z(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function V(){return{type:"inlineCode",value:""}}function te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ae(){return{type:"emphasis",children:[]}}function xe(){return{type:"heading",depth:0,children:[]}}function be(){return{type:"break"}}function Be(){return{type:"html",value:""}}function Ut(){return{type:"image",title:null,url:"",alt:null}}function Ht(){return{type:"link",title:null,url:"",children:[]}}function In(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function tt(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function Gi(){return{type:"paragraph",children:[]}}function ic(){return{type:"strong",children:[]}}function hh(){return{type:"text",value:""}}function dh(){return{type:"thematicBreak"}}}function js(t){return{line:t.line,column:t.column,offset:t.offset}}function W5(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?W5(t,r):GSe(t,r)}}function GSe(t,e){let n;for(n in e)if(V5.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function JN(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+$m({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+$m({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+$m({start:e.start,end:e.end})+") is still open")}function qSe(t){const e=this;e.parser=n;function n(r){return VSe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function KSe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function XSe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function YSe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function JSe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ZSe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function QSe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=jp(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let a,s=t.footnoteCounts.get(r);s===void 0?(s=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=o+1,s+=1,t.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function eEe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tEe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function G5(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function nEe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return G5(t,e);const i={src:jp(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function rEe(t,e){const n={src:jp(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function iEe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function oEe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return G5(t,e);const i={href:jp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function aEe(t,e){const n={href:jp(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function sEe(t,e,n){const r=t.all(e),i=n?lEe(n):q5(e),o={},a=[];if(typeof e.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?a.push(...u.children):a.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,c),t.applyData(e,c)}function lEe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=q5(n[r])}return e}function q5(t){const e=t.spread;return e??t.children.length>1}function cEe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function uEe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hEe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function dEe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fEe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=TT(e.children[1]),l=_5(e.children[e.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function pEe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<s;){const h=e.children[l],f={},p=a?a[l]:void 0;p&&(f.align=p);let m={type:"element",tagName:o,properties:f,children:[]};h&&(m.children=t.all(h),t.patch(h,m),m=t.applyData(h,m)),c.push(m)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function mEe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ZN=9,QN=32;function gEe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(ej(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(ej(e.slice(i),i>0,!1)),o.join("")}function ej(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===ZN||o===QN;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===ZN||o===QN;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function yEe(t,e){const n={type:"text",value:gEe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function vEe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const bEe={blockquote:KSe,break:XSe,code:YSe,delete:JSe,emphasis:ZSe,footnoteReference:QSe,heading:eEe,html:tEe,imageReference:nEe,image:rEe,inlineCode:iEe,linkReference:oEe,link:aEe,listItem:sEe,list:cEe,paragraph:uEe,root:hEe,strong:dEe,table:fEe,tableCell:mEe,tableRow:pEe,text:yEe,thematicBreak:vEe,toml:wb,yaml:wb,definition:wb,footnoteDefinition:wb};function wb(){}const K5=-1,M1=0,Bm=1,F0=2,jT=3,DT=4,LT=5,$T=6,X5=7,Y5=8,tj=typeof self=="object"?self:globalThis,xEe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,a]=e[i];switch(o){case M1:case K5:return n(a,i);case Bm:{const s=n([],i);for(const l of a)s.push(r(l));return s}case F0:{const s=n({},i);for(const[l,c]of a)s[r(l)]=r(c);return s}case jT:return n(new Date(a),i);case DT:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case LT:{const s=n(new Map,i);for(const[l,c]of a)s.set(r(l),r(c));return s}case $T:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case X5:{const{name:s,message:l}=a;return n(new tj[s](l),i)}case Y5:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new tj[o](a),i)};return r},nj=t=>xEe(new Map,t)(0),Eh="",{toString:wEe}={},{keys:AEe}=Object,im=t=>{const e=typeof t;if(e!=="object"||!t)return[M1,e];const n=wEe.call(t).slice(8,-1);switch(n){case"Array":return[Bm,Eh];case"Object":return[F0,Eh];case"Date":return[jT,Eh];case"RegExp":return[DT,Eh];case"Map":return[LT,Eh];case"Set":return[$T,Eh];case"DataView":return[Bm,n]}return n.includes("Array")?[Bm,n]:n.includes("Error")?[X5,n]:[F0,n]},Ab=([t,e])=>t===M1&&(e==="function"||e==="symbol"),SEe=(t,e,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=im(a);switch(s){case M1:{let u=a;switch(l){case"bigint":s=Y5,u=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([K5],a)}return i([s,u],a)}case Bm:{if(l){let f=a;return l==="DataView"?f=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(a)),i([l,[...f]],a)}const u=[],h=i([s,u],a);for(const f of a)u.push(o(f));return h}case F0:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return o(a.toJSON());const u=[],h=i([s,u],a);for(const f of AEe(a))(t||!Ab(im(a[f])))&&u.push([o(f),o(a[f])]);return h}case jT:return i([s,a.toISOString()],a);case DT:{const{source:u,flags:h}=a;return i([s,{source:u,flags:h}],a)}case LT:{const u=[],h=i([s,u],a);for(const[f,p]of a)(t||!(Ab(im(f))||Ab(im(p))))&&u.push([o(f),o(p)]);return h}case $T:{const u=[],h=i([s,u],a);for(const f of a)(t||!Ab(im(f)))&&u.push(o(f));return h}}const{message:c}=a;return i([s,{name:l,message:c}],a)};return o},rj=(t,{json:e,lossy:n}={})=>{const r=[];return SEe(!(e||n),!!e,new Map,r)(t),r},B0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?nj(rj(t,e)):structuredClone(t):(t,e)=>nj(rj(t,e));function EEe(t,e){const n=[{type:"text",value:"â†©"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function CEe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function _Ee(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||EEe,r=t.options.footnoteBackLabel||CEe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),h=String(c.identifier).toUpperCase(),f=jp(h.toLowerCase());let p=0;const m=[],g=t.footnoteCounts.get(h);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,p);typeof w=="string"&&(w={type:"text",value:w}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const w=y.children[y.children.length-1];w&&w.type==="text"?w.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...m)}else u.push(...m);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(u,!0)};t.patch(c,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...B0(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const R1=function(t){if(t==null)return OEe;if(typeof t=="function")return I1(t);if(typeof t=="object")return Array.isArray(t)?PEe(t):TEe(t);if(typeof t=="string")return kEe(t);throw new Error("Expected function, string, or object as test")};function PEe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=R1(t[n]);return I1(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function TEe(t){const e=t;return I1(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function kEe(t){return I1(e);function e(n){return n&&n.type===t}}function I1(t){return e;function e(n,r,i){return!!(MEe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function OEe(){return!0}function MEe(t){return t!==null&&typeof t=="object"&&"type"in t}const J5=[],REe=!0,P_=!1,IEe="skip";function Z5(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=R1(i),a=r?-1:1;s(t,void 0,[])();function s(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=J5,m,g,y;if((!e||o(l,c,u[u.length-1]||void 0))&&(p=NEe(n(l,u)),p[0]===P_))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==IEe)for(g=(r?v.children.length:-1)+a,y=u.concat(v);g>-1&&g<v.children.length;){const w=v.children[g];if(m=s(w,g,y)(),m[0]===P_)return m;g=typeof m[1]=="number"?m[1]:g+a}}return p}}}function NEe(t){return Array.isArray(t)?t:typeof t=="number"?[REe,t]:t==null?J5:[t]}function FT(t,e,n,r){let i,o,a;typeof e=="function"&&typeof n!="function"?(o=void 0,a=e,i=n):(o=e,a=n,i=r),Z5(t,o,s,i);function s(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return a(l,h,u)}}const T_={}.hasOwnProperty,jEe={};function DEe(t,e){const n=e||jEe,r=new Map,i=new Map,o=new Map,a={...bEe,...n.handlers},s={all:c,applyData:$Ee,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:LEe,wrap:BEe};return FT(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?r:i,f=String(u.identifier).toUpperCase();h.has(f)||h.set(f,u)}}),s;function l(u,h){const f=u.type,p=s.handlers[f];if(T_.call(s.handlers,f)&&p)return p(s,u,h);if(s.options.passThrough&&s.options.passThrough.includes(f)){if("children"in u){const{children:g,...y}=u,v=B0(y);return v.children=s.all(u),v}return B0(u)}return(s.options.unknownHandler||FEe)(s,u,h)}function c(u){const h=[];if("children"in u){const f=u.children;let p=-1;for(;++p<f.length;){const m=s.one(f[p],u);if(m){if(p&&f[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=ij(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=ij(g.value))}Array.isArray(m)?h.push(...m):h.push(m)}}}return h}}function LEe(t,e){t.position&&(e.position=C1e(t))}function $Ee(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,B0(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function FEe(t,e){const n=e.data||{},r="value"in e&&!(T_.call(n,"hProperties")||T_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function BEe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ij(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function oj(t,e){const n=DEe(t,e),r=n.one(t,void 0),i=_Ee(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function zEe(t,e){return t&&"run"in t?async function(n,r){const i=oj(n,{file:r,...e});await t.run(i,r)}:function(n,r){return oj(n,{file:r,...t||e})}}function aj(t){if(t)throw t}var hx=Object.prototype.hasOwnProperty,Q5=Object.prototype.toString,sj=Object.defineProperty,lj=Object.getOwnPropertyDescriptor,cj=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Q5.call(e)==="[object Array]"},uj=function(e){if(!e||Q5.call(e)!=="[object Object]")return!1;var n=hx.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&hx.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||hx.call(e,i)},hj=function(e,n){sj&&n.name==="__proto__"?sj(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},dj=function(e,n){if(n==="__proto__")if(hx.call(e,n)){if(lj)return lj(e,n).value}else return;return e[n]},UEe=function t(){var e,n,r,i,o,a,s=arguments[0],l=1,c=arguments.length,u=!1;for(typeof s=="boolean"&&(u=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=dj(s,n),i=dj(e,n),s!==i&&(u&&i&&(uj(i)||(o=cj(i)))?(o?(o=!1,a=r&&cj(r)?r:[]):a=r&&uj(r)?r:{},hj(s,{name:n,newValue:t(u,a,i)})):typeof i<"u"&&hj(s,{name:n,newValue:i}));return s};const BA=et(UEe);function k_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function HEe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...c){const u=t[++o];let h=-1;if(l){a(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,u?VEe(u,s)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function VEe(t,e){let n;return r;function r(...a){const s=t.length>a.length;let l;s&&a.push(i);try{l=t.apply(this,a)}catch(c){const u=c;if(s&&n)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,e(a,...s))}function o(a){i(null,a)}}const To={basename:WEe,dirname:GEe,extname:qEe,join:KEe,sep:"/"};function WEe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Uv(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function GEe(t){if(Uv(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function qEe(t){Uv(t);let e=t.length,n=-1,r=0,i=-1,o=0,a;for(;e--;){const s=t.codePointAt(e);if(s===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function KEe(...t){let e=-1,n;for(;++e<t.length;)Uv(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":XEe(n)}function XEe(t){Uv(t);const e=t.codePointAt(0)===47;let n=YEe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function YEe(t,e){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=t.length;){if(a<t.length)s=t.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function Uv(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const JEe={cwd:ZEe};function ZEe(){return"/"}function O_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function QEe(t){if(typeof t=="string")t=new URL(t);else if(!O_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return eCe(t)}function eCe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const zA=["history","path","basename","stem","extname","dirname"];class e4{constructor(e){let n;e?O_(e)?n={path:e}:typeof e=="string"||tCe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":JEe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<zA.length;){const o=zA[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)zA.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?To.basename(this.path):void 0}set basename(e){HA(e,"basename"),UA(e,"basename"),this.path=To.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?To.dirname(this.path):void 0}set dirname(e){fj(this.basename,"dirname"),this.path=To.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?To.extname(this.path):void 0}set extname(e){if(UA(e,"extname"),fj(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=To.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){O_(e)&&(e=QEe(e)),HA(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?To.basename(this.path,this.extname):void 0}set stem(e){HA(e,"stem"),UA(e,"stem"),this.path=To.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ir(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function UA(t,e){if(t&&t.includes(To.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+To.sep+"`")}function HA(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function fj(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function tCe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const nCe=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},rCe={}.hasOwnProperty;class BT extends nCe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=HEe()}copy(){const e=new BT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(BA(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(GA("data",this.frozen),this.namespace[e]=n,this):rCe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(GA("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Sb(e),r=this.parser||this.Parser;return VA("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),VA("process",this.parser||this.Parser),WA("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=Sb(e),l=r.parse(s);r.run(l,s,function(u,h,f){if(u||!h||!f)return c(u);const p=h,m=r.stringify(p,f);aCe(m)?f.value=m:f.result=m,c(u,f)});function c(u,h){u||!h?a(u):o?o(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),VA("processSync",this.parser||this.Parser),WA("processSync",this.compiler||this.Compiler),this.process(e,i),mj("processSync","process",n),r;function i(o,a){n=!0,aj(o),r=a}}run(e,n,r){pj(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=Sb(n);i.run(e,l,c);function c(u,h,f){const p=h||e;u?s(u):a?a(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),mj("runSync","run",r),i;function o(a,s){aj(a),i=s,r=!0}}stringify(e,n){this.freeze();const r=Sb(n),i=this.compiler||this.Compiler;return WA("stringify",i),pj(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(GA("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=BA(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const h=c[u];o(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===c){f=h;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[p,...m]=u;const g=r[f][1];k_(g)&&k_(p)&&(p=BA(!0,g,p)),r[f]=[c,p,...m]}}}}const iCe=new BT().freeze();function VA(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function WA(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function GA(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pj(t){if(!k_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function mj(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Sb(t){return oCe(t)?t:new e4(t)}function oCe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function aCe(t){return typeof t=="string"||sCe(t)}function sCe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lCe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gj=[],yj={allowDangerousHtml:!0},cCe=/^(https?|ircs?|mailto|xmpp)$/i,uCe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hCe(t){const e=dCe(t),n=fCe(t);return pCe(e.runSync(e.parse(n),n),t)}function dCe(t){const e=t.rehypePlugins||gj,n=t.remarkPlugins||gj,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...yj}:yj;return iCe().use(qSe).use(n).use(zEe,r).use(e)}function fCe(t){const e=t.children||"",n=new e4;return typeof e=="string"&&(n.value=e),n}function pCe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,a=e.skipHtml,s=e.unwrapDisallowed,l=e.urlTransform||mCe;for(const u of uCe)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+lCe+u.id,void 0);return FT(t,c),O1e(t,{Fragment:b.Fragment,components:i,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function c(u,h,f){if(u.type==="raw"&&f&&typeof h=="number")return a?f.children.splice(h,1):f.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let p;for(p in LA)if(Object.hasOwn(LA,p)&&Object.hasOwn(u.properties,p)){const m=u.properties[p],g=LA[p];(g===null||g.includes(u.tagName))&&(u.properties[p]=l(String(m||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):o?o.includes(u.tagName):!1;if(!p&&r&&typeof h=="number"&&(p=!r(u,h,f)),p&&f&&typeof h=="number")return s&&u.children?f.children.splice(h,1,...u.children):f.children.splice(h,1),h}}}function mCe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||cCe.test(t.slice(0,e))?t:""}function vj(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function gCe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function yCe(t,e,n){const i=R1((n||{}).ignore||[]),o=vCe(e);let a=-1;for(;++a<o.length;)Z5(t,"text",s);function s(c,u){let h=-1,f;for(;++h<u.length;){const p=u[h],m=f?f.children:void 0;if(i(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return l(c,u)}function l(c,u){const h=u[u.length-1],f=o[a][0],p=o[a][1];let m=0;const y=h.children.indexOf(c);let v=!1,w=[];f.lastIndex=0;let x=f.exec(c.value);for(;x;){const E=x.index,A={index:x.index,input:x.input,stack:[...u,c]};let S=p(...x,A);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=E+1:(m!==E&&w.push({type:"text",value:c.value.slice(m,E)}),Array.isArray(S)?w.push(...S):S&&w.push(S),m=E+x[0].length,v=!0),!f.global)break;x=f.exec(c.value)}return v?(m<c.value.length&&w.push({type:"text",value:c.value.slice(m)}),h.children.splice(y,1,...w)):w=[c],y+w.length}}function vCe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([bCe(i[0]),xCe(i[1])])}return e}function bCe(t){return typeof t=="string"?new RegExp(gCe(t),"g"):t}function xCe(t){return typeof t=="function"?t:function(){return t}}const qA="phrasing",KA=["autolink","link","image","label"];function wCe(){return{transforms:[TCe],enter:{literalAutolink:SCe,literalAutolinkEmail:XA,literalAutolinkHttp:XA,literalAutolinkWww:XA},exit:{literalAutolink:PCe,literalAutolinkEmail:_Ce,literalAutolinkHttp:ECe,literalAutolinkWww:CCe}}}function ACe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:qA,notInConstruct:KA},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:qA,notInConstruct:KA},{character:":",before:"[ps]",after:"\\/",inConstruct:qA,notInConstruct:KA}]}}function SCe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function XA(t){this.config.enter.autolinkProtocol.call(this,t)}function ECe(t){this.config.exit.autolinkProtocol.call(this,t)}function CCe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function _Ce(t){this.config.exit.autolinkEmail.call(this,t)}function PCe(t){this.exit(t)}function TCe(t){yCe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,kCe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),OCe]],{ignore:["link","linkReference"]})}function kCe(t,e,n,r,i){let o="";if(!t4(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!MCe(n)))return!1;const a=RCe(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function OCe(t,e,n,r){return!t4(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function MCe(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function RCe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=vj(t,"(");let o=vj(t,")");for(;r!==-1&&i>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function t4(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||rh(n)||k1(n))&&(!e||n!==47)}n4.peek=zCe;function ICe(){this.buffer()}function NCe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function jCe(){this.buffer()}function DCe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function LCe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function $Ce(t){this.exit(t)}function FCe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function BCe(t){this.exit(t)}function zCe(){return"["}function n4(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function UCe(){return{enter:{gfmFootnoteCallString:ICe,gfmFootnoteCall:NCe,gfmFootnoteDefinitionLabelString:jCe,gfmFootnoteDefinition:DCe},exit:{gfmFootnoteCallString:LCe,gfmFootnoteCall:$Ce,gfmFootnoteDefinitionLabelString:FCe,gfmFootnoteDefinition:BCe}}}function HCe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:n4},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,a){const s=o.createTracker(a);let l=s.move("[^");const c=o.enter("footnoteDefinition"),u=o.enter("label");return l+=s.move(o.safe(o.associationId(r),{before:l,after:"]"})),u(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,s.current()),e?r4:VCe))),c(),l}}function VCe(t,e,n){return e===0?t:r4(t,e,n)}function r4(t,e,n){return(n?"":"    ")+t}const WCe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];i4.peek=YCe;function GCe(){return{canContainEols:["delete"],enter:{strikethrough:KCe},exit:{strikethrough:XCe}}}function qCe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:WCe}],handlers:{delete:i4}}}function KCe(t){this.enter({type:"delete",children:[]},t)}function XCe(t){this.exit(t)}function i4(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function YCe(){return"~"}function JCe(t){return t.length}function ZCe(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||JCe,o=[],a=[],s=[],l=[];let c=0,u=-1;for(;++u<t.length;){const g=[],y=[];let v=-1;for(t[u].length>c&&(c=t[u].length);++v<t[u].length;){const w=QCe(t[u][v]);if(n.alignDelimiters!==!1){const x=i(w);y[v]=x,(l[v]===void 0||x>l[v])&&(l[v]=x)}g.push(w)}a[u]=g,s[u]=y}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<c;)o[h]=bj(r[h]);else{const g=bj(r);for(;++h<c;)o[h]=g}h=-1;const f=[],p=[];for(;++h<c;){const g=o[h];let y="",v="";g===99?(y=":",v=":"):g===108?y=":":g===114&&(v=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[h]-y.length-v.length);const x=y+"-".repeat(w)+v;n.alignDelimiters!==!1&&(w=y.length+w+v.length,w>l[h]&&(l[h]=w),p[h]=w),f[h]=x}a.splice(1,0,f),s.splice(1,0,p),u=-1;const m=[];for(;++u<a.length;){const g=a[u],y=s[u];h=-1;const v=[];for(;++h<c;){const w=g[h]||"";let x="",E="";if(n.alignDelimiters!==!1){const A=l[h]-(y[h]||0),S=o[h];S===114?x=" ".repeat(A):S===99?A%2?(x=" ".repeat(A/2+.5),E=" ".repeat(A/2-.5)):(x=" ".repeat(A/2),E=x):E=" ".repeat(A)}n.delimiterStart!==!1&&!h&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||h)&&v.push(" "),n.alignDelimiters!==!1&&v.push(x),v.push(w),n.alignDelimiters!==!1&&v.push(E),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||h!==c-1)&&v.push("|")}m.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return m.join(`
`)}function QCe(t){return t==null?"":String(t)}function bj(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function e_e(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(t,o.current()),t_e);return i(),a}function t_e(t,e,n){return">"+(n?"":" ")+t}function n_e(t,e){return xj(t,e.inConstruct,!0)&&!xj(t,e.notInConstruct,!1)}function xj(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function wj(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&n_e(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function r_e(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+e.length,r=n.indexOf(e,i);return a}function i_e(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function o_e(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function a_e(t,e,n,r){const i=o_e(n),o=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(i_e(t,n)){const h=n.enter("codeIndented"),f=n.indentLines(o,s_e);return h(),f}const s=n.createTracker(r),l=i.repeat(Math.max(r_e(o,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(t.lang){const h=n.enter(`codeFencedLang${a}`);u+=s.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...s.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${a}`);u+=s.move(" "),u+=s.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...s.current()})),h()}return u+=s.move(`
`),o&&(u+=s.move(o+`
`)),u+=s.move(l),c(),u}function s_e(t,e,n){return(n?"":"    ")+t}function zT(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function l_e(t,e,n,r){const i=zT(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),s(),t.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),a(),c}function c_e(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Ng(t){return"&#x"+t.toString(16).toUpperCase()+";"}function z0(t,e,n){const r=up(t),i=up(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}o4.peek=u_e;function o4(t,e,n,r){const i=c_e(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i);let l=a.move(n.containerPhrasing(t,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),u=z0(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Ng(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=z0(r.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+Ng(h));const p=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+l+p}function u_e(t,e,n){return n.options.emphasis||"*"}function h_e(t,e){let n=!1;return FT(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,P_}),!!((!t.depth||t.depth<3)&&RT(t)&&(e.options.setext||n))}function d_e(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(h_e(t,n)){const u=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return h(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c=Ng(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c}a4.peek=f_e;function a4(t){return t.value||""}function f_e(){return"<"}s4.peek=p_e;function s4(t,e,n,r){const i=zT(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),s(),t.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),a(),c}function p_e(){return"!"}l4.peek=m_e;function l4(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(t.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),i==="full"||!c||c!==h?l+=s.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function m_e(){return"!"}c4.peek=g_e;function c4(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function g_e(){return"`"}function u4(t,e){const n=RT(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}h4.peek=y_e;function h4(t,e,n,r){const i=zT(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(u4(t,n)){const u=n.stack;n.stack=[],s=n.enter("autolink");let h=a.move("<");return h+=a.move(n.containerPhrasing(t,{before:h,after:">",...a.current()})),h+=a.move(">"),s(),n.stack=u,h}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(t,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(t.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(t.url,{before:c,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${o}`),c+=a.move(" "+i),c+=a.move(n.safe(t.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),s(),c}function y_e(t,e,n){return u4(t,n)?"<":"["}d4.peek=v_e;function d4(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),i==="full"||!c||c!==h?l+=s.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function v_e(){return"["}function UT(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function b_e(t){const e=UT(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function x_e(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function f4(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function w_e(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=t.ordered?x_e(n):UT(n);const s=t.ordered?a==="."?")":".":b_e(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),f4(n)===a&&u){let h=-1;for(;++h<t.children.length;){const f=t.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),c}function A_e(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function S_e(t,e,n,r){const i=A_e(n);let o=n.bulletCurrent||UT(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,s.current()),u);return l(),c;function u(h,f,p){return f?(p?"":" ".repeat(a))+h:(p?o:o+" ".repeat(a-o.length))+h}}function E_e(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(t,r);return o(),i(),a}const C_e=R1(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function __e(t,e,n,r){return(t.children.some(function(a){return C_e(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function P_e(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}p4.peek=T_e;function p4(t,e,n,r){const i=P_e(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i);let l=a.move(n.containerPhrasing(t,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),u=z0(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Ng(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=z0(r.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+Ng(h));const p=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+l+p}function T_e(t,e,n){return n.options.strong||"*"}function k_e(t,e,n,r){return n.safe(t.value,r)}function O_e(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function M_e(t,e,n){const r=(f4(n)+(n.options.ruleSpaces?" ":"")).repeat(O_e(n));return n.options.ruleSpaces?r.slice(0,-1):r}const m4={blockquote:e_e,break:wj,code:a_e,definition:l_e,emphasis:o4,hardBreak:wj,heading:d_e,html:a4,image:s4,imageReference:l4,inlineCode:c4,link:h4,linkReference:d4,list:w_e,listItem:S_e,paragraph:E_e,root:__e,strong:p4,text:k_e,thematicBreak:M_e};function R_e(){return{enter:{table:I_e,tableData:Aj,tableHeader:Aj,tableRow:j_e},exit:{codeText:D_e,table:N_e,tableData:YA,tableHeader:YA,tableRow:YA}}}function I_e(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function N_e(t){this.exit(t),this.data.inTable=void 0}function j_e(t){this.enter({type:"tableRow",children:[]},t)}function YA(t){this.exit(t)}function Aj(t){this.enter({type:"tableCell",children:[]},t)}function D_e(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,L_e));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function L_e(t,e){return e==="|"?e:t}function $_e(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:l,tableRow:s}};function a(p,m,g,y){return c(u(p,g,y),p.align)}function s(p,m,g,y){const v=h(p,g,y),w=c([v]);return w.slice(0,w.indexOf(`
`))}function l(p,m,g,y){const v=g.enter("tableCell"),w=g.enter("phrasing"),x=g.containerPhrasing(p,{...y,before:o,after:o});return w(),v(),x}function c(p,m){return ZCe(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function u(p,m,g){const y=p.children;let v=-1;const w=[],x=m.enter("table");for(;++v<y.length;)w[v]=h(y[v],m,g);return x(),w}function h(p,m,g){const y=p.children;let v=-1;const w=[],x=m.enter("tableRow");for(;++v<y.length;)w[v]=l(y[v],p,m,g);return x(),w}function f(p,m,g){let y=m4.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function F_e(){return{exit:{taskListCheckValueChecked:Sj,taskListCheckValueUnchecked:Sj,paragraph:z_e}}}function B_e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:U_e}}}function Sj(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function z_e(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,a;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){a=s;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function U_e(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=m4.listItem(t,e,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+a}}function H_e(){return[wCe(),UCe(),GCe(),R_e(),F_e()]}function V_e(t){return{extensions:[ACe(),HCe(t),qCe(),$_e(t),B_e()]}}const W_e={tokenize:J_e,partial:!0},g4={tokenize:Z_e,partial:!0},y4={tokenize:Q_e,partial:!0},v4={tokenize:ePe,partial:!0},G_e={tokenize:tPe,partial:!0},b4={name:"wwwAutolink",tokenize:X_e,previous:w4},x4={name:"protocolAutolink",tokenize:Y_e,previous:A4},Ms={name:"emailAutolink",tokenize:K_e,previous:S4},pa={};function q_e(){return{text:pa}}let hc=48;for(;hc<123;)pa[hc]=Ms,hc++,hc===58?hc=65:hc===91&&(hc=97);pa[43]=Ms;pa[45]=Ms;pa[46]=Ms;pa[95]=Ms;pa[72]=[Ms,x4];pa[104]=[Ms,x4];pa[87]=[Ms,b4];pa[119]=[Ms,b4];function K_e(t,e,n){const r=this;let i,o;return a;function a(h){return!M_(h)||!S4.call(r,r.previous)||HT(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),s(h))}function s(h){return M_(h)?(t.consume(h),s):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(G_e,u,c)(h):h===45||h===95||nr(h)?(o=!0,t.consume(h),l):u(h)}function c(h){return t.consume(h),i=!0,l}function u(h){return o&&i&&hr(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function X_e(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!w4.call(r,r.previous)||HT(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(W_e,t.attempt(g4,t.attempt(y4,o),n),n)(a))}function o(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Y_e(t,e,n){const r=this;let i="",o=!1;return a;function a(h){return(h===72||h===104)&&A4.call(r,r.previous)&&!HT(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),s):n(h)}function s(h){if(hr(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),s;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),o?c:(o=!0,l)):n(h)}function c(h){return h===null||$0(h)||bt(h)||rh(h)||k1(h)?n(h):t.attempt(g4,t.attempt(y4,u),n)(h)}function u(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function J_e(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),o):n(a)}function o(a){return a===null?n(a):e(a)}}function Z_e(t,e,n){let r,i,o;return a;function a(c){return c===46||c===95?t.check(v4,l,s)(c):c===null||bt(c)||rh(c)||c!==45&&k1(c)?l(c):(o=!0,t.consume(c),a)}function s(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),a}function l(c){return i||r||!o?n(c):e(c)}}function Q_e(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(v4,e,o)(a):a===null||bt(a)||rh(a)?e(a):(t.consume(a),i)}function o(a){return a===41&&r++,t.consume(a),i}}function ePe(t,e,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(t.consume(s),r):s===38?(t.consume(s),o):s===93?(t.consume(s),i):s===60||s===null||bt(s)||rh(s)?e(s):n(s)}function i(s){return s===null||s===40||s===91||bt(s)||rh(s)?e(s):r(s)}function o(s){return hr(s)?a(s):n(s)}function a(s){return s===59?(t.consume(s),r):hr(s)?(t.consume(s),a):n(s)}}function tPe(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return nr(o)?n(o):e(o)}}function w4(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||bt(t)}function A4(t){return!hr(t)}function S4(t){return!(t===47||M_(t))}function M_(t){return t===43||t===45||t===46||t===95||nr(t)}function HT(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const nPe={tokenize:uPe,partial:!0};function rPe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:sPe,continuation:{tokenize:lPe},exit:cPe}},text:{91:{name:"gfmFootnoteCall",tokenize:aPe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:iPe,resolveTo:oPe}}}}function iPe(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!a||!a._balanced)return n(l);const c=yo(r.sliceSerialize({start:a.end,end:r.now()}));return c.codePointAt(0)!==94||!o.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function oPe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...s),t}function aPe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return s;function s(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(h){if(o>999||h===93&&!a||h===null||h===91||bt(h))return n(h);if(h===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(yo(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return bt(h)||(a=!0),o++,t.consume(h),h===92?u:c}function u(h){return h===91||h===92||h===93?(t.consume(h),o++,c):c(h)}}function sPe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,s;return l;function l(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(m)}function u(m){if(a>999||m===93&&!s||m===null||m===91||bt(m))return n(m);if(m===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return o=yo(r.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return bt(m)||(s=!0),a++,t.consume(m),m===92?h:u}function h(m){return m===91||m===92||m===93?(t.consume(m),a++,u):u(m)}function f(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),i.includes(o)||i.push(o),qe(t,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return e(m)}}function lPe(t,e,n){return t.check(zv,e,t.attempt(nPe,e,n))}function cPe(t){t.exit("gfmFootnoteDefinition")}function uPe(t,e,n){const r=this;return qe(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(o):n(o)}}function hPe(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,s){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},h={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},f=[["enter",u,s],["enter",a[c][1],s],["exit",a[c][1],s],["enter",h,s]],p=s.parser.constructs.insideSpan.null;p&&di(f,f.length,0,O1(p,a.slice(c+1,l),s)),di(f,f.length,0,[["exit",h,s],["enter",a[l][1],s],["exit",a[l][1],s],["exit",u,s]]),di(a,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,s,l){const c=this.previous,u=this.events;let h=0;return f;function f(m){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(m):(a.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=up(c);if(m===126)return h>1?l(m):(a.consume(m),h++,p);if(h<2&&!n)return l(m);const y=a.exit("strikethroughSequenceTemporary"),v=up(m);return y._open=!v||v===2&&!!g,y._close=!g||g===2&&!!v,s(m)}}}class dPe{constructor(){this.map=[]}add(e,n,r){fPe(this,e,n,r)}consume(e){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const o of i)e.push(o);i=r.pop()}this.map.length=0}}function fPe(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function pPe(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function mPe(){return{flow:{null:{name:"table",tokenize:gPe,resolveAll:yPe}}}}function gPe(t,e,n){const r=this;let i=0,o=0,a;return s;function s(M){let R=r.events.length-1;for(;R>-1;){const F=r.events[R][1].type;if(F==="lineEnding"||F==="linePrefix")R--;else break}const N=R>-1?r.events[R][1].type:null,L=N==="tableHead"||N==="tableRow"?S:l;return L===S&&r.parser.lazy[r.now().line]?n(M):L(M)}function l(M){return t.enter("tableHead"),t.enter("tableRow"),c(M)}function c(M){return M===124||(a=!0,o+=1),u(M)}function u(M){return M===null?n(M):we(M)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),p):n(M):He(M)?qe(t,u,"whitespace")(M):(o+=1,a&&(a=!1,i+=1),M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),a=!0,u):(t.enter("data"),h(M)))}function h(M){return M===null||M===124||bt(M)?(t.exit("data"),u(M)):(t.consume(M),M===92?f:h)}function f(M){return M===92||M===124?(t.consume(M),h):h(M)}function p(M){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(M):(t.enter("tableDelimiterRow"),a=!1,He(M)?qe(t,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):m(M))}function m(M){return M===45||M===58?y(M):M===124?(a=!0,t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),g):A(M)}function g(M){return He(M)?qe(t,y,"whitespace")(M):y(M)}function y(M){return M===58?(o+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),v):M===45?(o+=1,v(M)):M===null||we(M)?E(M):A(M)}function v(M){return M===45?(t.enter("tableDelimiterFiller"),w(M)):A(M)}function w(M){return M===45?(t.consume(M),w):M===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(M),t.exit("tableDelimiterMarker"),x):(t.exit("tableDelimiterFiller"),x(M))}function x(M){return He(M)?qe(t,E,"whitespace")(M):E(M)}function E(M){return M===124?m(M):M===null||we(M)?!a||i!==o?A(M):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(M)):A(M)}function A(M){return n(M)}function S(M){return t.enter("tableRow"),_(M)}function _(M){return M===124?(t.enter("tableCellDivider"),t.consume(M),t.exit("tableCellDivider"),_):M===null||we(M)?(t.exit("tableRow"),e(M)):He(M)?qe(t,_,"whitespace")(M):(t.enter("data"),O(M))}function O(M){return M===null||M===124||bt(M)?(t.exit("data"),_(M)):(t.consume(M),M===92?I:O)}function I(M){return M===92||M===124?(t.consume(M),O):O(M)}}function yPe(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],s=!1,l=0,c,u,h;const f=new dPe;for(;++n<t.length;){const p=t[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(s=!1,l!==0&&(Ej(f,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",c,e]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,h=void 0,o=[0,0,0,0],a=[0,n+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",u,e]])),i=m.type==="tableDelimiterRow"?2:u?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],h=Eb(f,e,o,i,void 0,h),o=[0,0,0,0]),a[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],h=Eb(f,e,o,i,void 0,h)),o=a,a=[o[1],n,0,0])):m.type==="tableHead"?(s=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,o[1]!==0?(a[0]=a[1],h=Eb(f,e,o,i,n,h)):a[1]!==0&&(h=Eb(f,e,a,i,n,h)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&Ej(f,e,l,c,u),f.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=pPe(e.events,n))}return t}function Eb(t,e,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},jh(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const l=jh(e.events,n[1]);if(o={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const c=jh(e.events,n[2]),u=jh(e.events,n[3]),h={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const f=e.events[n[2]],p=e.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;t.add(m,g,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(o.end=Object.assign({},jh(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function Ej(t,e,n,r,i){const o=[],a=jh(e.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,e])),r.end=Object.assign({},a),o.push(["exit",r,e]),t.add(n+1,0,o)}function jh(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const vPe={name:"tasklistCheck",tokenize:xPe};function bPe(){return{text:{91:vPe}}}function xPe(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),o)}function o(l){return bt(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),s):n(l)}function s(l){return we(l)?e(l):He(l)?t.check({tokenize:wPe},e,n)(l):n(l)}}function wPe(t,e,n){return qe(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function APe(t){return I5([q_e(),rPe(),hPe(t),mPe(),bPe()])}const SPe={};function EPe(t){const e=this,n=t||SPe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(APe(n)),o.push(H_e()),a.push(V_e(n))}function E4({children:t}){return b.jsx("div",{className:"prose prose-invert prose-sm max-w-none",style:{color:"var(--color-text-primary)"},children:b.jsx(hCe,{remarkPlugins:[EPe],components:{h1:({node:e,...n})=>b.jsx("h1",{style:{color:"var(--color-text-primary)",marginBottom:"0.5em"},...n}),h2:({node:e,...n})=>b.jsx("h2",{style:{color:"var(--color-text-primary)",marginBottom:"0.5em"},...n}),h3:({node:e,...n})=>b.jsx("h3",{style:{color:"var(--color-text-primary)",marginBottom:"0.5em"},...n}),code:({node:e,className:n,children:r,...i})=>/language-(\w+)/.exec(n||"")?b.jsx("pre",{style:{background:"rgba(15, 23, 42, 0.8)",border:"1px solid rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-sm)",padding:"1em",overflow:"auto"},children:b.jsx("code",{className:n,...i,children:r})}):b.jsx("code",{style:{background:"rgba(0, 100, 145, 0.15)",color:"var(--color-accent)",padding:"0.1em 0.3em",borderRadius:"3px",fontSize:"0.9em"},...i,children:r}),a:({node:e,...n})=>b.jsx("a",{style:{color:"var(--color-accent)",textDecoration:"underline"},target:"_blank",rel:"noopener noreferrer",...n}),ul:({node:e,...n})=>b.jsx("ul",{style:{color:"var(--color-text-primary)"},...n}),ol:({node:e,...n})=>b.jsx("ol",{style:{color:"var(--color-text-primary)"},...n}),p:({node:e,...n})=>b.jsx("p",{style:{color:"var(--color-text-primary)",marginBottom:"0.75em"},...n})},children:t})})}function CPe({messages:t,activeBlock:e,onBlockChange:n}){const r=B.useMemo(()=>{var l;if(!e)return null;const o=t.find(c=>c.id===e.messageId);if(!o)return null;const a=o.blocks.find(c=>c.id===e.blockId);return a||(((l=o.citations)==null?void 0:l.find(c=>c.id===e.blockId))??null)},[t,e]),i=o=>{var a;switch(o.type){case"chart":return o.title||"Chart";case"table":return((a=o.meta)==null?void 0:a.title)||"Table";case"image":return o.alt||"Image";case"citation":return o.title||"Document";case"text":return"Text";default:return"Content"}};return b.jsxs("div",{className:"flex flex-col h-full text-[var(--color-text-primary)]",style:{background:"var(--color-bg-app)"},children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"var(--color-border-subtle)"},children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.18em]",style:{color:"var(--color-text-secondary)"},children:"Result"}),b.jsx("span",{className:"text-sm",style:{color:"var(--color-text-primary)"},children:r?i(r):"Select a chart, table, or image"})]}),r&&b.jsx("button",{className:"text-xs hover:underline",style:{color:"var(--color-text-secondary)"},onMouseEnter:o=>{o.currentTarget.style.color="var(--color-text-primary)"},onMouseLeave:o=>{o.currentTarget.style.color="var(--color-text-secondary)"},onClick:()=>n(null),children:"Clear"})]}),b.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[!r&&b.jsx("div",{className:"h-full w-full flex items-center justify-center text-sm",style:{color:"var(--color-text-muted)"},children:"Click a chart, table, citation, or image in the chat to view it here."}),r&&r.type==="chart"&&b.jsx(Ybe,{block:r}),r&&r.type==="table"&&b.jsx(exe,{block:r}),r&&r.type==="citation"&&b.jsx(Iwe,{block:r}),r&&r.type==="image"&&b.jsx(txe,{block:r}),r&&r.type==="text"&&b.jsx("div",{className:"max-w-3xl",children:b.jsx(E4,{children:r.markdown})})]})]})}function _Pe({block:t,isActive:e,onClick:n}){return b.jsxs("button",{onClick:n,className:"w-full text-left transition-all cursor-pointer",style:{background:e?"rgba(0, 100, 145, 0.15)":"rgba(15, 23, 42, 0.6)",border:e?"2px solid var(--color-accent)":"1px solid rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-md)",padding:"0.75rem",marginTop:"0.5rem"},onMouseEnter:r=>{e||(r.currentTarget.style.borderColor="rgba(0, 100, 145, 0.5)")},onMouseLeave:r=>{e||(r.currentTarget.style.borderColor="rgba(30, 41, 59, 0.8)")},children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(R_,{className:"h-4 w-4",style:{color:e?"var(--color-accent)":"var(--color-text-secondary)"}}),b.jsx("span",{className:"text-xs font-medium",style:{color:e?"var(--color-accent)":"var(--color-text-primary)"},children:t.title||"Chart"}),e&&b.jsx(N_,{className:"h-3 w-3 ml-auto",style:{color:"var(--color-accent)"}})]}),t.subtitle&&b.jsx("p",{className:"text-[10px]",style:{color:"var(--color-text-secondary)"},children:t.subtitle}),!e&&b.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--color-text-muted)"},children:"Click to view â†’"})]})}function PPe({block:t,isActive:e,onClick:n}){var r;return b.jsxs("button",{onClick:n,className:"w-full text-left transition-all cursor-pointer",style:{background:e?"rgba(0, 100, 145, 0.15)":"rgba(15, 23, 42, 0.6)",border:e?"2px solid var(--color-accent)":"1px solid rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-md)",padding:"0.75rem",marginTop:"0.5rem"},onMouseEnter:i=>{e||(i.currentTarget.style.borderColor="rgba(0, 100, 145, 0.5)")},onMouseLeave:i=>{e||(i.currentTarget.style.borderColor="rgba(30, 41, 59, 0.8)")},children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(j_,{className:"h-4 w-4",style:{color:e?"var(--color-accent)":"var(--color-text-secondary)"}}),b.jsx("span",{className:"text-xs font-medium",style:{color:e?"var(--color-accent)":"var(--color-text-primary)"},children:((r=t.meta)==null?void 0:r.title)||"Table"}),e&&b.jsx(N_,{className:"h-3 w-3 ml-auto",style:{color:"var(--color-accent)"}})]}),b.jsxs("p",{className:"text-[10px]",style:{color:"var(--color-text-secondary)"},children:[t.rows.length," rows Ã— ",t.columns.length," columns"]}),!e&&b.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--color-text-muted)"},children:"Click to view â†’"})]})}function TPe({block:t,isActive:e,onClick:n}){return b.jsxs("button",{onClick:n,className:"w-full text-left transition-all cursor-pointer overflow-hidden",style:{background:e?"rgba(0, 100, 145, 0.15)":"rgba(15, 23, 42, 0.6)",border:e?"2px solid var(--color-accent)":"1px solid rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-md)",padding:"0.75rem",marginTop:"0.5rem"},onMouseEnter:r=>{e||(r.currentTarget.style.borderColor="rgba(0, 100, 145, 0.5)")},onMouseLeave:r=>{e||(r.currentTarget.style.borderColor="rgba(30, 41, 59, 0.8)")},children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(W4,{className:"h-4 w-4",style:{color:e?"var(--color-accent)":"var(--color-text-secondary)"}}),b.jsx("span",{className:"text-xs font-medium",style:{color:e?"var(--color-accent)":"var(--color-text-primary)"},children:t.alt||"Image"}),e&&b.jsx(N_,{className:"h-3 w-3 ml-auto",style:{color:"var(--color-accent)"}})]}),b.jsx("img",{src:t.url,alt:t.alt??"",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"var(--radius-sm)"}}),!e&&b.jsx("p",{className:"text-[10px] mt-2",style:{color:"var(--color-text-muted)"},children:"Click to enlarge â†’"})]})}function kPe({citation:t,onClick:e}){return b.jsxs("button",{onClick:e,className:"inline-flex items-center gap-1 px-2 py-0.5 mx-0.5 text-[10px] font-medium rounded border transition-colors",style:{borderColor:"var(--color-accent)",color:"var(--color-accent)",background:"rgba(59, 130, 246, 0.1)"},onMouseEnter:n=>{n.currentTarget.style.background="rgba(59, 130, 246, 0.2)"},onMouseLeave:n=>{n.currentTarget.style.background="rgba(59, 130, 246, 0.1)"},title:`${t.title}${t.page?`, page ${t.page}`:""}`,children:[b.jsx(Oj,{className:"h-2.5 w-2.5"}),b.jsxs("span",{children:["[",t.index,"]"]})]})}function OPe(t,e){const n=[],r=/\[([^\]]+)\]\(([^)]+\.pdf[^)]*)\)/gi;let i,o=1;for(;(i=r.exec(t))!==null;){const a=i[1],s=i[2];let l;const c=a.match(/p\.?\s*(\d+)|page\s+(\d+)/i);c&&(l=parseInt(c[1]||c[2]));const u=s.match(/[?&]page=(\d+)/i);u&&!l&&(l=parseInt(u[1]));const h=a.replace(/,?\s*p\.?\s*\d+|,?\s*page\s+\d+/i,"").trim();n.push({id:`${e}-citation-${o}`,type:"citation",title:h||"Document",url:s,page:l,index:o}),o++}return n}function MPe(t,e){const n=[];if(!t.trim())return{blocks:n,citations:[]};const r=OPe(t,e),i=t.split(`
`);let o=[],a=[],s=!1,l=0;const c=()=>{if(o.length>0){const h=o.join(`
`).trim();h&&n.push({id:`${e}-text-${l++}`,type:"text",markdown:h}),o=[]}},u=()=>{if(a.length>=2){try{const h=RPe(a,`${e}-table-${l++}`);h&&n.push(h)}catch(h){console.warn("Failed to parse table:",h),o.push(...a)}a=[]}s=!1};for(const h of i){const f=h.trim();f.startsWith("|")&&f.endsWith("|")?(s||(c(),s=!0),a.push(h)):(s&&u(),o.push(h))}return s&&u(),c(),n.length===0&&t.trim()&&n.push({id:`${e}-text-0`,type:"text",markdown:t}),{blocks:n,citations:r}}function RPe(t,e){if(t.length<2)return null;const r=t[0].trim().split("|").slice(1,-1).map(o=>o.trim()).filter(o=>o.length>0);if(r.length===0)return null;const i=[];for(let o=2;o<t.length;o++){const a=t[o].trim();if(!a)continue;const s=a.split("|").slice(1,-1).map(l=>l.trim());s.length===r.length&&i.push(s)}return i.length===0?null:{id:e,type:"table",columns:r,rows:i,meta:{title:"Data Table",subtitle:`${i.length} rows`}}}function IPe(){const[t,e]=P.useState([{id:"welcome",role:"assistant",content:`# Welcome to Domino's Analytics Assistant! ðŸ•

I can help you analyze your business data across:
- ðŸ“Š **Executive & Finance** - CAC, ARPU, GMV, retention
- ðŸ“¢ **Marketing Performance** - Campaign ROI, channel efficiency
- ðŸ‘¥ **Customer Analytics** - LTV, segmentation, churn
- ðŸª **Operations** - Store performance, delivery times
- ðŸ’° **Sales** - Revenue trends, product mix

**Try asking:**
- "What's our total revenue this month?"
- "Show me CAC by marketing channel"
- "Which customer segment has highest ARPU?"`,blocks:[{id:"welcome-text",type:"text",markdown:`# Welcome to Domino's Analytics Assistant! ðŸ•

I can help you analyze your business data across:
- ðŸ“Š **Executive & Finance** - CAC, ARPU, GMV, retention
- ðŸ“¢ **Marketing Performance** - Campaign ROI, channel efficiency
- ðŸ‘¥ **Customer Analytics** - LTV, segmentation, churn
- ðŸª **Operations** - Store performance, delivery times
- ðŸ’° **Sales** - Revenue trends, product mix

**Try clicking the visualizations below to see them in the right panel!**`},{id:"welcome-chart",type:"chart",title:"Monthly Revenue Trend",subtitle:"Last 6 months",specType:"recharts",spec:{type:"bar",data:[{month:"Jan",revenue:45e3},{month:"Feb",revenue:52e3},{month:"Mar",revenue:48e3},{month:"Apr",revenue:61e3},{month:"May",revenue:58e3},{month:"Jun",revenue:67e3}],xKey:"month",yKey:"revenue",dataKey:"revenue"},meta:{primaryMeasure:"revenue",primaryDim:"month",timeframe:"Last 6 months"}},{id:"welcome-table",type:"table",columns:["Channel","CAC","ROI","Conversions"],rows:[["Social Media","$42","3.2x","1,234"],["Email","$28","4.8x","2,156"],["Paid Search","$68","2.1x","892"],["Organic","$15","6.5x","3,421"],["Referral","$22","5.2x","1,678"]],meta:{title:"Marketing Channel Performance",subtitle:"Current month metrics"}}],timestamp:Date.now()}]),[n,r]=P.useState(""),[i,o]=P.useState(!1),[a,s]=P.useState(null),l=P.useRef(null),c=P.useRef(null);P.useEffect(()=>{var f;(f=l.current)==null||f.scrollIntoView({behavior:"smooth"})},[t]);const u=async()=>{var g;if(!n.trim()||i)return;const f={id:Date.now().toString(),role:"user",content:n.trim(),blocks:[{id:`${Date.now()}-text`,type:"text",markdown:n.trim()}],timestamp:Date.now()};e(y=>[...y,f]),r(""),o(!0);const p=(Date.now()+1).toString(),m={id:p,role:"assistant",content:"",blocks:[],toolCalls:[],timestamp:Date.now()};e(y=>[...y,m]),c.current=new AbortController;try{const y=t.filter(A=>A.role!=="assistant"||A.content).map(A=>({role:A.role,content:A.content,timestamp:null}));y.push({role:"user",content:n.trim(),timestamp:null});const v=await fetch("/api/chat/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:y}),signal:c.current.signal});if(!v.ok)throw new Error(`API error: ${v.status}`);const w=(g=v.body)==null?void 0:g.getReader(),x=new TextDecoder;if(!w)throw new Error("No response body");let E="";for(;;){const{done:A,value:S}=await w.read();if(A)break;E+=x.decode(S,{stream:!0});const _=E.split(`
`);E=_.pop()??"";for(const O of _){const I=O.trim();if(!I||!I.startsWith("data:"))continue;const M=I.slice(5).trim();if(M==="[DONE]")continue;let R;try{R=JSON.parse(M)}catch(N){console.warn("[SSE] Failed to parse event:",M,N);continue}e(N=>N.map(L=>{var F,z;if(L.id!==p)return L;switch(R.type){case"text.delta":const $=L.content+R.delta,U=`${p}-text`;let H=[...L.blocks];const W=H.findIndex(X=>X.type==="text"&&X.id===U);return W>=0?H[W]={...H[W],markdown:$}:H.push({id:U,type:"text",markdown:$}),{...L,content:$,blocks:H};case"tool.call":return{...L,toolCalls:[...L.toolCalls||[],{name:R.name,status:"running",args:R.args}]};case"tool.output":return{...L,toolCalls:(F=L.toolCalls)==null?void 0:F.map(X=>X.name===R.name?{...X,status:"complete",output:R.output}:X)};case"chart.reference":const j=`${p}-chart-${L.blocks.filter(X=>X.type==="chart").length}`;return{...L,blocks:[...L.blocks,{id:j,type:"chart",title:R.title||"Query Result",subtitle:R.subtitle||"Click to view",specType:"recharts",spec:null,dataRef:{type:"genie",genie:R.genie}}]};case"error":return{...L,content:L.content+`

âŒ Error: ${R.message}`,toolCalls:(z=L.toolCalls)==null?void 0:z.map(X=>X.status==="running"?{...X,status:"error"}:X)};default:return L}}))}}}catch(y){y.name==="AbortError"?console.log("Stream aborted by user"):(console.error("Chat error:",y),e(v=>v.map(w=>w.id===p?{...w,content:`âŒ Failed to get response: ${y.message}`,blocks:[{id:`${p}-error`,type:"text",markdown:`âŒ Failed to get response: ${y.message}`}]}:w)))}finally{o(!1),c.current=null,e(y=>y.map(v=>{if(v.id!==p)return v;const{blocks:w,citations:x}=MPe(v.content,p);return{...v,blocks:w.length>0?w:v.blocks,citations:x.length>0?x:v.citations}}))}},h=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u())};return b.jsxs("div",{className:"flex h-screen flex-col",style:{background:"var(--color-bg-app)"},children:[b.jsx("div",{className:"border-b px-6 py-4",style:{borderColor:"var(--color-border-subtle)",background:"rgba(15, 23, 42, 0.8)"},children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"flex items-center gap-2 text-xl font-semibold tracking-tight",style:{color:"var(--color-text-primary)"},children:[b.jsx(J4,{className:"h-5 w-5",style:{color:"var(--color-accent)"}}),"ðŸ• Domino's Analytics Assistant"]}),b.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Powered by Databricks Genie Spaces"})]}),b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium",style:{border:"1px solid var(--color-border-subtle)",background:"rgba(15, 23, 42, 0.8)",borderRadius:"var(--radius-pill)",color:"var(--color-text-secondary)"},children:[i?b.jsx(Hu,{className:"h-3 w-3 animate-spin",style:{color:"var(--color-accent)"}}):b.jsx(ZA,{className:"h-3 w-3",style:{color:"var(--color-success)"}}),b.jsx("span",{children:i?"Thinkingâ€¦":"Ready"})]})]})}),b.jsxs("div",{className:"flex flex-1 min-h-0 border-t",style:{borderColor:"var(--color-border-subtle)"},children:[b.jsxs("div",{className:"flex flex-col border-r",style:{width:"min(50%, 48rem)",borderColor:"var(--color-border-subtle)"},children:[b.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-4",children:[t.map(f=>b.jsx("div",{className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:"max-w-[42rem]",style:f.role==="user"?{background:"var(--color-accent)",color:"white",borderRadius:"24px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.4)",padding:"0.75rem 1rem"}:{background:"rgba(15, 23, 42, 0.96)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"var(--radius-lg)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.35)",color:"var(--color-text-primary)",padding:"0.9rem 1rem"},children:[f.toolCalls&&f.toolCalls.length>0&&b.jsx("div",{className:"mb-2 pb-2 space-y-1.5",style:{borderBottom:"1px solid rgba(30, 41, 59, 0.8)"},children:f.toolCalls.map((p,m)=>{const g=p.status==="running",y=p.status==="complete",v=p.status==="error";return b.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 font-medium",style:{fontSize:"10px",borderRadius:"var(--radius-pill)",border:y?"1px solid rgba(34, 197, 94, 0.6)":v?"1px solid rgba(239, 68, 68, 0.6)":"1px solid var(--color-border-subtle)",background:y?"rgba(34, 197, 94, 0.1)":v?"rgba(239, 68, 68, 0.1)":"rgba(15, 23, 42, 0.8)",color:y?"rgb(134, 239, 172)":v?"rgb(252, 165, 165)":"var(--color-text-secondary)"},children:[g&&b.jsx(Hu,{className:"h-3 w-3 animate-spin"}),y&&b.jsx(ZA,{className:"h-3 w-3"}),v&&b.jsx(dx,{className:"h-3 w-3"}),b.jsx(QA,{className:"h-3 w-3 opacity-70"}),b.jsx("span",{children:p.name==="execute_genie_query"?"Genie: querying space":p.name})]},m)})}),f.blocks.map(p=>p.type==="text"?b.jsx("div",{className:"prose prose-sm max-w-none",children:b.jsx(E4,{children:p.markdown})},p.id):p.type==="chart"?b.jsx(_Pe,{block:p,isActive:(a==null?void 0:a.blockId)===p.id&&(a==null?void 0:a.messageId)===f.id,onClick:()=>s({messageId:f.id,blockId:p.id})},p.id):p.type==="table"?b.jsx(PPe,{block:p,isActive:(a==null?void 0:a.blockId)===p.id&&(a==null?void 0:a.messageId)===f.id,onClick:()=>s({messageId:f.id,blockId:p.id})},p.id):p.type==="image"?b.jsx(TPe,{block:p,isActive:(a==null?void 0:a.blockId)===p.id&&(a==null?void 0:a.messageId)===f.id,onClick:()=>s({messageId:f.id,blockId:p.id})},p.id):null),f.citations&&f.citations.length>0&&b.jsxs("div",{className:"mt-3 pt-3 space-y-1",style:{borderTop:"1px solid rgba(30, 41, 59, 0.8)"},children:[b.jsx("div",{className:"text-[10px] uppercase tracking-wider font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"Sources"}),b.jsx("div",{className:"flex flex-wrap gap-1",children:f.citations.map(p=>b.jsx(kPe,{citation:p,onClick:()=>s({messageId:f.id,blockId:p.id})},p.id))})]}),b.jsx("div",{className:"mt-2 text-xs",style:{color:f.role==="user"?"rgba(255, 255, 255, 0.7)":"var(--color-text-muted)"},children:new Date(f.timestamp).toLocaleTimeString()})]})},f.id)),b.jsx("div",{ref:l})]}),b.jsx("div",{className:"border-t px-6 py-4",style:{borderColor:"var(--color-border-subtle)",background:"rgba(15, 23, 42, 0.8)"},children:b.jsxs("div",{className:"flex gap-3",children:[b.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),onKeyPress:h,placeholder:"Ask about your analytics data...",disabled:i,className:"flex-1 px-4 py-3 outline-none transition-all disabled:opacity-50",style:{background:"rgba(15, 23, 42, 0.8)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-pill)",color:"var(--color-text-primary)"},onFocus:f=>{f.target.style.borderColor="var(--color-accent)",f.target.style.boxShadow="0 0 0 3px var(--color-accent-soft)"},onBlur:f=>{f.target.style.borderColor="var(--color-border-subtle)",f.target.style.boxShadow="none"}}),b.jsxs("button",{onClick:u,disabled:!n.trim()||i,className:"flex items-center gap-2 px-6 py-3 font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"var(--color-accent)",color:"white",borderRadius:"var(--radius-pill)"},onMouseEnter:f=>{f.currentTarget.disabled||(f.currentTarget.style.background="var(--color-accent-strong)",f.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:f=>{f.currentTarget.style.background="var(--color-accent)",f.currentTarget.style.transform="translateY(0)"},children:[i?b.jsx(Hu,{className:"h-4 w-4 animate-spin"}):b.jsx(X4,{className:"h-4 w-4"}),"Send"]})]})})]}),b.jsx("div",{className:"flex-1 min-w-0",children:b.jsx(CPe,{messages:t,activeBlock:a,onBlockChange:s})})]})]})}async function NPe(){const t=await fetch("/api/explore/schemas");if(!t.ok)throw new Error("Failed to fetch schemas");return t.json()}async function jPe(t,e,n){const r=await fetch(`/api/explore/tables/${t}/${e}/${n}/preview`);if(!r.ok)throw new Error("Failed to fetch table preview");return r.json()}function DPe(){const[t,e]=P.useState(new Set),[n,r]=P.useState(null),[i,o]=P.useState(""),[a,s]=P.useState(!1),{data:l,isLoading:c,error:u}=ko({queryKey:["explore","schemas"],queryFn:NPe}),h=P.useMemo(()=>!l||!i?l:l.map(y=>({...y,tables:y.tables.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.full_name.toLowerCase().includes(i.toLowerCase())),volumes:y.volumes.filter(v=>v.name.toLowerCase().includes(i.toLowerCase()))})).filter(y=>y.tables.length>0||y.volumes.length>0),[l,i]),f=y=>{const v=new Set(t);v.has(y)?v.delete(y):v.add(y),e(v)},p=(y,v,w)=>{r({type:"table",catalog:y,schema:v,name:w.name,fullPath:w.full_name,tableType:w.table_type,comment:w.comment})},m=()=>{n!=null&&n.fullPath&&(navigator.clipboard.writeText(n.fullPath),s(!0),setTimeout(()=>s(!1),2e3))},g=()=>{if(n!=null&&n.fullPath){const[y,v,w]=n.fullPath.split("."),x=`${window.location.origin}/explore/data/${y}/${v}/${w}`;window.open(x,"_blank")}};return b.jsxs("div",{className:"flex h-[calc(100vh-8rem)] gap-6",children:[b.jsxs("div",{className:"w-80 flex-shrink-0 overflow-y-auto rounded-lg border p-4",style:{backgroundColor:"rgba(15, 23, 42, 0.95)",borderColor:"rgba(30, 41, 59, 0.8)"},children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Data Catalog"}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx(Rj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),b.jsx("input",{type:"text",placeholder:"Search tables...",value:i,onChange:y=>o(y.target.value),className:"w-full pl-10 pr-4 py-2 rounded border text-sm",style:{backgroundColor:"rgba(30, 41, 59, 0.5)",borderColor:"rgba(71, 85, 105, 0.8)",color:"white"}})]})]}),c?b.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[b.jsx(Hu,{className:"h-4 w-4 animate-spin"}),b.jsx("span",{children:"Loading schemas..."})]}):u?b.jsx("div",{className:"text-red-400 text-sm",children:"Failed to load schemas. Please check your connection."}):b.jsx("div",{className:"space-y-2",children:h==null?void 0:h.map(y=>{const v=`${y.catalog}.${y.schema}`,w=t.has(v),x=y.tables.length+y.volumes.length;return x===0?null:b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>f(v),className:"flex w-full items-center gap-2 rounded px-2 py-1.5 text-left text-sm transition-colors hover:bg-slate-700/50",children:[w?b.jsx(Tj,{className:"h-4 w-4 text-gray-400"}):b.jsx(kj,{className:"h-4 w-4 text-gray-400"}),b.jsx(QA,{className:"h-4 w-4 text-blue-400"}),b.jsx("span",{className:"font-medium text-white flex-1",children:y.schema}),b.jsx("span",{className:"text-xs text-gray-500",children:x})]}),w&&y.tables.length>0&&b.jsxs("div",{className:"ml-6 mt-1 space-y-0.5",children:[b.jsx("div",{className:"px-2 py-1 text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Tables"}),y.tables.map(E=>b.jsxs("button",{onClick:()=>p(y.catalog,y.schema,E),className:"flex w-full items-center gap-2 rounded px-2 py-1 text-left text-sm transition-colors hover:bg-slate-700/50",style:{backgroundColor:(n==null?void 0:n.fullPath)===E.full_name?"rgba(59, 130, 246, 0.2)":void 0},children:[b.jsx(j_,{className:"h-3.5 w-3.5 text-green-400"}),b.jsx("span",{className:"text-gray-300 text-xs",children:E.name})]},E.full_name))]}),w&&y.volumes.length>0&&b.jsxs("div",{className:"ml-6 mt-1 space-y-0.5",children:[b.jsx("div",{className:"px-2 py-1 text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Volumes"}),y.volumes.map(E=>b.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 text-xs text-gray-400",children:[b.jsx(V4,{className:"h-3.5 w-3.5 text-amber-400"}),b.jsx("span",{children:E.name})]},E.full_name))]})]},v)})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:n?b.jsx(LPe,{asset:n,onCopyPath:m,onOpenInDatabricks:g,copiedPath:a}):b.jsx(Qt,{className:"border-slate-700/50 bg-slate-900/50",children:b.jsx(en,{className:"flex h-96 items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(QA,{className:"mx-auto h-12 w-12 text-gray-500"}),b.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-300",children:"Select a table to explore"}),b.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Choose a table from the sidebar to view its schema and data"})]})})})})]})}function LPe({asset:t,onCopyPath:e,onOpenInDatabricks:n,copiedPath:r}){return t.type==="table"?b.jsx($Pe,{asset:t,onCopyPath:e,onOpenInDatabricks:n,copiedPath:r}):null}function $Pe({asset:t,onCopyPath:e,onOpenInDatabricks:n,copiedPath:r}){const{data:i,isLoading:o,error:a}=ko({queryKey:["table-preview",t.catalog,t.schema,t.name],queryFn:()=>jPe(t.catalog,t.schema,t.name),enabled:t.type==="table"});return b.jsxs(Qt,{className:"border-slate-700/50 bg-slate-900/50",children:[b.jsx(sn,{children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx(ln,{className:"text-white text-xl",children:t.name}),b.jsx("p",{className:"mt-1 text-sm text-gray-400 font-mono",children:t.fullPath}),t.comment&&b.jsx("p",{className:"mt-2 text-sm text-gray-300",children:t.comment}),t.tableType&&b.jsx("div",{className:"mt-2 inline-block px-2 py-1 rounded text-xs font-medium bg-blue-500/20 text-blue-300",children:t.tableType})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(op,{variant:"outline",size:"sm",onClick:e,className:"gap-2",children:r?b.jsxs(b.Fragment,{children:[b.jsx(ZA,{className:"h-3 w-3"}),"Copied!"]}):b.jsxs(b.Fragment,{children:[b.jsx(H4,{className:"h-3 w-3"}),"Copy Path"]})}),b.jsxs(op,{variant:"outline",size:"sm",onClick:n,className:"gap-2",children:[b.jsx(I_,{className:"h-3 w-3"}),"Open in Databricks"]})]})]})}),b.jsx(en,{children:o?b.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[b.jsx(Hu,{className:"h-4 w-4 animate-spin"}),"Loading table data..."]}):a?b.jsx("div",{className:"text-red-400",children:"Failed to load table preview"}):i?b.jsxs("div",{children:[i.columns&&i.columns.length>0&&b.jsxs("div",{className:"mb-6",children:[b.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:["Columns (",i.columns.length,")"]}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:i.columns.map(s=>b.jsx("div",{className:"px-3 py-2 rounded text-xs font-mono",style:{backgroundColor:"rgba(30, 41, 59, 0.5)",color:"var(--color-text-secondary)"},children:s},s))})]}),i.rows&&i.rows.length>0&&b.jsxs("div",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:["Data Preview (first ",i.rows.length," rows)"]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-slate-700",children:[b.jsx("thead",{children:b.jsx("tr",{children:i.columns.map(s=>b.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-400",children:s},s))})}),b.jsx("tbody",{className:"divide-y divide-slate-800",children:i.rows.map((s,l)=>b.jsx("tr",{className:"hover:bg-slate-800/50",children:i.columns.map(c=>b.jsx("td",{className:"whitespace-nowrap px-4 py-2 text-sm text-gray-300",children:s[c]!==null&&s[c]!==void 0?String(s[c]):"-"},c))},l))})]})})]})]}):null})]})}function FPe(){return b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Insights"}),b.jsx("p",{className:"mt-2 text-gray-600",children:"AI-powered insights and recommendations"})]}),b.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-8 text-center",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AI Insights Coming Soon"}),b.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Get automated insights and anomaly detection"})]})]})}function BPe(){const{data:t,isLoading:e,error:n}=ko({queryKey:["health"],queryFn:Cme.check});return b.jsx("div",{className:"container mx-auto px-4 py-12",children:b.jsxs("div",{className:"mx-auto max-w-3xl",children:[b.jsxs("div",{className:"mb-8 text-center",children:[b.jsx("h1",{className:"mb-4 text-4xl font-bold text-gray-900",children:"Welcome to Your Databricks App"}),b.jsx("p",{className:"text-lg text-gray-600",children:"A modern FastAPI + React template for building data applications on Databricks"})]}),b.jsxs("div",{className:"mb-8 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[b.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"API Health Check"}),e&&b.jsx("div",{className:"text-gray-600",children:"Checking API status..."}),n&&b.jsxs("div",{className:"rounded-md bg-red-50 p-4 text-red-800",children:[b.jsx("p",{className:"font-medium",children:"Error connecting to API"}),b.jsx("p",{className:"mt-1 text-sm",children:n.message})]}),t&&b.jsx("div",{className:"rounded-md bg-green-50 p-4",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),b.jsxs("div",{className:"ml-3",children:[b.jsx("p",{className:"text-sm font-medium text-green-800",children:"API is healthy"}),b.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[b.jsxs("p",{children:["Version: ",t.version]}),b.jsxs("p",{children:["Environment: ",t.environment]})]})]})]})})]}),b.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[b.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Getting Started"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900",children:"1. Configure Unity Catalog"}),b.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Update ",b.jsx("code",{className:"rounded bg-gray-100 px-1 py-0.5",children:"backend/app/core/config.py"})," with your catalog and schema names."]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900",children:"2. Define Your Models"}),b.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Create Pydantic models in ",b.jsx("code",{className:"rounded bg-gray-100 px-1 py-0.5",children:"backend/app/models/schemas.py"})," matching your UC tables."]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900",children:"3. Build API Endpoints"}),b.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Add routes in ",b.jsx("code",{className:"rounded bg-gray-100 px-1 py-0.5",children:"backend/app/api/routes/"})," for your business logic."]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900",children:"4. Create React Components"}),b.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Build UI components in ",b.jsx("code",{className:"rounded bg-gray-100 px-1 py-0.5",children:"frontend/src/components/"})," and pages in ",b.jsx("code",{className:"rounded bg-gray-100 px-1 py-0.5",children:"frontend/src/pages/"}),"."]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900",children:"5. Deploy to Databricks"}),b.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Build frontend and deploy using ",b.jsx("code",{className:"rounded bg-gray-100 px-1 py-0.5",children:"databricks apps create"}),"."]})]})]})]}),b.jsx("div",{className:"mt-8 text-center",children:b.jsx("p",{className:"text-sm text-gray-600",children:b.jsx("a",{href:"/api/docs",className:"text-primary-600 hover:text-primary-700 font-medium",target:"_blank",rel:"noopener noreferrer",children:"View API Documentation â†’"})})})]})})}const zPe=new P4({defaultOptions:{queries:{staleTime:60*1e3,placeholderData:T4,refetchOnWindowFocus:!1,retry:2,retryDelay:t=>Math.min(1e3*2**t,3e4)}}});function UPe(){return b.jsx(k4,{client:zPe,children:b.jsx(R4,{children:b.jsx(nU,{children:b.jsxs(I4,{children:[b.jsx($p,{path:"/",element:b.jsx(Kbe,{})}),b.jsx($p,{path:"/chat",element:b.jsx(IPe,{})}),b.jsx($p,{path:"/explore",element:b.jsx(DPe,{})}),b.jsx($p,{path:"/insights",element:b.jsx(FPe,{})}),b.jsx($p,{path:"/settings",element:b.jsx(BPe,{})})]})})})})}JA.createRoot(document.getElementById("root")).render(b.jsx(B.StrictMode,{children:b.jsx(UPe,{})}));
//# sourceMappingURL=index-CuWgvqhO.js.map
