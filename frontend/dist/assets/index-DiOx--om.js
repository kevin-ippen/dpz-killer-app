var Uz=Object.defineProperty;var rk=t=>{throw TypeError(t)};var Hz=(t,e,n)=>e in t?Uz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ee=(t,e,n)=>Hz(t,typeof e!="symbol"?e+"":e,n),H1=(t,e,n)=>e.has(t)||rk("Cannot "+n);var d=(t,e,n)=>(H1(t,e,"read from private field"),n?n.call(t):e.get(t)),T=(t,e,n)=>e.has(t)?rk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),C=(t,e,n,r)=>(H1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),k=(t,e,n)=>(H1(t,e,"access private method"),n);var fn=(t,e,n,r)=>({set _(i){C(t,e,i,n)},get _(){return d(t,e,r)}});import{j as v,u as Ci,Q as Vz,k as Wz,a as Gz}from"./query-vendor-CEw9n8jH.js";import{a as Av,r as P,N as qz,c as Bl,g as at,R as B,b as H2,d as Kz,B as Xz,e as Yz,f as Jv}from"./react-vendor-zyMbWbAb.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var sS={},ik=Av;sS.createRoot=ik.createRoot,sS.hydrateRoot=ik.hydrateRoot;/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Le=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...c},u)=>P.createElement("svg",{ref:u,...Jz,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Zz(t)}`,s].join(" "),...c},[...e.map(([h,f])=>P.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=Le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=Le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=Le("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Le("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Le("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Le("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Le("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Le("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Le("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Le("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=Le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=Le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=Le("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Le("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=Le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Le("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=Le("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=Le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=Le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=Le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Le("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=Le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vU=[{title:"Dashboard",href:"/",icon:uU},{title:"Chat",href:"/chat",icon:dU},{title:"Explore",href:"/explore",icon:K2},{title:"Insights",href:"/insights",icon:z_},{title:"Settings",href:"/settings",icon:mU}];function bU(){return v.jsxs("div",{className:"flex h-full w-64 flex-col border-r",style:{background:"var(--color-bg-elevated)",borderColor:"var(--color-border-subtle)"},children:[v.jsx("div",{className:"flex h-16 items-center border-b px-6",style:{borderColor:"var(--color-border-subtle)"},children:v.jsx("h1",{className:"text-xl font-semibold flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:"ðŸ• DPZ Analytics"})}),v.jsx("nav",{className:"flex-1 space-y-1 p-4",children:vU.map(t=>v.jsxs(qz,{to:t.href,style:({isActive:e})=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem 0.75rem",fontSize:"0.875rem",fontWeight:500,borderRadius:"var(--radius-md)",transition:"all 0.15s ease",background:e?"var(--color-accent)":"transparent",color:e?"white":"var(--color-text-secondary)"}),onMouseEnter:e=>{e.currentTarget.getAttribute("aria-current")==="page"||(e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.color="var(--color-text-primary)")},onMouseLeave:e=>{e.currentTarget.getAttribute("aria-current")==="page"||(e.currentTarget.style.background="transparent",e.currentTarget.style.color="var(--color-text-secondary)")},children:[v.jsx(t.icon,{className:"h-5 w-5"}),t.title]},t.href))}),v.jsx("div",{className:"border-t p-4",style:{borderColor:"var(--color-border-subtle)"},children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-sm font-semibold",style:{background:"var(--color-accent)",color:"white"},children:"U"}),v.jsxs("div",{className:"flex-1 text-sm",children:[v.jsx("p",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:"User"}),v.jsx("p",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:"user@dominos.com"})]})]})})]})}function xU({children:t}){return v.jsxs("div",{className:"flex h-screen",style:{background:"var(--color-bg-app)"},children:[v.jsx(bU,{}),v.jsx("main",{className:"flex-1 overflow-y-auto",children:t})]})}function X2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=X2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=X2(t))&&(r&&(r+=" "),r+=e);return r}const W_="-",wU=t=>{const e=SU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(W_);return s[0]===""&&s.length!==1&&s.shift(),Y2(s,e)||AU(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},Y2=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Y2(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(W_);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},ck=/^\[(.+)\]$/,AU=t=>{if(ck.test(t)){const e=ck.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},SU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return CU(Object.entries(t.classGroups),n).forEach(([o,a])=>{uS(a,r,o,e)}),r},uS=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:uk(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(EU(i)){uS(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{uS(a,uk(e,o),n,r)})})},uk=(t,e)=>{let n=t;return e.split(W_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},EU=t=>t.isThemeGetter,CU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,_U=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},J2="!",PU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,u=0,h;for(let y=0;y<s.length;y++){let b=s[y];if(c===0){if(b===i&&(r||s.slice(y,y+o)===e)){l.push(s.slice(u,y)),u=y+o;continue}if(b==="/"){h=y;continue}}b==="["?c++:b==="]"&&c--}const f=l.length===0?s:s.substring(u),p=f.startsWith(J2),m=p?f.substring(1):f,g=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?s=>n({className:s,parseClassName:a}):a},TU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},kU=t=>({cache:_U(t.cacheSize),parseClassName:PU(t),...wU(t)}),OU=/\s+/,jU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(OU);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let m=!!p,g=r(m?f.substring(0,p):f);if(!g){if(!m){s=c+(s.length>0?" "+s:s);continue}if(g=r(f),!g){s=c+(s.length>0?" "+s:s);continue}m=!1}const y=TU(u).join(":"),b=h?y+J2:y,w=b+g;if(o.includes(w))continue;o.push(w);const x=i(g,m);for(let E=0;E<x.length;++E){const A=x[E];o.push(b+A)}s=c+(s.length>0?" "+s:s)}return s};function MU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Z2(e))&&(r&&(r+=" "),r+=n);return r}const Z2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Z2(t[r]))&&(n&&(n+=" "),n+=e);return n};function NU(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((u,h)=>h(u),t());return n=kU(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=jU(l,n);return i(l,u),u}return function(){return o(MU.apply(null,arguments))}}const jt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Q2=/^\[(?:([a-z-]+):)?(.+)\]$/i,RU=/^\d+\/\d+$/,IU=new Set(["px","full","screen"]),DU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$U=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wa=t=>Qh(t)||IU.has(t)||RU.test(t),Ls=t=>vp(t,"length",KU),Qh=t=>!!t&&!Number.isNaN(Number(t)),W1=t=>vp(t,"number",Qh),Wp=t=>!!t&&Number.isInteger(Number(t)),zU=t=>t.endsWith("%")&&Qh(t.slice(0,-1)),$e=t=>Q2.test(t),$s=t=>DU.test(t),UU=new Set(["length","size","percentage"]),HU=t=>vp(t,UU,eI),VU=t=>vp(t,"position",eI),WU=new Set(["image","url"]),GU=t=>vp(t,WU,YU),qU=t=>vp(t,"",XU),Gp=()=>!0,vp=(t,e,n)=>{const r=Q2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},KU=t=>LU.test(t)&&!$U.test(t),eI=()=>!1,XU=t=>FU.test(t),YU=t=>BU.test(t),JU=()=>{const t=jt("colors"),e=jt("spacing"),n=jt("blur"),r=jt("brightness"),i=jt("borderColor"),o=jt("borderRadius"),a=jt("borderSpacing"),s=jt("borderWidth"),l=jt("contrast"),c=jt("grayscale"),u=jt("hueRotate"),h=jt("invert"),f=jt("gap"),p=jt("gradientColorStops"),m=jt("gradientColorStopPositions"),g=jt("inset"),y=jt("margin"),b=jt("opacity"),w=jt("padding"),x=jt("saturate"),E=jt("scale"),A=jt("sepia"),S=jt("skew"),_=jt("space"),O=jt("translate"),M=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",$e,e],R=()=>[$e,e],F=()=>["",wa,Ls],$=()=>["auto",Qh,$e],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",$e],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Qh,$e];return{cacheSize:500,separator:":",theme:{colors:[Gp],spacing:[wa,Ls],blur:["none","",$s,$e],brightness:Y(),borderColor:[t],borderRadius:["none","","full",$s,$e],borderSpacing:R(),borderWidth:F(),contrast:Y(),grayscale:V(),hueRotate:Y(),invert:V(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[zU,Ls],inset:N(),margin:N(),opacity:Y(),padding:R(),saturate:Y(),scale:Y(),sepia:V(),skew:Y(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),$e]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wp,$e]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Wp,$e]}],"grid-cols":[{"grid-cols":[Gp]}],"col-start-end":[{col:["auto",{span:["full",Wp,$e]},$e]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Gp]}],"row-start-end":[{row:["auto",{span:[Wp,$e]},$e]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,Ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",W1]}],"font-family":[{font:[Gp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Qh,W1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wa,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wa,Ls]}],"underline-offset":[{"underline-offset":["auto",wa,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),VU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[wa,$e]}],"outline-w":[{outline:[wa,Ls]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[wa,Ls]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$s,qU]}],"shadow-color":[{shadow:[Gp]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$s,$e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Wp,$e]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wa,Ls,W1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZU=NU(JU);function Wt(...t){return ZU(ke(t))}function vs(t){return isNaN(t)||!isFinite(t)?"0":t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}function bs(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function hk(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}).format(t/100)}function dk(t,e){if(!t||t.length===0)return[];const r=new Date().toISOString().slice(0,7);return t.filter(i=>{const o=i.month||i.order_date;return o?o.slice(0,7)!==r:!0})}function fk(t){const e=parseInt(t);return e<3?`Last ${e*30} days`:e>=12?`Last ${Math.floor(e/12)} ${e/12===1?"year":"years"}`:`Last ${e} months`}const qe=P.forwardRef(({className:t,style:e,...n},r)=>v.jsx("div",{ref:r,className:Wt("rounded-lg border shadow-sm",t),style:{background:"rgba(15, 23, 42, 0.96)",borderColor:"rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-soft)",...e},...n}));qe.displayName="Card";const et=P.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Wt("flex flex-col space-y-1.5 p-6",t),...e}));et.displayName="CardHeader";const tt=P.forwardRef(({className:t,style:e,...n},r)=>v.jsx("h3",{ref:r,className:Wt("text-2xl font-semibold leading-none tracking-tight",t),style:{color:"var(--color-text-primary)",...e},...n}));tt.displayName="CardTitle";const QU=P.forwardRef(({className:t,style:e,...n},r)=>v.jsx("p",{ref:r,className:Wt("text-sm",t),style:{color:"var(--color-text-secondary)",...e},...n}));QU.displayName="CardDescription";const Ke=P.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Wt("p-6 pt-0",t),...e}));Ke.displayName="CardContent";const eH=P.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Wt("flex items-center p-6 pt-0",t),...e}));eH.displayName="CardFooter";function Zv({label:t,value:e,format:n="number",delta:r,sparkline:i}){const o=a=>{switch(n){case"currency":return bs(a);case"percent":return hk(a);default:return vs(a)}};return v.jsxs(qe,{className:"border border-[#F8F3E9] shadow-md hover:shadow-2xl transition-all duration-300 bg-white/80 backdrop-blur-sm",children:[v.jsx(et,{className:"pb-4",children:v.jsx(tt,{className:"text-[10px] font-medium uppercase tracking-[0.15em] text-[#B59D81]",children:t})}),v.jsx(Ke,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"text-[2.75rem] font-light tracking-tight bg-gradient-to-br from-[#2F7FD9] to-[#2666B1] bg-clip-text text-transparent leading-none",children:o(e)}),r&&v.jsxs("div",{className:Wt("flex items-center gap-2 text-sm font-medium",r.isPositive?"text-[#2F7FD9]":"text-[#EC3115]"),children:[r.isPositive?v.jsx(tU,{className:"h-3.5 w-3.5"}):v.jsx(eU,{className:"h-3.5 w-3.5"}),v.jsx("span",{className:"font-semibold",children:hk(Math.abs(r.value))}),v.jsx("span",{className:"text-[#B59D81] font-light text-xs",children:"vs last period"})]}),i&&i.length>0&&(()=>{const a=Math.max(...i),s=Math.min(...i),l=a-s,c=i.length,u=100,h=50,f=5,p=u-f*2,m=h-f*2,g=i.map((y,b)=>{const w=f+b/(c-1)*p,x=l===0?.5:(y-s)/l,E=f+(1-x)*m;return`${w.toFixed(2)},${E.toFixed(2)}`}).join(" ");return v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"h-14 w-full rounded-lg overflow-hidden mt-2",children:v.jsxs("svg",{className:"h-full w-full",viewBox:`0 0 ${u} ${h}`,preserveAspectRatio:"none",children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"sparklineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[v.jsx("stop",{offset:"0%",stopColor:r!=null&&r.isPositive?"#2F7FD9":"#EC3115"}),v.jsx("stop",{offset:"100%",stopColor:r!=null&&r.isPositive?"#1D4D83":"#D42C13"})]})}),v.jsx("polyline",{fill:"none",stroke:"url(#sparklineGradient)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",points:g,opacity:"0.8"})]})}),v.jsxs("div",{className:"text-[9px] text-[#B59D81] font-light tracking-wide",children:["Last ",c," months"]})]})})()]})})]})}var tH=Array.isArray,Ir=tH,nH=typeof Bl=="object"&&Bl&&Bl.Object===Object&&Bl,tI=nH,rH=tI,iH=typeof self=="object"&&self&&self.Object===Object&&self,oH=rH||iH||Function("return this")(),ma=oH,aH=ma,sH=aH.Symbol,Ev=sH,pk=Ev,nI=Object.prototype,lH=nI.hasOwnProperty,cH=nI.toString,qp=pk?pk.toStringTag:void 0;function uH(t){var e=lH.call(t,qp),n=t[qp];try{t[qp]=void 0;var r=!0}catch{}var i=cH.call(t);return r&&(e?t[qp]=n:delete t[qp]),i}var hH=uH,dH=Object.prototype,fH=dH.toString;function pH(t){return fH.call(t)}var mH=pH,mk=Ev,gH=hH,yH=mH,vH="[object Null]",bH="[object Undefined]",gk=mk?mk.toStringTag:void 0;function xH(t){return t==null?t===void 0?bH:vH:gk&&gk in Object(t)?gH(t):yH(t)}var js=xH;function wH(t){return t!=null&&typeof t=="object"}var Ms=wH,AH=js,SH=Ms,EH="[object Symbol]";function CH(t){return typeof t=="symbol"||SH(t)&&AH(t)==EH}var bp=CH,_H=Ir,PH=bp,TH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kH=/^\w*$/;function OH(t,e){if(_H(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||PH(t)?!0:kH.test(t)||!TH.test(t)||e!=null&&t in Object(e)}var G_=OH;function jH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var nc=jH;const xp=at(nc);var MH=js,NH=nc,RH="[object AsyncFunction]",IH="[object Function]",DH="[object GeneratorFunction]",LH="[object Proxy]";function $H(t){if(!NH(t))return!1;var e=MH(t);return e==IH||e==DH||e==RH||e==LH}var q_=$H;const Ce=at(q_);var FH=ma,BH=FH["__core-js_shared__"],zH=BH,G1=zH,yk=function(){var t=/[^.]+$/.exec(G1&&G1.keys&&G1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function UH(t){return!!yk&&yk in t}var HH=UH,VH=Function.prototype,WH=VH.toString;function GH(t){if(t!=null){try{return WH.call(t)}catch{}try{return t+""}catch{}}return""}var rI=GH,qH=q_,KH=HH,XH=nc,YH=rI,JH=/[\\^$.*+?()[\]{}|]/g,ZH=/^\[object .+?Constructor\]$/,QH=Function.prototype,e6=Object.prototype,t6=QH.toString,n6=e6.hasOwnProperty,r6=RegExp("^"+t6.call(n6).replace(JH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i6(t){if(!XH(t)||KH(t))return!1;var e=qH(t)?r6:ZH;return e.test(YH(t))}var o6=i6;function a6(t,e){return t==null?void 0:t[e]}var s6=a6,l6=o6,c6=s6;function u6(t,e){var n=c6(t,e);return l6(n)?n:void 0}var dh=u6,h6=dh,d6=h6(Object,"create"),gw=d6,vk=gw;function f6(){this.__data__=vk?vk(null):{},this.size=0}var p6=f6;function m6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var g6=m6,y6=gw,v6="__lodash_hash_undefined__",b6=Object.prototype,x6=b6.hasOwnProperty;function w6(t){var e=this.__data__;if(y6){var n=e[t];return n===v6?void 0:n}return x6.call(e,t)?e[t]:void 0}var A6=w6,S6=gw,E6=Object.prototype,C6=E6.hasOwnProperty;function _6(t){var e=this.__data__;return S6?e[t]!==void 0:C6.call(e,t)}var P6=_6,T6=gw,k6="__lodash_hash_undefined__";function O6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=T6&&e===void 0?k6:e,this}var j6=O6,M6=p6,N6=g6,R6=A6,I6=P6,D6=j6;function wp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wp.prototype.clear=M6;wp.prototype.delete=N6;wp.prototype.get=R6;wp.prototype.has=I6;wp.prototype.set=D6;var L6=wp;function $6(){this.__data__=[],this.size=0}var F6=$6;function B6(t,e){return t===e||t!==t&&e!==e}var K_=B6,z6=K_;function U6(t,e){for(var n=t.length;n--;)if(z6(t[n][0],e))return n;return-1}var yw=U6,H6=yw,V6=Array.prototype,W6=V6.splice;function G6(t){var e=this.__data__,n=H6(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():W6.call(e,n,1),--this.size,!0}var q6=G6,K6=yw;function X6(t){var e=this.__data__,n=K6(e,t);return n<0?void 0:e[n][1]}var Y6=X6,J6=yw;function Z6(t){return J6(this.__data__,t)>-1}var Q6=Z6,eV=yw;function tV(t,e){var n=this.__data__,r=eV(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var nV=tV,rV=F6,iV=q6,oV=Y6,aV=Q6,sV=nV;function Ap(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ap.prototype.clear=rV;Ap.prototype.delete=iV;Ap.prototype.get=oV;Ap.prototype.has=aV;Ap.prototype.set=sV;var vw=Ap,lV=dh,cV=ma,uV=lV(cV,"Map"),X_=uV,bk=L6,hV=vw,dV=X_;function fV(){this.size=0,this.__data__={hash:new bk,map:new(dV||hV),string:new bk}}var pV=fV;function mV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gV=mV,yV=gV;function vV(t,e){var n=t.__data__;return yV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var bw=vV,bV=bw;function xV(t){var e=bV(this,t).delete(t);return this.size-=e?1:0,e}var wV=xV,AV=bw;function SV(t){return AV(this,t).get(t)}var EV=SV,CV=bw;function _V(t){return CV(this,t).has(t)}var PV=_V,TV=bw;function kV(t,e){var n=TV(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var OV=kV,jV=pV,MV=wV,NV=EV,RV=PV,IV=OV;function Sp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sp.prototype.clear=jV;Sp.prototype.delete=MV;Sp.prototype.get=NV;Sp.prototype.has=RV;Sp.prototype.set=IV;var Y_=Sp,iI=Y_,DV="Expected a function";function J_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DV);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(J_.Cache||iI),n}J_.Cache=iI;var oI=J_;const LV=at(oI);var $V=oI,FV=500;function BV(t){var e=$V(t,function(r){return n.size===FV&&n.clear(),r}),n=e.cache;return e}var zV=BV,UV=zV,HV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VV=/\\(\\)?/g,WV=UV(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HV,function(n,r,i,o){e.push(i?o.replace(VV,"$1"):r||n)}),e}),GV=WV;function qV(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Z_=qV,xk=Ev,KV=Z_,XV=Ir,YV=bp,wk=xk?xk.prototype:void 0,Ak=wk?wk.toString:void 0;function aI(t){if(typeof t=="string")return t;if(XV(t))return KV(t,aI)+"";if(YV(t))return Ak?Ak.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var JV=aI,ZV=JV;function QV(t){return t==null?"":ZV(t)}var sI=QV,eW=Ir,tW=G_,nW=GV,rW=sI;function iW(t,e){return eW(t)?t:tW(t,e)?[t]:nW(rW(t))}var lI=iW,oW=bp;function aW(t){if(typeof t=="string"||oW(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var xw=aW,sW=lI,lW=xw;function cW(t,e){e=sW(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[lW(e[n++])];return n&&n==r?t:void 0}var Q_=cW,uW=Q_;function hW(t,e,n){var r=t==null?void 0:uW(t,e);return r===void 0?n:r}var cI=hW;const di=at(cI);function dW(t){return t==null}var fW=dW;const Ee=at(fW);var pW=js,mW=Ir,gW=Ms,yW="[object String]";function vW(t){return typeof t=="string"||!mW(t)&&gW(t)&&pW(t)==yW}var bW=vW;const th=at(bW);var uI={exports:{}},ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP=Symbol.for("react.element"),tP=Symbol.for("react.portal"),ww=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),Sw=Symbol.for("react.profiler"),Ew=Symbol.for("react.provider"),Cw=Symbol.for("react.context"),xW=Symbol.for("react.server_context"),_w=Symbol.for("react.forward_ref"),Pw=Symbol.for("react.suspense"),Tw=Symbol.for("react.suspense_list"),kw=Symbol.for("react.memo"),Ow=Symbol.for("react.lazy"),wW=Symbol.for("react.offscreen"),hI;hI=Symbol.for("react.module.reference");function Ki(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case eP:switch(t=t.type,t){case ww:case Sw:case Aw:case Pw:case Tw:return t;default:switch(t=t&&t.$$typeof,t){case xW:case Cw:case _w:case Ow:case kw:case Ew:return t;default:return e}}case tP:return e}}}ht.ContextConsumer=Cw;ht.ContextProvider=Ew;ht.Element=eP;ht.ForwardRef=_w;ht.Fragment=ww;ht.Lazy=Ow;ht.Memo=kw;ht.Portal=tP;ht.Profiler=Sw;ht.StrictMode=Aw;ht.Suspense=Pw;ht.SuspenseList=Tw;ht.isAsyncMode=function(){return!1};ht.isConcurrentMode=function(){return!1};ht.isContextConsumer=function(t){return Ki(t)===Cw};ht.isContextProvider=function(t){return Ki(t)===Ew};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===eP};ht.isForwardRef=function(t){return Ki(t)===_w};ht.isFragment=function(t){return Ki(t)===ww};ht.isLazy=function(t){return Ki(t)===Ow};ht.isMemo=function(t){return Ki(t)===kw};ht.isPortal=function(t){return Ki(t)===tP};ht.isProfiler=function(t){return Ki(t)===Sw};ht.isStrictMode=function(t){return Ki(t)===Aw};ht.isSuspense=function(t){return Ki(t)===Pw};ht.isSuspenseList=function(t){return Ki(t)===Tw};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ww||t===Sw||t===Aw||t===Pw||t===Tw||t===wW||typeof t=="object"&&t!==null&&(t.$$typeof===Ow||t.$$typeof===kw||t.$$typeof===Ew||t.$$typeof===Cw||t.$$typeof===_w||t.$$typeof===hI||t.getModuleId!==void 0)};ht.typeOf=Ki;uI.exports=ht;var AW=uI.exports,SW=js,EW=Ms,CW="[object Number]";function _W(t){return typeof t=="number"||EW(t)&&SW(t)==CW}var dI=_W;const PW=at(dI);var TW=dI;function kW(t){return TW(t)&&t!=+t}var OW=kW;const Ep=at(OW);var fr=function(e){return e===0?0:e>0?1:-1},Mc=function(e){return th(e)&&e.indexOf("%")===e.length-1},te=function(e){return PW(e)&&!Ep(e)},jW=function(e){return Ee(e)},bn=function(e){return te(e)||th(e)},MW=0,rc=function(e){var n=++MW;return"".concat(e||"").concat(n)},pr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!th(e))return r;var o;if(Mc(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Ep(o)&&(o=r),i&&o>n&&(o=n),o},Ws=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},NW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Vt=function(e,n){return te(e)&&te(n)?function(r){return e+r*(n-e)}:function(){return n}};function wx(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):di(r,e))===n})}var RW=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,s=1/0,l=-1/0,c=0,u=0,h=0;h<n;h++)c=e[h].cx||0,u=e[h].cy||0,r+=c,i+=u,o+=c*u,a+=c*c,s=Math.min(s,c),l=Math.max(l,c);var f=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:s,xmax:l,a:f,b:(i-f*r)/n}},IW=function(e,n){return te(e)&&te(n)?e-n:th(e)&&th(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ed(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function hS(t){"@babel/helpers - typeof";return hS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hS(t)}var DW=["viewBox","children"],LW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Sk=["points","pathLength"],q1={svg:DW,polygon:Sk,polyline:Sk},nP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ax=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),!xp(r))return null;var i={};return Object.keys(r).forEach(function(o){nP.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},$W=function(e,n,r){return function(i){return e(n,r,i),null}},ql=function(e,n,r){if(!xp(e)||hS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];nP.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=$W(a,n,r))}),i},FW=["children"],BW=["children"];function Ek(t,e){if(t==null)return{};var n=zW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dS(t){"@babel/helpers - typeof";return dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dS(t)}var Ck={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ds=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_k=null,K1=null,rP=function t(e){if(e===_k&&Array.isArray(K1))return K1;var n=[];return P.Children.forEach(e,function(r){Ee(r)||(AW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),K1=n,_k=e,n};function yr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ds(i)}):r=[ds(e)],rP(t).forEach(function(i){var o=di(i,"type.displayName")||di(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function si(t,e){var n=yr(t,e);return n&&n[0]}var Pk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!te(r)||r<=0||!te(i)||i<=0)},UW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],HW=function(e){return e&&e.type&&th(e.type)&&UW.indexOf(e.type)>=0},fI=function(e){return e&&dS(e)==="object"&&"clipDot"in e},VW=function(e,n,r,i){var o,a=(o=q1==null?void 0:q1[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ce(e)&&(i&&a.includes(n)||LW.includes(n))||r&&nP.includes(n)},ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!xp(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;VW((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},fS=function t(e,n){if(e===n)return!0;var r=P.Children.count(e);if(r!==P.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Tk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!Tk(o,a))return!1}return!0},Tk=function(e,n){if(Ee(e)&&Ee(n))return!0;if(!Ee(e)&&!Ee(n)){var r=e.props||{},i=r.children,o=Ek(r,FW),a=n.props||{},s=a.children,l=Ek(a,BW);return i&&s?ed(o,l)&&fS(i,s):!i&&!s?ed(o,l):!1}return!1},kk=function(e,n){var r=[],i={};return rP(e).forEach(function(o,a){if(HW(o))r.push(o);else if(o){var s=ds(o.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var h=c(o,s,a);r.push(h),i[s]=!0}}}),r},WW=function(e){var n=e&&e.type;return n&&Ck[n]?Ck[n]:null},GW=function(e,n){return rP(n).indexOf(e)},qW=["children","width","height","viewBox","className","style","title","desc"];function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(this,arguments)}function KW(t,e){if(t==null)return{};var n=XW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=KW(t,qW),u=i||{width:n,height:r,x:0,y:0},h=ke("recharts-surface",o);return B.createElement("svg",pS({},ye(c,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),B.createElement("title",null,s),B.createElement("desc",null,l),e)}var YW=["children","className"];function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gS.apply(this,arguments)}function JW(t,e){if(t==null)return{};var n=ZW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var De=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=JW(t,YW),o=ke("recharts-layer",r);return B.createElement("g",gS({className:o},ye(i,!0),{ref:e}),n)}),vo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function QW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var e8=QW,t8=e8;function n8(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:t8(t,e,n)}var r8=n8,i8="\\ud800-\\udfff",o8="\\u0300-\\u036f",a8="\\ufe20-\\ufe2f",s8="\\u20d0-\\u20ff",l8=o8+a8+s8,c8="\\ufe0e\\ufe0f",u8="\\u200d",h8=RegExp("["+u8+i8+l8+c8+"]");function d8(t){return h8.test(t)}var pI=d8;function f8(t){return t.split("")}var p8=f8,mI="\\ud800-\\udfff",m8="\\u0300-\\u036f",g8="\\ufe20-\\ufe2f",y8="\\u20d0-\\u20ff",v8=m8+g8+y8,b8="\\ufe0e\\ufe0f",x8="["+mI+"]",yS="["+v8+"]",vS="\\ud83c[\\udffb-\\udfff]",w8="(?:"+yS+"|"+vS+")",gI="[^"+mI+"]",yI="(?:\\ud83c[\\udde6-\\uddff]){2}",vI="[\\ud800-\\udbff][\\udc00-\\udfff]",A8="\\u200d",bI=w8+"?",xI="["+b8+"]?",S8="(?:"+A8+"(?:"+[gI,yI,vI].join("|")+")"+xI+bI+")*",E8=xI+bI+S8,C8="(?:"+[gI+yS+"?",yS,yI,vI,x8].join("|")+")",_8=RegExp(vS+"(?="+vS+")|"+C8+E8,"g");function P8(t){return t.match(_8)||[]}var T8=P8,k8=p8,O8=pI,j8=T8;function M8(t){return O8(t)?j8(t):k8(t)}var N8=M8,R8=r8,I8=pI,D8=N8,L8=sI;function $8(t){return function(e){e=L8(e);var n=I8(e)?D8(e):void 0,r=n?n[0]:e.charAt(0),i=n?R8(n,1).join(""):e.slice(1);return r[t]()+i}}var F8=$8,B8=F8,z8=B8("toUpperCase"),U8=z8;const jw=at(U8);function Tt(t){return function(){return t}}const wI=Math.cos,Sx=Math.sin,Co=Math.sqrt,Ex=Math.PI,Mw=2*Ex,bS=Math.PI,xS=2*bS,vc=1e-6,H8=xS-vc;function AI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function V8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return AI;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class W8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?AI:V8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,u=a-e,h=s-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>vc)if(!(Math.abs(h*l-c*u)>vc)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=l*l+c*c,y=p*p+m*m,b=Math.sqrt(g),w=Math.sqrt(f),x=o*Math.tan((bS-Math.acos((g+f-y)/(2*b*w)))/2),E=x/w,A=x/b;Math.abs(E-1)>vc&&this._append`L${e+E*u},${n+E*h}`,this._append`A${o},${o},0,0,${+(h*p>u*m)},${this._x1=e+A*l},${this._y1=n+A*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>vc||Math.abs(this._y1-u)>vc)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%xS+xS),f>H8?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=u}`:f>vc&&this._append`A${r},${r},0,${+(f>=bS)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function iP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new W8(e)}function oP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SI(t){this._context=t}SI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nw(t){return new SI(t)}function EI(t){return t[0]}function CI(t){return t[1]}function _I(t,e){var n=Tt(!0),r=null,i=Nw,o=null,a=iP(s);t=typeof t=="function"?t:t===void 0?EI:Tt(t),e=typeof e=="function"?e:e===void 0?CI:Tt(e);function s(l){var c,u=(l=oP(l)).length,h,f=!1,p;for(r==null&&(o=i(p=a())),c=0;c<=u;++c)!(c<u&&n(h=l[c],c,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,c,l),+e(h,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Tt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Tt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Tt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Qv(t,e,n){var r=null,i=Tt(!0),o=null,a=Nw,s=null,l=iP(c);t=typeof t=="function"?t:t===void 0?EI:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?CI:Tt(+n);function c(h){var f,p,m,g=(h=oP(h)).length,y,b=!1,w,x=new Array(g),E=new Array(g);for(o==null&&(s=a(w=l())),f=0;f<=g;++f){if(!(f<g&&i(y=h[f],f,h))===b)if(b=!b)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=p;--m)s.point(x[m],E[m]);s.lineEnd(),s.areaEnd()}b&&(x[f]=+t(y,f,h),E[f]=+e(y,f,h),s.point(r?+r(y,f,h):x[f],n?+n(y,f,h):E[f]))}if(w)return s=null,w+""||null}function u(){return _I().defined(i).curve(a).context(o)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:Tt(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Tt(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Tt(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:Tt(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Tt(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Tt(+h),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Tt(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),c):a},c.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),c):o},c}class PI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function G8(t){return new PI(t,!0)}function q8(t){return new PI(t,!1)}const aP={draw(t,e){const n=Co(e/Ex);t.moveTo(n,0),t.arc(0,0,n,0,Mw)}},K8={draw(t,e){const n=Co(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},TI=Co(1/3),X8=TI*2,Y8={draw(t,e){const n=Co(e/X8),r=n*TI;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},J8={draw(t,e){const n=Co(e),r=-n/2;t.rect(r,r,n,n)}},Z8=.8908130915292852,kI=Sx(Ex/10)/Sx(7*Ex/10),Q8=Sx(Mw/10)*kI,eG=-wI(Mw/10)*kI,tG={draw(t,e){const n=Co(e*Z8),r=Q8*n,i=eG*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Mw*o/5,s=wI(a),l=Sx(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},X1=Co(3),nG={draw(t,e){const n=-Co(e/(X1*3));t.moveTo(0,n*2),t.lineTo(-X1*n,-n),t.lineTo(X1*n,-n),t.closePath()}},xi=-.5,wi=Co(3)/2,wS=1/Co(12),rG=(wS/2+1)*3,iG={draw(t,e){const n=Co(e/rG),r=n/2,i=n*wS,o=r,a=n*wS+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(xi*r-wi*i,wi*r+xi*i),t.lineTo(xi*o-wi*a,wi*o+xi*a),t.lineTo(xi*s-wi*l,wi*s+xi*l),t.lineTo(xi*r+wi*i,xi*i-wi*r),t.lineTo(xi*o+wi*a,xi*a-wi*o),t.lineTo(xi*s+wi*l,xi*l-wi*s),t.closePath()}};function oG(t,e){let n=null,r=iP(i);t=typeof t=="function"?t:Tt(t||aP),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Tt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Cx(){}function _x(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function OI(t){this._context=t}OI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_x(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_x(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aG(t){return new OI(t)}function jI(t){this._context=t}jI.prototype={areaStart:Cx,areaEnd:Cx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_x(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sG(t){return new jI(t)}function MI(t){this._context=t}MI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_x(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lG(t){return new MI(t)}function NI(t){this._context=t}NI.prototype={areaStart:Cx,areaEnd:Cx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cG(t){return new NI(t)}function Ok(t){return t<0?-1:1}function jk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ok(o)+Ok(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Mk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Y1(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Px(t){this._context=t}Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y1(this,this._t0,Mk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Y1(this,Mk(this,n=jk(this,t,e)),n);break;default:Y1(this,this._t0,n=jk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function RI(t){this._context=new II(t)}(RI.prototype=Object.create(Px.prototype)).point=function(t,e){Px.prototype.point.call(this,e,t)};function II(t){this._context=t}II.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function uG(t){return new Px(t)}function hG(t){return new RI(t)}function DI(t){this._context=t}DI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Nk(t),i=Nk(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Nk(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function dG(t){return new DI(t)}function Rw(t,e){this._context=t,this._t=e}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fG(t){return new Rw(t,.5)}function pG(t){return new Rw(t,0)}function mG(t){return new Rw(t,1)}function Df(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function AS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gG(t,e){return t[e]}function yG(t){const e=[];return e.key=t,e}function vG(){var t=Tt([]),e=AS,n=Df,r=gG;function i(o){var a=Array.from(t.apply(this,arguments),yG),s,l=a.length,c=-1,u;for(const h of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(h,a[s].key,c,o)]).data=h;for(s=0,u=oP(e(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Tt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?AS:typeof o=="function"?o:Tt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Df,i):n},i}function bG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Df(t,e)}}function xG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Df(t,e)}}function wG(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],h=u[r][1]||0,f=u[r-1][1]||0,p=(h-f)/2,m=0;m<s;++m){var g=t[e[m]],y=g[r][1]||0,b=g[r-1][1]||0;p+=y-b}l+=h,c+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Df(t,e)}}function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}var AG=["type","size","sizeType"];function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ik(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){SG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SG(t,e,n){return e=EG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EG(t){var e=CG(t,"string");return Km(e)=="symbol"?e:e+""}function CG(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _G(t,e){if(t==null)return{};var n=PG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var LI={symbolCircle:aP,symbolCross:K8,symbolDiamond:Y8,symbolSquare:J8,symbolStar:tG,symbolTriangle:nG,symbolWye:iG},TG=Math.PI/180,kG=function(e){var n="symbol".concat(jw(e));return LI[n]||aP},OG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*TG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jG=function(e,n){LI["symbol".concat(jw(e))]=n},Iw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=_G(e,AG),c=Ik(Ik({},l),{},{type:r,size:o,sizeType:s}),u=function(){var y=kG(r),b=oG().type(y).size(OG(o,s,r));return b()},h=c.className,f=c.cx,p=c.cy,m=ye(c,!0);return f===+f&&p===+p&&o===+o?B.createElement("path",SS({},m,{className:ke("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};Iw.registerSymbol=jG;function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){Xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FI(r.key),r)}}function IG(t,e,n){return e&&RG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DG(t,e,n){return e=Tx(e),LG(t,$I()?Reflect.construct(e,n||[],Tx(t).constructor):e.apply(t,n))}function LG(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $G(t)}function $G(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($I=function(){return!!t})()}function Tx(t){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(t)}function FG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CS(t,e)}function CS(t,e){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CS(t,e)}function Xm(t,e,n){return e=FI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FI(t){var e=BG(t,"string");return Lf(e)=="symbol"?e:e+""}function BG(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ai=32,sP=function(t){function e(){return NG(this,e),DG(this,e,arguments)}return FG(e,t),IG(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Ai/2,a=Ai/6,s=Ai/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Ai,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Ai,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ai/8,"h").concat(Ai,"v").concat(Ai*3/4,"h").concat(-Ai,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var c=MG({},r);return delete c.legendIcon,B.cloneElement(r.legendIcon,c)}return B.createElement(Iw,{fill:l,cx:o,cy:o,size:Ai,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ai,height:Ai},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,y=ke(Xm(Xm({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Ce(p.value)?null:p.value;vo(!Ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return B.createElement("li",ES({className:y,style:h,key:"legend-item-".concat(m)},ql(r.props,p,m)),B.createElement(mS,{width:a,height:a,viewBox:u,style:f},r.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,p,m):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(P.PureComponent);Xm(sP,"displayName","Legend");Xm(sP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zG=vw;function UG(){this.__data__=new zG,this.size=0}var HG=UG;function VG(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var WG=VG;function GG(t){return this.__data__.get(t)}var qG=GG;function KG(t){return this.__data__.has(t)}var XG=KG,YG=vw,JG=X_,ZG=Y_,QG=200;function eq(t,e){var n=this.__data__;if(n instanceof YG){var r=n.__data__;if(!JG||r.length<QG-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ZG(r)}return n.set(t,e),this.size=n.size,this}var tq=eq,nq=vw,rq=HG,iq=WG,oq=qG,aq=XG,sq=tq;function Cp(t){var e=this.__data__=new nq(t);this.size=e.size}Cp.prototype.clear=rq;Cp.prototype.delete=iq;Cp.prototype.get=oq;Cp.prototype.has=aq;Cp.prototype.set=sq;var BI=Cp,lq="__lodash_hash_undefined__";function cq(t){return this.__data__.set(t,lq),this}var uq=cq;function hq(t){return this.__data__.has(t)}var dq=hq,fq=Y_,pq=uq,mq=dq;function kx(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fq;++e<n;)this.add(t[e])}kx.prototype.add=kx.prototype.push=pq;kx.prototype.has=mq;var zI=kx;function gq(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var UI=gq;function yq(t,e){return t.has(e)}var HI=yq,vq=zI,bq=UI,xq=HI,wq=1,Aq=2;function Sq(t,e,n,r,i,o){var a=n&wq,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,f=!0,p=n&Aq?new vq:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var m=t[h],g=e[h];if(r)var y=a?r(g,m,h,e,t,o):r(m,g,h,t,e,o);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!bq(e,function(b,w){if(!xq(p,w)&&(m===b||i(m,b,n,r,o)))return p.push(w)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var VI=Sq,Eq=ma,Cq=Eq.Uint8Array,_q=Cq;function Pq(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Tq=Pq;function kq(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var lP=kq,Lk=Ev,$k=_q,Oq=K_,jq=VI,Mq=Tq,Nq=lP,Rq=1,Iq=2,Dq="[object Boolean]",Lq="[object Date]",$q="[object Error]",Fq="[object Map]",Bq="[object Number]",zq="[object RegExp]",Uq="[object Set]",Hq="[object String]",Vq="[object Symbol]",Wq="[object ArrayBuffer]",Gq="[object DataView]",Fk=Lk?Lk.prototype:void 0,J1=Fk?Fk.valueOf:void 0;function qq(t,e,n,r,i,o,a){switch(n){case Gq:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Wq:return!(t.byteLength!=e.byteLength||!o(new $k(t),new $k(e)));case Dq:case Lq:case Bq:return Oq(+t,+e);case $q:return t.name==e.name&&t.message==e.message;case zq:case Hq:return t==e+"";case Fq:var s=Mq;case Uq:var l=r&Rq;if(s||(s=Nq),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Iq,a.set(t,e);var u=jq(s(t),s(e),r,i,o,a);return a.delete(t),u;case Vq:if(J1)return J1.call(t)==J1.call(e)}return!1}var Kq=qq;function Xq(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var WI=Xq,Yq=WI,Jq=Ir;function Zq(t,e,n){var r=e(t);return Jq(t)?r:Yq(r,n(t))}var Qq=Zq;function e9(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var t9=e9;function n9(){return[]}var r9=n9,i9=t9,o9=r9,a9=Object.prototype,s9=a9.propertyIsEnumerable,Bk=Object.getOwnPropertySymbols,l9=Bk?function(t){return t==null?[]:(t=Object(t),i9(Bk(t),function(e){return s9.call(t,e)}))}:o9,c9=l9;function u9(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var h9=u9,d9=js,f9=Ms,p9="[object Arguments]";function m9(t){return f9(t)&&d9(t)==p9}var g9=m9,zk=g9,y9=Ms,GI=Object.prototype,v9=GI.hasOwnProperty,b9=GI.propertyIsEnumerable,x9=zk(function(){return arguments}())?zk:function(t){return y9(t)&&v9.call(t,"callee")&&!b9.call(t,"callee")},cP=x9,Ox={exports:{}};function w9(){return!1}var A9=w9;Ox.exports;(function(t,e){var n=ma,r=A9,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(Ox,Ox.exports);var qI=Ox.exports,S9=9007199254740991,E9=/^(?:0|[1-9]\d*)$/;function C9(t,e){var n=typeof t;return e=e??S9,!!e&&(n=="number"||n!="symbol"&&E9.test(t))&&t>-1&&t%1==0&&t<e}var uP=C9,_9=9007199254740991;function P9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_9}var hP=P9,T9=js,k9=hP,O9=Ms,j9="[object Arguments]",M9="[object Array]",N9="[object Boolean]",R9="[object Date]",I9="[object Error]",D9="[object Function]",L9="[object Map]",$9="[object Number]",F9="[object Object]",B9="[object RegExp]",z9="[object Set]",U9="[object String]",H9="[object WeakMap]",V9="[object ArrayBuffer]",W9="[object DataView]",G9="[object Float32Array]",q9="[object Float64Array]",K9="[object Int8Array]",X9="[object Int16Array]",Y9="[object Int32Array]",J9="[object Uint8Array]",Z9="[object Uint8ClampedArray]",Q9="[object Uint16Array]",eK="[object Uint32Array]",Rt={};Rt[G9]=Rt[q9]=Rt[K9]=Rt[X9]=Rt[Y9]=Rt[J9]=Rt[Z9]=Rt[Q9]=Rt[eK]=!0;Rt[j9]=Rt[M9]=Rt[V9]=Rt[N9]=Rt[W9]=Rt[R9]=Rt[I9]=Rt[D9]=Rt[L9]=Rt[$9]=Rt[F9]=Rt[B9]=Rt[z9]=Rt[U9]=Rt[H9]=!1;function tK(t){return O9(t)&&k9(t.length)&&!!Rt[T9(t)]}var nK=tK;function rK(t){return function(e){return t(e)}}var KI=rK,jx={exports:{}};jx.exports;(function(t,e){var n=tI,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(jx,jx.exports);var iK=jx.exports,oK=nK,aK=KI,Uk=iK,Hk=Uk&&Uk.isTypedArray,sK=Hk?aK(Hk):oK,XI=sK,lK=h9,cK=cP,uK=Ir,hK=qI,dK=uP,fK=XI,pK=Object.prototype,mK=pK.hasOwnProperty;function gK(t,e){var n=uK(t),r=!n&&cK(t),i=!n&&!r&&hK(t),o=!n&&!r&&!i&&fK(t),a=n||r||i||o,s=a?lK(t.length,String):[],l=s.length;for(var c in t)(e||mK.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||dK(c,l)))&&s.push(c);return s}var yK=gK,vK=Object.prototype;function bK(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vK;return t===n}var xK=bK;function wK(t,e){return function(n){return t(e(n))}}var YI=wK,AK=YI,SK=AK(Object.keys,Object),EK=SK,CK=xK,_K=EK,PK=Object.prototype,TK=PK.hasOwnProperty;function kK(t){if(!CK(t))return _K(t);var e=[];for(var n in Object(t))TK.call(t,n)&&n!="constructor"&&e.push(n);return e}var OK=kK,jK=q_,MK=hP;function NK(t){return t!=null&&MK(t.length)&&!jK(t)}var Cv=NK,RK=yK,IK=OK,DK=Cv;function LK(t){return DK(t)?RK(t):IK(t)}var Dw=LK,$K=Qq,FK=c9,BK=Dw;function zK(t){return $K(t,BK,FK)}var UK=zK,Vk=UK,HK=1,VK=Object.prototype,WK=VK.hasOwnProperty;function GK(t,e,n,r,i,o){var a=n&HK,s=Vk(t),l=s.length,c=Vk(e),u=c.length;if(l!=u&&!a)return!1;for(var h=l;h--;){var f=s[h];if(!(a?f in e:WK.call(e,f)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=a;++h<l;){f=s[h];var b=t[f],w=e[f];if(r)var x=a?r(w,b,f,e,t,o):r(b,w,f,t,e,o);if(!(x===void 0?b===w||i(b,w,n,r,o):x)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var E=t.constructor,A=e.constructor;E!=A&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof A=="function"&&A instanceof A)&&(g=!1)}return o.delete(t),o.delete(e),g}var qK=GK,KK=dh,XK=ma,YK=KK(XK,"DataView"),JK=YK,ZK=dh,QK=ma,eX=ZK(QK,"Promise"),tX=eX,nX=dh,rX=ma,iX=nX(rX,"Set"),JI=iX,oX=dh,aX=ma,sX=oX(aX,"WeakMap"),lX=sX,_S=JK,PS=X_,TS=tX,kS=JI,OS=lX,ZI=js,_p=rI,Wk="[object Map]",cX="[object Object]",Gk="[object Promise]",qk="[object Set]",Kk="[object WeakMap]",Xk="[object DataView]",uX=_p(_S),hX=_p(PS),dX=_p(TS),fX=_p(kS),pX=_p(OS),bc=ZI;(_S&&bc(new _S(new ArrayBuffer(1)))!=Xk||PS&&bc(new PS)!=Wk||TS&&bc(TS.resolve())!=Gk||kS&&bc(new kS)!=qk||OS&&bc(new OS)!=Kk)&&(bc=function(t){var e=ZI(t),n=e==cX?t.constructor:void 0,r=n?_p(n):"";if(r)switch(r){case uX:return Xk;case hX:return Wk;case dX:return Gk;case fX:return qk;case pX:return Kk}return e});var mX=bc,Z1=BI,gX=VI,yX=Kq,vX=qK,Yk=mX,Jk=Ir,Zk=qI,bX=XI,xX=1,Qk="[object Arguments]",eO="[object Array]",eb="[object Object]",wX=Object.prototype,tO=wX.hasOwnProperty;function AX(t,e,n,r,i,o){var a=Jk(t),s=Jk(e),l=a?eO:Yk(t),c=s?eO:Yk(e);l=l==Qk?eb:l,c=c==Qk?eb:c;var u=l==eb,h=c==eb,f=l==c;if(f&&Zk(t)){if(!Zk(e))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new Z1),a||bX(t)?gX(t,e,n,r,i,o):yX(t,e,l,n,r,i,o);if(!(n&xX)){var p=u&&tO.call(t,"__wrapped__"),m=h&&tO.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return o||(o=new Z1),i(g,y,n,r,o)}}return f?(o||(o=new Z1),vX(t,e,n,r,i,o)):!1}var SX=AX,EX=SX,nO=Ms;function QI(t,e,n,r,i){return t===e?!0:t==null||e==null||!nO(t)&&!nO(e)?t!==t&&e!==e:EX(t,e,n,r,QI,i)}var dP=QI,CX=BI,_X=dP,PX=1,TX=2;function kX(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var h=new CX;if(r)var f=r(c,u,l,t,e,h);if(!(f===void 0?_X(u,c,PX|TX,r,h):f))return!1}}return!0}var OX=kX,jX=nc;function MX(t){return t===t&&!jX(t)}var eD=MX,NX=eD,RX=Dw;function IX(t){for(var e=RX(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,NX(i)]}return e}var DX=IX;function LX(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var tD=LX,$X=OX,FX=DX,BX=tD;function zX(t){var e=FX(t);return e.length==1&&e[0][2]?BX(e[0][0],e[0][1]):function(n){return n===t||$X(n,t,e)}}var UX=zX;function HX(t,e){return t!=null&&e in Object(t)}var VX=HX,WX=lI,GX=cP,qX=Ir,KX=uP,XX=hP,YX=xw;function JX(t,e,n){e=WX(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=YX(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&XX(i)&&KX(a,i)&&(qX(t)||GX(t)))}var ZX=JX,QX=VX,e7=ZX;function t7(t,e){return t!=null&&e7(t,e,QX)}var n7=t7,r7=dP,i7=cI,o7=n7,a7=G_,s7=eD,l7=tD,c7=xw,u7=1,h7=2;function d7(t,e){return a7(t)&&s7(e)?l7(c7(t),e):function(n){var r=i7(n,t);return r===void 0&&r===e?o7(n,t):r7(e,r,u7|h7)}}var f7=d7;function p7(t){return t}var Pp=p7;function m7(t){return function(e){return e==null?void 0:e[t]}}var g7=m7,y7=Q_;function v7(t){return function(e){return y7(e,t)}}var b7=v7,x7=g7,w7=b7,A7=G_,S7=xw;function E7(t){return A7(t)?x7(S7(t)):w7(t)}var C7=E7,_7=UX,P7=f7,T7=Pp,k7=Ir,O7=C7;function j7(t){return typeof t=="function"?t:t==null?T7:typeof t=="object"?k7(t)?P7(t[0],t[1]):_7(t):O7(t)}var ga=j7;function M7(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var nD=M7;function N7(t){return t!==t}var R7=N7;function I7(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var D7=I7,L7=nD,$7=R7,F7=D7;function B7(t,e,n){return e===e?F7(t,e,n):L7(t,$7,n)}var z7=B7,U7=z7;function H7(t,e){var n=t==null?0:t.length;return!!n&&U7(t,e,0)>-1}var V7=H7;function W7(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var G7=W7;function q7(){}var K7=q7,Q1=JI,X7=K7,Y7=lP,J7=1/0,Z7=Q1&&1/Y7(new Q1([,-0]))[1]==J7?function(t){return new Q1(t)}:X7,Q7=Z7,eY=zI,tY=V7,nY=G7,rY=HI,iY=Q7,oY=lP,aY=200;function sY(t,e,n){var r=-1,i=tY,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=nY;else if(o>=aY){var c=e?null:iY(t);if(c)return oY(c);a=!1,i=rY,l=new eY}else l=e?[]:s;e:for(;++r<o;){var u=t[r],h=e?e(u):u;if(u=n||u!==0?u:0,a&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),s.push(u)}else i(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s}var lY=sY,cY=ga,uY=lY;function hY(t,e){return t&&t.length?uY(t,cY(e)):[]}var dY=hY;const rO=at(dY);function rD(t,e,n){return e===!0?rO(t,n):Ce(e)?rO(t,e):t}function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}var fY=["ref"];function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){Lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oD(r.key),r)}}function mY(t,e,n){return e&&oO(t.prototype,e),n&&oO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gY(t,e,n){return e=Mx(e),yY(t,iD()?Reflect.construct(e,n||[],Mx(t).constructor):e.apply(t,n))}function yY(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vY(t)}function vY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iD=function(){return!!t})()}function Mx(t){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mx(t)}function bY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jS(t,e)}function jS(t,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jS(t,e)}function Lw(t,e,n){return e=oD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oD(t){var e=xY(t,"string");return $f(e)=="symbol"?e:e+""}function xY(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wY(t,e){if(t==null)return{};var n=AY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SY(t){return t.value}function EY(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=wY(e,fY);return B.createElement(sP,n)}var aO=1,vr=function(t){function e(){var n;pY(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gY(this,e,[].concat(i)),Lw(n,"lastBoundingBox",{width:-1,height:-1}),n}return bY(e,t),mY(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aO||Math.abs(i.height-this.lastBoundingBox.height)>aO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Aa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();h={left:((c||0)-p.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();f={top:((u||0)-m.height)/2}}else f=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Aa(Aa({},h),f)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,h=Aa(Aa({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p}},EY(o,Aa(Aa({},this.props),{},{payload:rD(u,c,SY)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Aa(Aa({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&te(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(P.PureComponent);Lw(vr,"displayName","Legend");Lw(vr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sO=Ev,CY=cP,_Y=Ir,lO=sO?sO.isConcatSpreadable:void 0;function PY(t){return _Y(t)||CY(t)||!!(lO&&t&&t[lO])}var TY=PY,kY=WI,OY=TY;function aD(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=OY),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?aD(s,e-1,n,r,i):kY(i,s):r||(i[i.length]=s)}return i}var sD=aD;function jY(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var MY=jY,NY=MY,RY=NY(),IY=RY,DY=IY,LY=Dw;function $Y(t,e){return t&&DY(t,e,LY)}var lD=$Y,FY=Cv;function BY(t,e){return function(n,r){if(n==null)return n;if(!FY(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var zY=BY,UY=lD,HY=zY,VY=HY(UY),fP=VY,WY=fP,GY=Cv;function qY(t,e){var n=-1,r=GY(t)?Array(t.length):[];return WY(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var cD=qY;function KY(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var XY=KY,cO=bp;function YY(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=cO(t),a=e!==void 0,s=e===null,l=e===e,c=cO(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var JY=YY,ZY=JY;function QY(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=ZY(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var eJ=QY,eA=Z_,tJ=Q_,nJ=ga,rJ=cD,iJ=XY,oJ=KI,aJ=eJ,sJ=Pp,lJ=Ir;function cJ(t,e,n){e.length?e=eA(e,function(o){return lJ(o)?function(a){return tJ(a,o.length===1?o[0]:o)}:o}):e=[sJ];var r=-1;e=eA(e,oJ(nJ));var i=rJ(t,function(o,a,s){var l=eA(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return iJ(i,function(o,a){return aJ(o,a,n)})}var uJ=cJ;function hJ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var dJ=hJ,fJ=dJ,uO=Math.max;function pJ(t,e,n){return e=uO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=uO(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),fJ(t,this,s)}}var mJ=pJ;function gJ(t){return function(){return t}}var yJ=gJ,vJ=dh,bJ=function(){try{var t=vJ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uD=bJ,xJ=yJ,hO=uD,wJ=Pp,AJ=hO?function(t,e){return hO(t,"toString",{configurable:!0,enumerable:!1,value:xJ(e),writable:!0})}:wJ,SJ=AJ,EJ=800,CJ=16,_J=Date.now;function PJ(t){var e=0,n=0;return function(){var r=_J(),i=CJ-(r-n);if(n=r,i>0){if(++e>=EJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var TJ=PJ,kJ=SJ,OJ=TJ,jJ=OJ(kJ),MJ=jJ,NJ=Pp,RJ=mJ,IJ=MJ;function DJ(t,e){return IJ(RJ(t,e,NJ),t+"")}var LJ=DJ,$J=K_,FJ=Cv,BJ=uP,zJ=nc;function UJ(t,e,n){if(!zJ(n))return!1;var r=typeof e;return(r=="number"?FJ(n)&&BJ(e,n.length):r=="string"&&e in n)?$J(n[e],t):!1}var $w=UJ,HJ=sD,VJ=uJ,WJ=LJ,dO=$w,GJ=WJ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&dO(t,e[0],e[1])?e=[]:n>2&&dO(e[0],e[1],e[2])&&(e=[e[0]]),VJ(t,HJ(e,1),[])}),qJ=GJ;const pP=at(qJ);function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MS.apply(this,arguments)}function KJ(t,e){return ZJ(t)||JJ(t,e)||YJ(t,e)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YJ(t,e){if(t){if(typeof t=="string")return fO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fO(t,e)}}function fO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function ZJ(t){if(Array.isArray(t))return t}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return e=eZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eZ(t){var e=tZ(t,"string");return Ym(e)=="symbol"?e:e+""}function tZ(t,e){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nZ(t){return Array.isArray(t)&&bn(t[0])&&bn(t[1])?t.join(" ~ "):t}var rZ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,y=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,x=function(){if(u&&u.length){var R={padding:0,margin:0},F=(f?pP(u,f):u).map(function($,z){if($.type==="none")return null;var L=tA({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),U=$.formatter||h||nZ,H=$.value,V=$.name,I=H,Y=V;if(U&&I!=null&&Y!=null){var q=U(H,V,$,z,u);if(Array.isArray(q)){var D=KJ(q,2);I=D[0],Y=D[1]}else I=q}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:L},bn(Y)?B.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,bn(Y)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},I),B.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:R},F)}return null},E=tA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=tA({margin:0},c),S=!Ee(g),_=S?g:"",O=ke("recharts-default-tooltip",p),M=ke("recharts-tooltip-label",m);S&&y&&u!==void 0&&u!==null&&(_=y(g,u));var j=w?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",MS({className:O,style:E},j),B.createElement("p",{className:M,style:A},B.isValidElement(_)?_:"".concat(_)),x())};function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function tb(t,e,n){return e=iZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=oZ(t,"string");return Jm(e)=="symbol"?e:e+""}function oZ(t,e){if(Jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kp="recharts-tooltip-wrapper",aZ={visibility:"hidden"};function sZ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ke(Kp,tb(tb(tb(tb({},"".concat(Kp,"-right"),te(n)&&e&&te(e.x)&&n>=e.x),"".concat(Kp,"-left"),te(n)&&e&&te(e.x)&&n<e.x),"".concat(Kp,"-bottom"),te(r)&&e&&te(e.y)&&r>=e.y),"".concat(Kp,"-top"),te(r)&&e&&te(e.y)&&r<e.y))}function mO(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&te(o[r]))return o[r];var u=n[r]-s-i,h=n[r]+i;if(e[r])return a[r]?u:h;if(a[r]){var f=u,p=l[r];return f<p?Math.max(h,l[r]):Math.max(u,l[r])}var m=h+s,g=l[r]+c;return m>g?Math.max(u,l[r]):Math.max(h,l[r])}function lZ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cZ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,h;return a.height>0&&a.width>0&&n?(u=mO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=mO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=lZ({translateX:u,translateY:h,useTranslate3d:s})):c=aZ,{cssProperties:c,cssClasses:sZ({translateX:u,translateY:h,coordinate:n})}}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){RS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dD(r.key),r)}}function dZ(t,e,n){return e&&hZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fZ(t,e,n){return e=Nx(e),pZ(t,hD()?Reflect.construct(e,n||[],Nx(t).constructor):e.apply(t,n))}function pZ(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mZ(t)}function mZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nx(t)}function gZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NS(t,e)}function NS(t,e){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NS(t,e)}function RS(t,e,n){return e=dD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dD(t){var e=yZ(t,"string");return Ff(e)=="symbol"?e:e+""}function yZ(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vO=1,vZ=function(t){function e(){var n;uZ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fZ(this,e,[].concat(i)),RS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),RS(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return gZ(e,t),dZ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>vO||Math.abs(r.height-this.state.lastBoundingBox.height)>vO)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,x=cZ({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),E=x.cssClasses,A=x.cssProperties,S=yO(yO({transition:f&&o?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return B.createElement("div",{tabIndex:-1,className:E,style:S,ref:function(O){r.wrapperNode=O}},c)}}])}(P.PureComponent),bZ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ns={isSsr:bZ()};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){mP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pD(r.key),r)}}function AZ(t,e,n){return e&&wZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SZ(t,e,n){return e=Rx(e),EZ(t,fD()?Reflect.construct(e,n||[],Rx(t).constructor):e.apply(t,n))}function EZ(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CZ(t)}function CZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(t)}function _Z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IS(t,e)}function IS(t,e){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IS(t,e)}function mP(t,e,n){return e=pD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pD(t){var e=PZ(t,"string");return Bf(e)=="symbol"?e:e+""}function PZ(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TZ(t){return t.dataKey}function kZ(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(rZ,e)}var jn=function(t){function e(){return xZ(this,e),SZ(this,e,arguments)}return _Z(e,t),AZ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,y=i.position,b=i.reverseDirection,w=i.useTranslate3d,x=i.viewBox,E=i.wrapperStyle,A=m??[];h&&A.length&&(A=rD(m.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),g,TZ));var S=A.length>0;return B.createElement(vZ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:o,coordinate:u,hasPayload:S,offset:p,position:y,reverseDirection:b,useTranslate3d:w,viewBox:x,wrapperStyle:E},kZ(c,xO(xO({},this.props),{},{payload:A})))}}])}(P.PureComponent);mP(jn,"displayName","Tooltip");mP(jn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ns.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var OZ=ma,jZ=function(){return OZ.Date.now()},MZ=jZ,NZ=/\s/;function RZ(t){for(var e=t.length;e--&&NZ.test(t.charAt(e)););return e}var IZ=RZ,DZ=IZ,LZ=/^\s+/;function $Z(t){return t&&t.slice(0,DZ(t)+1).replace(LZ,"")}var FZ=$Z,BZ=FZ,wO=nc,zZ=bp,AO=NaN,UZ=/^[-+]0x[0-9a-f]+$/i,HZ=/^0b[01]+$/i,VZ=/^0o[0-7]+$/i,WZ=parseInt;function GZ(t){if(typeof t=="number")return t;if(zZ(t))return AO;if(wO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=BZ(t);var n=HZ.test(t);return n||VZ.test(t)?WZ(t.slice(2),n?2:8):UZ.test(t)?AO:+t}var mD=GZ,qZ=nc,nA=MZ,SO=mD,KZ="Expected a function",XZ=Math.max,YZ=Math.min;function JZ(t,e,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(KZ);e=SO(e)||0,qZ(n)&&(u=!!n.leading,h="maxWait"in n,o=h?XZ(SO(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p(S){var _=r,O=i;return r=i=void 0,c=S,a=t.apply(O,_),a}function m(S){return c=S,s=setTimeout(b,e),u?p(S):a}function g(S){var _=S-l,O=S-c,M=e-_;return h?YZ(M,o-O):M}function y(S){var _=S-l,O=S-c;return l===void 0||_>=e||_<0||h&&O>=o}function b(){var S=nA();if(y(S))return w(S);s=setTimeout(b,g(S))}function w(S){return s=void 0,f&&r?p(S):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function E(){return s===void 0?a:w(nA())}function A(){var S=nA(),_=y(S);if(r=arguments,i=this,l=S,_){if(s===void 0)return m(l);if(h)return clearTimeout(s),s=setTimeout(b,e),p(l)}return s===void 0&&(s=setTimeout(b,e)),a}return A.cancel=x,A.flush=E,A}var ZZ=JZ,QZ=ZZ,eQ=nc,tQ="Expected a function";function nQ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(tQ);return eQ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),QZ(t,e,{leading:r,maxWait:e,trailing:i})}var rQ=nQ;const gD=at(rQ);function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=aQ(t,"string");return Zm(e)=="symbol"?e:e+""}function aQ(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sQ(t,e){return hQ(t)||uQ(t,e)||cQ(t,e)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cQ(t,e){if(t){if(typeof t=="string")return CO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(t,e)}}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function hQ(t){if(Array.isArray(t))return t}var fs=P.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,h=t.minHeight,f=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,y=t.id,b=t.className,w=t.onResize,x=t.style,E=x===void 0?{}:x,A=P.useRef(null),S=P.useRef();S.current=w,P.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var _=P.useState({containerWidth:i.width,containerHeight:i.height}),O=sQ(_,2),M=O[0],j=O[1],N=P.useCallback(function(F,$){j(function(z){var L=Math.round(F),U=Math.round($);return z.containerWidth===L&&z.containerHeight===U?z:{containerWidth:L,containerHeight:U}})},[]);P.useEffect(function(){var F=function(V){var I,Y=V[0].contentRect,q=Y.width,D=Y.height;N(q,D),(I=S.current)===null||I===void 0||I.call(S,q,D)};g>0&&(F=gD(F,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(F),z=A.current.getBoundingClientRect(),L=z.width,U=z.height;return N(L,U),$.observe(A.current),function(){$.disconnect()}},[N,g]);var R=P.useMemo(function(){var F=M.containerWidth,$=M.containerHeight;if(F<0||$<0)return null;vo(Mc(a)||Mc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),vo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Mc(a)?F:a,L=Mc(l)?$:l;n&&n>0&&(z?L=z/n:L&&(z=L*n),f&&L>f&&(L=f)),vo(z>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,L,a,l,u,h,n);var U=!Array.isArray(p)&&ds(p.type).endsWith("Chart");return B.Children.map(p,function(H){return B.isValidElement(H)?P.cloneElement(H,nb({width:z,height:L},U?{style:nb({height:"100%",width:"100%",maxHeight:L,maxWidth:z},H.props.style)}:{})):H})},[n,p,l,f,h,u,M,a]);return B.createElement("div",{id:y?"".concat(y):void 0,className:ke("recharts-responsive-container",b),style:nb(nb({},E),{},{width:a,height:l,minWidth:u,minHeight:h,maxHeight:f}),ref:A},R)}),_v=function(e){return null};_v.displayName="Cell";function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return e=fQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=pQ(t,"string");return Qm(e)=="symbol"?e:e+""}function pQ(t,e){if(Qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xh={widthCache:{},cacheCount:0},mQ=2e3,gQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PO="recharts_measurement_span";function yQ(t){var e=DS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Rm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ns.isSsr)return{width:0,height:0};var r=yQ(n),i=JSON.stringify({text:e,copyStyle:r});if(xh.widthCache[i])return xh.widthCache[i];try{var o=document.getElementById(PO);o||(o=document.createElement("span"),o.setAttribute("id",PO),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=DS(DS({},gQ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return xh.widthCache[i]=l,++xh.cacheCount>mQ&&(xh.cacheCount=0,xh.widthCache={}),l}catch{return{width:0,height:0}}},vQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function Ix(t,e){return AQ(t)||wQ(t,e)||xQ(t,e)||bQ()}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(t,e){if(t){if(typeof t=="string")return TO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TO(t,e)}}function TO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function AQ(t){if(Array.isArray(t))return t}function SQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CQ(r.key),r)}}function EQ(t,e,n){return e&&kO(t.prototype,e),n&&kO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CQ(t){var e=_Q(t,"string");return eg(e)=="symbol"?e:e+""}function _Q(t,e){if(eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kQ=Object.keys(yD),Hh="NaN";function OQ(t,e){return t*yD[e]}var rb=function(){function t(e,n){SQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!PQ.test(n)&&(this.num=NaN,this.unit=""),kQ.includes(n)&&(this.num=OQ(e,n),this.unit="px")}return EQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=TQ.exec(n))!==null&&r!==void 0?r:[],o=Ix(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function vD(t){if(t.includes(Hh))return Hh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=OO.exec(e))!==null&&n!==void 0?n:[],i=Ix(r,4),o=i[1],a=i[2],s=i[3],l=rb.parse(o??""),c=rb.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Hh;e=e.replace(OO,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=jO.exec(e))!==null&&h!==void 0?h:[],p=Ix(f,4),m=p[1],g=p[2],y=p[3],b=rb.parse(m??""),w=rb.parse(y??""),x=g==="+"?b.add(w):b.subtract(w);if(x.isNaN())return Hh;e=e.replace(jO,x.toString())}return e}var MO=/\(([^()]*)\)/;function jQ(t){for(var e=t;e.includes("(");){var n=MO.exec(e),r=Ix(n,2),i=r[1];e=e.replace(MO,vD(i))}return e}function MQ(t){var e=t.replace(/\s+/g,"");return e=jQ(e),e=vD(e),e}function NQ(t){try{return MQ(t)}catch{return Hh}}function rA(t){var e=NQ(t.slice(5,-1));return e===Hh?"":e}var RQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IQ=["dx","dy","angle","className","breakAll"];function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LS.apply(this,arguments)}function NO(t,e){if(t==null)return{};var n=DQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RO(t,e){return BQ(t)||FQ(t,e)||$Q(t,e)||LQ()}function LQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(t,e){if(t){if(typeof t=="string")return IO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IO(t,e)}}function IO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function BQ(t){if(Array.isArray(t))return t}var bD=/[ \f\n\r\t\v\u2028\u2029]+/,xD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ee(n)||(r?o=n.toString().split(""):o=n.toString().split(bD));var a=o.map(function(l){return{word:l,width:Rm(l,i).width}}),s=r?0:Rm("Â ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},zQ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=te(a),h=s,f=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(L,U){var H=U.word,V=U.width,I=L[L.length-1];if(I&&(i==null||o||I.width+V+r<Number(i)))I.words.push(H),I.width+=V+r;else{var Y={words:[H],width:V};L.push(Y)}return L},[])},p=f(n),m=function(z){return z.reduce(function(L,U){return L.width>U.width?L:U})};if(!u)return p;for(var g="â€¦",y=function(z){var L=h.slice(0,z),U=xD({breakAll:c,style:l,children:L+g}).wordsWithComputedWidth,H=f(U),V=H.length>a||m(H).width>Number(i);return[V,H]},b=0,w=h.length-1,x=0,E;b<=w&&x<=h.length-1;){var A=Math.floor((b+w)/2),S=A-1,_=y(S),O=RO(_,2),M=O[0],j=O[1],N=y(A),R=RO(N,1),F=R[0];if(!M&&!F&&(b=A+1),M&&F&&(w=A-1),!M&&F){E=j;break}x++}return E||p},DO=function(e){var n=Ee(e)?[]:e.toString().split(bD);return[{words:n}]},UQ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Ns.isSsr){var l,c,u=xD({breakAll:a,children:i,style:o});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;l=h,c=f}else return DO(i);return zQ({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return DO(i)},LO="#808080",nh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,h=u===void 0?!1:u,f=e.textAnchor,p=f===void 0?"start":f,m=e.verticalAnchor,g=m===void 0?"end":m,y=e.fill,b=y===void 0?LO:y,w=NO(e,RQ),x=P.useMemo(function(){return UQ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),E=w.dx,A=w.dy,S=w.angle,_=w.className,O=w.breakAll,M=NO(w,IQ);if(!bn(r)||!bn(o))return null;var j=r+(te(E)?E:0),N=o+(te(A)?A:0),R;switch(g){case"start":R=rA("calc(".concat(c,")"));break;case"middle":R=rA("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:R=rA("calc(".concat(x.length-1," * -").concat(s,")"));break}var F=[];if(h){var $=x[0].width,z=w.width;F.push("scale(".concat((te(z)?z/$:1)/$,")"))}return S&&F.push("rotate(".concat(S,", ").concat(j,", ").concat(N,")")),F.length&&(M.transform=F.join(" ")),B.createElement("text",LS({},ye(M,!0),{x:j,y:N,className:ke("recharts-text",_),textAnchor:p,fill:b.includes("url")?LO:b}),x.map(function(L,U){var H=L.words.join(O?"":" ");return B.createElement("tspan",{x:j,dy:U===0?R:s,key:"".concat(H,"-").concat(U)},H)}))};function Wl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gP(t){let e,n,r;t.length!==2?(e=Wl,n=(s,l)=>Wl(t(s),l),r=(s,l)=>t(s)-l):(e=t===Wl||t===HQ?t:VQ,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(s[h],l)<0?c=h+1:u=h}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const h=c+u>>>1;n(s[h],l)<=0?c=h+1:u=h}while(c<u)}return c}function a(s,l,c=0,u=s.length){const h=i(s,l,c,u-1);return h>c&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function VQ(){return 0}function wD(t){return t===null?NaN:+t}function*WQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const GQ=gP(Wl),Pv=GQ.right;gP(wD).center;class $O extends Map{constructor(e,n=XQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(FO(this,e))}has(e){return super.has(FO(this,e))}set(e,n){return super.set(qQ(this,e),n)}delete(e){return super.delete(KQ(this,e))}}function FO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function qQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function KQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function XQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function YQ(t=Wl){if(t===Wl)return AD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function AD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const JQ=Math.sqrt(50),ZQ=Math.sqrt(10),QQ=Math.sqrt(2);function Dx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=JQ?10:o>=ZQ?5:o>=QQ?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Dx(t,e,n*2):[s,l,c]}function $S(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Dx(e,t,n):Dx(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function FS(t,e,n){return e=+e,t=+t,n=+n,Dx(t,e,n)[2]}function BS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?FS(e,t,n):FS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function BO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SD(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?AD:YQ(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(l-h)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*h/l+f)),m=Math.min(r,Math.floor(e+(l-c)*h/l+f));SD(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Xp(t,n,e),i(t[r],o)>0&&Xp(t,n,r);a<s;){for(Xp(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Xp(t,n,s):(++s,Xp(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Xp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function eee(t,e,n){if(t=Float64Array.from(WQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zO(t);if(e>=1)return BO(t);var r,i=(r-1)*e,o=Math.floor(i),a=BO(SD(t,o).subarray(0,o+1)),s=zO(t.subarray(o+1));return a+(s-a)*(i-o)}}function tee(t,e,n=wD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function nee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Rs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const zS=Symbol("implicit");function yP(){var t=new $O,e=[],n=[],r=zS;function i(o){let a=t.get(o);if(a===void 0){if(r!==zS)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new $O;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yP(e,n).unknown(r)},Xi.apply(i,arguments),i}function tg(){var t=yP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function h(){var f=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,f-l+c*2),s&&(o=Math.floor(o)),m+=(g-m-o*(f-l))*u,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var y=nee(f).map(function(b){return m+o*b});return n(p?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},t.copy=function(){return tg(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Xi.apply(h(),arguments)}function ED(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ED(e())},t}function Im(){return ED(tg.apply(null,arguments).paddingInner(1))}function vP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function CD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Tv(){}var ng=.7,Lx=1/ng,td="\\s*([+-]?\\d+)\\s*",rg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ree=/^#([0-9a-f]{3,8})$/,iee=new RegExp(`^rgb\\(${td},${td},${td}\\)$`),oee=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),aee=new RegExp(`^rgba\\(${td},${td},${td},${rg}\\)$`),see=new RegExp(`^rgba\\(${ca},${ca},${ca},${rg}\\)$`),lee=new RegExp(`^hsl\\(${rg},${ca},${ca}\\)$`),cee=new RegExp(`^hsla\\(${rg},${ca},${ca},${rg}\\)$`),UO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vP(Tv,ig,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HO,formatHex:HO,formatHex8:uee,formatHsl:hee,formatRgb:VO,toString:VO});function HO(){return this.rgb().formatHex()}function uee(){return this.rgb().formatHex8()}function hee(){return _D(this).formatHsl()}function VO(){return this.rgb().formatRgb()}function ig(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ree.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WO(e):n===3?new jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ib(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ib(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=iee.exec(t))?new jr(e[1],e[2],e[3],1):(e=oee.exec(t))?new jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aee.exec(t))?ib(e[1],e[2],e[3],e[4]):(e=see.exec(t))?ib(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lee.exec(t))?KO(e[1],e[2]/100,e[3]/100,1):(e=cee.exec(t))?KO(e[1],e[2]/100,e[3]/100,e[4]):UO.hasOwnProperty(t)?WO(UO[t]):t==="transparent"?new jr(NaN,NaN,NaN,0):null}function WO(t){return new jr(t>>16&255,t>>8&255,t&255,1)}function ib(t,e,n,r){return r<=0&&(t=e=n=NaN),new jr(t,e,n,r)}function dee(t){return t instanceof Tv||(t=ig(t)),t?(t=t.rgb(),new jr(t.r,t.g,t.b,t.opacity)):new jr}function US(t,e,n,r){return arguments.length===1?dee(t):new jr(t,e,n,r??1)}function jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vP(jr,US,CD(Tv,{brighter(t){return t=t==null?Lx:Math.pow(Lx,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ng:Math.pow(ng,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jr(Ju(this.r),Ju(this.g),Ju(this.b),$x(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GO,formatHex:GO,formatHex8:fee,formatRgb:qO,toString:qO}));function GO(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}`}function fee(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}${Nc((isNaN(this.opacity)?1:this.opacity)*255)}`}function qO(){const t=$x(this.opacity);return`${t===1?"rgb(":"rgba("}${Ju(this.r)}, ${Ju(this.g)}, ${Ju(this.b)}${t===1?")":`, ${t})`}`}function $x(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ju(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nc(t){return t=Ju(t),(t<16?"0":"")+t.toString(16)}function KO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new go(t,e,n,r)}function _D(t){if(t instanceof go)return new go(t.h,t.s,t.l,t.opacity);if(t instanceof Tv||(t=ig(t)),!t)return new go;if(t instanceof go)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new go(a,s,l,t.opacity)}function pee(t,e,n,r){return arguments.length===1?_D(t):new go(t,e,n,r??1)}function go(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vP(go,pee,CD(Tv,{brighter(t){return t=t==null?Lx:Math.pow(Lx,t),new go(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ng:Math.pow(ng,t),new go(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new jr(iA(t>=240?t-240:t+120,i,r),iA(t,i,r),iA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new go(XO(this.h),ob(this.s),ob(this.l),$x(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$x(this.opacity);return`${t===1?"hsl(":"hsla("}${XO(this.h)}, ${ob(this.s)*100}%, ${ob(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XO(t){return t=(t||0)%360,t<0?t+360:t}function ob(t){return Math.max(0,Math.min(1,t||0))}function iA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bP=t=>()=>t;function mee(t,e){return function(n){return t+n*e}}function gee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function yee(t){return(t=+t)==1?PD:function(e,n){return n-e?gee(e,n,t):bP(isNaN(e)?n:e)}}function PD(t,e){var n=e-t;return n?mee(t,n):bP(isNaN(t)?e:t)}const YO=function t(e){var n=yee(e);function r(i,o){var a=n((i=US(i)).r,(o=US(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=PD(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function vee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function bee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Tp(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function wee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Aee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Tp(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var HS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oA=new RegExp(HS.source,"g");function See(t){return function(){return t}}function Eee(t){return function(e){return t(e)+""}}function Cee(t,e){var n=HS.lastIndex=oA.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=HS.exec(t))&&(i=oA.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Fx(r,i)})),n=oA.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Eee(l[0].x):See(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)s[(h=l[u]).i]=h.x(c);return s.join("")})}function Tp(t,e){var n=typeof e,r;return e==null||n==="boolean"?bP(e):(n==="number"?Fx:n==="string"?(r=ig(e))?(e=r,YO):Cee:e instanceof ig?YO:e instanceof Date?wee:bee(e)?vee:Array.isArray(e)?xee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Aee:Fx)(t,e)}function xP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _ee(t,e){e===void 0&&(e=t,t=Tp);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Pee(t){return function(){return t}}function Bx(t){return+t}var JO=[0,1];function mr(t){return t}function VS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Pee(isNaN(e)?NaN:.5)}function Tee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kee(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=VS(i,r),o=n(a,o)):(r=VS(r,i),o=n(o,a)),function(s){return o(r(s))}}function Oee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=VS(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Pv(t,s,1,r)-1;return o[l](i[l](s))}}function kv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fw(){var t=JO,e=JO,n=Tp,r,i,o,a=mr,s,l,c;function u(){var f=Math.min(t.length,e.length);return a!==mr&&(a=Tee(t[0],t[f-1])),s=f>2?Oee:kee,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((c||(c=s(e,t.map(r),Fx)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Bx),u()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=xP,u()},h.clamp=function(f){return arguments.length?(a=f?!0:mr,u()):a!==mr},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return r=f,i=p,u()}}function wP(){return Fw()(mr,mr)}function jee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zx(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zf(t){return t=zx(Math.abs(t)),t?t[1]:NaN}function Mee(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Nee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ree=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function og(t){if(!(e=Ree.exec(t)))throw new Error("invalid format: "+t);var e;return new AP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}og.prototype=AP.prototype;function AP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Iee(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var TD;function Dee(t,e){var n=zx(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(TD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zx(t,Math.max(0,e+o-1))[0]}function ZO(t,e){var n=zx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZO(t*100,e),r:ZO,s:Dee,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ej(t){return t}var tj=Array.prototype.map,nj=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Lee(t){var e=t.grouping===void 0||t.thousands===void 0?ej:Mee(tj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ej:Nee(tj.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"âˆ’":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=og(h);var f=h.fill,p=h.align,m=h.sign,g=h.symbol,y=h.zero,b=h.width,w=h.comma,x=h.precision,E=h.trim,A=h.type;A==="n"?(w=!0,A="g"):QO[A]||(x===void 0&&(x=12),E=!0,A="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",_=g==="$"?r:/[%p]/.test(A)?a:"",O=QO[A],M=/[defgprs%]/.test(A);x=x===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function j(N){var R=S,F=_,$,z,L;if(A==="c")F=O(N)+F,N="";else{N=+N;var U=N<0||1/N<0;if(N=isNaN(N)?l:O(Math.abs(N),x),E&&(N=Iee(N)),U&&+N==0&&m!=="+"&&(U=!1),R=(U?m==="("?m:s:m==="-"||m==="("?"":m)+R,F=(A==="s"?nj[8+TD/3]:"")+F+(U&&m==="("?")":""),M){for($=-1,z=N.length;++$<z;)if(L=N.charCodeAt($),48>L||L>57){F=(L===46?i+N.slice($+1):N.slice($))+F,N=N.slice(0,$);break}}}w&&!y&&(N=e(N,1/0));var H=R.length+N.length+F.length,V=H<b?new Array(b-H+1).join(f):"";switch(w&&y&&(N=e(V+N,V.length?b-F.length:1/0),V=""),p){case"<":N=R+N+F+V;break;case"=":N=R+V+N+F;break;case"^":N=V.slice(0,H=V.length>>1)+R+N+F+V.slice(H);break;default:N=V+R+N+F;break}return o(N)}return j.toString=function(){return h+""},j}function u(h,f){var p=c((h=og(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(zf(f)/3)))*3,g=Math.pow(10,-m),y=nj[8+m/3];return function(b){return p(g*b)+y}}return{format:c,formatPrefix:u}}var ab,SP,kD;$ee({thousands:",",grouping:[3],currency:["$",""]});function $ee(t){return ab=Lee(t),SP=ab.format,kD=ab.formatPrefix,ab}function Fee(t){return Math.max(0,-zf(Math.abs(t)))}function Bee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zf(e)/3)))*3-zf(Math.abs(t)))}function zee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zf(e)-zf(t))+1}function OD(t,e,n,r){var i=BS(t,e,n),o;switch(r=og(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Bee(i,a))&&(r.precision=o),kD(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zee(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Fee(i))&&(r.precision=o-(r.type==="%")*2);break}}return SP(r)}function ic(t){var e=t.domain;return t.ticks=function(n){var r=e();return $S(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return OD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=FS(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Ux(){var t=wP();return t.copy=function(){return kv(t,Ux())},Xi.apply(t,arguments),ic(t)}function jD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Bx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jD(t).unknown(e)},t=arguments.length?Array.from(t,Bx):[0,1],ic(n)}function MD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function rj(t){return Math.log(t)}function ij(t){return Math.exp(t)}function Uee(t){return-Math.log(-t)}function Hee(t){return-Math.exp(-t)}function Vee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Wee(t){return t===10?Vee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Gee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oj(t){return(e,n)=>-t(-e,n)}function EP(t){const e=t(rj,ij),n=e.domain;let r=10,i,o;function a(){return i=Gee(r),o=Wee(r),n()[0]<0?(i=oj(i),o=oj(o),t(Uee,Hee)):t(rj,ij),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const h=u<c;h&&([c,u]=[u,c]);let f=i(c),p=i(u),m,g;const y=s==null?10:+s;let b=[];if(!(r%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(m=1;m<r;++m)if(g=f<0?m/o(-f):m*o(f),!(g<c)){if(g>u)break;b.push(g)}}else for(;f<=p;++f)for(m=r-1;m>=1;--m)if(g=f>0?m/o(-f):m*o(f),!(g<c)){if(g>u)break;b.push(g)}b.length*2<y&&(b=$S(c,u,y))}else b=$S(f,p,Math.min(p-f,y)).map(o);return h?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=og(l)).precision==null&&(l.trim=!0),l=SP(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let h=u/o(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=c?l(u):""}},e.nice=()=>n(MD(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function ND(){const t=EP(Fw()).domain([1,10]);return t.copy=()=>kv(t,ND()).base(t.base()),Xi.apply(t,arguments),t}function aj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CP(t){var e=1,n=t(aj(e),sj(e));return n.constant=function(r){return arguments.length?t(aj(e=+r),sj(e)):e},ic(n)}function RD(){var t=CP(Fw());return t.copy=function(){return kv(t,RD()).constant(t.constant())},Xi.apply(t,arguments)}function lj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Kee(t){return t<0?-t*t:t*t}function _P(t){var e=t(mr,mr),n=1;function r(){return n===1?t(mr,mr):n===.5?t(qee,Kee):t(lj(n),lj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ic(e)}function PP(){var t=_P(Fw());return t.copy=function(){return kv(t,PP()).exponent(t.exponent())},Xi.apply(t,arguments),t}function Xee(){return PP.apply(null,arguments).exponent(.5)}function cj(t){return Math.sign(t)*t*t}function Yee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ID(){var t=wP(),e=[0,1],n=!1,r;function i(o){var a=Yee(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(cj(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Bx)).map(cj)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ID(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Xi.apply(i,arguments),ic(i)}function DD(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=tee(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Pv(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Wl),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return DD().domain(t).range(e).unknown(r)},Xi.apply(o,arguments)}function LD(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Pv(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return LD().domain([t,e]).range(i).unknown(o)},Xi.apply(ic(a),arguments)}function $D(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Pv(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return $D().domain(t).range(e).unknown(n)},Xi.apply(i,arguments)}const aA=new Date,sA=new Date;function wn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>wn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(aA.setTime(+o),sA.setTime(+a),t(aA),t(sA),Math.floor(n(aA,sA))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Hx=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Hx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Hx);Hx.range;const cs=1e3,Ui=cs*60,us=Ui*60,xs=us*24,TP=xs*7,uj=xs*30,lA=xs*365,Rc=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*cs)},(t,e)=>(e-t)/cs,t=>t.getUTCSeconds());Rc.range;const kP=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cs)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getMinutes());kP.range;const OP=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ui)},(t,e)=>(e-t)/Ui,t=>t.getUTCMinutes());OP.range;const jP=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cs-t.getMinutes()*Ui)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());jP.range;const MP=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());MP.range;const Ov=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ui)/xs,t=>t.getDate()-1);Ov.range;const Bw=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xs,t=>t.getUTCDate()-1);Bw.range;const FD=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xs,t=>Math.floor(t/xs));FD.range;function fh(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/TP)}const zw=fh(0),Vx=fh(1),Jee=fh(2),Zee=fh(3),Uf=fh(4),Qee=fh(5),ete=fh(6);zw.range;Vx.range;Jee.range;Zee.range;Uf.range;Qee.range;ete.range;function ph(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/TP)}const Uw=ph(0),Wx=ph(1),tte=ph(2),nte=ph(3),Hf=ph(4),rte=ph(5),ite=ph(6);Uw.range;Wx.range;tte.range;nte.range;Hf.range;rte.range;ite.range;const NP=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());NP.range;const RP=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RP.range;const ws=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ws.range;const As=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());As.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});As.range;function BD(t,e,n,r,i,o){const a=[[Rc,1,cs],[Rc,5,5*cs],[Rc,15,15*cs],[Rc,30,30*cs],[o,1,Ui],[o,5,5*Ui],[o,15,15*Ui],[o,30,30*Ui],[i,1,us],[i,3,3*us],[i,6,6*us],[i,12,12*us],[r,1,xs],[r,2,2*xs],[n,1,TP],[e,1,uj],[e,3,3*uj],[t,1,lA]];function s(c,u,h){const f=u<c;f&&([c,u]=[u,c]);const p=h&&typeof h.range=="function"?h:l(c,u,h),m=p?p.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,h){const f=Math.abs(u-c)/h,p=gP(([,,y])=>y).right(a,f);if(p===a.length)return t.every(BS(c/lA,u/lA,h));if(p===0)return Hx.every(Math.max(BS(c,u,h),1));const[m,g]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return m.every(g)}return[s,l]}const[ote,ate]=BD(As,RP,Uw,FD,MP,OP),[ste,lte]=BD(ws,NP,zw,Ov,jP,kP);function cA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Jp(i),u=Zp(i),h=Jp(o),f=Zp(o),p=Jp(a),m=Zp(a),g=Jp(s),y=Zp(s),b=Jp(l),w=Zp(l),x={a:U,A:H,b:V,B:I,c:null,d:gj,e:gj,f:Mte,g:Ute,G:Vte,H:kte,I:Ote,j:jte,L:zD,m:Nte,M:Rte,p:Y,q,Q:bj,s:xj,S:Ite,u:Dte,U:Lte,V:$te,w:Fte,W:Bte,x:null,X:null,y:zte,Y:Hte,Z:Wte,"%":vj},E={a:D,A:oe,b:ve,B:be,c:null,d:yj,e:yj,f:Xte,g:one,G:sne,H:Gte,I:qte,j:Kte,L:HD,m:Yte,M:Jte,p:Z,q:ae,Q:bj,s:xj,S:Zte,u:Qte,U:ene,V:tne,w:nne,W:rne,x:null,X:null,y:ine,Y:ane,Z:lne,"%":vj},A={a:j,A:N,b:R,B:F,c:$,d:pj,e:pj,f:Cte,g:fj,G:dj,H:mj,I:mj,j:wte,L:Ete,m:xte,M:Ate,p:M,q:bte,Q:Pte,s:Tte,S:Ste,u:pte,U:mte,V:gte,w:fte,W:yte,x:z,X:L,y:fj,Y:dj,Z:vte,"%":_te};x.x=S(n,x),x.X=S(r,x),x.c=S(e,x),E.x=S(n,E),E.X=S(r,E),E.c=S(e,E);function S(J,Q){return function(ie){var G=[],ue=-1,ce=0,we=J.length,Pe,Ze,Qt;for(ie instanceof Date||(ie=new Date(+ie));++ue<we;)J.charCodeAt(ue)===37&&(G.push(J.slice(ce,ue)),(Ze=hj[Pe=J.charAt(++ue)])!=null?Pe=J.charAt(++ue):Ze=Pe==="e"?" ":"0",(Qt=Q[Pe])&&(Pe=Qt(ie,Ze)),G.push(Pe),ce=ue+1);return G.push(J.slice(ce,ue)),G.join("")}}function _(J,Q){return function(ie){var G=Yp(1900,void 0,1),ue=O(G,J,ie+="",0),ce,we;if(ue!=ie.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(Q&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(ce=uA(Yp(G.y,0,1)),we=ce.getUTCDay(),ce=we>4||we===0?Wx.ceil(ce):Wx(ce),ce=Bw.offset(ce,(G.V-1)*7),G.y=ce.getUTCFullYear(),G.m=ce.getUTCMonth(),G.d=ce.getUTCDate()+(G.w+6)%7):(ce=cA(Yp(G.y,0,1)),we=ce.getDay(),ce=we>4||we===0?Vx.ceil(ce):Vx(ce),ce=Ov.offset(ce,(G.V-1)*7),G.y=ce.getFullYear(),G.m=ce.getMonth(),G.d=ce.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),we="Z"in G?uA(Yp(G.y,0,1)).getUTCDay():cA(Yp(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(we+5)%7:G.w+G.U*7-(we+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,uA(G)):cA(G)}}function O(J,Q,ie,G){for(var ue=0,ce=Q.length,we=ie.length,Pe,Ze;ue<ce;){if(G>=we)return-1;if(Pe=Q.charCodeAt(ue++),Pe===37){if(Pe=Q.charAt(ue++),Ze=A[Pe in hj?Q.charAt(ue++):Pe],!Ze||(G=Ze(J,ie,G))<0)return-1}else if(Pe!=ie.charCodeAt(G++))return-1}return G}function M(J,Q,ie){var G=c.exec(Q.slice(ie));return G?(J.p=u.get(G[0].toLowerCase()),ie+G[0].length):-1}function j(J,Q,ie){var G=p.exec(Q.slice(ie));return G?(J.w=m.get(G[0].toLowerCase()),ie+G[0].length):-1}function N(J,Q,ie){var G=h.exec(Q.slice(ie));return G?(J.w=f.get(G[0].toLowerCase()),ie+G[0].length):-1}function R(J,Q,ie){var G=b.exec(Q.slice(ie));return G?(J.m=w.get(G[0].toLowerCase()),ie+G[0].length):-1}function F(J,Q,ie){var G=g.exec(Q.slice(ie));return G?(J.m=y.get(G[0].toLowerCase()),ie+G[0].length):-1}function $(J,Q,ie){return O(J,e,Q,ie)}function z(J,Q,ie){return O(J,n,Q,ie)}function L(J,Q,ie){return O(J,r,Q,ie)}function U(J){return a[J.getDay()]}function H(J){return o[J.getDay()]}function V(J){return l[J.getMonth()]}function I(J){return s[J.getMonth()]}function Y(J){return i[+(J.getHours()>=12)]}function q(J){return 1+~~(J.getMonth()/3)}function D(J){return a[J.getUTCDay()]}function oe(J){return o[J.getUTCDay()]}function ve(J){return l[J.getUTCMonth()]}function be(J){return s[J.getUTCMonth()]}function Z(J){return i[+(J.getUTCHours()>=12)]}function ae(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var Q=S(J+="",x);return Q.toString=function(){return J},Q},parse:function(J){var Q=_(J+="",!1);return Q.toString=function(){return J},Q},utcFormat:function(J){var Q=S(J+="",E);return Q.toString=function(){return J},Q},utcParse:function(J){var Q=_(J+="",!0);return Q.toString=function(){return J},Q}}}var hj={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,ute=/^%/,hte=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function dte(t){return t.replace(hte,"\\$&")}function Jp(t){return new RegExp("^(?:"+t.map(dte).join("|")+")","i")}function Zp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fte(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pte(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mte(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gte(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function yte(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function dj(t,e,n){var r=Rn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fj(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bte(t,e,n){var r=Rn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function xte(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pj(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wte(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function mj(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ate(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ste(t,e,n){var r=Rn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ete(t,e,n){var r=Rn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Cte(t,e,n){var r=Rn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _te(t,e,n){var r=ute.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Pte(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Tte(t,e,n){var r=Rn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function gj(t,e){return it(t.getDate(),e,2)}function kte(t,e){return it(t.getHours(),e,2)}function Ote(t,e){return it(t.getHours()%12||12,e,2)}function jte(t,e){return it(1+Ov.count(ws(t),t),e,3)}function zD(t,e){return it(t.getMilliseconds(),e,3)}function Mte(t,e){return zD(t,e)+"000"}function Nte(t,e){return it(t.getMonth()+1,e,2)}function Rte(t,e){return it(t.getMinutes(),e,2)}function Ite(t,e){return it(t.getSeconds(),e,2)}function Dte(t){var e=t.getDay();return e===0?7:e}function Lte(t,e){return it(zw.count(ws(t)-1,t),e,2)}function UD(t){var e=t.getDay();return e>=4||e===0?Uf(t):Uf.ceil(t)}function $te(t,e){return t=UD(t),it(Uf.count(ws(t),t)+(ws(t).getDay()===4),e,2)}function Fte(t){return t.getDay()}function Bte(t,e){return it(Vx.count(ws(t)-1,t),e,2)}function zte(t,e){return it(t.getFullYear()%100,e,2)}function Ute(t,e){return t=UD(t),it(t.getFullYear()%100,e,2)}function Hte(t,e){return it(t.getFullYear()%1e4,e,4)}function Vte(t,e){var n=t.getDay();return t=n>=4||n===0?Uf(t):Uf.ceil(t),it(t.getFullYear()%1e4,e,4)}function Wte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function yj(t,e){return it(t.getUTCDate(),e,2)}function Gte(t,e){return it(t.getUTCHours(),e,2)}function qte(t,e){return it(t.getUTCHours()%12||12,e,2)}function Kte(t,e){return it(1+Bw.count(As(t),t),e,3)}function HD(t,e){return it(t.getUTCMilliseconds(),e,3)}function Xte(t,e){return HD(t,e)+"000"}function Yte(t,e){return it(t.getUTCMonth()+1,e,2)}function Jte(t,e){return it(t.getUTCMinutes(),e,2)}function Zte(t,e){return it(t.getUTCSeconds(),e,2)}function Qte(t){var e=t.getUTCDay();return e===0?7:e}function ene(t,e){return it(Uw.count(As(t)-1,t),e,2)}function VD(t){var e=t.getUTCDay();return e>=4||e===0?Hf(t):Hf.ceil(t)}function tne(t,e){return t=VD(t),it(Hf.count(As(t),t)+(As(t).getUTCDay()===4),e,2)}function nne(t){return t.getUTCDay()}function rne(t,e){return it(Wx.count(As(t)-1,t),e,2)}function ine(t,e){return it(t.getUTCFullYear()%100,e,2)}function one(t,e){return t=VD(t),it(t.getUTCFullYear()%100,e,2)}function ane(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function sne(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Hf(t):Hf.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function lne(){return"+0000"}function vj(){return"%"}function bj(t){return+t}function xj(t){return Math.floor(+t/1e3)}var wh,WD,GD;cne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cne(t){return wh=cte(t),WD=wh.format,wh.parse,GD=wh.utcFormat,wh.utcParse,wh}function une(t){return new Date(t)}function hne(t){return t instanceof Date?+t:+new Date(+t)}function IP(t,e,n,r,i,o,a,s,l,c){var u=wP(),h=u.invert,f=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),w=c("%b %d"),x=c("%B"),E=c("%Y");function A(S){return(l(S)<S?p:s(S)<S?m:a(S)<S?g:o(S)<S?y:r(S)<S?i(S)<S?b:w:n(S)<S?x:E)(S)}return u.invert=function(S){return new Date(h(S))},u.domain=function(S){return arguments.length?f(Array.from(S,hne)):f().map(une)},u.ticks=function(S){var _=f();return t(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?A:c(_)},u.nice=function(S){var _=f();return(!S||typeof S.range!="function")&&(S=e(_[0],_[_.length-1],S??10)),S?f(MD(_,S)):u},u.copy=function(){return kv(u,IP(t,e,n,r,i,o,a,s,l,c))},u}function dne(){return Xi.apply(IP(ste,lte,ws,NP,zw,Ov,jP,kP,Rc,WD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fne(){return Xi.apply(IP(ote,ate,As,RP,Uw,Bw,MP,OP,Rc,GD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hw(){var t=0,e=1,n,r,i,o,a=mr,s=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(s=!!h,c):s},c.interpolator=function(h){return arguments.length?(a=h,c):a};function u(h){return function(f){var p,m;return arguments.length?([p,m]=f,a=h(p,m),c):[a(0),a(1)]}}return c.range=u(Tp),c.rangeRound=u(xP),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function oc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qD(){var t=ic(Hw()(mr));return t.copy=function(){return oc(t,qD())},Rs.apply(t,arguments)}function KD(){var t=EP(Hw()).domain([1,10]);return t.copy=function(){return oc(t,KD()).base(t.base())},Rs.apply(t,arguments)}function XD(){var t=CP(Hw());return t.copy=function(){return oc(t,XD()).constant(t.constant())},Rs.apply(t,arguments)}function DP(){var t=_P(Hw());return t.copy=function(){return oc(t,DP()).exponent(t.exponent())},Rs.apply(t,arguments)}function pne(){return DP.apply(null,arguments).exponent(.5)}function YD(){var t=[],e=mr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Pv(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>eee(t,o/r))},n.copy=function(){return YD(e).domain(t)},Rs.apply(n,arguments)}function Vw(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=mr,u,h=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-o)*(r*g<r*o?s:l),c(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=u(t=+t),o=u(e=+e),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(y){var b,w,x;return arguments.length?([b,w,x]=y,c=_ee(g,[b,w,x]),p):[c(0),c(.5),c(1)]}}return p.range=m(Tp),p.rangeRound=m(xP),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return u=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function JD(){var t=ic(Vw()(mr));return t.copy=function(){return oc(t,JD())},Rs.apply(t,arguments)}function ZD(){var t=EP(Vw()).domain([.1,1,10]);return t.copy=function(){return oc(t,ZD()).base(t.base())},Rs.apply(t,arguments)}function QD(){var t=CP(Vw());return t.copy=function(){return oc(t,QD()).constant(t.constant())},Rs.apply(t,arguments)}function LP(){var t=_P(Vw());return t.copy=function(){return oc(t,LP()).exponent(t.exponent())},Rs.apply(t,arguments)}function mne(){return LP.apply(null,arguments).exponent(.5)}const wj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tg,scaleDiverging:JD,scaleDivergingLog:ZD,scaleDivergingPow:LP,scaleDivergingSqrt:mne,scaleDivergingSymlog:QD,scaleIdentity:jD,scaleImplicit:zS,scaleLinear:Ux,scaleLog:ND,scaleOrdinal:yP,scalePoint:Im,scalePow:PP,scaleQuantile:DD,scaleQuantize:LD,scaleRadial:ID,scaleSequential:qD,scaleSequentialLog:KD,scaleSequentialPow:DP,scaleSequentialQuantile:YD,scaleSequentialSqrt:pne,scaleSequentialSymlog:XD,scaleSqrt:Xee,scaleSymlog:RD,scaleThreshold:$D,scaleTime:dne,scaleUtc:fne,tickFormat:OD},Symbol.toStringTag,{value:"Module"}));var gne=bp;function yne(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!gne(a):n(a,s)))var s=a,l=o}return l}var Ww=yne;function vne(t,e){return t>e}var eL=vne,bne=Ww,xne=eL,wne=Pp;function Ane(t){return t&&t.length?bne(t,wne,xne):void 0}var Sne=Ane;const Ul=at(Sne);function Ene(t,e){return t<e}var tL=Ene,Cne=Ww,_ne=tL,Pne=Pp;function Tne(t){return t&&t.length?Cne(t,Pne,_ne):void 0}var kne=Tne;const Gw=at(kne);var One=Z_,jne=ga,Mne=cD,Nne=Ir;function Rne(t,e){var n=Nne(t)?One:Mne;return n(t,jne(e))}var Ine=Rne,Dne=sD,Lne=Ine;function $ne(t,e){return Dne(Lne(t,e),1)}var Fne=$ne;const Bne=at(Fne);var zne=dP;function Une(t,e){return zne(t,e)}var Hne=Une;const Kl=at(Hne);var kp=1e9,Vne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FP,Bt=!0,Vi="[DecimalError] ",Zu=Vi+"Invalid argument: ",$P=Vi+"Exponent out of range: ",Op=Math.floor,xc=Math.pow,Wne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi,On=1e7,It=7,nL=9007199254740991,Gx=Op(nL/It),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*It;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};pe.dividedBy=pe.div=function(t){return ps(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,n=e.constructor;return At(ps(e,new n(t),0,1),n.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return un(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(hi))throw Error(Vi+"NaN");if(n.s<1)throw Error(Vi+(n.s?"NaN":"-Infinity"));return n.eq(hi)?new r(0):(Bt=!1,e=ps(ag(n,o),ag(t,o),o),Bt=!0,At(e,i))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oL(e,t):rL(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Vi+"NaN");return n.s?(Bt=!1,e=ps(n,t,0,1).times(t),Bt=!0,n.minus(e)):At(new r(n),i)};pe.naturalExponential=pe.exp=function(){return iL(this)};pe.naturalLogarithm=pe.ln=function(){return ag(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rL(e,t):oL(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zu+t);if(e=un(i)+1,r=i.d.length-1,n=r*It+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};pe.squareRoot=pe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Vi+"NaN")}for(t=un(s),Bt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=aa(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Op((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(ps(s,o,a+2)).times(.5),aa(o.d).slice(0,a)===(e=aa(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(At(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Bt=!0,At(r,n)};pe.times=pe.mul=function(t){var e,n,r,i,o,a,s,l,c,u=this,h=u.constructor,f=u.d,p=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=p.length,l<c&&(o=f,f=p,p=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*f[i-r-1]+e,o[i--]=s%On|0,e=s/On|0;o[i]=(o[i]+e)%On|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Bt?At(t,h.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(da(t,0,kp),e===void 0?e=r.rounding:da(e,0,8),At(n,t+un(n)+1,e))};pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=rh(r,!0):(da(t,0,kp),e===void 0?e=i.rounding:da(e,0,8),r=At(new i(r),t+1,e),n=rh(r,!0,t+1)),n};pe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?rh(i):(da(t,0,kp),e===void 0?e=o.rounding:da(e,0,8),r=At(new o(i),t+un(i)+1,e),n=rh(r.abs(),!1,t+un(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return At(new e(t),un(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(hi);if(s=new l(s),!s.s){if(t.s<1)throw Error(Vi+"Infinity");return s}if(s.eq(hi))return s;if(r=l.precision,t.eq(hi))return At(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=u<0?-u:u)<=nL){for(i=new l(hi),e=Math.ceil(r/It+4),Bt=!1;n%2&&(i=i.times(s),Sj(i.d,e)),n=Op(n/2),n!==0;)s=s.times(s),Sj(s.d,e);return Bt=!0,t.s<0?new l(hi).div(i):At(i,r)}}else if(o<0)throw Error(Vi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Bt=!1,i=t.times(ag(s,r+c)),Bt=!0,i=iL(i),i.s=o,i};pe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=un(i),r=rh(i,n<=o.toExpNeg||n>=o.toExpPos)):(da(t,1,kp),e===void 0?e=o.rounding:da(e,0,8),i=At(new o(i),t,e),n=un(i),r=rh(i,t<=n||n<=o.toExpNeg,t)),r};pe.toSignificantDigits=pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(da(t,1,kp),e===void 0?e=r.rounding:da(e,0,8)),At(new r(n),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=un(t),n=t.constructor;return rh(t,e<=n.toExpNeg||e>=n.toExpPos)};function rL(t,e){var n,r,i,o,a,s,l,c,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Bt?At(e,h):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(h/It),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/On|0,l[o]%=On;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Bt?At(e,h):e}function da(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Zu+t)}function aa(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=It-r.length,n&&(o+=Vs(n)),o+=r;a=t[e],r=a+"",n=It-r.length,n&&(o+=Vs(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ps=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%On|0,a=o/On|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*On+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,h,f,p,m,g,y,b,w,x,E,A,S,_,O,M=r.constructor,j=r.s==i.s?1:-1,N=r.d,R=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Vi+"Division by zero");for(l=r.e-i.e,_=R.length,A=N.length,p=new M(j),m=p.d=[],c=0;R[c]==(N[c]||0);)++c;if(R[c]>(N[c]||0)&&--l,o==null?w=o=M.precision:a?w=o+(un(r)-un(i))+1:w=o,w<0)return new M(0);if(w=w/It+2|0,c=0,_==1)for(u=0,R=R[0],w++;(c<A||u)&&w--;c++)x=u*On+(N[c]||0),m[c]=x/R|0,u=x%R|0;else{for(u=On/(R[0]+1)|0,u>1&&(R=t(R,u),N=t(N,u),_=R.length,A=N.length),E=_,g=N.slice(0,_),y=g.length;y<_;)g[y++]=0;O=R.slice(),O.unshift(0),S=R[0],R[1]>=On/2&&++S;do u=0,s=e(R,g,_,y),s<0?(b=g[0],_!=y&&(b=b*On+(g[1]||0)),u=b/S|0,u>1?(u>=On&&(u=On-1),h=t(R,u),f=h.length,y=g.length,s=e(h,g,f,y),s==1&&(u--,n(h,_<f?O:R,f))):(u==0&&(s=u=1),h=R.slice()),f=h.length,f<y&&h.unshift(0),n(g,h,y),s==-1&&(y=g.length,s=e(R,g,_,y),s<1&&(u++,n(g,_<y?O:R,y))),y=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[y++]=N[E]||0:(g=[N[E]],y=1);while((E++<A||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,At(p,a?o+un(p)+1:o)}}();function iL(t,e){var n,r,i,o,a,s,l=0,c=0,u=t.constructor,h=u.precision;if(un(t)>16)throw Error($P+un(t));if(!t.s)return new u(hi);for(Bt=!1,s=h,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(xc(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u(hi),u.precision=s;;){if(i=At(i.times(t),s),n=n.times(++l),a=o.plus(ps(i,n,s)),aa(a.d).slice(0,s)===aa(o.d).slice(0,s)){for(;c--;)o=At(o.times(o),s);return u.precision=h,e==null?(Bt=!0,At(o,h)):o}o=a}}function un(t){for(var e=t.e*It,n=t.d[0];n>=10;n/=10)e++;return e}function hA(t,e,n){if(e>t.LN10.sd())throw Bt=!0,n&&(t.precision=n),Error(Vi+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function Vs(t){for(var e="";t--;)e+="0";return e}function ag(t,e){var n,r,i,o,a,s,l,c,u,h=1,f=10,p=t,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Vi+(p.s?"NaN":"-Infinity"));if(p.eq(hi))return new g(0);if(e==null?(Bt=!1,c=y):c=e,p.eq(10))return e==null&&(Bt=!0),hA(g,c);if(c+=f,g.precision=c,n=aa(m),r=n.charAt(0),o=un(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=aa(p.d),r=n.charAt(0),h++;o=un(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=hA(g,c+2,y).times(o+""),p=ag(new g(r+"."+n.slice(1)),c-f).plus(l),g.precision=y,e==null?(Bt=!0,At(p,y)):p;for(s=a=p=ps(p.minus(hi),p.plus(hi),c),u=At(p.times(p),c),i=3;;){if(a=At(a.times(u),c),l=s.plus(ps(a,new g(i),c)),aa(l.d).slice(0,c)===aa(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(hA(g,c+2,y).times(o+""))),s=ps(s,new g(h),c),g.precision=y,e==null?(Bt=!0,At(s,y)):s;s=l,i+=2}}function Aj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Op(n/It),t.d=[],r=(n+1)%It,n<0&&(r+=It),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=It;r<i;)t.d.push(+e.slice(r,r+=It));e=e.slice(r),r=It-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Bt&&(t.e>Gx||t.e<-Gx))throw Error($P+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,o,a,s,l,c,u,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=It,i=e,c=h[u=0];else{if(u=Math.ceil((r+1)/It),o=h.length,u>=o)return t;for(c=o=h[u],a=1;o>=10;o/=10)a++;r%=It,i=r-It+a}if(n!==void 0&&(o=xc(10,a-i-1),s=c/o%10|0,l=e<0||h[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/xc(10,a-i):0:h[u-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(o=un(t),h.length=1,e=e-o-1,h[0]=xc(10,(It-e%It)%It),t.e=Op(-e/It)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=u,o=1,u--):(h.length=u+1,o=xc(10,It-r),h[u]=i>0?(c/xc(10,a-i)%xc(10,i)|0)*o:0),l)for(;;)if(u==0){(h[0]+=o)==On&&(h[0]=1,++t.e);break}else{if(h[u]+=o,h[u]!=On)break;h[u--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(Bt&&(t.e>Gx||t.e<-Gx))throw Error($P+un(t));return t}function oL(t,e){var n,r,i,o,a,s,l,c,u,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Bt?At(e,p):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=h.length):(n=h,r=c,s=l.length),i=Math.max(Math.ceil(p/It),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=h.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){u=l[i]<h[i];break}a=0}for(u&&(n=l,l=h,h=n,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=On-1;--l[o],l[i]+=On}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Bt?At(e,p):e):new f(0)}function rh(t,e,n){var r,i=un(t),o=aa(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Vs(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Vs(-i-1)+o,n&&(r=n-a)>0&&(o+=Vs(r))):i>=a?(o+=Vs(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Vs(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Vs(r))),t.s<0?"-"+o:o}function Sj(t,e){if(t.length>e)return t.length=e,!0}function aL(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Zu+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return Aj(a,o.toString())}else if(typeof o!="string")throw Error(Zu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Wne.test(o))Aj(a,o);else throw Error(Zu+o)}if(i.prototype=pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aL,i.config=i.set=Gne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Gne(t){if(!t||typeof t!="object")throw Error(Vi+"Object expected");var e,n,r,i=["precision",1,kp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Op(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Zu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zu+n+": "+r);return this}var FP=aL(Vne);hi=new FP(1);const gt=FP;function qne(t){return Jne(t)||Yne(t)||Xne(t)||Kne()}function Kne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xne(t,e){if(t){if(typeof t=="string")return WS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WS(t,e)}}function Yne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Jne(t){if(Array.isArray(t))return WS(t)}function WS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zne=function(e){return e},sL={},lL=function(e){return e===sL},Ej=function(e){return function n(){return arguments.length===0||arguments.length===1&&lL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Qne=function t(e,n){return e===1?n:Ej(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==sL}).length;return a>=e?n.apply(void 0,i):t(e-a,Ej(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(h){return lL(h)?l.shift():h});return n.apply(void 0,qne(u).concat(l))}))})},qw=function(e){return Qne(e.length,e)},GS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},ere=qw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),tre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Zne;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},qS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function nre(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function rre(t,e,n){for(var r=new gt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var ire=qw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),ore=qw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),are=qw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Kw={rangeStep:rre,getDigitCount:nre,interpolateNumber:ire,uninterpolateNumber:ore,uninterpolateTruncation:are};function KS(t){return cre(t)||lre(t)||uL(t)||sre()}function sre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lre(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cre(t){if(Array.isArray(t))return XS(t)}function sg(t,e){return dre(t)||hre(t,e)||uL(t,e)||ure()}function ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uL(t,e){if(t){if(typeof t=="string")return XS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XS(t,e)}}function XS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hre(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function dre(t){if(Array.isArray(t))return t}function hL(t){var e=sg(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function dL(t,e,n){if(t.lte(0))return new gt(0);var r=Kw.getDigitCount(t.toNumber()),i=new gt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new gt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new gt(Math.ceil(l))}function fre(t,e,n){var r=1,i=new gt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new gt(10).pow(Kw.getDigitCount(t)-1),i=new gt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new gt(Math.floor(t)))}else t===0?i=new gt(Math.floor((e-1)/2)):n||(i=new gt(Math.floor(t)));var a=Math.floor((e-1)/2),s=tre(ere(function(l){return i.add(new gt(l-a).mul(r)).toNumber()}),GS);return s(0,e)}function fL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var o=dL(new gt(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new gt(0):(a=new gt(t).add(e).div(2),a=a.sub(new gt(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new gt(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?fL(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new gt(s).mul(o)),tickMax:a.add(new gt(l).mul(o))})}function pre(t){var e=sg(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=hL([n,r]),l=sg(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var h=u===1/0?[c].concat(KS(GS(0,i-1).map(function(){return 1/0}))):[].concat(KS(GS(0,i-1).map(function(){return-1/0})),[u]);return n>r?qS(h):h}if(c===u)return fre(c,i,o);var f=fL(c,u,a,o),p=f.step,m=f.tickMin,g=f.tickMax,y=Kw.rangeStep(m,g.add(new gt(.1).mul(p)),p);return n>r?qS(y):y}function mre(t,e){var n=sg(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=hL([r,i]),s=sg(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),h=dL(new gt(c).sub(l).div(u-1),o,0),f=[].concat(KS(Kw.rangeStep(new gt(l),new gt(c).sub(new gt(.99).mul(h)),h)),[c]);return r>i?qS(f):f}var gre=cL(pre),yre=cL(mre),vre="Invariant failed";function Ye(t,e){if(!t)throw new Error(vre)}var bre=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(this,arguments)}function xre(t,e){return Ere(t)||Sre(t,e)||Are(t,e)||wre()}function wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return Cj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cj(t,e)}}function Cj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ere(t){if(Array.isArray(t))return t}function Cre(t,e){if(t==null)return{};var n=_re(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _re(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gL(r.key),r)}}function kre(t,e,n){return e&&Tre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ore(t,e,n){return e=Kx(e),jre(t,pL()?Reflect.construct(e,n||[],Kx(t).constructor):e.apply(t,n))}function jre(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mre(t)}function Mre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pL=function(){return!!t})()}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(t)}function Nre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YS(t,e)}function mL(t,e,n){return e=gL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gL(t){var e=Rre(t,"string");return Vf(e)=="symbol"?e:e+""}function Rre(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jp=function(t){function e(){return Pre(this,e),Ore(this,e,arguments)}return Nre(e,t),kre(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,h=r.yAxis,f=Cre(r,bre),p=ye(f,!1);this.props.direction==="x"&&u.type!=="number"&&Ye(!1);var m=l.map(function(g){var y=c(g,s),b=y.x,w=y.y,x=y.value,E=y.errorVal;if(!E)return null;var A=[],S,_;if(Array.isArray(E)){var O=xre(E,2);S=O[0],_=O[1]}else S=_=E;if(o==="vertical"){var M=u.scale,j=w+i,N=j+a,R=j-a,F=M(x-S),$=M(x+_);A.push({x1:$,y1:N,x2:$,y2:R}),A.push({x1:F,y1:j,x2:$,y2:j}),A.push({x1:F,y1:N,x2:F,y2:R})}else if(o==="horizontal"){var z=h.scale,L=b+i,U=L-a,H=L+a,V=z(x-S),I=z(x+_);A.push({x1:U,y1:I,x2:H,y2:I}),A.push({x1:L,y1:V,x2:L,y2:I}),A.push({x1:U,y1:V,x2:H,y2:V})}return B.createElement(De,qx({className:"recharts-errorBar",key:"bar-".concat(A.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),A.map(function(Y){return B.createElement("line",qx({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return B.createElement(De,{className:"recharts-errorBars"},m)}}])}(B.Component);mL(jp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mL(jp,"displayName","ErrorBar");function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dre(t){var e=Lre(t,"string");return lg(e)=="symbol"?e:e+""}function Lre(t,e){if(lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=si(n,vr);if(!a)return null;var s=vr.defaultProps,l=s!==void 0?hc(hc({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,h){var f=h.item,p=h.props,m=p.sectors||p.data||[];return u.concat(m.map(function(g){return{type:a.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(u){var h=u.item,f=h.type.defaultProps,p=f!==void 0?hc(hc({},f),h.props):{},m=p.dataKey,g=p.name,y=p.legendType,b=p.hide;return{inactive:b,dataKey:m,type:l.iconType||y||"square",color:BP(h),value:g||m,payload:p}}),hc(hc(hc({},l),vr.getWithHeight(a,i)),{},{payload:c,item:a})};function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function Pj(t){return zre(t)||Bre(t)||Fre(t)||$re()}function $re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fre(t,e){if(t){if(typeof t=="string")return JS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JS(t,e)}}function Bre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zre(t){if(Array.isArray(t))return JS(t)}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){nd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nd(t,e,n){return e=Ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Hre(t,"string");return cg(e)=="symbol"?e:e+""}function Hre(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dt(t,e,n){return Ee(t)||Ee(e)?n:bn(e)?di(t,e,n):Ce(e)?e(t):n}function Dm(t,e,n,r){var i=Bne(t,function(s){return Dt(s,e)});if(n==="number"){var o=i.filter(function(s){return te(s)||parseFloat(s)});return o.length?[Gw(o),Ul(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ee(s)}):i;return a.map(function(s){return bn(s)||s instanceof Date?s:""})}var Vre=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,h=i[c].coordinate,f=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(fr(h-u)!==fr(f-h)){var m=[];if(fr(f-h)===fr(l[1]-l[0])){p=f;var g=h+l[1]-l[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var y=f+l[1]-l[0];m[0]=Math.min(h,(y+h)/2),m[1]=Math.max(h,(y+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){a=i[c].index;break}}else{var w=Math.min(u,f),x=Math.max(u,f);if(e>(w+h)/2&&e<=(x+h)/2){a=i[c].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},BP=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Wre=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,h=Object.keys(u),f=0,p=h.length;f<p;f++){var m=u[h[f]],g=m.items,y=m.cateAxisId,b=g.filter(function(_){return ds(_.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,x=w!==void 0?Zt(Zt({},w),b[0].props):b[0].props,E=x.barSize,A=x[y];a[A]||(a[A]=[]);var S=Ee(E)?n:E;a[A].push({item:b[0],stackList:b.slice(1),barSize:Ee(S)?void 0:pr(S,r,0)})}}return a},Gre=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=pr(n,i,0,!0),u,h=[];if(a[0].barSize===+a[0].barSize){var f=!1,p=i/l,m=a.reduce(function(E,A){return E+A.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(f=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,y={offset:g-c,size:0};u=a.reduce(function(E,A){var S={item:A.item,position:{offset:y.offset+y.size+c,size:f?p:A.barSize}},_=[].concat(Pj(E),[S]);return y=_[_.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(O){_.push({item:O,position:y})}),_},h)}else{var b=pr(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var w=(i-2*b-(l-1)*c)/l;w>1&&(w>>=0);var x=s===+s?Math.min(w,s):w;u=a.reduce(function(E,A,S){var _=[].concat(Pj(E),[{item:A.item,position:{offset:b+(w+c)*S+(w-x)/2,size:x}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(O){_.push({item:O,position:_[_.length-1].position})}),_},h)}return u},qre=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=yL({children:o,legendWidth:l});if(c){var u=i||{},h=u.width,f=u.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&te(e[p]))return Zt(Zt({},e),{},nd({},p,e[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&te(e[m]))return Zt(Zt({},e),{},nd({},m,e[m]+(f||0)))}return e},Kre=function(e,n,r){return Ee(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},vL=function(e,n,r,i,o){var a=n.props.children,s=yr(a,jp).filter(function(c){return Kre(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var h=Dt(u,r);if(Ee(h))return c;var f=Array.isArray(h)?[Gw(h),Ul(h)]:[h,h],p=l.reduce(function(m,g){var y=Dt(u,g,0),b=f[0]-Math.abs(Array.isArray(y)?y[0]:y),w=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Xre=function(e,n,r,i,o){var a=n.map(function(s){return vL(e,s,r,o,i)}).filter(function(s){return!Ee(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},bL=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&vL(e,l,c,i)||Dm(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,h=c.length;u<h;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},xL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wL=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},hs=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?fr(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var f=o?o.indexOf(h):h;return{coordinate:i(f)+c,value:h,offset:c}});return u.filter(function(h){return!Ep(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+c,value:h,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,f){return{coordinate:i(h)+c,value:o?o[h]:h,index:f,offset:c}})},dA=new WeakMap,sb=function(e,n){if(typeof n!="function")return e;dA.has(e)||dA.set(e,new WeakMap);var r=dA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},AL=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:tg(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Ux(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Im(),realScaleType:"point"}:o==="category"?{scale:tg(),realScaleType:"band"}:{scale:Ux(),realScaleType:"linear"};if(th(i)){var l="scale".concat(jw(i));return{scale:(wj[l]||Im)(),realScaleType:wj[l]?l:"point"}}return Ce(i)?{scale:i}:{scale:Im(),realScaleType:"point"}},kj=1e-4,SL=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-kj,a=Math.max(i[0],i[1])+kj,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Yre=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Jre=function(e,n){if(!n||n.length!==2||!te(n[0])||!te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(o[0]=r),(!te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Zre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Ep(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Qre=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Ep(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},eie={sign:Zre,expand:bG,none:Df,silhouette:xG,wiggle:wG,positive:Qre},tie=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=eie[r],a=vG().keys(i).value(function(s,l){return+Dt(s,l,0)}).order(AS).offset(o);return a(e)},nie=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(h,f){var p,m=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Zt(Zt({},f.type.defaultProps),f.props):f.props,g=m.stackId,y=m.hide;if(y)return h;var b=m[r],w=h[b]||{hasStack:!1,stackGroups:{}};if(bn(g)){var x=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(f),w.hasStack=!0,w.stackGroups[g]=x}else w.stackGroups[rc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Zt(Zt({},h),{},nd({},b,w))},l),u={};return Object.keys(c).reduce(function(h,f){var p=c[f];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var b=p.stackGroups[y];return Zt(Zt({},g),{},nd({},y,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:tie(e,b.items,o)}))},m)}return Zt(Zt({},h),{},nd({},f,p))},u)},EL=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=gre(c,o,s);return e.domain([Gw(u),Ul(u)]),{niceTicks:u}}if(o&&i==="number"){var h=e.domain(),f=yre(h,o,s);return{niceTicks:f}}return null};function Wf(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ee(i[e.dataKey])){var s=wx(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Dt(i,Ee(a)?e.dataKey:a);return Ee(l)?null:e.scale(l)}var Oj=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Dt(a,n.dataKey,n.domain[s]);return Ee(l)?null:n.scale(l)-o/2+i},rie=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},iie=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(bn(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},oie=function(e){return e.reduce(function(n,r){return[Gw(r.concat([n[0]]).filter(te)),Ul(r.concat([n[1]]).filter(te))]},[1/0,-1/0])},CL=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,u){var h=oie(u.slice(n,r+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},jj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZS=function(e,n,r){if(Ce(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(jj.test(e[0])){var o=+jj.exec(e[0])[1];i[0]=n[0]-o}else Ce(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Mj.test(e[1])){var a=+Mj.exec(e[1])[1];i[1]=n[1]+a}else Ce(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Xx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=pP(n,function(h){return h.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Nj=function(e,n,r){return!e||!e.length||Kl(e,di(r,"type.defaultProps.domain"))?n:e},_L=function(e,n){var r=e.type.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Zt(Zt({},ye(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:BP(e),value:Dt(n,i),type:l,payload:n,chartType:c,hide:u})};function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){PL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PL(t,e,n){return e=aie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t){var e=sie(t,"string");return ug(e)=="symbol"?e:e+""}function sie(t,e){if(ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lie(t,e){return die(t)||hie(t,e)||uie(t,e)||cie()}function cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uie(t,e){if(t){if(typeof t=="string")return Ij(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ij(t,e)}}function Ij(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function die(t){if(Array.isArray(t))return t}var Yx=Math.PI/180,fie=function(e){return e*180/Math.PI},Ot=function(e,n,r,i){return{x:e+Math.cos(-Yx*i)*r,y:n+Math.sin(-Yx*i)*r}},TL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},pie=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=pr(e.cx,a,a/2),h=pr(e.cy,s,s/2),f=TL(a,s,r),p=pr(e.innerRadius,f,0),m=pr(e.outerRadius,f,f*.8),g=Object.keys(n);return g.reduce(function(y,b){var w=n[b],x=w.domain,E=w.reversed,A;if(Ee(w.range))i==="angleAxis"?A=[l,c]:i==="radiusAxis"&&(A=[p,m]),E&&(A=[A[1],A[0]]);else{A=w.range;var S=A,_=lie(S,2);l=_[0],c=_[1]}var O=AL(w,o),M=O.realScaleType,j=O.scale;j.domain(x).range(A),SL(j);var N=EL(j,_a(_a({},w),{},{realScaleType:M})),R=_a(_a(_a({},w),N),{},{range:A,radius:m,realScaleType:M,scale:j,cx:u,cy:h,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return _a(_a({},y),{},PL({},b,R))},{})},mie=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},gie=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=mie({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:fie(c),angleInRadian:c}},yie=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},vie=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},Dj=function(e,n){var r=e.x,i=e.y,o=gie({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=yie(n),h=u.startAngle,f=u.endAngle,p=s,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?_a(_a({},n),{},{radius:a,angle:vie(p,n)}):null},kL=function(e){return!P.isValidElement(e)&&!Ce(e)&&typeof e!="boolean"?e.className:""};function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}var bie=["offset"];function xie(t){return Eie(t)||Sie(t)||Aie(t)||wie()}function wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(t,e){if(t){if(typeof t=="string")return QS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QS(t,e)}}function Sie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eie(t){if(Array.isArray(t))return QS(t)}function QS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cie(t,e){if(t==null)return{};var n=_ie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){Pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pie(t,e,n){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tie(t){var e=kie(t,"string");return hg(e)=="symbol"?e:e+""}function kie(t,e){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}var Oie=function(e){var n=e.value,r=e.formatter,i=Ee(e.children)?n:e.children;return Ce(r)?r(i):i},jie=function(e,n){var r=fr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Mie=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,u=l.cy,h=l.innerRadius,f=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,y=(h+f)/2,b=jie(p,m),w=b>=0?1:-1,x,E;i==="insideStart"?(x=p+w*a,E=g):i==="insideEnd"?(x=m-w*a,E=!g):i==="end"&&(x=m+w*a,E=g),E=b<=0?E:!E;var A=Ot(c,u,y,x),S=Ot(c,u,y,x+(E?1:-1)*359),_="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(S.x,",").concat(S.y),O=Ee(e.id)?rc("recharts-radial-line-"):e.id;return B.createElement("text",dg({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",s)}),B.createElement("defs",null,B.createElement("path",{id:O,d:_})),B.createElement("textPath",{xlinkHref:"#".concat(O)},n))},Nie=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,h=o.endAngle,f=(u+h)/2;if(i==="outside"){var p=Ot(a,s,c+r,f),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,b=Ot(a,s,y,f),w=b.x,x=b.y;return{x:w,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Rie=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,u=a.height,h=u>=0?1:-1,f=h*i,p=h>0?"end":"start",m=h>0?"start":"end",g=c>=0?1:-1,y=g*i,b=g>0?"end":"start",w=g>0?"start":"end";if(o==="top"){var x={x:s+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:p};return mn(mn({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var E={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return mn(mn({},E),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var A={x:s-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return mn(mn({},A),r?{width:Math.max(A.x-r.x,0),height:u}:{})}if(o==="right"){var S={x:s+c+y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return mn(mn({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return o==="insideLeft"?mn({x:s+y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},_):o==="insideRight"?mn({x:s+c-y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):o==="insideTop"?mn({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},_):o==="insideBottom"?mn({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:p},_):o==="insideTopLeft"?mn({x:s+y,y:l+f,textAnchor:w,verticalAnchor:m},_):o==="insideTopRight"?mn({x:s+c-y,y:l+f,textAnchor:b,verticalAnchor:m},_):o==="insideBottomLeft"?mn({x:s+y,y:l+u-f,textAnchor:w,verticalAnchor:p},_):o==="insideBottomRight"?mn({x:s+c-y,y:l+u-f,textAnchor:b,verticalAnchor:p},_):xp(o)&&(te(o.x)||Mc(o.x))&&(te(o.y)||Mc(o.y))?mn({x:s+pr(o.x,c),y:l+pr(o.y,u),textAnchor:"end",verticalAnchor:"end"},_):mn({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Iie=function(e){return"cx"in e&&te(e.cx)};function Mn(t){var e=t.offset,n=e===void 0?5:e,r=Cie(t,bie),i=mn({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,h=u===void 0?"":u,f=i.textBreakAll;if(!o||Ee(s)&&Ee(l)&&!P.isValidElement(c)&&!Ce(c))return null;if(P.isValidElement(c))return P.cloneElement(c,i);var p;if(Ce(c)){if(p=P.createElement(c,i),P.isValidElement(p))return p}else p=Oie(i);var m=Iie(o),g=ye(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Mie(i,p,g);var y=m?Nie(i):Rie(i);return B.createElement(nh,dg({className:ke("recharts-label",h)},g,y,{breakAll:f}),p)}Mn.displayName="Label";var OL=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,h=e.x,f=e.y,p=e.top,m=e.left,g=e.width,y=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(te(g)&&te(y)){if(te(h)&&te(f))return{x:h,y:f,width:g,height:y};if(te(p)&&te(m))return{x:p,y:m,width:g,height:y}}return te(h)&&te(f)?{x:h,y:f,width:0,height:0}:te(n)&&te(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},Die=function(e,n){return e?e===!0?B.createElement(Mn,{key:"label-implicit",viewBox:n}):bn(e)?B.createElement(Mn,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===Mn?P.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(Mn,{key:"label-implicit",content:e,viewBox:n}):Ce(e)?B.createElement(Mn,{key:"label-implicit",content:e,viewBox:n}):xp(e)?B.createElement(Mn,dg({viewBox:n},e,{key:"label-implicit"})):null:null},Lie=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=OL(e),a=yr(i,Mn).map(function(l,c){return P.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=Die(e.label,n||o);return[s].concat(xie(a))};Mn.parseViewBox=OL;Mn.renderCallByParent=Lie;function $ie(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Fie=$ie;const Bie=at(Fie);function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}var zie=["valueAccessor"],Uie=["data","dataKey","clockWise","id","textBreakAll"];function Hie(t){return qie(t)||Gie(t)||Wie(t)||Vie()}function Vie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wie(t,e){if(t){if(typeof t=="string")return eE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(t,e)}}function Gie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qie(t){if(Array.isArray(t))return eE(t)}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(this,arguments)}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){Kie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kie(t,e,n){return e=Xie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xie(t){var e=Yie(t,"string");return fg(e)=="symbol"?e:e+""}function Yie(t,e){if(fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bj(t,e){if(t==null)return{};var n=Jie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zie=function(e){return Array.isArray(e.value)?Bie(e.value):e.value};function bo(t){var e=t.valueAccessor,n=e===void 0?Zie:e,r=Bj(t,zie),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=Bj(r,Uie);return!i||!i.length?null:B.createElement(De,{className:"recharts-label-list"},i.map(function(u,h){var f=Ee(o)?n(u,h):Dt(u&&u.payload,o),p=Ee(s)?{}:{id:"".concat(s,"-").concat(h)};return B.createElement(Mn,Jx({},ye(u,!0),c,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:Mn.parseViewBox(Ee(a)?u:Fj(Fj({},u),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}bo.displayName="LabelList";function Qie(t,e){return t?t===!0?B.createElement(bo,{key:"labelList-implicit",data:e}):B.isValidElement(t)||Ce(t)?B.createElement(bo,{key:"labelList-implicit",data:e,content:t}):xp(t)?B.createElement(bo,Jx({data:e},t,{key:"labelList-implicit"})):null:null}function eoe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=yr(r,bo).map(function(a,s){return P.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Qie(t.label,e);return[o].concat(Hie(i))}bo.renderCallByParent=eoe;function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){toe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function toe(t,e,n){return e=noe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function noe(t){var e=roe(t,"string");return pg(e)=="symbol"?e:e+""}function roe(t,e){if(pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ioe=function(e,n){var r=fr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},lb=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,h=Math.asin(l/u)/Yx,f=c?o:o+a*h,p=Ot(n,r,u,f),m=Ot(n,r,i,f),g=c?o-a*h:o,y=Ot(n,r,u*Math.cos(h*Yx),g);return{center:p,circleTangency:m,lineTangency:y,theta:h}},jL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=ioe(a,s),c=a+l,u=Ot(n,r,o,a),h=Ot(n,r,o,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ot(n,r,i,a),m=Ot(n,r,i,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},ooe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,h=fr(u-c),f=lb({cx:n,cy:r,radius:o,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),p=f.circleTangency,m=f.lineTangency,g=f.theta,y=lb({cx:n,cy:r,radius:o,angle:u,sign:-h,cornerRadius:a,cornerIsExternal:l}),b=y.circleTangency,w=y.lineTangency,x=y.theta,E=l?Math.abs(c-u):Math.abs(c-u)-g-x;if(E<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):jL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var A="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var S=lb({cx:n,cy:r,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),_=S.circleTangency,O=S.lineTangency,M=S.theta,j=lb({cx:n,cy:r,radius:i,angle:u,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=j.circleTangency,R=j.lineTangency,F=j.theta,$=l?Math.abs(c-u):Math.abs(c-u)-M-F;if($<0&&a===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},aoe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ML=function(e){var n=Uj(Uj({},aoe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,h=n.endAngle,f=n.className;if(a<o||u===h)return null;var p=ke("recharts-sector",f),m=a-o,g=pr(s,m,0,!0),y;return g>0&&Math.abs(u-h)<360?y=ooe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):y=jL({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:h}),B.createElement("path",tE({},ye(n,!0),{className:p,d:y,role:"img"}))};function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(n),!0).forEach(function(r){soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function soe(t,e,n){return e=loe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function loe(t){var e=coe(t,"string");return mg(e)=="symbol"?e:e+""}function coe(t,e){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wj={curveBasisClosed:sG,curveBasisOpen:lG,curveBasis:aG,curveBumpX:G8,curveBumpY:q8,curveLinearClosed:cG,curveLinear:Nw,curveMonotoneX:uG,curveMonotoneY:hG,curveNatural:dG,curveStep:fG,curveStepAfter:mG,curveStepBefore:pG},cb=function(e){return e.x===+e.x&&e.y===+e.y},Qp=function(e){return e.x},em=function(e){return e.y},uoe=function(e,n){if(Ce(e))return e;var r="curve".concat(jw(e));return(r==="curveMonotone"||r==="curveBump")&&n?Wj["".concat(r).concat(n==="vertical"?"Y":"X")]:Wj[r]||Nw},hoe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=uoe(r,s),h=c?o.filter(function(g){return cb(g)}):o,f;if(Array.isArray(a)){var p=c?a.filter(function(g){return cb(g)}):a,m=h.map(function(g,y){return Vj(Vj({},g),{},{base:p[y]})});return s==="vertical"?f=Qv().y(em).x1(Qp).x0(function(g){return g.base.x}):f=Qv().x(Qp).y1(em).y0(function(g){return g.base.y}),f.defined(cb).curve(u),f(m)}return s==="vertical"&&te(a)?f=Qv().y(em).x1(Qp).x0(a):te(a)?f=Qv().x(Qp).y1(em).y0(a):f=_I().x(Qp).y(em),f.defined(cb).curve(u),f(h)},Gl=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?hoe(e):i;return P.createElement("path",nE({},ye(e,!1),Ax(e),{className:ke("recharts-curve",n),d:a,ref:o}))},NL={exports:{}},doe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",foe=doe,poe=foe;function RL(){}function IL(){}IL.resetWarningCache=RL;var moe=function(){function t(r,i,o,a,s,l){if(l!==poe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:IL,resetWarningCache:RL};return n.PropTypes=n,n};NL.exports=moe();var goe=NL.exports;const st=at(goe),{getOwnPropertyNames:yoe,getOwnPropertySymbols:voe}=Object,{hasOwnProperty:boe}=Object.prototype;function fA(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ub(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function xoe(t){return t!=null?t[Symbol.toStringTag]:void 0}function Gj(t){return yoe(t).concat(voe(t))}const woe=Object.hasOwn||((t,e)=>boe.call(t,e));function mh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Aoe="__v",Soe="__o",Eoe="_owner",{getOwnPropertyDescriptor:qj,keys:Kj}=Object;function Coe(t,e){return t.byteLength===e.byteLength&&Zx(new Uint8Array(t),new Uint8Array(e))}function _oe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Poe(t,e){return t.byteLength===e.byteLength&&Zx(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Toe(t,e){return mh(t.getTime(),e.getTime())}function koe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ooe(t,e){return t===e}function Xj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const c=e.entries();let u=!1,h=0;for(;(s=c.next())&&!s.done;){if(i[h]){h++;continue}const f=a.value,p=s.value;if(n.equals(f[0],p[0],l,h,t,e,n)&&n.equals(f[1],p[1],f[0],p[0],t,e,n)){u=i[h]=!0;break}h++}if(!u)return!1;l++}return!0}const joe=mh;function Moe(t,e,n){const r=Kj(t);let i=r.length;if(Kj(e).length!==i)return!1;for(;i-- >0;)if(!DL(t,e,n,r[i]))return!1;return!0}function tm(t,e,n){const r=Gj(t);let i=r.length;if(Gj(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!DL(t,e,n,o)||(a=qj(t,o),s=qj(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Noe(t,e){return mh(t.valueOf(),e.valueOf())}function Roe(t,e){return t.source===e.source&&t.flags===e.flags}function Yj(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let c=!1,u=0;for(;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Zx(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Ioe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function DL(t,e,n,r){return(r===Eoe||r===Soe||r===Aoe)&&(t.$$typeof||e.$$typeof)?!0:woe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Doe="[object ArrayBuffer]",Loe="[object Arguments]",$oe="[object Boolean]",Foe="[object DataView]",Boe="[object Date]",zoe="[object Error]",Uoe="[object Map]",Hoe="[object Number]",Voe="[object Object]",Woe="[object RegExp]",Goe="[object Set]",qoe="[object String]",Koe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Xoe="[object URL]",Yoe=Object.prototype.toString;function Joe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:h,areTypedArraysEqual:f,areUrlsEqual:p,unknownTagComparators:m}){return function(y,b,w){if(y===b)return!0;if(y==null||b==null)return!1;const x=typeof y;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?s(y,b,w):x==="function"?o(y,b,w):!1;const E=y.constructor;if(E!==b.constructor)return!1;if(E===Object)return l(y,b,w);if(Array.isArray(y))return e(y,b,w);if(E===Date)return r(y,b,w);if(E===RegExp)return u(y,b,w);if(E===Map)return a(y,b,w);if(E===Set)return h(y,b,w);const A=Yoe.call(y);if(A===Boe)return r(y,b,w);if(A===Woe)return u(y,b,w);if(A===Uoe)return a(y,b,w);if(A===Goe)return h(y,b,w);if(A===Voe)return typeof y.then!="function"&&typeof b.then!="function"&&l(y,b,w);if(A===Xoe)return p(y,b,w);if(A===zoe)return i(y,b,w);if(A===Loe)return l(y,b,w);if(Koe[A])return f(y,b,w);if(A===Doe)return t(y,b,w);if(A===Foe)return n(y,b,w);if(A===$oe||A===Hoe||A===qoe)return c(y,b,w);if(m){let S=m[A];if(!S){const _=xoe(y);_&&(S=m[_])}if(S)return S(y,b,w)}return!1}}function Zoe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Coe,areArraysEqual:n?tm:_oe,areDataViewsEqual:Poe,areDatesEqual:Toe,areErrorsEqual:koe,areFunctionsEqual:Ooe,areMapsEqual:n?fA(Xj,tm):Xj,areNumbersEqual:joe,areObjectsEqual:n?tm:Moe,arePrimitiveWrappersEqual:Noe,areRegExpsEqual:Roe,areSetsEqual:n?fA(Yj,tm):Yj,areTypedArraysEqual:n?fA(Zx,tm):Zx,areUrlsEqual:Ioe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=ub(r.areArraysEqual),o=ub(r.areMapsEqual),a=ub(r.areObjectsEqual),s=ub(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Qoe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function eae({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(s,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const tae=ac();ac({strict:!0});ac({circular:!0});ac({circular:!0,strict:!0});ac({createInternalComparator:()=>mh});ac({strict:!0,createInternalComparator:()=>mh});ac({circular:!0,createInternalComparator:()=>mh});ac({circular:!0,createInternalComparator:()=>mh,strict:!0});function ac(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Zoe(t),a=Joe(o),s=n?n(a):Qoe(a);return eae({circular:e,comparator:a,createState:r,equals:s,strict:i})}function nae(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Jj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):nae(i)};requestAnimationFrame(r)}function rE(t){"@babel/helpers - typeof";return rE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rE(t)}function rae(t){return sae(t)||aae(t)||oae(t)||iae()}function iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(t,e){if(t){if(typeof t=="string")return Zj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zj(t,e)}}function Zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sae(t){if(Array.isArray(t))return t}function lae(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=rae(a),l=s[0],c=s.slice(1);if(typeof l=="number"){Jj(i.bind(null,c),l);return}i(l),Jj(i.bind(null,c));return}rE(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function Qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(n),!0).forEach(function(r){LL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LL(t,e,n){return e=cae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cae(t){var e=uae(t,"string");return gg(e)==="symbol"?e:String(e)}function uae(t,e){if(gg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hae=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},dae=function(e){return e},fae=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Lm=function(e,n){return Object.keys(n).reduce(function(r,i){return eM(eM({},r),{},LL({},i,e(i,n[i])))},{})},tM=function(e,n,r){return e.map(function(i){return"".concat(fae(i)," ").concat(n,"ms ").concat(r)}).join(",")};function pae(t,e){return yae(t)||gae(t,e)||$L(t,e)||mae()}function mae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function yae(t){if(Array.isArray(t))return t}function vae(t){return wae(t)||xae(t)||$L(t)||bae()}function bae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $L(t,e){if(t){if(typeof t=="string")return iE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(t,e)}}function xae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wae(t){if(Array.isArray(t))return iE(t)}function iE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qx=1e-4,FL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},BL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},nM=function(e,n){return function(r){var i=FL(e,n);return BL(i,r)}},Aae=function(e,n){return function(r){var i=FL(e,n),o=[].concat(vae(i.map(function(a,s){return a*s}).slice(1)),[0]);return BL(o,r)}},rM=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=pae(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var h=nM(i,a),f=nM(o,s),p=Aae(i,a),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,x=w,E=0;E<8;++E){var A=h(x)-w,S=p(x);if(Math.abs(A-w)<Qx||S<Qx)return f(x);x=m(x-A/S)}return f(x)};return g.isStepper=!1,g},Sae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(u,h,f){var p=-(u-h)*r,m=f*o,g=f+(p-m)*s/1e3,y=f*s/1e3+u;return Math.abs(y-h)<Qx&&Math.abs(g)<Qx?[h,0]:[y,g]};return l.isStepper=!0,l.dt=s,l},Eae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rM(i);case"spring":return Sae();default:if(i.split("(")[0]==="cubic-bezier")return rM(i)}return typeof i=="function"?i:null};function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function iM(t){return Pae(t)||_ae(t)||zL(t)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pae(t){if(Array.isArray(t))return aE(t)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){oE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oE(t,e,n){return e=Tae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tae(t){var e=kae(t,"string");return yg(e)==="symbol"?e:String(e)}function kae(t,e){if(yg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oae(t,e){return Nae(t)||Mae(t,e)||zL(t,e)||jae()}function jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zL(t,e){if(t){if(typeof t=="string")return aE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(t,e)}}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Nae(t){if(Array.isArray(t))return t}var e0=function(e,n,r){return e+(n-e)*r},sE=function(e){var n=e.from,r=e.to;return n!==r},Rae=function t(e,n,r){var i=Lm(function(o,a){if(sE(a)){var s=e(a.from,a.to,a.velocity),l=Oae(s,2),c=l[0],u=l[1];return zn(zn({},a),{},{from:c,velocity:u})}return a},n);return r<1?Lm(function(o,a){return sE(a)?zn(zn({},a),{},{velocity:e0(a.velocity,i[o].velocity,r),from:e0(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Iae=function(t,e,n,r,i){var o=hae(t,e),a=o.reduce(function(y,b){return zn(zn({},y),{},oE({},b,[t[b],e[b]]))},{}),s=o.reduce(function(y,b){return zn(zn({},y),{},oE({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,u,h=function(){return null},f=function(){return Lm(function(b,w){return w.from},s)},p=function(){return!Object.values(s).filter(sE).length},m=function(b){c||(c=b);var w=b-c,x=w/n.dt;s=Rae(n,s,x),i(zn(zn(zn({},t),e),f())),c=b,p()||(l=requestAnimationFrame(h))},g=function(b){u||(u=b);var w=(b-u)/r,x=Lm(function(A,S){return e0.apply(void 0,iM(S).concat([n(w)]))},a);if(i(zn(zn(zn({},t),e),x)),w<1)l=requestAnimationFrame(h);else{var E=Lm(function(A,S){return e0.apply(void 0,iM(S).concat([n(1)]))},a);i(zn(zn(zn({},t),e),E))}};return h=n.isStepper?m:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}var Dae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lae(t,e){if(t==null)return{};var n=$ae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pA(t){return Uae(t)||zae(t)||Bae(t)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bae(t,e){if(t){if(typeof t=="string")return lE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(t,e)}}function zae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uae(t){if(Array.isArray(t))return lE(t)}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){hm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hm(t,e,n){return e=UL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UL(r.key),r)}}function Wae(t,e,n){return e&&Vae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UL(t){var e=Gae(t,"string");return Gf(e)==="symbol"?e:String(e)}function Gae(t,e){if(Gf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function Kae(t){var e=Xae();return function(){var r=t0(t),i;if(e){var o=t0(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return uE(this,i)}}function uE(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hE(t)}function hE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(t)}var Wi=function(t){qae(n,t);var e=Kae(n);function n(r,i){var o;Hae(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,h=a.steps,f=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(hE(o)),o.changeStyle=o.changeStyle.bind(hE(o)),!s||p<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:u}),uE(o);if(h&&h.length)o.state={style:h[0].style};else if(c){if(typeof f=="function")return o.state={style:c},uE(o);o.state={style:l?hm({},l,c):c}}else o.state={style:{}};return o}return Wae(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,h=o.from,f=this.state.style;if(s){if(!a){var p={style:l?hm({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(p);return}if(!(tae(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?h:i.to;if(this.state&&f){var y={style:l?hm({},l,g):g};(l&&f[l]!==g||!l&&f!==g)&&this.setState(y)}this.runAnimation(Ji(Ji({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=Iae(a,s,Eae(c),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([f,u,m,l,h])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,h=c.duration,f=h===void 0?0:h,p=function(g,y,b){if(b===0)return g;var w=y.duration,x=y.easing,E=x===void 0?"ease":x,A=y.style,S=y.properties,_=y.onAnimationEnd,O=b>0?a[b-1]:y,M=S||Object.keys(A);if(typeof E=="function"||E==="spring")return[].concat(pA(g),[o.runJSAnimation.bind(o,{from:O.style,to:A,duration:w,easing:E}),w]);var j=tM(M,w,E),N=Ji(Ji(Ji({},O.style),A),{},{transition:j});return[].concat(pA(g),[N,w,_]).filter(dae)};return this.manager.start([l].concat(pA(a.reduce(p,[u,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lae());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=s?hm({},s,l):l,y=tM(Object.keys(g),a,c);m.start([u,o,Ji(Ji({},g),{},{transition:y}),a,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Lae(i,Dae),c=P.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var h=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,b=m.className,w=P.cloneElement(p,Ji(Ji({},l),{},{style:Ji(Ji({},y),u),className:b}));return w};return c===1?h(P.Children.only(o)):B.createElement("div",null,P.Children.map(o,function(f){return h(f)}))}}]),n}(P.PureComponent);Wi.displayName="Animate";Wi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wi.propTypes={from:st.oneOfType([st.object,st.string]),to:st.oneOfType([st.object,st.string]),attributeName:st.string,duration:st.number,begin:st.number,easing:st.oneOfType([st.string,st.func]),steps:st.arrayOf(st.shape({duration:st.number.isRequired,style:st.object.isRequired,easing:st.oneOfType([st.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),st.func]),properties:st.arrayOf("string"),onAnimationEnd:st.func})),children:st.oneOfType([st.node,st.func]),isActive:st.bool,canBegin:st.bool,onAnimationEnd:st.func,shouldReAnimate:st.bool,onAnimationStart:st.func,onAnimationReStart:st.func};function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n0.apply(this,arguments)}function Yae(t,e){return ese(t)||Qae(t,e)||Zae(t,e)||Jae()}function Jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zae(t,e){if(t){if(typeof t=="string")return sM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sM(t,e)}}function sM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function ese(t){if(Array.isArray(t))return t}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tse(t,e,n){return e=nse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=rse(t,"string");return vg(e)=="symbol"?e:e+""}function rse(t,e){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uM=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=o[f]>a?a:o[f];u="M".concat(e,",").concat(n+s*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(n)),u+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*h[1])),u+="L ".concat(e+r,",").concat(n+i-s*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),u+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*h[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);u="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*m," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},ise=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),h=Math.min(a,a+l),f=Math.max(a,a+l);return r>=c&&r<=u&&i>=h&&i<=f}return!1},ose={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zP=function(e){var n=cM(cM({},ose),e),r=P.useRef(),i=P.useState(-1),o=Yae(i,2),a=o[0],s=o[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,c=n.y,u=n.width,h=n.height,f=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||h!==+h||u===0||h===0)return null;var x=ke("recharts-rectangle",p);return w?B.createElement(Wi,{canBegin:a>0,from:{width:u,height:h,x:l,y:c},to:{width:u,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:w},function(E){var A=E.width,S=E.height,_=E.x,O=E.y;return B.createElement(Wi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:b,easing:m},B.createElement("path",n0({},ye(n,!0),{className:x,d:uM(_,O,A,S,f),ref:r})))}):B.createElement("path",n0({},ye(n,!0),{className:x,d:uM(l,c,u,h,f)}))},ase=["points","className","baseLinePoints","connectNulls"];function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function sse(t,e){if(t==null)return{};var n=lse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hM(t){return dse(t)||hse(t)||use(t)||cse()}function cse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function use(t,e){if(t){if(typeof t=="string")return dE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(t,e)}}function hse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dse(t){if(Array.isArray(t))return dE(t)}function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dM=function(e){return e&&e.x===+e.x&&e.y===+e.y},fse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){dM(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),dM(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},$m=function(e,n){var r=fse(e);n&&(r=[r.reduce(function(o,a){return[].concat(hM(o),hM(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},pse=function(e,n,r){var i=$m(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat($m(n.reverse(),r).slice(1))},mse=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=sse(e,ase);if(!n||!n.length)return null;var s=ke("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=pse(n,i,o);return B.createElement("g",{className:s},B.createElement("path",Vh({},ye(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?B.createElement("path",Vh({},ye(a,!0),{fill:"none",d:$m(n,o)})):null,l?B.createElement("path",Vh({},ye(a,!0),{fill:"none",d:$m(i,o)})):null)}var u=$m(n,o);return B.createElement("path",Vh({},ye(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:s,d:u}))};function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fE.apply(this,arguments)}var jv=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=ke("recharts-dot",o);return n===+n&&r===+r&&i===+i?P.createElement("circle",fE({},ye(e,!1),Ax(e),{className:a,cx:n,cy:r,r:i})):null};function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}var gse=["x","y","top","left","width","height","className"];function pE(){return pE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pE.apply(this,arguments)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return e=bse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=xse(t,"string");return bg(e)=="symbol"?e:e+""}function xse(t,e){if(bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wse(t,e){if(t==null)return{};var n=Ase(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ase(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Sse=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Ese=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,h=u===void 0?0:u,f=e.height,p=f===void 0?0:f,m=e.className,g=wse(e,gse),y=yse({x:r,y:o,top:s,left:c,width:h,height:p},g);return!te(r)||!te(o)||!te(h)||!te(p)||!te(s)||!te(c)?null:B.createElement("path",pE({},ye(y,!0),{className:ke("recharts-cross",m),d:Sse(r,o,h,p,s,c)}))},Cse=Ww,_se=eL,Pse=ga;function Tse(t,e){return t&&t.length?Cse(t,Pse(e),_se):void 0}var kse=Tse;const Ose=at(kse);var jse=Ww,Mse=ga,Nse=tL;function Rse(t,e){return t&&t.length?jse(t,Mse(e),Nse):void 0}var Ise=Rse;const Dse=at(Ise);var Lse=["cx","cy","angle","ticks","axisLine"],$se=["ticks","tick","angle","tickFormatter","stroke"];function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fm.apply(this,arguments)}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){Xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mM(t,e){if(t==null)return{};var n=Fse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VL(r.key),r)}}function zse(t,e,n){return e&&gM(t.prototype,e),n&&gM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Use(t,e,n){return e=r0(e),Hse(t,HL()?Reflect.construct(e,n||[],r0(t).constructor):e.apply(t,n))}function Hse(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vse(t)}function Vse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(t)}function Wse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mE(t,e)}function Xw(t,e,n){return e=VL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VL(t){var e=Gse(t,"string");return qf(e)=="symbol"?e:e+""}function Gse(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yw=function(t){function e(){return Bse(this,e),Use(this,e,arguments)}return Wse(e,t),zse(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ot(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=Ose(s,function(u){return u.coordinate||0}),c=Dse(s,function(u){return u.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,c=mM(r,Lse),u=s.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),h=Ot(i,o,u[0],a),f=Ot(i,o,u[1],a),p=dc(dc(dc({},ye(c,!1)),{},{fill:"none"},ye(l,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return B.createElement("line",Fm({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=mM(i,$se),h=this.getTickTextAnchor(),f=ye(u,!1),p=ye(a,!1),m=o.map(function(g,y){var b=r.getTickValueCoord(g),w=dc(dc(dc(dc({textAnchor:h,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:c},p),{},{index:y},b),{},{payload:g});return B.createElement(De,Fm({className:ke("recharts-polar-radius-axis-tick",kL(a)),key:"tick-".concat(g.coordinate)},ql(r.props,g,y)),e.renderTickItem(a,w,l?l(g.value,y):g.value))});return B.createElement(De,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:B.createElement(De,{className:ke("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Mn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):Ce(r)?a=r(i):a=B.createElement(nh,Fm({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(P.PureComponent);Xw(Yw,"displayName","PolarRadiusAxis");Xw(Yw,"axisType","radiusAxis");Xw(Yw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GL(r.key),r)}}function Kse(t,e,n){return e&&vM(t.prototype,e),n&&vM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xse(t,e,n){return e=i0(e),Yse(t,WL()?Reflect.construct(e,n||[],i0(t).constructor):e.apply(t,n))}function Yse(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jse(t)}function Jse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!t})()}function i0(t){return i0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i0(t)}function Zse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gE(t,e)}function Jw(t,e,n){return e=GL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GL(t){var e=Qse(t,"string");return Kf(e)=="symbol"?e:e+""}function Qse(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ele=Math.PI/180,bM=1e-5,Zw=function(t){function e(){return qse(this,e),Xse(this,e,arguments)}return Zse(e,t),Kse(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,h=Ot(o,a,s,r.coordinate),f=Ot(o,a,s+(l==="inner"?-1:1)*u,r.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*ele),a;return o>bM?a=i==="outer"?"start":"end":o<-bM?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,c=fc(fc({},ye(this.props,!1)),{},{fill:"none"},ye(s,!1));if(l==="circle")return B.createElement(jv,Pc({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var u=this.props.ticks,h=u.map(function(f){return Ot(i,o,a,f.coordinate)});return B.createElement(mse,Pc({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=ye(this.props,!1),h=ye(a,!1),f=fc(fc({},u),{},{fill:"none"},ye(s,!1)),p=o.map(function(m,g){var y=r.getTickLineCoord(m),b=r.getTickTextAnchor(m),w=fc(fc(fc({textAnchor:b},u),{},{stroke:"none",fill:c},h),{},{index:g,payload:m,x:y.x2,y:y.y2});return B.createElement(De,Pc({className:ke("recharts-polar-angle-axis-tick",kL(a)),key:"tick-".concat(m.coordinate)},ql(r.props,m,g)),s&&B.createElement("line",Pc({className:"recharts-polar-angle-axis-tick-line"},f,y)),a&&e.renderTickItem(a,w,l?l(m.value,g):m.value))});return B.createElement(De,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:B.createElement(De,{className:ke("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):Ce(r)?a=r(i):a=B.createElement(nh,Pc({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(P.PureComponent);Jw(Zw,"displayName","PolarAngleAxis");Jw(Zw,"axisType","angleAxis");Jw(Zw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tle=YI,nle=tle(Object.getPrototypeOf,Object),rle=nle,ile=js,ole=rle,ale=Ms,sle="[object Object]",lle=Function.prototype,cle=Object.prototype,qL=lle.toString,ule=cle.hasOwnProperty,hle=qL.call(Object);function dle(t){if(!ale(t)||ile(t)!=sle)return!1;var e=ole(t);if(e===null)return!0;var n=ule.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&qL.call(n)==hle}var fle=dle;const ple=at(fle);var mle=js,gle=Ms,yle="[object Boolean]";function vle(t){return t===!0||t===!1||gle(t)&&mle(t)==yle}var ble=vle;const xle=at(ble);function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}function wle(t,e){return Cle(t)||Ele(t,e)||Sle(t,e)||Ale()}function Ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sle(t,e){if(t){if(typeof t=="string")return xM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xM(t,e)}}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ele(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Cle(t){if(Array.isArray(t))return t}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){_le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _le(t,e,n){return e=Ple(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ple(t){var e=Tle(t,"string");return xg(e)=="symbol"?e:e+""}function Tle(t,e){if(xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SM=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},kle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ole=function(e){var n=AM(AM({},kle),e),r=P.useRef(),i=P.useState(-1),o=wle(i,2),a=o[0],s=o[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,h=n.lowerWidth,f=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var w=ke("recharts-trapezoid",p);return b?B.createElement(Wi,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:h,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:b},function(x){var E=x.upperWidth,A=x.lowerWidth,S=x.height,_=x.x,O=x.y;return B.createElement(Wi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},B.createElement("path",o0({},ye(n,!0),{className:w,d:SM(_,O,E,A,S),ref:r})))}):B.createElement("g",null,B.createElement("path",o0({},ye(n,!0),{className:w,d:SM(l,c,u,h,f)})))},jle=["option","shapeType","propTransformer","activeClassName","isActive"];function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function Mle(t,e){if(t==null)return{};var n=Nle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){Rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rle(t,e,n){return e=Ile(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Dle(t,"string");return wg(e)=="symbol"?e:e+""}function Dle(t,e){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lle(t,e){return a0(a0({},e),t)}function $le(t,e){return t==="symbols"}function CM(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(zP,n);case"trapezoid":return B.createElement(Ole,n);case"sector":return B.createElement(ML,n);case"symbols":if($le(e))return B.createElement(Iw,n);break;default:return null}}function Fle(t){return P.isValidElement(t)?t.props:t}function s0(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Lle:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Mle(t,jle),c;if(P.isValidElement(e))c=P.cloneElement(e,a0(a0({},l),Fle(e)));else if(Ce(e))c=e(l);else if(ple(e)&&!xle(e)){var u=i(e,l);c=B.createElement(CM,{shapeType:n,elementProps:u})}else{var h=l;c=B.createElement(CM,{shapeType:n,elementProps:h})}return s?B.createElement(De,{className:a},c):c}function Qw(t,e){return e!=null&&"trapezoids"in t.props}function e1(t,e){return e!=null&&"sectors"in t.props}function Ag(t,e){return e!=null&&"points"in t.props}function Ble(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function zle(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ule(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Hle(t,e){var n;return Qw(t,e)?n=Ble:e1(t,e)?n=zle:Ag(t,e)&&(n=Ule),n}function Vle(t,e){var n;return Qw(t,e)?n="trapezoids":e1(t,e)?n="sectors":Ag(t,e)&&(n="points"),n}function Wle(t,e){if(Qw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(e1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ag(t,e)?e.payload:{}}function Gle(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Vle(n,e),o=Wle(n,e),a=r.filter(function(l,c){var u=Kl(o,l),h=n.props[i].filter(function(m){var g=Hle(n,e);return g(m,e)}),f=n.props[i].indexOf(h[h.length-1]),p=c===f;return u&&p}),s=r.indexOf(a[a.length-1]);return s}var Rb;function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(this,arguments)}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){Fi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XL(r.key),r)}}function Kle(t,e,n){return e&&PM(t.prototype,e),n&&PM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xle(t,e,n){return e=l0(e),Yle(t,KL()?Reflect.construct(e,n||[],l0(t).constructor):e.apply(t,n))}function Yle(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jle(t)}function Jle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!t})()}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(t)}function Zle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}function yE(t,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yE(t,e)}function Fi(t,e,n){return e=XL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XL(t){var e=Qle(t,"string");return Xf(e)=="symbol"?e:e+""}function Qle(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Is=function(t){function e(n){var r;return qle(this,e),r=Xle(this,e,[n]),Fi(r,"pieRef",null),Fi(r,"sectorRefs",[]),Fi(r,"id",rc("recharts-pie-")),Fi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ce(i)&&i()}),Fi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ce(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Zle(e,t),Kle(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,u=ye(this.props,!1),h=ye(a,!1),f=ye(s,!1),p=a&&a.offsetRadius||20,m=r.map(function(g,y){var b=(g.startAngle+g.endAngle)/2,w=Ot(g.cx,g.cy,g.outerRadius+p,b),x=Pt(Pt(Pt(Pt({},u),g),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(w.x,g.cx)},w),E=Pt(Pt(Pt(Pt({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:y,points:[Ot(g.cx,g.cy,g.outerRadius,b),w]}),A=l;return Ee(l)&&Ee(c)?A="value":Ee(l)&&(A=c),B.createElement(De,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},s&&e.renderLabelLineItem(s,E,"line"),e.renderLabelItem(a,x,Dt(g,A)))});return B.createElement(De,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(u),f=l&&i.hasActiveIndex()?l:null,p=h?a:f,m=Pt(Pt({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return B.createElement(De,Wh({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},ql(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),B.createElement(s0,Wh({option:p,isActive:h,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,h=this.state,f=h.prevSectors,p=h.prevIsAnimationActive;return B.createElement(Wi,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,y=[],b=o&&o[0],w=b.startAngle;return o.forEach(function(x,E){var A=f&&f[E],S=E>0?di(x,"paddingAngle",0):0;if(A){var _=Vt(A.endAngle-A.startAngle,x.endAngle-x.startAngle),O=Pt(Pt({},x),{},{startAngle:w+S,endAngle:w+_(g)+S});y.push(O),w=O.endAngle}else{var M=x.endAngle,j=x.startAngle,N=Vt(0,M-j),R=N(g),F=Pt(Pt({},x),{},{startAngle:w+S,endAngle:w+R+S});y.push(F),w=F.endAngle}}),B.createElement(De,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Kl(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,h=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!a||!a.length||!te(c)||!te(u)||!te(h)||!te(f))return null;var g=ke("recharts-pie",s);return B.createElement(De,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(a),Mn.renderCallByParent(this.props,null,!1),(!p||m)&&bo.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);if(Ce(r))return r(i);var a=ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(Gl,Wh({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);var a=o;if(Ce(r)&&(a=r(i),B.isValidElement(a)))return a;var s=ke("recharts-pie-label-text",typeof r!="boolean"&&!Ce(r)?r.className:"");return B.createElement(nh,Wh({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(P.PureComponent);Rb=Is;Fi(Is,"displayName","Pie");Fi(Is,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ns.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fi(Is,"parseDeltaAngle",function(t,e){var n=fr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Fi(Is,"getRealPieData",function(t){var e=t.data,n=t.children,r=ye(t,!1),i=yr(n,_v);return e&&e.length?e.map(function(o,a){return Pt(Pt(Pt({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Pt(Pt({},r),o.props)}):[]});Fi(Is,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=TL(i,o),s=r+pr(t.cx,i,i/2),l=n+pr(t.cy,o,o/2),c=pr(t.innerRadius,a,0),u=pr(t.outerRadius,a,a*.8),h=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:h}});Fi(Is,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Pt(Pt({},e.type.defaultProps),e.props):e.props,i=Rb.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,h=r.valueKey,f=r.tooltipType,p=Math.abs(r.minAngle),m=Rb.parseCoordinateOfPie(r,n),g=Rb.parseDeltaAngle(a,s),y=Math.abs(g),b=c;Ee(c)&&Ee(h)?(vo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ee(c)&&(vo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var w=i.filter(function(O){return Dt(O,b,0)!==0}).length,x=(y>=360?w:w-1)*l,E=y-w*p-x,A=i.reduce(function(O,M){var j=Dt(M,b,0);return O+(te(j)?j:0)},0),S;if(A>0){var _;S=i.map(function(O,M){var j=Dt(O,b,0),N=Dt(O,u,M),R=(te(j)?j:0)/A,F;M?F=_.endAngle+fr(g)*l*(j!==0?1:0):F=a;var $=F+fr(g)*((j!==0?p:0)+R*E),z=(F+$)/2,L=(m.innerRadius+m.outerRadius)/2,U=[{name:N,value:j,payload:O,dataKey:b,type:f}],H=Ot(m.cx,m.cy,L,z);return _=Pt(Pt(Pt({percent:R,cornerRadius:o,name:N,tooltipPayload:U,midAngle:z,middleRadius:L,tooltipPosition:H},O),m),{},{value:Dt(O,b),startAngle:F,endAngle:$,payload:O,paddingAngle:fr(g)*l}),_})}return Pt(Pt({},m),{},{sectors:S,data:i})});var ece=Math.ceil,tce=Math.max;function nce(t,e,n,r){for(var i=-1,o=tce(ece((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var rce=nce,ice=mD,TM=1/0,oce=17976931348623157e292;function ace(t){if(!t)return t===0?t:0;if(t=ice(t),t===TM||t===-TM){var e=t<0?-1:1;return e*oce}return t===t?t:0}var YL=ace,sce=rce,lce=$w,mA=YL;function cce(t){return function(e,n,r){return r&&typeof r!="number"&&lce(e,n,r)&&(n=r=void 0),e=mA(e),n===void 0?(n=e,e=0):n=mA(n),r=r===void 0?e<n?1:-1:mA(r),sce(e,n,r,t)}}var uce=cce,hce=uce,dce=hce(),fce=dce;const c0=at(fce);function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){JL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JL(t,e,n){return e=pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=mce(t,"string");return Sg(e)=="symbol"?e:e+""}function mce(t,e){if(Sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gce=["Webkit","Moz","O","ms"],yce=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=gce.reduce(function(o,a){return OM(OM({},o),{},JL({},a+r,n))},{});return i[e]=n,i};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u0.apply(this,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){Ur(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QL(r.key),r)}}function bce(t,e,n){return e&&MM(t.prototype,e),n&&MM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xce(t,e,n){return e=h0(e),wce(t,ZL()?Reflect.construct(e,n||[],h0(t).constructor):e.apply(t,n))}function wce(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ace(t)}function Ace(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(t)}function Sce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vE(t,e)}function Ur(t,e,n){return e=QL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=Ece(t,"string");return Yf(e)=="symbol"?e:e+""}function Ece(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cce=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Im().domain(c0(0,l)).range([o,o+a-s]),u=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},NM=function(e){return e.changedTouches&&!!e.changedTouches.length},Jf=function(t){function e(n){var r;return vce(this,e),r=xce(this,e,[n]),Ur(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ur(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ur(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Ur(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ur(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ur(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ur(r,"handleSlideDragStart",function(i){var o=NM(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Sce(e,t),bce(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,h=Math.min(i,o),f=Math.max(i,o),p=e.getIndexInRange(a,h),m=e.getIndexInRange(a,f);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Dt(o[r],s,r);return Ce(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,h=l.travellerWidth,f=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+u-h-s,c+u-h-a):g<0&&(g=Math.max(g,c-a,c-s));var y=this.getIndex({startX:a+g,endX:s+g});(y.startIndex!==f||y.endIndex!==p)&&m&&m(y),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=NM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,h=u.x,f=u.width,p=u.travellerWidth,m=u.onChange,g=u.gap,y=u.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,h+f-p-c):w<0&&(w=Math.max(w,h-c)),b[a]=c+w;var x=this.getIndex(b),E=x.startIndex,A=x.endIndex,S=function(){var O=y.length-1;return a==="startX"&&(s>l?E%g===0:A%g===0)||s<l&&A===O||a==="endX"&&(s>l?A%g===0:E%g===0)||s>l&&A===O};this.setState(Ur(Ur({},a,c+w),"brushMoveStartX",r.pageX),function(){m&&S()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],h=s.indexOf(u);if(h!==-1){var f=h+r;if(!(f===-1||f>=s.length)){var p=s[f];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Ur({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return B.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,h=P.Children.only(c);return h?B.cloneElement(h,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,h=l.height,f=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,y=l.endIndex,b=Math.max(r,this.props.x),w=gA(gA({},ye(this.props,!1)),{},{x:b,y:c,width:u,height:h}),x=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[y])===null||a===void 0?void 0:a.name);return B.createElement(De,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,h=Math.max(Math.abs(i-r)-c,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:h,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,h=u.startX,f=u.endX,p=5,m={pointerEvents:"none",fill:c};return B.createElement(De,{className:"recharts-brush-texts"},B.createElement(nh,u0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:a+s/2},m),this.getTextOfTick(i)),B.createElement(nh,u0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,h=r.alwaysShowText,f=this.state,p=f.startX,m=f.endX,g=f.isTextActive,y=f.isSlideMoving,b=f.isTravellerMoving,w=f.isTravellerFocused;if(!i||!i.length||!te(s)||!te(l)||!te(c)||!te(u)||c<=0||u<=0)return null;var x=ke("recharts-brush",o),E=B.Children.count(a)===1,A=yce("userSelect","none");return B.createElement(De,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):Ce(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,h=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return gA({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?Cce({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(P.PureComponent);Ur(Jf,"displayName","Brush");Ur(Jf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _ce=fP;function Pce(t,e){var n;return _ce(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Tce=Pce,kce=UI,Oce=ga,jce=Tce,Mce=Ir,Nce=$w;function Rce(t,e,n){var r=Mce(t)?kce:jce;return n&&Nce(t,e,n)&&(e=void 0),r(t,Oce(e))}var Ice=Rce;const Dce=at(Ice);var ua=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},RM=uD;function Lce(t,e,n){e=="__proto__"&&RM?RM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var $ce=Lce,Fce=$ce,Bce=lD,zce=ga;function Uce(t,e){var n={};return e=zce(e),Bce(t,function(r,i,o){Fce(n,i,e(r,i,o))}),n}var Hce=Uce;const Vce=at(Hce);function Wce(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Gce=Wce,qce=fP;function Kce(t,e){var n=!0;return qce(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Xce=Kce,Yce=Gce,Jce=Xce,Zce=ga,Qce=Ir,eue=$w;function tue(t,e,n){var r=Qce(t)?Yce:Jce;return n&&eue(t,e,n)&&(e=void 0),r(t,Zce(e))}var nue=tue;const e$=at(nue);var rue=["x","y"];function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return e=oue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oue(t){var e=aue(t,"string");return Eg(e)=="symbol"?e:e+""}function aue(t,e){if(Eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sue(t,e){if(t==null)return{};var n=lue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cue(t,e){var n=t.x,r=t.y,i=sue(t,rue),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),h="".concat(e.width||i.width),f=parseInt(h,10);return nm(nm(nm(nm(nm({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function DM(t){return B.createElement(s0,bE({shapeType:"rectangle",propTransformer:cue,activeClassName:"recharts-active-bar"},t))}var uue=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=te(r)||jW(r);return o?e(r,i):(o||Ye(!1),n)}},hue=["value","background"],t$;function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function due(t,e){if(t==null)return{};var n=fue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(this,arguments)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){Hl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r$(r.key),r)}}function mue(t,e,n){return e&&$M(t.prototype,e),n&&$M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gue(t,e,n){return e=f0(e),yue(t,n$()?Reflect.construct(e,n||[],f0(t).constructor):e.apply(t,n))}function yue(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vue(t)}function vue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n$=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}function xE(t,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xE(t,e)}function Hl(t,e,n){return e=r$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r$(t){var e=xue(t,"string");return Zf(e)=="symbol"?e:e+""}function xue(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gi=function(t){function e(){var n;pue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gue(this,e,[].concat(i)),Hl(n,"state",{isAnimationFinished:!1}),Hl(n,"id",rc("recharts-bar-")),Hl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Hl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return bue(e,t),mue(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=ye(this.props,!1);return r&&r.map(function(h,f){var p=f===l,m=p?c:a,g=ln(ln(ln({},u),h),{},{isActive:p,option:m,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(De,d0({className:"recharts-bar-rectangle"},ql(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),B.createElement(DM,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,h=i.animationId,f=this.state.prevData;return B.createElement(Wi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(y,b){var w=f&&f[b];if(w){var x=Vt(w.x,y.x),E=Vt(w.y,y.y),A=Vt(w.width,y.width),S=Vt(w.height,y.height);return ln(ln({},y),{},{x:x(m),y:E(m),width:A(m),height:S(m)})}if(a==="horizontal"){var _=Vt(0,y.height),O=_(m);return ln(ln({},y),{},{y:y.y+y.height-O,height:O})}var M=Vt(0,y.width),j=M(m);return ln(ln({},y),{},{width:j})});return B.createElement(De,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Kl(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ye(this.props.background,!1);return o.map(function(c,u){c.value;var h=c.background,f=due(c,hue);if(!h)return null;var p=ln(ln(ln(ln(ln({},f),{},{fill:"#eee"},h),l),ql(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return B.createElement(DM,d0({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,h=yr(u,jp);if(!h)return null;var f=c==="vertical"?a[0].height/2:a[0].width/2,p=function(y,b){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Dt(y,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(De,m,h.map(function(g){return B.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,h=r.width,f=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=ke("recharts-bar",a),w=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,E=w||x,A=Ee(g)?this.id:g;return B.createElement(De,{className:b},w||x?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(A)},B.createElement("rect",{x:w?c:c-h/2,y:x?u:u-f/2,width:w?h:h*2,height:x?f:f*2}))):null,B.createElement(De,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(A,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,A),(!p||y)&&bo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(P.PureComponent);t$=Gi;Hl(Gi,"displayName","Bar");Hl(Gi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ns.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hl(Gi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,p=Yre(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,y=g!==void 0?ln(ln({},g),n.props):n.props,b=y.dataKey,w=y.children,x=y.minPointSize,E=m==="horizontal"?a:o,A=c?E.scale.domain():null,S=rie({numericAxis:E}),_=yr(w,_v),O=h.map(function(M,j){var N,R,F,$,z,L;c?N=Jre(c[u+j],A):(N=Dt(M,b),Array.isArray(N)||(N=[S,N]));var U=uue(x,t$.defaultProps.minPointSize)(N[1],j);if(m==="horizontal"){var H,V=[a.scale(N[0]),a.scale(N[1])],I=V[0],Y=V[1];R=Oj({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:M,index:j}),F=(H=Y??I)!==null&&H!==void 0?H:void 0,$=p.size;var q=I-Y;if(z=Number.isNaN(q)?0:q,L={x:R,y:a.y,width:$,height:a.height},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var D=fr(z||U)*(Math.abs(U)-Math.abs(z));F-=D,z+=D}}else{var oe=[o.scale(N[0]),o.scale(N[1])],ve=oe[0],be=oe[1];if(R=ve,F=Oj({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:M,index:j}),$=be-ve,z=p.size,L={x:o.x,y:F,width:o.width,height:z},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var Z=fr($||U)*(Math.abs(U)-Math.abs($));$+=Z}}return ln(ln(ln({},M),{},{x:R,y:F,width:$,height:z,value:c?N:N[1],payload:M,background:L},_&&_[j]&&_[j].props),{},{tooltipPayload:[_L(n,M)],tooltipPosition:{x:R+$/2,y:F+z/2}})});return ln({data:O,layout:m},f)});function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function wue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i$(r.key),r)}}function Aue(t,e,n){return e&&FM(t.prototype,e),n&&FM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){t1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t1(t,e,n){return e=i$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$(t){var e=Sue(t,"string");return Cg(e)=="symbol"?e:e+""}function Sue(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UP=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},f=!!si(c,Gi);return u.reduce(function(p,m){var g=n[m],y=g.orientation,b=g.domain,w=g.padding,x=w===void 0?{}:w,E=g.mirror,A=g.reversed,S="".concat(y).concat(E?"Mirror":""),_,O,M,j,N;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=b[1]-b[0],F=1/0,$=g.categoricalDomain.sort(IW);if($.forEach(function(oe,ve){ve>0&&(F=Math.min((oe||0)-($[ve-1]||0),F))}),Number.isFinite(F)){var z=F/R,L=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(_=z*L/2),g.padding==="no-gap"){var U=pr(e.barCategoryGap,z*L),H=z*L/2;_=H-U-(H-U)/L*U}}}i==="xAxis"?O=[r.left+(x.left||0)+(_||0),r.left+r.width-(x.right||0)-(_||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(_||0),r.top+r.height-(x.bottom||0)-(_||0)]:O=g.range,A&&(O=[O[1],O[0]]);var V=AL(g,o,f),I=V.scale,Y=V.realScaleType;I.domain(b).range(O),SL(I);var q=EL(I,po(po({},g),{},{realScaleType:Y}));i==="xAxis"?(N=y==="top"&&!E||y==="bottom"&&E,M=r.left,j=h[S]-N*g.height):i==="yAxis"&&(N=y==="left"&&!E||y==="right"&&E,M=h[S]-N*g.width,j=r.top);var D=po(po(po({},g),q),{},{realScaleType:Y,x:M,y:j,scale:I,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return D.bandSize=Xx(D,q),!g.hide&&i==="xAxis"?h[S]+=(N?-1:1)*D.height:g.hide||(h[S]+=(N?-1:1)*D.width),po(po({},p),{},t1({},m,D))},{})},o$=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Eue=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return o$({x:n,y:r},{x:i,y:o})},a$=function(){function t(e){wue(this,t),this.scale=e}return Aue(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();t1(a$,"EPS",1e-4);var HP=function(e){var n=Object.keys(e).reduce(function(r,i){return po(po({},r),{},t1({},i,a$.create(e[i])))},{});return po(po({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Vce(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return e$(i,function(o,a){return n[a].isInRange(o)})}})};function Cue(t){return(t%180+180)%180}var _ue=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Cue(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Pue=ga,Tue=Cv,kue=Dw;function Oue(t){return function(e,n,r){var i=Object(e);if(!Tue(e)){var o=Pue(n);e=kue(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var jue=Oue,Mue=YL;function Nue(t){var e=Mue(t),n=e%1;return e===e?n?e-n:e:0}var Rue=Nue,Iue=nD,Due=ga,Lue=Rue,$ue=Math.max;function Fue(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Lue(n);return i<0&&(i=$ue(r+i,0)),Iue(t,Due(e),i)}var Bue=Fue,zue=jue,Uue=Bue,Hue=zue(Uue),Vue=Hue;const Wue=at(Vue);var Gue=LV(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),VP=P.createContext(void 0),WP=P.createContext(void 0),s$=P.createContext(void 0),l$=P.createContext({}),c$=P.createContext(void 0),u$=P.createContext(0),h$=P.createContext(0),zM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Gue(o);return B.createElement(VP.Provider,{value:r},B.createElement(WP.Provider,{value:i},B.createElement(l$.Provider,{value:o},B.createElement(s$.Provider,{value:u},B.createElement(c$.Provider,{value:a},B.createElement(u$.Provider,{value:c},B.createElement(h$.Provider,{value:l},s)))))))},que=function(){return P.useContext(c$)},d$=function(e){var n=P.useContext(VP);n==null&&Ye(!1);var r=n[e];return r==null&&Ye(!1),r},Kue=function(){var e=P.useContext(VP);return Ws(e)},Xue=function(){var e=P.useContext(WP),n=Wue(e,function(r){return e$(r.domain,Number.isFinite)});return n||Ws(e)},f$=function(e){var n=P.useContext(WP);n==null&&Ye(!1);var r=n[e];return r==null&&Ye(!1),r},Yue=function(){var e=P.useContext(s$);return e},Jue=function(){return P.useContext(l$)},GP=function(){return P.useContext(h$)},qP=function(){return P.useContext(u$)};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Zue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Que(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m$(r.key),r)}}function ehe(t,e,n){return e&&Que(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function the(t,e,n){return e=p0(e),nhe(t,p$()?Reflect.construct(e,n||[],p0(t).constructor):e.apply(t,n))}function nhe(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rhe(t)}function rhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p0(t)}function ihe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wE(t,e)}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){KP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KP(t,e,n){return e=m$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m$(t){var e=ohe(t,"string");return Qf(e)=="symbol"?e:e+""}function ohe(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ahe(t,e){return uhe(t)||che(t,e)||lhe(t,e)||she()}function she(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(t,e){if(t){if(typeof t=="string")return VM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VM(t,e)}}function VM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function che(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function uhe(t){if(Array.isArray(t))return t}function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(this,arguments)}var hhe=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):Ce(e)?r=e(n):r=B.createElement("line",AE({},n,{className:"recharts-reference-line-line"})),r},dhe=function(e,n,r,i,o,a,s,l,c){var u=o.x,h=o.y,f=o.width,p=o.height;if(r){var m=c.y,g=e.y.apply(m,{position:a});if(ua(c,"discard")&&!e.y.isInRange(g))return null;var y=[{x:u+f,y:g},{x:u,y:g}];return l==="left"?y.reverse():y}if(n){var b=c.x,w=e.x.apply(b,{position:a});if(ua(c,"discard")&&!e.x.isInRange(w))return null;var x=[{x:w,y:h+p},{x:w,y:h}];return s==="top"?x.reverse():x}if(i){var E=c.segment,A=E.map(function(S){return e.apply(S,{position:a})});return ua(c,"discard")&&Dce(A,function(S){return!e.isInRange(S)})?null:A}return null};function fhe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=que(),u=d$(i),h=f$(o),f=Yue();if(!c||!f)return null;vo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=HP({x:u.scale,y:h.scale}),m=bn(e),g=bn(n),y=r&&r.length===2,b=dhe(p,m,g,y,f,t.position,u.orientation,h.orientation,t);if(!b)return null;var w=ahe(b,2),x=w[0],E=x.x,A=x.y,S=w[1],_=S.x,O=S.y,M=ua(t,"hidden")?"url(#".concat(c,")"):void 0,j=HM(HM({clipPath:M},ye(t,!0)),{},{x1:E,y1:A,x2:_,y2:O});return B.createElement(De,{className:ke("recharts-reference-line",s)},hhe(a,j),Mn.renderCallByParent(t,Eue({x1:E,y1:A,x2:_,y2:O})))}var n1=function(t){function e(){return Zue(this,e),the(this,e,arguments)}return ihe(e,t),ehe(e,[{key:"render",value:function(){return B.createElement(fhe,this.props)}}])}(B.Component);KP(n1,"displayName","ReferenceLine");KP(n1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(this,arguments)}function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){r1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y$(r.key),r)}}function ghe(t,e,n){return e&&mhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yhe(t,e,n){return e=m0(e),vhe(t,g$()?Reflect.construct(e,n||[],m0(t).constructor):e.apply(t,n))}function vhe(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bhe(t)}function bhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g$=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m0(t)}function xhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EE(t,e)}function r1(t,e,n){return e=y$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y$(t){var e=whe(t,"string");return ep(e)=="symbol"?e:e+""}function whe(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ahe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=HP({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return ua(e,"discard")&&!a.isInRange(s)?null:s},Mv=function(t){function e(){return phe(this,e),yhe(this,e,arguments)}return xhe(e,t),ghe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=bn(i),u=bn(o);if(vo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var h=Ahe(this.props);if(!h)return null;var f=h.x,p=h.y,m=this.props,g=m.shape,y=m.className,b=ua(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=GM(GM({clipPath:b},ye(this.props,!0)),{},{cx:f,cy:p});return B.createElement(De,{className:ke("recharts-reference-dot",y)},e.renderDot(g,w),Mn.renderCallByParent(this.props,{x:f-a,y:p-a,width:2*a,height:2*a}))}}])}(B.Component);r1(Mv,"displayName","ReferenceDot");r1(Mv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});r1(Mv,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Ce(t)?n=t(e):n=B.createElement(jv,SE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(this,arguments)}function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){i1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function She(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ehe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b$(r.key),r)}}function Che(t,e,n){return e&&Ehe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _he(t,e,n){return e=g0(e),Phe(t,v$()?Reflect.construct(e,n||[],g0(t).constructor):e.apply(t,n))}function Phe(t,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return The(t)}function The(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function g0(t){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g0(t)}function khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_E(t,e)}function i1(t,e,n){return e=b$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=Ohe(t,"string");return tp(e)=="symbol"?e:e+""}function Ohe(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jhe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,h=o.yAxis;if(!u||!h)return null;var f=HP({x:u.scale,y:h.scale}),p={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},m={x:n?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return ua(o,"discard")&&(!f.isInRange(p)||!f.isInRange(m))?null:o$(p,m)},o1=function(t){function e(){return She(this,e),_he(this,e,arguments)}return khe(e,t),Che(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;vo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=bn(i),f=bn(o),p=bn(a),m=bn(s),g=this.props.shape;if(!h&&!f&&!p&&!m&&!g)return null;var y=jhe(h,f,p,m,this.props);if(!y&&!g)return null;var b=ua(this.props,"hidden")?"url(#".concat(u,")"):void 0;return B.createElement(De,{className:ke("recharts-reference-area",l)},e.renderRect(g,KM(KM({clipPath:b},ye(this.props,!0)),y)),Mn.renderCallByParent(this.props,y))}}])}(B.Component);i1(o1,"displayName","ReferenceArea");i1(o1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});i1(o1,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Ce(t)?n=t(e):n=B.createElement(zP,CE({},e,{className:"recharts-reference-area-rect"})),n});function x$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Mhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _ue(r,n)}function Nhe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function y0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Rhe(t,e){return x$(t,e+1)}function Ihe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,u=a,h=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:x$(r,c)};var g=l,y,b=function(){return y===void 0&&(y=n(m,g)),y},w=m.coordinate,x=l===0||y0(t,w,b,u,s);x||(l=0,u=a,c+=1),x&&(u=w+t*(b()/2+i),l+=c)},f;c<=o.length;)if(f=h(),f)return f.v;return[]}function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){Dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dhe(t,e,n){return e=Lhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lhe(t){var e=$he(t,"string");return _g(e)=="symbol"?e:e+""}function $he(t,e){if(_g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fhe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(f){var p=o[f],m,g=function(){return m===void 0&&(m=n(p,f)),m};if(f===a-1){var y=t*(p.coordinate+t*g()/2-l);o[f]=p=Zn(Zn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else o[f]=p=Zn(Zn({},p),{},{tickCoord:p.coordinate});var b=y0(t,p.tickCoord,g,s,l);b&&(l=p.tickCoord-t*(g()/2+i),o[f]=Zn(Zn({},p),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function Bhe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=r[s-1],h=n(u,s-1),f=t*(u.coordinate+t*h/2-c);a[s-1]=u=Zn(Zn({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var p=y0(t,u.tickCoord,function(){return h},l,c);p&&(c=u.tickCoord-t*(h/2+i),a[s-1]=Zn(Zn({},u),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(w){var x=a[w],E,A=function(){return E===void 0&&(E=n(x,w)),E};if(w===0){var S=t*(x.coordinate-t*A()/2-l);a[w]=x=Zn(Zn({},x),{},{tickCoord:S<0?x.coordinate-S*t:x.coordinate})}else a[w]=x=Zn(Zn({},x),{},{tickCoord:x.coordinate});var _=y0(t,x.tickCoord,A,l,c);_&&(l=x.tickCoord+t*(A()/2+i),a[w]=Zn(Zn({},x),{},{isShow:!0}))},y=0;y<m;y++)g(y);return a}function XP(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(te(l)||Ns.isSsr)return Rhe(i,typeof l=="number"&&te(l)?l:0);var f=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?Rm(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,E){var A=Ce(c)?c(x.value,E):x.value;return p==="width"?Mhe(Rm(A,{fontSize:e,letterSpacing:n}),m,h):Rm(A,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?fr(i[1].coordinate-i[0].coordinate):1,b=Nhe(o,y,p);return l==="equidistantPreserveStart"?Ihe(y,b,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=Bhe(y,b,g,i,a,l==="preserveStartEnd"):f=Fhe(y,b,g,i,a),f.filter(function(w){return w.isShow}))}var zhe=["viewBox"],Uhe=["viewBox"],Hhe=["ticks"];function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){YP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yA(t,e){if(t==null)return{};var n=Vhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A$(r.key),r)}}function Ghe(t,e,n){return e&&JM(t.prototype,e),n&&JM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qhe(t,e,n){return e=v0(e),Khe(t,w$()?Reflect.construct(e,n||[],v0(t).constructor):e.apply(t,n))}function Khe(t,e){if(e&&(np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xhe(t)}function Xhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function v0(t){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v0(t)}function Yhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function YP(t,e,n){return e=A$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$(t){var e=Jhe(t,"string");return np(e)=="symbol"?e:e+""}function Jhe(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mp=function(t){function e(n){var r;return Whe(this,e),r=qhe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Yhe(e,t),Ghe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=yA(r,zhe),s=this.props,l=s.viewBox,c=yA(s,Uhe);return!ed(o,l)||!ed(a,c)||!ed(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,h=i.mirror,f=i.tickMargin,p,m,g,y,b,w,x=h?-1:1,E=r.tickSize||u,A=te(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=m=r.coordinate,y=a+ +!h*l,g=y-x*E,w=g-x*f,b=A;break;case"left":g=y=r.coordinate,m=o+ +!h*s,p=m-x*E,b=p-x*f,w=A;break;case"right":g=y=r.coordinate,m=o+ +h*s,p=m+x*E,b=p+x*f,w=A;break;default:p=m=r.coordinate,y=a+ +h*l,g=y+x*E,w=g+x*f,b=A;break}return{line:{x1:p,y1:g,x2:m,y2:y},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,h=pn(pn(pn({},ye(this.props,!1)),ye(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);h=pn(pn({},h),{},{x1:i,y1:o+f*s,x2:i+a,y2:o+f*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);h=pn(pn({},h),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return B.createElement("line",Gh({},h,{className:ke("recharts-cartesian-axis-line",di(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,h=s.tickFormatter,f=s.unit,p=XP(pn(pn({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=ye(this.props,!1),b=ye(u,!1),w=pn(pn({},y),{},{fill:"none"},ye(l,!1)),x=p.map(function(E,A){var S=a.getTickLineCoord(E),_=S.line,O=S.tick,M=pn(pn(pn(pn({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:c},b),O),{},{index:A,payload:E,visibleTicksCount:p.length,tickFormatter:h});return B.createElement(De,Gh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},ql(a.props,E,A)),l&&B.createElement("line",Gh({},w,_,{className:ke("recharts-cartesian-axis-tick-line",di(l,"className"))})),u&&e.renderTickItem(u,M,"".concat(Ce(h)?h(E.value,A):E.value).concat(f||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var h=this.props,f=h.ticks,p=yA(h,Hhe),m=f;return Ce(l)&&(m=f&&f.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:B.createElement(De,{className:ke("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Mn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=ke(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?a=B.cloneElement(r,pn(pn({},i),{},{className:s})):Ce(r)?a=r(pn(pn({},i),{},{className:s})):a=B.createElement(nh,Gh({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(P.Component);YP(Mp,"displayName","CartesianAxis");YP(Mp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zhe=["x1","y1","x2","y2","key"],Qhe=["offset"];function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return e=tde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return ih(e)=="symbol"?e:e+""}function nde(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(this,arguments)}function QM(t,e){if(t==null)return{};var n=rde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ide=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return B.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function S$(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Ce(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=QM(e,Zhe),c=ye(l,!1);c.offset;var u=QM(c,Qhe);n=B.createElement("line",Ic({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function ode(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=er(er({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return S$(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function ade(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=er(er({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return S$(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function sde(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==u[0]&&u.unshift(0);var h=u.map(function(f,p){var m=!u[p+1],g=m?i+a-f:u[p+1]-f;if(g<=0)return null;var y=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:g,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function lde(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(f){return Math.round(f+o-o)}).sort(function(f,p){return f-p});o!==u[0]&&u.unshift(0);var h=u.map(function(f,p){var m=!u[p+1],g=m?o+s-f:u[p+1]-f;if(g<=0)return null;var y=p%r.length;return B.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var cde=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return wL(XP(er(er(er({},Mp.defaultProps),r),{},{ticks:hs(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},ude=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return wL(XP(er(er(er({},Mp.defaultProps),r),{},{ticks:hs(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ah={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ss(t){var e,n,r,i,o,a,s=GP(),l=qP(),c=Jue(),u=er(er({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ah.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ah.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ah.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ah.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ah.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ah.verticalFill,x:te(t.x)?t.x:c.left,y:te(t.y)?t.y:c.top,width:te(t.width)?t.width:c.width,height:te(t.height)?t.height:c.height}),h=u.x,f=u.y,p=u.width,m=u.height,g=u.syncWithTicks,y=u.horizontalValues,b=u.verticalValues,w=Kue(),x=Xue();if(!te(p)||p<=0||!te(m)||m<=0||!te(h)||h!==+h||!te(f)||f!==+f)return null;var E=u.verticalCoordinatesGenerator||cde,A=u.horizontalCoordinatesGenerator||ude,S=u.horizontalPoints,_=u.verticalPoints;if((!S||!S.length)&&Ce(A)){var O=y&&y.length,M=A({yAxis:x?er(er({},x),{},{ticks:O?y:x.ticks}):void 0,width:s,height:l,offset:c},O?!0:g);vo(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ih(M),"]")),Array.isArray(M)&&(S=M)}if((!_||!_.length)&&Ce(E)){var j=b&&b.length,N=E({xAxis:w?er(er({},w),{},{ticks:j?b:w.ticks}):void 0,width:s,height:l,offset:c},j?!0:g);vo(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ih(N),"]")),Array.isArray(N)&&(_=N)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(ide,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),B.createElement(ode,Ic({},u,{offset:c,horizontalPoints:S,xAxis:w,yAxis:x})),B.createElement(ade,Ic({},u,{offset:c,verticalPoints:_,xAxis:w,yAxis:x})),B.createElement(sde,Ic({},u,{horizontalPoints:S})),B.createElement(lde,Ic({},u,{verticalPoints:_})))}Ss.displayName="CartesianGrid";var hde=["type","layout","connectNulls","ref"],dde=["key"];function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function eN(t,e){if(t==null)return{};var n=fde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(this,arguments)}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sh(t){return yde(t)||gde(t)||mde(t)||pde()}function pde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mde(t,e){if(t){if(typeof t=="string")return TE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TE(t,e)}}function gde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yde(t){if(Array.isArray(t))return TE(t)}function TE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function bde(t,e,n){return e&&nN(t.prototype,e),n&&nN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xde(t,e,n){return e=b0(e),wde(t,E$()?Reflect.construct(e,n||[],b0(t).constructor):e.apply(t,n))}function wde(t,e){if(e&&(rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ade(t)}function Ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function b0(t){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b0(t)}function Sde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kE(t,e)}function mo(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=Ede(t,"string");return rp(e)=="symbol"?e:e+""}function Ede(t,e){if(rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qi=function(t){function e(){var n;vde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xde(this,e,[].concat(i)),mo(n,"state",{isAnimationFinished:!0,totalLength:0}),mo(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),mo(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(b,w){return b+w});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var u=Math.floor(a/c),h=a%c,f=s-a,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>h){p=[].concat(Sh(l.slice(0,m)),[h-g]);break}var y=p.length%2===0?[0,f]:[f];return[].concat(Sh(e.repeat(l,u)),Sh(p),y).map(function(b){return"".concat(b,"px")}).join(", ")}),mo(n,"id",rc("recharts-line-")),mo(n,"pathRef",function(a){n.mainCurve=a}),mo(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),mo(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Sde(e,t),bde(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,h=yr(u,jp);if(!h)return null;var f=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Dt(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(De,p,h.map(function(m){return B.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,h=ye(this.props,!1),f=ye(l,!0),p=c.map(function(g,y){var b=$r($r($r({key:"dot-".concat(y),r:3},h),f),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,b)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement(De,Bm({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var h=eN(s,hde),f=$r($r($r({},ye(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:u});return B.createElement(Gl,Bm({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,h=a.animationDuration,f=a.animationEasing,p=a.animationId,m=a.animateNewValues,g=a.width,y=a.height,b=this.state,w=b.prevPoints,x=b.totalLength;return B.createElement(Wi,{begin:u,duration:h,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var A=E.t;if(w){var S=w.length/s.length,_=s.map(function(R,F){var $=Math.floor(F*S);if(w[$]){var z=w[$],L=Vt(z.x,R.x),U=Vt(z.y,R.y);return $r($r({},R),{},{x:L(A),y:U(A)})}if(m){var H=Vt(g*2,R.x),V=Vt(y/2,R.y);return $r($r({},R),{},{x:H(A),y:V(A)})}return $r($r({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(_,r,i)}var O=Vt(0,x),M=O(A),j;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});j=o.getStrokeDasharray(M,x,N)}else j=o.generateSimpleStrokeDasharray(x,M);return o.renderCurveStatically(s,r,i,{strokeDasharray:j})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&a&&a.length&&(!c&&u>0||!Kl(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,h=i.top,f=i.left,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,x=ke("recharts-line",l),E=c&&c.allowDataOverflow,A=u&&u.allowDataOverflow,S=E||A,_=Ee(y)?this.id:y,O=(r=ye(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=O.r,j=M===void 0?3:M,N=O.strokeWidth,R=N===void 0?2:N,F=fI(a)?a:{},$=F.clipDot,z=$===void 0?!0:$,L=j*2+R;return B.createElement(De,{className:x},E||A?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(_)},B.createElement("rect",{x:E?f:f-p/2,y:A?h:h-m/2,width:E?p:p*2,height:A?m:m*2})),!z&&B.createElement("clipPath",{id:"clipPath-dots-".concat(_)},B.createElement("rect",{x:f-L/2,y:h-L/2,width:p+L,height:m+L}))):null,!w&&this.renderCurve(S,_),this.renderErrorBar(S,_),(w||a)&&this.renderDots(S,z,_),(!g||b)&&bo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Sh(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Sh(a),Sh(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(B.isValidElement(r))o=B.cloneElement(r,i);else if(Ce(r))o=r(i);else{var a=i.key,s=eN(i,dde),l=ke("recharts-line-dot",typeof r!="boolean"?r.className:"");o=B.createElement(jv,Bm({key:a},s,{className:l}))}return o}}])}(P.PureComponent);mo(qi,"displayName","Line");mo(qi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ns.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});mo(qi,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,h=l.map(function(f,p){var m=Dt(f,a);return u==="horizontal"?{x:Wf({axis:n,ticks:i,bandSize:s,entry:f,index:p}),y:Ee(m)?null:r.scale(m),value:m,payload:f}:{x:Ee(m)?null:n.scale(m),y:Wf({axis:r,ticks:o,bandSize:s,entry:f,index:p}),value:m,payload:f}});return $r({points:h,layout:u},c)});var Cde=["layout","type","stroke","connectNulls","isRange","ref"],_de=["key"],_$;function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function P$(t,e){if(t==null)return{};var n=Pde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){sa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k$(r.key),r)}}function kde(t,e,n){return e&&iN(t.prototype,e),n&&iN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ode(t,e,n){return e=x0(e),jde(t,T$()?Reflect.construct(e,n||[],x0(t).constructor):e.apply(t,n))}function jde(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mde(t)}function Mde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x0(t)}function Nde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OE(t,e)}function sa(t,e,n){return e=k$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$(t){var e=Rde(t,"string");return ip(e)=="symbol"?e:e+""}function Rde(t,e){if(ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Es=function(t){function e(){var n;Tde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ode(this,e,[].concat(i)),sa(n,"state",{isAnimationFinished:!0}),sa(n,"id",rc("recharts-area-")),sa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ce(a)&&a()}),sa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ce(a)&&a()}),n}return Nde(e,t),kde(e,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,c=l.dot,u=l.points,h=l.dataKey,f=ye(this.props,!1),p=ye(c,!0),m=u.map(function(y,b){var w=zs(zs(zs({key:"dot-".concat(b),r:3},f),p),{},{index:b,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:u});return e.renderDotItem(c,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement(De,Dc({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=r*Math.abs(l-c),h=Ul(a.map(function(f){return f.y||0}));return te(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Ul(o.map(function(f){return f.y||0})),h)),te(h)?B.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=r*Math.abs(l-c),h=Ul(a.map(function(f){return f.x||0}));return te(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(Ul(o.map(function(f){return f.x||0})),h)),te(h)?B.createElement("rect",{x:0,y:l<c?l:l-u,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,c=s.type,u=s.stroke,h=s.connectNulls,f=s.isRange;s.ref;var p=P$(s,Cde);return B.createElement(De,{clipPath:o?"url(#clipPath-".concat(a,")"):null},B.createElement(Gl,Dc({},ye(p,!0),{points:r,connectNulls:h,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&B.createElement(Gl,Dc({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:r})),u!=="none"&&f&&B.createElement(Gl,Dc({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,h=a.animationDuration,f=a.animationEasing,p=a.animationId,m=this.state,g=m.prevPoints,y=m.prevBaseLine;return B.createElement(Wi,{begin:u,duration:h,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(g){var x=g.length/s.length,E=s.map(function(O,M){var j=Math.floor(M*x);if(g[j]){var N=g[j],R=Vt(N.x,O.x),F=Vt(N.y,O.y);return zs(zs({},O),{},{x:R(w),y:F(w)})}return O}),A;if(te(l)&&typeof l=="number"){var S=Vt(y,l);A=S(w)}else if(Ee(l)||Ep(l)){var _=Vt(y,0);A=_(w)}else A=l.map(function(O,M){var j=Math.floor(M*x);if(y[j]){var N=y[j],R=Vt(N.x,O.x),F=Vt(N.y,O.y);return zs(zs({},O),{},{x:R(w),y:F(w)})}return O});return o.renderAreaStatically(E,A,r,i)}return B.createElement(De,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(w))),B.createElement(De,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,h=c.prevBaseLine,f=c.totalLength;return l&&a&&a.length&&(!u&&f>0||!Kl(u,a)||!Kl(h,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,h=i.xAxis,f=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=s.length===1,x=ke("recharts-area",l),E=h&&h.allowDataOverflow,A=f&&f.allowDataOverflow,S=E||A,_=Ee(y)?this.id:y,O=(r=ye(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=O.r,j=M===void 0?3:M,N=O.strokeWidth,R=N===void 0?2:N,F=fI(a)?a:{},$=F.clipDot,z=$===void 0?!0:$,L=j*2+R;return B.createElement(De,{className:x},E||A?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(_)},B.createElement("rect",{x:E?u:u-p/2,y:A?c:c-m/2,width:E?p:p*2,height:A?m:m*2})),!z&&B.createElement("clipPath",{id:"clipPath-dots-".concat(_)},B.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:m+L}))):null,w?null:this.renderArea(S,_),(a||w)&&this.renderDots(S,z,_),(!g||b)&&bo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(P.PureComponent);_$=Es;sa(Es,"displayName","Area");sa(Es,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ns.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});sa(Es,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,a=e.props.baseValue,s=a??o;if(te(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return s==="dataMin"?h:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});sa(Es,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,a=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,p=e.layout,m=c&&c.length,g=_$.getBaseValue(e,n,r,i),y=p==="horizontal",b=!1,w=h.map(function(E,A){var S;m?S=c[u+A]:(S=Dt(E,l),Array.isArray(S)?b=!0:S=[g,S]);var _=S[1]==null||m&&Dt(E,l)==null;return y?{x:Wf({axis:r,ticks:o,bandSize:s,entry:E,index:A}),y:_?null:i.scale(S[1]),value:S,payload:E}:{x:_?null:r.scale(S[1]),y:Wf({axis:i,ticks:a,bandSize:s,entry:E,index:A}),value:S,payload:E}}),x;return m||b?x=w.map(function(E){var A=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:A!=null&&E.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:E.y}}):x=y?i.scale(g):r.scale(g),zs({points:w,baseLine:x,layout:p,isRange:b},f)});sa(Es,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Ce(t))n=t(e);else{var r=ke("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=P$(e,_de);n=B.createElement(jv,Dc({},o,{key:i,className:r}))}return n});function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function Ide(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M$(r.key),r)}}function Lde(t,e,n){return e&&Dde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $de(t,e,n){return e=w0(e),Fde(t,O$()?Reflect.construct(e,n||[],w0(t).constructor):e.apply(t,n))}function Fde(t,e){if(e&&(op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bde(t)}function Bde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O$=function(){return!!t})()}function w0(t){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w0(t)}function zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jE(t,e)}function j$(t,e,n){return e=M$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=Ude(t,"string");return op(e)=="symbol"?e:e+""}function Ude(t,e){if(op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a1=function(t){function e(){return Ide(this,e),$de(this,e,arguments)}return zde(e,t),Lde(e,[{key:"render",value:function(){return null}}])}(P.Component);j$(a1,"displayName","ZAxis");j$(a1,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Hde=["option","isActive"];function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}function Vde(t,e){if(t==null)return{};var n=Wde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gde(t){var e=t.option,n=t.isActive,r=Vde(t,Hde);return typeof e=="string"?P.createElement(s0,zm({option:P.createElement(Iw,zm({type:e},r)),isActive:n,shapeType:"symbols"},r)):P.createElement(s0,zm({option:e,isActive:n,shapeType:"symbols"},r))}function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Um.apply(this,arguments)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){Vl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R$(r.key),r)}}function Kde(t,e,n){return e&&aN(t.prototype,e),n&&aN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xde(t,e,n){return e=A0(e),Yde(t,N$()?Reflect.construct(e,n||[],A0(t).constructor):e.apply(t,n))}function Yde(t,e){if(e&&(ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jde(t)}function Jde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function A0(t){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A0(t)}function Zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ME(t,e)}function Vl(t,e,n){return e=R$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R$(t){var e=Qde(t,"string");return ap(e)=="symbol"?e:e+""}function Qde(t,e){if(ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s1=function(t){function e(){var n;qde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Xde(this,e,[].concat(i)),Vl(n,"state",{isAnimationFinished:!1}),Vl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Vl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Vl(n,"id",rc("recharts-scatter-")),n}return Zde(e,t),Kde(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.activeShape,l=o.activeIndex,c=ye(this.props,!1);return r.map(function(u,h){var f=l===h,p=f?s:a,m=_i(_i({},c),u);return B.createElement(De,Um({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(h)},ql(i.props,u,h),{role:"img"}),B.createElement(Gde,Um({option:p,isActive:f,key:"symbol-".concat(h)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,h=this.state.prevPoints;return B.createElement(Wi,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,m=o.map(function(g,y){var b=h&&h[y];if(b){var w=Vt(b.cx,g.cx),x=Vt(b.cy,g.cy),E=Vt(b.size,g.size);return _i(_i({},g),{},{cx:w(p),cy:x(p),size:E(p)})}var A=Vt(0,g.size);return _i(_i({},g),{},{size:A(p)})});return B.createElement(De,null,r.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!Kl(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,l=i.children,c=yr(l,jp);return c?c.map(function(u,h){var f=u.props,p=f.direction,m=f.dataKey;return B.cloneElement(u,{key:"".concat(p,"-").concat(m,"-").concat(o[h]),data:o,xAxis:a,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(y,b){return{x:y.cx,y:y.cy,value:p==="x"?+y.node.x:+y.node.y,errorVal:Dt(y,b)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,s=r.lineJointType,l=ye(this.props,!1),c=ye(o,!1),u,h;if(a==="joint")u=i.map(function(x){return{x:x.cx,y:x.cy}});else if(a==="fitting"){var f=RW(i),p=f.xmin,m=f.xmax,g=f.a,y=f.b,b=function(E){return g*E+y};u=[{x:p,y:b(p)},{x:m,y:b(m)}]}var w=_i(_i(_i({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return B.isValidElement(o)?h=B.cloneElement(o,w):Ce(o)?h=o(w):h=B.createElement(Gl,Um({},w,{type:s})),B.createElement(De,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,s=r.className,l=r.xAxis,c=r.yAxis,u=r.left,h=r.top,f=r.width,p=r.height,m=r.id,g=r.isAnimationActive;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=ke("recharts-scatter",s),w=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,E=w||x,A=Ee(m)?this.id:m;return B.createElement(De,{className:b,clipPath:E?"url(#clipPath-".concat(A,")"):null},w||x?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(A)},B.createElement("rect",{x:w?u:u-f/2,y:x?h:h-p/2,width:w?f:f*2,height:x?p:p*2}))):null,a&&this.renderLine(),this.renderErrorBar(),B.createElement(De,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!g||y)&&bo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(P.PureComponent);Vl(s1,"displayName","Scatter");Vl(s1,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ns.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Vl(s1,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,c=i.props.tooltipType,u=yr(i.props.children,_v),h=Ee(e.dataKey)?i.props.dataKey:e.dataKey,f=Ee(n.dataKey)?i.props.dataKey:n.dataKey,p=r&&r.dataKey,m=r?r.range:a1.defaultProps.range,g=m&&m[0],y=e.scale.bandwidth?e.scale.bandwidth():0,b=n.scale.bandwidth?n.scale.bandwidth():0,w=o.map(function(x,E){var A=Dt(x,h),S=Dt(x,f),_=!Ee(p)&&Dt(x,p)||"-",O=[{name:Ee(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:A,payload:x,dataKey:h,type:c},{name:Ee(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:S,payload:x,dataKey:f,type:c}];_!=="-"&&O.push({name:r.name||r.dataKey,unit:r.unit||"",value:_,payload:x,dataKey:p,type:c});var M=Wf({axis:e,ticks:a,bandSize:y,entry:x,index:E,dataKey:h}),j=Wf({axis:n,ticks:s,bandSize:b,entry:x,index:E,dataKey:f}),N=_!=="-"?r.scale(_):g,R=Math.sqrt(Math.max(N,0)/Math.PI);return _i(_i({},x),{},{cx:M,cy:j,x:M-R,y:j-R,xAxis:e,yAxis:n,zAxis:r,width:2*R,height:2*R,size:N,node:{x:A,y:S,z:_},tooltipPayload:O,tooltipPosition:{x:M,y:j},payload:x},u&&u[E]&&u[E].props)});return _i({points:w},l)});function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function efe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L$(r.key),r)}}function nfe(t,e,n){return e&&tfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rfe(t,e,n){return e=S0(e),ife(t,I$()?Reflect.construct(e,n||[],S0(t).constructor):e.apply(t,n))}function ife(t,e){if(e&&(sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ofe(t)}function ofe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!t})()}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(t)}function afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NE(t,e)}function D$(t,e,n){return e=L$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=sfe(t,"string");return sp(e)=="symbol"?e:e+""}function sfe(t,e){if(sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function lfe(t){var e=t.xAxisId,n=GP(),r=qP(),i=d$(e);return i==null?null:P.createElement(Mp,RE({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return hs(a,!0)}}))}var gi=function(t){function e(){return efe(this,e),rfe(this,e,arguments)}return afe(e,t),nfe(e,[{key:"render",value:function(){return P.createElement(lfe,this.props)}}])}(P.Component);D$(gi,"displayName","XAxis");D$(gi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function cfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ufe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B$(r.key),r)}}function hfe(t,e,n){return e&&ufe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dfe(t,e,n){return e=E0(e),ffe(t,$$()?Reflect.construct(e,n||[],E0(t).constructor):e.apply(t,n))}function ffe(t,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pfe(t)}function pfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($$=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(t)}function mfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IE(t,e)}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IE(t,e)}function F$(t,e,n){return e=B$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B$(t){var e=gfe(t,"string");return lp(e)=="symbol"?e:e+""}function gfe(t,e){if(lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(this,arguments)}var yfe=function(e){var n=e.yAxisId,r=GP(),i=qP(),o=f$(n);return o==null?null:P.createElement(Mp,DE({},o,{className:ke("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return hs(s,!0)}}))},Rr=function(t){function e(){return cfe(this,e),dfe(this,e,arguments)}return mfe(e,t),hfe(e,[{key:"render",value:function(){return P.createElement(yfe,this.props)}}])}(P.Component);F$(Rr,"displayName","YAxis");F$(Rr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sN(t){return wfe(t)||xfe(t)||bfe(t)||vfe()}function vfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bfe(t,e){if(t){if(typeof t=="string")return LE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LE(t,e)}}function xfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wfe(t){if(Array.isArray(t))return LE(t)}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $E=function(e,n,r,i,o){var a=yr(e,n1),s=yr(e,Mv),l=[].concat(sN(a),sN(s)),c=yr(e,o1),u="".concat(i,"Id"),h=i[0],f=n;if(l.length&&(f=l.reduce(function(g,y){if(y.props[u]===r&&ua(y.props,"extendDomain")&&te(y.props[h])){var b=y.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},f)),c.length){var p="".concat(h,"1"),m="".concat(h,"2");f=c.reduce(function(g,y){if(y.props[u]===r&&ua(y.props,"extendDomain")&&te(y.props[p])&&te(y.props[m])){var b=y.props[p],w=y.props[m];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},f)}return o&&o.length&&(f=o.reduce(function(g,y){return te(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},f)),f},z$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},s.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},s.prototype.emit=function(c,u,h,f,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,w,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,m),!0}for(x=1,w=new Array(b-1);x<b;x++)w[x-1]=arguments[x];y.fn.apply(y.context,w)}else{var E=y.length,A;for(x=0;x<E;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),b){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,h);break;case 4:y[x].fn.call(y[x].context,u,h,f);break;default:if(!w)for(A=1,w=new Array(b-1);A<b;A++)w[A-1]=arguments[A];y[x].fn.apply(y[x].context,w)}}return!0},s.prototype.on=function(c,u,h){return o(this,c,u,h,!1)},s.prototype.once=function(c,u,h){return o(this,c,u,h,!0)},s.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&a(this,p);else{for(var g=0,y=[],b=m.length;g<b;g++)(m[g].fn!==u||f&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(z$);var Afe=z$.exports;const Sfe=at(Afe);var vA=new Sfe,bA="recharts.syncMouseEvents";function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function Efe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U$(r.key),r)}}function _fe(t,e,n){return e&&Cfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xA(t,e,n){return e=U$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U$(t){var e=Pfe(t,"string");return Pg(e)=="symbol"?e:e+""}function Pfe(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tfe=function(){function t(){Efe(this,t),xA(this,"activeIndex",0),xA(this,"coordinateList",[]),xA(this,"layout","horizontal")}return _fe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,h=u===void 0?null:u,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+l+c,f=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function kfe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&te(r)&&te(i))return!0}return!1}function Ofe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function H$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ot(e,n,r,i),s=Ot(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function jfe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,h=e.angle,f=Ot(s,l,c,h),p=Ot(s,l,u,h);r=f.x,i=f.y,o=p.x,a=p.y}else return H$(e);return[{x:r,y:i},{x:o,y:a}]}function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){Mfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mfe(t,e,n){return e=Nfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Rfe(t,"string");return Tg(e)=="symbol"?e:e+""}function Rfe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ife(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||f!=="ScatterChart"&&i!=="axis")return null;var m,g=Gl;if(f==="ScatterChart")m=a,g=Ese;else if(f==="BarChart")m=Ofe(h,a,l,u),g=zP;else if(h==="radial"){var y=H$(a),b=y.cx,w=y.cy,x=y.radius,E=y.startAngle,A=y.endAngle;m={cx:b,cy:w,startAngle:E,endAngle:A,innerRadius:x,outerRadius:x},g=ML}else m={points:jfe(h,a,l)},g=Gl;var S=hb(hb(hb(hb({stroke:"#ccc",pointerEvents:"none"},l),m),ye(p,!1)),{},{payload:s,payloadIndex:c,className:ke("recharts-tooltip-cursor",p.className)});return P.isValidElement(p)?P.cloneElement(p,S):P.createElement(g,S)}var Dfe=["item"],Lfe=["children","className","width","height","style","compact","title","desc"];function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}function cN(t,e){return Bfe(t)||Ffe(t,e)||W$(t,e)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Bfe(t){if(Array.isArray(t))return t}function uN(t,e){if(t==null)return{};var n=zfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ufe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G$(r.key),r)}}function Vfe(t,e,n){return e&&Hfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wfe(t,e,n){return e=C0(e),Gfe(t,V$()?Reflect.construct(e,n||[],C0(t).constructor):e.apply(t,n))}function Gfe(t,e){if(e&&(cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qfe(t)}function qfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V$=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function Kfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FE(t,e)}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FE(t,e)}function up(t){return Jfe(t)||Yfe(t)||W$(t)||Xfe()}function Xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W$(t,e){if(t){if(typeof t=="string")return BE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BE(t,e)}}function Yfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jfe(t){if(Array.isArray(t))return BE(t)}function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(n),!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Te(t,e,n){return e=G$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G$(t){var e=Zfe(t,"string");return cp(e)=="symbol"?e:e+""}function Zfe(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qfe={xAxis:["bottom","top"],yAxis:["left","right"]},epe={width:"100%",height:"100%"},q$={x:0,y:0};function db(t){return t}var tpe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},npe=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return X(X(X({},i),Ot(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return X(X(X({},i),Ot(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return q$},l1=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(up(s),up(c)):s},[]);return a.length>0?a:e&&e.length&&te(i)&&te(o)?e.slice(i,o+1):[]};function K$(t){return t==="number"?[0,"auto"]:void 0}var zE=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=l1(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,h=(u=c.props.data)!==null&&u!==void 0?u:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var p=h===void 0?s:h;f=wx(p,a.dataKey,i)}else f=h&&h[r]||s[r];return f?[].concat(up(l),[_L(c,f)]):l},[])},dN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=tpe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Vre(a,s,c,l);if(u>=0&&c){var h=c[u]&&c[u].value,f=zE(e,n,u,h),p=npe(r,s,u,o);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},rpe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,h=e.children,f=e.stackOffset,p=xL(u,o);return r.reduce(function(m,g){var y,b=g.type.defaultProps!==void 0?X(X({},g.type.defaultProps),g.props):g.props,w=b.type,x=b.dataKey,E=b.allowDataOverflow,A=b.allowDuplicatedCategory,S=b.scale,_=b.ticks,O=b.includeHidden,M=b[a];if(m[M])return m;var j=l1(e.data,{graphicalItems:i.filter(function(q){var D,oe=a in q.props?q.props[a]:(D=q.type.defaultProps)===null||D===void 0?void 0:D[a];return oe===M}),dataStartIndex:l,dataEndIndex:c}),N=j.length,R,F,$;kfe(b.domain,E,w)&&(R=ZS(b.domain,null,E),p&&(w==="number"||S!=="auto")&&($=Dm(j,x,"category")));var z=K$(w);if(!R||R.length===0){var L,U=(L=b.domain)!==null&&L!==void 0?L:z;if(x){if(R=Dm(j,x,w),w==="category"&&p){var H=NW(R);A&&H?(F=R,R=c0(0,N)):A||(R=Nj(U,R,g).reduce(function(q,D){return q.indexOf(D)>=0?q:[].concat(up(q),[D])},[]))}else if(w==="category")A?R=R.filter(function(q){return q!==""&&!Ee(q)}):R=Nj(U,R,g).reduce(function(q,D){return q.indexOf(D)>=0||D===""||Ee(D)?q:[].concat(up(q),[D])},[]);else if(w==="number"){var V=Xre(j,i.filter(function(q){var D,oe,ve=a in q.props?q.props[a]:(D=q.type.defaultProps)===null||D===void 0?void 0:D[a],be="hide"in q.props?q.props.hide:(oe=q.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return ve===M&&(O||!be)}),x,o,u);V&&(R=V)}p&&(w==="number"||S!=="auto")&&($=Dm(j,x,"category"))}else p?R=c0(0,N):s&&s[M]&&s[M].hasStack&&w==="number"?R=f==="expand"?[0,1]:CL(s[M].stackGroups,l,c):R=bL(j,i.filter(function(q){var D=a in q.props?q.props[a]:q.type.defaultProps[a],oe="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return D===M&&(O||!oe)}),w,u,!0);if(w==="number")R=$E(h,R,M,o,_),U&&(R=ZS(U,R,E));else if(w==="category"&&U){var I=U,Y=R.every(function(q){return I.indexOf(q)>=0});Y&&(R=I)}}return X(X({},m),{},Te({},M,X(X({},b),{},{axisType:o,domain:R,categoricalDomain:$,duplicateDomain:F,originalDomain:(y=b.domain)!==null&&y!==void 0?y:z,isCategorical:p,layout:u})))},{})},ipe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,h=e.children,f=l1(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=f.length,m=xL(u,o),g=-1;return r.reduce(function(y,b){var w=b.type.defaultProps!==void 0?X(X({},b.type.defaultProps),b.props):b.props,x=w[a],E=K$("number");if(!y[x]){g++;var A;return m?A=c0(0,p):s&&s[x]&&s[x].hasStack?(A=CL(s[x].stackGroups,l,c),A=$E(h,A,x,o)):(A=ZS(E,bL(f,r.filter(function(S){var _,O,M=a in S.props?S.props[a]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[a],j="hide"in S.props?S.props.hide:(O=S.type.defaultProps)===null||O===void 0?void 0:O.hide;return M===x&&!j}),"number",u),i.defaultProps.allowDataOverflow),A=$E(h,A,x,o)),X(X({},y),{},Te({},x,X(X({axisType:o},i.defaultProps),{},{hide:!0,orientation:di(Qfe,"".concat(o,".").concat(g%2),null),domain:A,originalDomain:E,isCategorical:m,layout:u})))}return y},{})},ope=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,h="".concat(i,"Id"),f=yr(u,o),p={};return f&&f.length?p=rpe(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(p=ipe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},ape=function(e){var n=Ws(e),r=hs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:pP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Xx(n,r)}},fN=function(e){var n=e.children,r=e.defaultShowTooltip,i=si(n,Jf),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},spe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ds(n&&n.type);return r&&r.indexOf("Bar")>=0})},pN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lpe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,h=r.children,f=r.margin||{},p=si(h,Jf),m=si(h,vr),g=Object.keys(l).reduce(function(A,S){var _=l[S],O=_.orientation;return!_.mirror&&!_.hide?X(X({},A),{},Te({},O,A[O]+_.width)):A},{left:f.left||0,right:f.right||0}),y=Object.keys(a).reduce(function(A,S){var _=a[S],O=_.orientation;return!_.mirror&&!_.hide?X(X({},A),{},Te({},O,di(A,"".concat(O))+_.height)):A},{top:f.top||0,bottom:f.bottom||0}),b=X(X({},y),g),w=b.bottom;p&&(b.bottom+=p.props.height||Jf.defaultProps.height),m&&n&&(b=qre(b,i,r,n));var x=c-b.left-b.right,E=u-b.top-b.bottom;return X(X({brushBottom:w},b),{},{width:Math.max(x,0),height:Math.max(E,0)})},cpe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},c1=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,f=function(b,w){var x=w.graphicalItems,E=w.stackGroups,A=w.offset,S=w.updateId,_=w.dataStartIndex,O=w.dataEndIndex,M=b.barSize,j=b.layout,N=b.barGap,R=b.barCategoryGap,F=b.maxBarSize,$=pN(j),z=$.numericAxisName,L=$.cateAxisName,U=spe(x),H=[];return x.forEach(function(V,I){var Y=l1(b.data,{graphicalItems:[V],dataStartIndex:_,dataEndIndex:O}),q=V.type.defaultProps!==void 0?X(X({},V.type.defaultProps),V.props):V.props,D=q.dataKey,oe=q.maxBarSize,ve=q["".concat(z,"Id")],be=q["".concat(L,"Id")],Z={},ae=l.reduce(function(le,Qe){var An=w["".concat(Qe.axisType,"Map")],Po=q["".concat(Qe.axisType,"Id")];An&&An[Po]||Qe.axisType==="zAxis"||Ye(!1);var bi=An[Po];return X(X({},le),{},Te(Te({},Qe.axisType,bi),"".concat(Qe.axisType,"Ticks"),hs(bi)))},Z),J=ae[L],Q=ae["".concat(L,"Ticks")],ie=E&&E[ve]&&E[ve].hasStack&&iie(V,E[ve].stackGroups),G=ds(V.type).indexOf("Bar")>=0,ue=Xx(J,Q),ce=[],we=U&&Wre({barSize:M,stackGroups:E,totalSize:cpe(ae,L)});if(G){var Pe,Ze,Qt=Ee(oe)?F:oe,en=(Pe=(Ze=Xx(J,Q,!0))!==null&&Ze!==void 0?Ze:Qt)!==null&&Pe!==void 0?Pe:0;ce=Gre({barGap:N,barCategoryGap:R,bandSize:en!==ue?en:ue,sizeList:we[be],maxBarSize:Qt}),en!==ue&&(ce=ce.map(function(le){return X(X({},le),{},{position:X(X({},le.position),{},{offset:le.position.offset-en/2})})}))}var vi=V&&V.type&&V.type.getComposedData;vi&&H.push({props:X(X({},vi(X(X({},ae),{},{displayedData:Y,props:b,dataKey:D,item:V,bandSize:ue,barPosition:ce,offset:A,stackedData:ie,layout:j,dataStartIndex:_,dataEndIndex:O}))),{},Te(Te(Te({key:V.key||"item-".concat(I)},z,ae[z]),L,ae[L]),"animationId",S)),childIndex:GW(V,b.children),item:V})}),H},p=function(b,w){var x=b.props,E=b.dataStartIndex,A=b.dataEndIndex,S=b.updateId;if(!Pk({props:x}))return null;var _=x.children,O=x.layout,M=x.stackOffset,j=x.data,N=x.reverseStackOrder,R=pN(O),F=R.numericAxisName,$=R.cateAxisName,z=yr(_,r),L=nie(j,z,"".concat(F,"Id"),"".concat($,"Id"),M,N),U=l.reduce(function(q,D){var oe="".concat(D.axisType,"Map");return X(X({},q),{},Te({},oe,ope(x,X(X({},D),{},{graphicalItems:z,stackGroups:D.axisType===F&&L,dataStartIndex:E,dataEndIndex:A}))))},{}),H=lpe(X(X({},U),{},{props:x,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(U).forEach(function(q){U[q]=u(x,U[q],H,q.replace("Map",""),n)});var V=U["".concat($,"Map")],I=ape(V),Y=f(x,X(X({},U),{},{dataStartIndex:E,dataEndIndex:A,updateId:S,graphicalItems:z,stackGroups:L,offset:H}));return X(X({formattedGraphicalItems:Y,graphicalItems:z,offset:H,stackGroups:L},I),U)},m=function(y){function b(w){var x,E,A;return Ufe(this,b),A=Wfe(this,b,[w]),Te(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(A,"accessibilityManager",new Tfe),Te(A,"handleLegendBBoxUpdate",function(S){if(S){var _=A.state,O=_.dataStartIndex,M=_.dataEndIndex,j=_.updateId;A.setState(X({legendBBox:S},p({props:A.props,dataStartIndex:O,dataEndIndex:M,updateId:j},X(X({},A.state),{},{legendBBox:S}))))}}),Te(A,"handleReceiveSyncEvent",function(S,_,O){if(A.props.syncId===S){if(O===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(_)}}),Te(A,"handleBrushChange",function(S){var _=S.startIndex,O=S.endIndex;if(_!==A.state.dataStartIndex||O!==A.state.dataEndIndex){var M=A.state.updateId;A.setState(function(){return X({dataStartIndex:_,dataEndIndex:O},p({props:A.props,dataStartIndex:_,dataEndIndex:O,updateId:M},A.state))}),A.triggerSyncEvent({dataStartIndex:_,dataEndIndex:O})}}),Te(A,"handleMouseEnter",function(S){var _=A.getMouseInfo(S);if(_){var O=X(X({},_),{},{isTooltipActive:!0});A.setState(O),A.triggerSyncEvent(O);var M=A.props.onMouseEnter;Ce(M)&&M(O,S)}}),Te(A,"triggeredAfterMouseMove",function(S){var _=A.getMouseInfo(S),O=_?X(X({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(O),A.triggerSyncEvent(O);var M=A.props.onMouseMove;Ce(M)&&M(O,S)}),Te(A,"handleItemMouseEnter",function(S){A.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Te(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Te(A,"handleMouseMove",function(S){S.persist(),A.throttleTriggeredAfterMouseMove(S)}),Te(A,"handleMouseLeave",function(S){A.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};A.setState(_),A.triggerSyncEvent(_);var O=A.props.onMouseLeave;Ce(O)&&O(_,S)}),Te(A,"handleOuterEvent",function(S){var _=WW(S),O=di(A.props,"".concat(_));if(_&&Ce(O)){var M,j;/.*touch.*/i.test(_)?j=A.getMouseInfo(S.changedTouches[0]):j=A.getMouseInfo(S),O((M=j)!==null&&M!==void 0?M:{},S)}}),Te(A,"handleClick",function(S){var _=A.getMouseInfo(S);if(_){var O=X(X({},_),{},{isTooltipActive:!0});A.setState(O),A.triggerSyncEvent(O);var M=A.props.onClick;Ce(M)&&M(O,S)}}),Te(A,"handleMouseDown",function(S){var _=A.props.onMouseDown;if(Ce(_)){var O=A.getMouseInfo(S);_(O,S)}}),Te(A,"handleMouseUp",function(S){var _=A.props.onMouseUp;if(Ce(_)){var O=A.getMouseInfo(S);_(O,S)}}),Te(A,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Te(A,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&A.handleMouseDown(S.changedTouches[0])}),Te(A,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&A.handleMouseUp(S.changedTouches[0])}),Te(A,"handleDoubleClick",function(S){var _=A.props.onDoubleClick;if(Ce(_)){var O=A.getMouseInfo(S);_(O,S)}}),Te(A,"handleContextMenu",function(S){var _=A.props.onContextMenu;if(Ce(_)){var O=A.getMouseInfo(S);_(O,S)}}),Te(A,"triggerSyncEvent",function(S){A.props.syncId!==void 0&&vA.emit(bA,A.props.syncId,S,A.eventEmitterSymbol)}),Te(A,"applySyncEvent",function(S){var _=A.props,O=_.layout,M=_.syncMethod,j=A.state.updateId,N=S.dataStartIndex,R=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)A.setState(X({dataStartIndex:N,dataEndIndex:R},p({props:A.props,dataStartIndex:N,dataEndIndex:R,updateId:j},A.state)));else if(S.activeTooltipIndex!==void 0){var F=S.chartX,$=S.chartY,z=S.activeTooltipIndex,L=A.state,U=L.offset,H=L.tooltipTicks;if(!U)return;if(typeof M=="function")z=M(H,S);else if(M==="value"){z=-1;for(var V=0;V<H.length;V++)if(H[V].value===S.activeLabel){z=V;break}}var I=X(X({},U),{},{x:U.left,y:U.top}),Y=Math.min(F,I.x+I.width),q=Math.min($,I.y+I.height),D=H[z]&&H[z].value,oe=zE(A.state,A.props.data,z),ve=H[z]?{x:O==="horizontal"?H[z].coordinate:Y,y:O==="horizontal"?q:H[z].coordinate}:q$;A.setState(X(X({},S),{},{activeLabel:D,activeCoordinate:ve,activePayload:oe,activeTooltipIndex:z}))}else A.setState(S)}),Te(A,"renderCursor",function(S){var _,O=A.state,M=O.isTooltipActive,j=O.activeCoordinate,N=O.activePayload,R=O.offset,F=O.activeTooltipIndex,$=O.tooltipAxisBandSize,z=A.getTooltipEventType(),L=(_=S.props.active)!==null&&_!==void 0?_:M,U=A.props.layout,H=S.key||"_recharts-cursor";return B.createElement(Ife,{key:H,activeCoordinate:j,activePayload:N,activeTooltipIndex:F,chartName:n,element:S,isActive:L,layout:U,offset:R,tooltipAxisBandSize:$,tooltipEventType:z})}),Te(A,"renderPolarAxis",function(S,_,O){var M=di(S,"type.axisType"),j=di(A.state,"".concat(M,"Map")),N=S.type.defaultProps,R=N!==void 0?X(X({},N),S.props):S.props,F=j&&j[R["".concat(M,"Id")]];return P.cloneElement(S,X(X({},F),{},{className:ke(M,F.className),key:S.key||"".concat(_,"-").concat(O),ticks:hs(F,!0)}))}),Te(A,"renderPolarGrid",function(S){var _=S.props,O=_.radialLines,M=_.polarAngles,j=_.polarRadius,N=A.state,R=N.radiusAxisMap,F=N.angleAxisMap,$=Ws(R),z=Ws(F),L=z.cx,U=z.cy,H=z.innerRadius,V=z.outerRadius;return P.cloneElement(S,{polarAngles:Array.isArray(M)?M:hs(z,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(j)?j:hs($,!0).map(function(I){return I.coordinate}),cx:L,cy:U,innerRadius:H,outerRadius:V,key:S.key||"polar-grid",radialLines:O})}),Te(A,"renderLegend",function(){var S=A.state.formattedGraphicalItems,_=A.props,O=_.children,M=_.width,j=_.height,N=A.props.margin||{},R=M-(N.left||0)-(N.right||0),F=yL({children:O,formattedGraphicalItems:S,legendWidth:R,legendContent:c});if(!F)return null;var $=F.item,z=uN(F,Dfe);return P.cloneElement($,X(X({},z),{},{chartWidth:M,chartHeight:j,margin:N,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Te(A,"renderTooltip",function(){var S,_=A.props,O=_.children,M=_.accessibilityLayer,j=si(O,jn);if(!j)return null;var N=A.state,R=N.isTooltipActive,F=N.activeCoordinate,$=N.activePayload,z=N.activeLabel,L=N.offset,U=(S=j.props.active)!==null&&S!==void 0?S:R;return P.cloneElement(j,{viewBox:X(X({},L),{},{x:L.left,y:L.top}),active:U,label:z,payload:U?$:[],coordinate:F,accessibilityLayer:M})}),Te(A,"renderBrush",function(S){var _=A.props,O=_.margin,M=_.data,j=A.state,N=j.offset,R=j.dataStartIndex,F=j.dataEndIndex,$=j.updateId;return P.cloneElement(S,{key:S.key||"_recharts-brush",onChange:sb(A.handleBrushChange,S.props.onChange),data:M,x:te(S.props.x)?S.props.x:N.left,y:te(S.props.y)?S.props.y:N.top+N.height+N.brushBottom-(O.bottom||0),width:te(S.props.width)?S.props.width:N.width,startIndex:R,endIndex:F,updateId:"brush-".concat($)})}),Te(A,"renderReferenceElement",function(S,_,O){if(!S)return null;var M=A,j=M.clipPathId,N=A.state,R=N.xAxisMap,F=N.yAxisMap,$=N.offset,z=S.type.defaultProps||{},L=S.props,U=L.xAxisId,H=U===void 0?z.xAxisId:U,V=L.yAxisId,I=V===void 0?z.yAxisId:V;return P.cloneElement(S,{key:S.key||"".concat(_,"-").concat(O),xAxis:R[H],yAxis:F[I],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:j})}),Te(A,"renderActivePoints",function(S){var _=S.item,O=S.activePoint,M=S.basePoint,j=S.childIndex,N=S.isRange,R=[],F=_.props.key,$=_.item.type.defaultProps!==void 0?X(X({},_.item.type.defaultProps),_.item.props):_.item.props,z=$.activeDot,L=$.dataKey,U=X(X({index:j,dataKey:L,cx:O.x,cy:O.y,r:4,fill:BP(_.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},ye(z,!1)),Ax(z));return R.push(b.renderActiveDot(z,U,"".concat(F,"-activePoint-").concat(j))),M?R.push(b.renderActiveDot(z,X(X({},U),{},{cx:M.x,cy:M.y}),"".concat(F,"-basePoint-").concat(j))):N&&R.push(null),R}),Te(A,"renderGraphicChild",function(S,_,O){var M=A.filterFormatItem(S,_,O);if(!M)return null;var j=A.getTooltipEventType(),N=A.state,R=N.isTooltipActive,F=N.tooltipAxis,$=N.activeTooltipIndex,z=N.activeLabel,L=A.props.children,U=si(L,jn),H=M.props,V=H.points,I=H.isRange,Y=H.baseLine,q=M.item.type.defaultProps!==void 0?X(X({},M.item.type.defaultProps),M.item.props):M.item.props,D=q.activeDot,oe=q.hide,ve=q.activeBar,be=q.activeShape,Z=!!(!oe&&R&&U&&(D||ve||be)),ae={};j!=="axis"&&U&&U.props.trigger==="click"?ae={onClick:sb(A.handleItemMouseEnter,S.props.onClick)}:j!=="axis"&&(ae={onMouseLeave:sb(A.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:sb(A.handleItemMouseEnter,S.props.onMouseEnter)});var J=P.cloneElement(S,X(X({},M.props),ae));function Q(Qe){return typeof F.dataKey=="function"?F.dataKey(Qe.payload):null}if(Z)if($>=0){var ie,G;if(F.dataKey&&!F.allowDuplicatedCategory){var ue=typeof F.dataKey=="function"?Q:"payload.".concat(F.dataKey.toString());ie=wx(V,ue,z),G=I&&Y&&wx(Y,ue,z)}else ie=V==null?void 0:V[$],G=I&&Y&&Y[$];if(be||ve){var ce=S.props.activeIndex!==void 0?S.props.activeIndex:$;return[P.cloneElement(S,X(X(X({},M.props),ae),{},{activeIndex:ce})),null,null]}if(!Ee(ie))return[J].concat(up(A.renderActivePoints({item:M,activePoint:ie,basePoint:G,childIndex:$,isRange:I})))}else{var we,Pe=(we=A.getItemByXY(A.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:J},Ze=Pe.graphicalItem,Qt=Ze.item,en=Qt===void 0?S:Qt,vi=Ze.childIndex,le=X(X(X({},M.props),ae),{},{activeIndex:vi});return[P.cloneElement(en,le),null,null]}return I?[J,null,null]:[J,null]}),Te(A,"renderCustomized",function(S,_,O){return P.cloneElement(S,X(X({key:"recharts-customized-".concat(O)},A.props),A.state))}),Te(A,"renderMap",{CartesianGrid:{handler:db,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:db},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:db},YAxis:{handler:db},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((x=w.id)!==null&&x!==void 0?x:rc("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=gD(A.triggeredAfterMouseMove,(E=w.throttleDelay)!==null&&E!==void 0?E:1e3/60),A.state={},A}return Kfe(b,y),Vfe(b,[{key:"componentDidMount",value:function(){var x,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,E=x.children,A=x.data,S=x.height,_=x.layout,O=si(E,jn);if(O){var M=O.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,N=zE(this.state,A,M,j),R=this.state.tooltipTicks[M].coordinate,F=(this.state.offset.top+S)/2,$=_==="horizontal",z=$?{x:R,y:F}:{y:R,x:F},L=this.state.formattedGraphicalItems.find(function(H){var V=H.item;return V.type.name==="Scatter"});L&&(z=X(X({},z),L.props.points[M].tooltipPosition),N=L.props.points[M].tooltipPayload);var U={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:j,activePayload:N,activeCoordinate:z};this.setState(U),this.renderCursor(O),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var A,S;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(x){fS([si(x.children,jn)],[si(this.props.children,jn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=si(this.props.children,jn);if(x&&typeof x.props.shared=="boolean"){var E=x.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var E=this.container,A=E.getBoundingClientRect(),S=vQ(A),_={chartX:Math.round(x.pageX-S.left),chartY:Math.round(x.pageY-S.top)},O=A.width/E.offsetWidth||1,M=this.inRange(_.chartX,_.chartY,O);if(!M)return null;var j=this.state,N=j.xAxisMap,R=j.yAxisMap,F=this.getTooltipEventType(),$=dN(this.state,this.props.data,this.props.layout,M);if(F!=="axis"&&N&&R){var z=Ws(N).scale,L=Ws(R).scale,U=z&&z.invert?z.invert(_.chartX):null,H=L&&L.invert?L.invert(_.chartY):null;return X(X({},_),{},{xValue:U,yValue:H},$)}return $?X(X({},_),$):null}},{key:"inRange",value:function(x,E){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,_=x/A,O=E/A;if(S==="horizontal"||S==="vertical"){var M=this.state.offset,j=_>=M.left&&_<=M.left+M.width&&O>=M.top&&O<=M.top+M.height;return j?{x:_,y:O}:null}var N=this.state,R=N.angleAxisMap,F=N.radiusAxisMap;if(R&&F){var $=Ws(R);return Dj({x:_,y:O},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,E=this.getTooltipEventType(),A=si(x,jn),S={};A&&E==="axis"&&(A.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Ax(this.props,this.handleOuterEvent);return X(X({},_),S)}},{key:"addListener",value:function(){vA.on(bA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vA.removeListener(bA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,E,A){for(var S=this.state.formattedGraphicalItems,_=0,O=S.length;_<O;_++){var M=S[_];if(M.item===x||M.props.key===x.key||E===ds(M.item.type)&&A===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,E=this.state.offset,A=E.left,S=E.top,_=E.height,O=E.width;return B.createElement("defs",null,B.createElement("clipPath",{id:x},B.createElement("rect",{x:A,y:S,height:_,width:O})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(E,A){var S=cN(A,2),_=S[0],O=S[1];return X(X({},E),{},Te({},_,O.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(E,A){var S=cN(A,2),_=S[0],O=S[1];return X(X({},E),{},Te({},_,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[x])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(x){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[x])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(x){var E=this.state,A=E.formattedGraphicalItems,S=E.activeItem;if(A&&A.length)for(var _=0,O=A.length;_<O;_++){var M=A[_],j=M.props,N=M.item,R=N.type.defaultProps!==void 0?X(X({},N.type.defaultProps),N.props):N.props,F=ds(N.type);if(F==="Bar"){var $=(j.data||[]).find(function(H){return ise(x,H)});if($)return{graphicalItem:M,payload:$}}else if(F==="RadialBar"){var z=(j.data||[]).find(function(H){return Dj(x,H)});if(z)return{graphicalItem:M,payload:z}}else if(Qw(M,S)||e1(M,S)||Ag(M,S)){var L=Gle({graphicalItem:M,activeTooltipItem:S,itemData:R.data}),U=R.activeIndex===void 0?L:R.activeIndex;return{graphicalItem:X(X({},M),{},{childIndex:U}),payload:Ag(M,S)?R.data[L]:M.props.data[L]}}}return null}},{key:"render",value:function(){var x=this;if(!Pk(this))return null;var E=this.props,A=E.children,S=E.className,_=E.width,O=E.height,M=E.style,j=E.compact,N=E.title,R=E.desc,F=uN(E,Lfe),$=ye(F,!1);if(j)return B.createElement(zM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(mS,qh({},$,{width:_,height:O,title:N,desc:R}),this.renderClipPath(),kk(A,this.renderMap)));if(this.props.accessibilityLayer){var z,L;$.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,$.role=(L=this.props.role)!==null&&L!==void 0?L:"application",$.onKeyDown=function(H){x.accessibilityManager.keyboardEvent(H)},$.onFocus=function(){x.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return B.createElement(zM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",qh({className:ke("recharts-wrapper",S),style:X({position:"relative",cursor:"default",width:_,height:O},M)},U,{ref:function(V){x.container=V}}),B.createElement(mS,qh({},$,{width:_,height:O,title:N,desc:R,style:epe}),this.renderClipPath(),kk(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);Te(m,"displayName",n),Te(m,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Te(m,"getDerivedStateFromProps",function(y,b){var w=y.dataKey,x=y.data,E=y.children,A=y.width,S=y.height,_=y.layout,O=y.stackOffset,M=y.margin,j=b.dataStartIndex,N=b.dataEndIndex;if(b.updateId===void 0){var R=fN(y);return X(X(X({},R),{},{updateId:0},p(X(X({props:y},R),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:x,prevWidth:A,prevHeight:S,prevLayout:_,prevStackOffset:O,prevMargin:M,prevChildren:E})}if(w!==b.prevDataKey||x!==b.prevData||A!==b.prevWidth||S!==b.prevHeight||_!==b.prevLayout||O!==b.prevStackOffset||!ed(M,b.prevMargin)){var F=fN(y),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=X(X({},dN(b,x,_)),{},{updateId:b.updateId+1}),L=X(X(X({},F),$),z);return X(X(X({},L),p(X({props:y},L),b)),{},{prevDataKey:w,prevData:x,prevWidth:A,prevHeight:S,prevLayout:_,prevStackOffset:O,prevMargin:M,prevChildren:E})}if(!fS(E,b.prevChildren)){var U,H,V,I,Y=si(E,Jf),q=Y&&(U=(H=Y.props)===null||H===void 0?void 0:H.startIndex)!==null&&U!==void 0?U:j,D=Y&&(V=(I=Y.props)===null||I===void 0?void 0:I.endIndex)!==null&&V!==void 0?V:N,oe=q!==j||D!==N,ve=!Ee(x),be=ve&&!oe?b.updateId:b.updateId+1;return X(X({updateId:be},p(X(X({props:y},b),{},{updateId:be,dataStartIndex:q,dataEndIndex:D}),b)),{},{prevChildren:E,dataStartIndex:q,dataEndIndex:D})}return null}),Te(m,"renderActiveDot",function(y,b,w){var x;return P.isValidElement(y)?x=P.cloneElement(y,b):Ce(y)?x=y(b):x=B.createElement(jv,b),B.createElement(De,{className:"recharts-active-dot",key:w},x)});var g=P.forwardRef(function(b,w){return B.createElement(m,qh({},b,{ref:w}))});return g.displayName=m.displayName,g},JP=c1({chartName:"LineChart",GraphicalChild:qi,axisComponents:[{axisType:"xAxis",AxisComp:gi},{axisType:"yAxis",AxisComp:Rr}],formatAxisMap:UP}),ZP=c1({chartName:"BarChart",GraphicalChild:Gi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gi},{axisType:"yAxis",AxisComp:Rr}],formatAxisMap:UP}),upe=c1({chartName:"PieChart",GraphicalChild:Is,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Zw},{axisType:"radiusAxis",AxisComp:Yw}],formatAxisMap:pie,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),X$=c1({chartName:"ComposedChart",GraphicalChild:[qi,Es,Gi,s1],axisComponents:[{axisType:"xAxis",AxisComp:gi},{axisType:"yAxis",AxisComp:Rr},{axisType:"zAxis",AxisComp:a1}],formatAxisMap:UP});const hpe=["#2F7FD9","#EC3115","#2666B1","#B59D81"];function wA({title:t,data:e,xKey:n,yKeys:r,colors:i=hpe,format:o="number",isLoading:a=!1,anomalies:s=[],showAnomalies:l=!0}){const c=P.useMemo(()=>{if(!e||e.length===0)return[0,100];const f=e.flatMap(w=>r.map(x=>Number(w[x])||0)),p=Math.min(...f),m=Math.max(...f),g=(m-p)*.1,y=Math.max(0,Math.floor(p-g)),b=Math.ceil(m+g);return[y,b]},[e,r]),u=f=>o==="currency"?f>=1e6?`$${(f/1e6).toFixed(1)}M`:f>=1e3?`$${(f/1e3).toFixed(0)}K`:bs(f):f>=1e6?`${(f/1e6).toFixed(1)}M`:f>=1e3?`${(f/1e3).toFixed(0)}K`:vs(f),h=f=>{const p=Number(f);return o==="currency"?bs(p):vs(p)};return v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{children:t})}),v.jsxs(Ke,{children:[a?v.jsx("div",{className:"flex items-center justify-center h-[300px]",children:v.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):v.jsx(fs,{width:"100%",height:300,children:v.jsxs(JP,{data:e,children:[v.jsx(Ss,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(gi,{dataKey:n,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"}}),v.jsx(Rr,{domain:c,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:u}),v.jsx(jn,{formatter:f=>h(f),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),v.jsx(vr,{}),r.map((f,p)=>v.jsx(qi,{type:"monotone",dataKey:f,stroke:i[p%i.length],strokeWidth:2,dot:!1,activeDot:{r:4}},f)),l&&s&&s.length>0&&v.jsx(v.Fragment,{children:s.map((f,p)=>{if(!e[f.index])return null;const m=f.severity==="high"?"#ef4444":f.severity==="medium"?"#f59e0b":"#eab308";return v.jsx(Mv,{x:e[f.index][n],y:f.value,r:8,fill:m,stroke:"white",strokeWidth:2,opacity:.8,label:{value:"!",fill:"white",fontSize:12,fontWeight:"bold"}},`anomaly-${p}`)})})]})}),l&&s&&s.length>0&&!a&&v.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx(Qz,{className:"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0"}),v.jsxs("div",{className:"text-sm",children:[v.jsxs("p",{className:"font-semibold text-amber-900 mb-2",children:[s.length," Anomal",s.length===1?"y":"ies"," Detected"]}),v.jsxs("div",{className:"space-y-1 text-amber-800",children:[s.slice(0,3).map((f,p)=>{var m;return v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:f.severity==="high"?"#ef4444":f.severity==="medium"?"#f59e0b":"#eab308"}}),v.jsxs("span",{className:"text-xs",children:[(m=e[f.index])==null?void 0:m[n],": ",f.reason]})]},p)}),s.length>3&&v.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:["+",s.length-3," more anomalies"]})]})]})]})})]})]})}const dpe=["#2F7FD9","#EC3115","#2666B1","#B59D81"];function rm({title:t,data:e,xKey:n,yKeys:r,colors:i=dpe,format:o="number",isLoading:a=!1}){const s=P.useMemo(()=>{if(!e||e.length===0)return[0,100];const u=e.flatMap(y=>r.map(b=>Number(y[b])||0)),h=Math.min(...u),f=Math.max(...u),p=(f-h)*.1,m=Math.max(0,Math.floor(h-p)),g=Math.ceil(f+p);return[m,g]},[e,r]),l=u=>o==="currency"?u>=1e6?`$${(u/1e6).toFixed(1)}M`:u>=1e3?`$${(u/1e3).toFixed(0)}K`:bs(u):u>=1e6?`${(u/1e6).toFixed(1)}M`:u>=1e3?`${(u/1e3).toFixed(0)}K`:vs(u),c=u=>{const h=Number(u);return o==="currency"?bs(h):vs(h)};return v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{children:t})}),v.jsx(Ke,{children:a?v.jsx("div",{className:"flex items-center justify-center h-[300px]",children:v.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):v.jsx(fs,{width:"100%",height:300,children:v.jsxs(ZP,{data:e,children:[v.jsx(Ss,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(gi,{dataKey:n,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"}}),v.jsx(Rr,{domain:s,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:l}),v.jsx(jn,{formatter:u=>c(u),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),v.jsx(vr,{}),r.map((u,h)=>v.jsx(Gi,{dataKey:u,fill:i[h%i.length],radius:[4,4,0,0]},u))]})})})]})}function AA({title:t,description:e,data:n,xKey:r,leftYAxis:i,rightYAxis:o,isLoading:a=!1}){const s=P.useMemo(()=>{if(!n||n.length===0)return[0,100];const h=n.map(g=>Number(g[i.key])||0),f=Math.min(...h),p=Math.max(...h),m=(p-f)*.1;return[Math.max(0,Math.floor(f-m)),Math.ceil(p+m)]},[n,i.key]),l=P.useMemo(()=>{if(!n||n.length===0)return[0,100];const h=n.map(g=>Number(g[o.key])||0),f=Math.min(...h),p=Math.max(...h),m=(p-f)*.1;return[Math.max(0,Math.floor(f-m)),Math.ceil(p+m)]},[n,o.key]),c=(h,f)=>f==="currency"?h>=1e6?`$${(h/1e6).toFixed(1)}M`:h>=1e3?`$${(h/1e3).toFixed(0)}K`:bs(h):f==="percent"?`${h.toFixed(1)}%`:h>=1e6?`${(h/1e6).toFixed(1)}M`:h>=1e3?`${(h/1e3).toFixed(0)}K`:vs(h),u=(h,f)=>{const p=Number(h);return f==="currency"?bs(p):f==="percent"?`${p.toFixed(2)}%`:vs(p)};return v.jsxs(qe,{children:[v.jsxs(et,{children:[v.jsx(tt,{children:t}),e&&v.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e})]}),v.jsx(Ke,{children:a?v.jsx("div",{className:"flex items-center justify-center h-[400px]",children:v.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):v.jsx(fs,{width:"100%",height:400,children:v.jsxs(X$,{data:n,children:[v.jsx(Ss,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(gi,{dataKey:r,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"}}),v.jsx(Rr,{yAxisId:"left",domain:s,tick:{fill:i.color,fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:h=>c(h,i.format),label:{value:i.label,angle:-90,position:"insideLeft",style:{fill:i.color,fontSize:12}}}),v.jsx(Rr,{yAxisId:"right",orientation:"right",domain:l,tick:{fill:o.color,fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:h=>c(h,o.format),label:{value:o.label,angle:90,position:"insideRight",style:{fill:o.color,fontSize:12}}}),v.jsx(jn,{formatter:(h,f)=>{const p=f===i.key?i:o;return[u(h,p.format),p.label]},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),v.jsx(vr,{}),(i.type||"bar")==="bar"?v.jsx(Gi,{yAxisId:"left",dataKey:i.key,fill:i.color,name:i.label,radius:[4,4,0,0]}):v.jsx(qi,{yAxisId:"left",type:"monotone",dataKey:i.key,stroke:i.color,name:i.label,strokeWidth:3,dot:{fill:i.color,r:4}}),(o.type||"line")==="line"?v.jsx(qi,{yAxisId:"right",type:"monotone",dataKey:o.key,stroke:o.color,name:o.label,strokeWidth:3,dot:{fill:o.color,r:4}}):v.jsx(Gi,{yAxisId:"right",dataKey:o.key,fill:o.color,name:o.label,radius:[4,4,0,0]})]})})})]})}function Y$(t,e){return function(){return t.apply(e,arguments)}}const{toString:fpe}=Object.prototype,{getPrototypeOf:QP}=Object,{iterator:u1,toStringTag:J$}=Symbol,h1=(t=>e=>{const n=fpe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_o=t=>(t=t.toLowerCase(),e=>h1(e)===t),d1=t=>e=>typeof e===t,{isArray:Np}=Array,hp=d1("undefined");function Nv(t){return t!==null&&!hp(t)&&t.constructor!==null&&!hp(t.constructor)&&Mr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Z$=_o("ArrayBuffer");function ppe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Z$(t.buffer),e}const mpe=d1("string"),Mr=d1("function"),Q$=d1("number"),Rv=t=>t!==null&&typeof t=="object",gpe=t=>t===!0||t===!1,Ib=t=>{if(h1(t)!=="object")return!1;const e=QP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(J$ in t)&&!(u1 in t)},ype=t=>{if(!Rv(t)||Nv(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},vpe=_o("Date"),bpe=_o("File"),xpe=_o("Blob"),wpe=_o("FileList"),Ape=t=>Rv(t)&&Mr(t.pipe),Spe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Mr(t.append)&&((e=h1(t))==="formdata"||e==="object"&&Mr(t.toString)&&t.toString()==="[object FormData]"))},Epe=_o("URLSearchParams"),[Cpe,_pe,Ppe,Tpe]=["ReadableStream","Request","Response","Headers"].map(_o),kpe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Iv(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Np(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Nv(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let s;for(r=0;r<a;r++)s=o[r],e.call(null,t[s],s,t)}}function eF(t,e){if(Nv(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Lc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tF=t=>!hp(t)&&t!==Lc;function UE(){const{caseless:t,skipUndefined:e}=tF(this)&&this||{},n={},r=(i,o)=>{const a=t&&eF(n,o)||o;Ib(n[a])&&Ib(i)?n[a]=UE(n[a],i):Ib(i)?n[a]=UE({},i):Np(i)?n[a]=i.slice():(!e||!hp(i))&&(n[a]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Iv(arguments[i],r);return n}const Ope=(t,e,n,{allOwnKeys:r}={})=>(Iv(e,(i,o)=>{n&&Mr(i)?t[o]=Y$(i,n):t[o]=i},{allOwnKeys:r}),t),jpe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Mpe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Npe=(t,e,n,r)=>{let i,o,a;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!r||r(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=n!==!1&&QP(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Rpe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Ipe=t=>{if(!t)return null;if(Np(t))return t;let e=t.length;if(!Q$(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Dpe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&QP(Uint8Array)),Lpe=(t,e)=>{const r=(t&&t[u1]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},$pe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Fpe=_o("HTMLFormElement"),Bpe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),mN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),zpe=_o("RegExp"),nF=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Iv(n,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(r[o]=a||i)}),Object.defineProperties(t,r)},Upe=t=>{nF(t,(e,n)=>{if(Mr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Mr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Hpe=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Np(t)?r(t):r(String(t).split(e)),n},Vpe=()=>{},Wpe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Gpe(t){return!!(t&&Mr(t.append)&&t[J$]==="FormData"&&t[u1])}const qpe=t=>{const e=new Array(10),n=(r,i)=>{if(Rv(r)){if(e.indexOf(r)>=0)return;if(Nv(r))return r;if(!("toJSON"in r)){e[i]=r;const o=Np(r)?[]:{};return Iv(r,(a,s)=>{const l=n(a,i+1);!hp(l)&&(o[s]=l)}),e[i]=void 0,o}}return r};return n(t,0)},Kpe=_o("AsyncFunction"),Xpe=t=>t&&(Rv(t)||Mr(t))&&Mr(t.then)&&Mr(t.catch),rF=((t,e)=>t?setImmediate:e?((n,r)=>(Lc.addEventListener("message",({source:i,data:o})=>{i===Lc&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Lc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Mr(Lc.postMessage)),Ype=typeof queueMicrotask<"u"?queueMicrotask.bind(Lc):typeof process<"u"&&process.nextTick||rF,Jpe=t=>t!=null&&Mr(t[u1]),W={isArray:Np,isArrayBuffer:Z$,isBuffer:Nv,isFormData:Spe,isArrayBufferView:ppe,isString:mpe,isNumber:Q$,isBoolean:gpe,isObject:Rv,isPlainObject:Ib,isEmptyObject:ype,isReadableStream:Cpe,isRequest:_pe,isResponse:Ppe,isHeaders:Tpe,isUndefined:hp,isDate:vpe,isFile:bpe,isBlob:xpe,isRegExp:zpe,isFunction:Mr,isStream:Ape,isURLSearchParams:Epe,isTypedArray:Dpe,isFileList:wpe,forEach:Iv,merge:UE,extend:Ope,trim:kpe,stripBOM:jpe,inherits:Mpe,toFlatObject:Npe,kindOf:h1,kindOfTest:_o,endsWith:Rpe,toArray:Ipe,forEachEntry:Lpe,matchAll:$pe,isHTMLForm:Fpe,hasOwnProperty:mN,hasOwnProp:mN,reduceDescriptors:nF,freezeMethods:Upe,toObjectSet:Hpe,toCamelCase:Bpe,noop:Vpe,toFiniteNumber:Wpe,findKey:eF,global:Lc,isContextDefined:tF,isSpecCompliantForm:Gpe,toJSONObject:qpe,isAsyncFn:Kpe,isThenable:Xpe,setImmediate:rF,asap:Ype,isIterable:Jpe};function Ie(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}W.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const iF=Ie.prototype,oF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oF[t]={value:t}});Object.defineProperties(Ie,oF);Object.defineProperty(iF,"isAxiosError",{value:!0});Ie.from=(t,e,n,r,i,o)=>{const a=Object.create(iF);W.toFlatObject(t,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ie.call(a,s,l,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",o&&Object.assign(a,o),a};const Zpe=null;function HE(t){return W.isPlainObject(t)||W.isArray(t)}function aF(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function gN(t,e,n){return t?t.concat(e).map(function(i,o){return i=aF(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function Qpe(t){return W.isArray(t)&&!t.some(HE)}const eme=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function f1(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!W.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(W.isDate(m))return m.toISOString();if(W.isBoolean(m))return m.toString();if(!l&&W.isBlob(m))throw new Ie("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(m)||W.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let b=m;if(m&&!y&&typeof m=="object"){if(W.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(W.isArray(m)&&Qpe(m)||(W.isFileList(m)||W.endsWith(g,"[]"))&&(b=W.toArray(m)))return g=aF(g),b.forEach(function(x,E){!(W.isUndefined(x)||x===null)&&e.append(a===!0?gN([g],E,o):a===null?g:g+"[]",c(x))}),!1}return HE(m)?!0:(e.append(gN(y,g,o),c(m)),!1)}const h=[],f=Object.assign(eme,{defaultVisitor:u,convertValue:c,isVisitable:HE});function p(m,g){if(!W.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),W.forEach(m,function(b,w){(!(W.isUndefined(b)||b===null)&&i.call(e,b,W.isString(w)?w.trim():w,g,f))===!0&&p(b,g?g.concat(w):[w])}),h.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return p(t),e}function yN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function eT(t,e){this._pairs=[],t&&f1(t,this,e)}const sF=eT.prototype;sF.append=function(e,n){this._pairs.push([e,n])};sF.toString=function(e){const n=e?function(r){return e.call(this,r,yN)}:yN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function tme(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lF(t,e,n){if(!e)return t;const r=n&&n.encode||tme;W.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=W.isURLSearchParams(e)?e.toString():new eT(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class vN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(r){r!==null&&e(r)})}}const cF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nme=typeof URLSearchParams<"u"?URLSearchParams:eT,rme=typeof FormData<"u"?FormData:null,ime=typeof Blob<"u"?Blob:null,ome={isBrowser:!0,classes:{URLSearchParams:nme,FormData:rme,Blob:ime},protocols:["http","https","file","blob","url","data"]},tT=typeof window<"u"&&typeof document<"u",VE=typeof navigator=="object"&&navigator||void 0,ame=tT&&(!VE||["ReactNative","NativeScript","NS"].indexOf(VE.product)<0),sme=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lme=tT&&window.location.href||"http://localhost",cme=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tT,hasStandardBrowserEnv:ame,hasStandardBrowserWebWorkerEnv:sme,navigator:VE,origin:lme},Symbol.toStringTag,{value:"Module"})),tr={...cme,...ome};function ume(t,e){return f1(t,new tr.classes.URLSearchParams,{visitor:function(n,r,i,o){return tr.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function hme(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function dme(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function uF(t){function e(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=o>=n.length;return a=!a&&W.isArray(i)?i.length:a,l?(W.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!s):((!i[a]||!W.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],o)&&W.isArray(i[a])&&(i[a]=dme(i[a])),!s)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(r,i)=>{e(hme(r),i,n,0)}),n}return null}function fme(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Dv={transitional:cF,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=W.isObject(e);if(o&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return i?JSON.stringify(uF(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ume(e,this.formSerializer).toString();if((s=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return f1(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),fme(e)):e}],transformResponse:[function(e){const n=this.transitional||Dv.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(s){if(a)throw s.name==="SyntaxError"?Ie.from(s,Ie.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tr.classes.FormData,Blob:tr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{Dv.headers[t]={}});const pme=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mme=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&pme[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},bN=Symbol("internals");function im(t){return t&&String(t).trim().toLowerCase()}function Db(t){return t===!1||t==null?t:W.isArray(t)?t.map(Db):String(t)}function gme(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const yme=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function SA(t,e,n,r,i){if(W.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!W.isString(e)){if(W.isString(r))return e.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(e)}}function vme(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function bme(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,a){return this[r].call(this,e,i,o,a)},configurable:!0})})}let Nr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(s,l,c){const u=im(l);if(!u)throw new Error("header name must be a non-empty string");const h=W.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Db(s))}const a=(s,l)=>W.forEach(s,(c,u)=>o(c,u,l));if(W.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(W.isString(e)&&(e=e.trim())&&!yme(e))a(mme(e),n);else if(W.isObject(e)&&W.isIterable(e)){let s={},l,c;for(const u of e){if(!W.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?W.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(s,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=im(e),e){const r=W.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return gme(i);if(W.isFunction(n))return n.call(this,i,r);if(W.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=im(e),e){const r=W.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||SA(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(a){if(a=im(a),a){const s=W.findKey(r,a);s&&(!n||SA(r,r[s],s,n))&&(delete r[s],i=!0)}}return W.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||SA(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return W.forEach(this,(i,o)=>{const a=W.findKey(r,o);if(a){n[a]=Db(i),delete n[o];return}const s=e?vme(o):String(o).trim();s!==o&&delete n[o],n[s]=Db(i),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[bN]=this[bN]={accessors:{}}).accessors,i=this.prototype;function o(a){const s=im(a);r[s]||(bme(i,a),r[s]=!0)}return W.isArray(e)?e.forEach(o):o(e),this}};Nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Nr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});W.freezeMethods(Nr);function EA(t,e){const n=this||Dv,r=e||n,i=Nr.from(r.headers);let o=r.data;return W.forEach(t,function(s){o=s.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function hF(t){return!!(t&&t.__CANCEL__)}function Rp(t,e,n){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(Rp,Ie,{__CANCEL__:!0});function dF(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function xme(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wme(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];a||(a=c),n[i]=l,r[i]=c;let h=o,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-a<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function Ame(t,e){let n=0,r=1e3/e,i,o;const a=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t(...c)};return[(...c)=>{const u=Date.now(),h=u-n;h>=r?a(c,u):(i=c,o||(o=setTimeout(()=>{o=null,a(i)},r-h)))},()=>i&&a(i)]}const _0=(t,e,n=3)=>{let r=0;const i=wme(50,250);return Ame(o=>{const a=o.loaded,s=o.lengthComputable?o.total:void 0,l=a-r,c=i(l),u=a<=s;r=a;const h={loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-a)/c:void 0,event:o,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(h)},n)},xN=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},wN=t=>(...e)=>W.asap(()=>t(...e)),Sme=tr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,tr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(tr.origin),tr.navigator&&/(msie|trident)/i.test(tr.navigator.userAgent)):()=>!0,Eme=tr.hasStandardBrowserEnv?{write(t,e,n,r,i,o,a){if(typeof document>"u")return;const s=[`${t}=${encodeURIComponent(e)}`];W.isNumber(n)&&s.push(`expires=${new Date(n).toUTCString()}`),W.isString(r)&&s.push(`path=${r}`),W.isString(i)&&s.push(`domain=${i}`),o===!0&&s.push("secure"),W.isString(a)&&s.push(`SameSite=${a}`),document.cookie=s.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Cme(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _me(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function fF(t,e,n){let r=!Cme(e);return t&&(r||n==!1)?_me(t,e):e}const AN=t=>t instanceof Nr?{...t}:t;function oh(t,e){e=e||{};const n={};function r(c,u,h,f){return W.isPlainObject(c)&&W.isPlainObject(u)?W.merge.call({caseless:f},c,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function i(c,u,h,f){if(W.isUndefined(u)){if(!W.isUndefined(c))return r(void 0,c,h,f)}else return r(c,u,h,f)}function o(c,u){if(!W.isUndefined(u))return r(void 0,u)}function a(c,u){if(W.isUndefined(u)){if(!W.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(c,u,h)=>i(AN(c),AN(u),h,!0)};return W.forEach(Object.keys({...t,...e}),function(u){const h=l[u]||i,f=h(t[u],e[u],u);W.isUndefined(f)&&h!==s||(n[u]=f)}),n}const pF=t=>{const e=oh({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:s}=e;if(e.headers=a=Nr.from(a),e.url=lF(fF(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),W.isFormData(n)){if(tr.hasStandardBrowserEnv||tr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,h])=>{c.includes(u.toLowerCase())&&a.set(u,h)})}}if(tr.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(e)),r||r!==!1&&Sme(e.url))){const l=i&&o&&Eme.read(o);l&&a.set(i,l)}return e},Pme=typeof XMLHttpRequest<"u",Tme=Pme&&function(t){return new Promise(function(n,r){const i=pF(t);let o=i.data;const a=Nr.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,h,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function b(){if(!y)return;const x=Nr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:x,config:t,request:y};dF(function(_){n(_),g()},function(_){r(_),g()},A),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(r(new Ie("Request aborted",Ie.ECONNABORTED,t,y)),y=null)},y.onerror=function(E){const A=E&&E.message?E.message:"Network Error",S=new Ie(A,Ie.ERR_NETWORK,t,y);S.event=E||null,r(S),y=null},y.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||cF;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),r(new Ie(E,A.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,y)),y=null},o===void 0&&a.setContentType(null),"setRequestHeader"in y&&W.forEach(a.toJSON(),function(E,A){y.setRequestHeader(A,E)}),W.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),s&&s!=="json"&&(y.responseType=i.responseType),c&&([f,m]=_0(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([h,p]=_0(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=x=>{y&&(r(!x||x.type?new Rp(null,t,y):x),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const w=xme(i.url);if(w&&tr.protocols.indexOf(w)===-1){r(new Ie("Unsupported protocol "+w+":",Ie.ERR_BAD_REQUEST,t));return}y.send(o||null)})},kme=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Ie?u:new Rp(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,o(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const s=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>W.asap(s),l}},Ome=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},jme=async function*(t,e){for await(const n of Mme(t))yield*Ome(n,e)},Mme=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},SN=(t,e,n,r)=>{const i=jme(t,e);let o=0,a,s=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let h=u.byteLength;if(n){let f=o+=h;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},EN=64*1024,{isFunction:fb}=W,Nme=(({Request:t,Response:e})=>({Request:t,Response:e}))(W.global),{ReadableStream:CN,TextEncoder:_N}=W.global,PN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Rme=t=>{t=W.merge.call({skipUndefined:!0},Nme,t);const{fetch:e,Request:n,Response:r}=t,i=e?fb(e):typeof fetch=="function",o=fb(n),a=fb(r);if(!i)return!1;const s=i&&fb(CN),l=i&&(typeof _N=="function"?(m=>g=>m.encode(g))(new _N):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=o&&s&&PN(()=>{let m=!1;const g=new n(tr.origin,{body:new CN,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),u=a&&s&&PN(()=>W.isReadableStream(new r("").body)),h={stream:u&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(g,y)=>{let b=g&&g[m];if(b)return b.call(g);throw new Ie(`Response type '${m}' is not supported`,Ie.ERR_NOT_SUPPORT,y)})});const f=async m=>{if(m==null)return 0;if(W.isBlob(m))return m.size;if(W.isSpecCompliantForm(m))return(await new n(tr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(W.isArrayBufferView(m)||W.isArrayBuffer(m))return m.byteLength;if(W.isURLSearchParams(m)&&(m=m+""),W.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const y=W.toFiniteNumber(m.getContentLength());return y??f(g)};return async m=>{let{url:g,method:y,data:b,signal:w,cancelToken:x,timeout:E,onDownloadProgress:A,onUploadProgress:S,responseType:_,headers:O,withCredentials:M="same-origin",fetchOptions:j}=pF(m),N=e||fetch;_=_?(_+"").toLowerCase():"text";let R=kme([w,x&&x.toAbortSignal()],E),F=null;const $=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let z;try{if(S&&c&&y!=="get"&&y!=="head"&&(z=await p(O,b))!==0){let Y=new n(g,{method:"POST",body:b,duplex:"half"}),q;if(W.isFormData(b)&&(q=Y.headers.get("content-type"))&&O.setContentType(q),Y.body){const[D,oe]=xN(z,_0(wN(S)));b=SN(Y.body,EN,D,oe)}}W.isString(M)||(M=M?"include":"omit");const L=o&&"credentials"in n.prototype,U={...j,signal:R,method:y.toUpperCase(),headers:O.normalize().toJSON(),body:b,duplex:"half",credentials:L?M:void 0};F=o&&new n(g,U);let H=await(o?N(F,j):N(g,U));const V=u&&(_==="stream"||_==="response");if(u&&(A||V&&$)){const Y={};["status","statusText","headers"].forEach(ve=>{Y[ve]=H[ve]});const q=W.toFiniteNumber(H.headers.get("content-length")),[D,oe]=A&&xN(q,_0(wN(A),!0))||[];H=new r(SN(H.body,EN,D,()=>{oe&&oe(),$&&$()}),Y)}_=_||"text";let I=await h[W.findKey(h,_)||"text"](H,m);return!V&&$&&$(),await new Promise((Y,q)=>{dF(Y,q,{data:I,headers:Nr.from(H.headers),status:H.status,statusText:H.statusText,config:m,request:F})})}catch(L){throw $&&$(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,m,F),{cause:L.cause||L}):Ie.from(L,L&&L.code,m,F)}}},Ime=new Map,mF=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let a=o.length,s=a,l,c,u=Ime;for(;s--;)l=o[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:Rme(e)),u=c;return c};mF();const nT={http:Zpe,xhr:Tme,fetch:{get:mF}};W.forEach(nT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const TN=t=>`- ${t}`,Dme=t=>W.isFunction(t)||t===null||t===!1;function Lme(t,e){t=W.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let a=0;a<n;a++){r=t[a];let s;if(i=r,!Dme(r)&&(i=nT[(s=String(r)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${s}'`);if(i&&(W.isFunction(i)||(i=i.get(e))))break;o[s||"#"+a]=i}if(!i){const a=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(TN).join(`
`):" "+TN(a[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i}const gF={getAdapter:Lme,adapters:nT};function CA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Rp(null,t)}function kN(t){return CA(t),t.headers=Nr.from(t.headers),t.data=EA.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gF.getAdapter(t.adapter||Dv.adapter,t)(t).then(function(r){return CA(t),r.data=EA.call(t,t.transformResponse,r),r.headers=Nr.from(r.headers),r},function(r){return hF(r)||(CA(t),r&&r.response&&(r.response.data=EA.call(t,t.transformResponse,r.response),r.response.headers=Nr.from(r.response.headers))),Promise.reject(r)})}const yF="1.13.2",p1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{p1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ON={};p1.transitional=function(e,n,r){function i(o,a){return"[Axios v"+yF+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,s)=>{if(e===!1)throw new Ie(i(a," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!ON[a]&&(ON[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,s):!0}};p1.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function $me(t,e,n){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const s=t[o],l=s===void 0||a(s,o,t);if(l!==!0)throw new Ie("option "+o+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+o,Ie.ERR_BAD_OPTION)}}const Lb={assertOptions:$me,validators:p1},To=Lb.validators;let Qu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vN,response:new vN}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=oh(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Lb.assertOptions(r,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean)},!1),i!=null&&(W.isFunction(i)?n.paramsSerializer={serialize:i}:Lb.assertOptions(i,{encode:To.function,serialize:To.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Lb.assertOptions(n,{baseUrl:To.spelling("baseURL"),withXsrfToken:To.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&W.merge(o.common,o[n.method]);o&&W.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=Nr.concat(a,o);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const m=[kN.bind(this),void 0];for(m.unshift(...s),m.push(...c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=s.length;let p=n;for(;h<f;){const m=s[h++],g=s[h++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=kN.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=oh(this.defaults,e);const n=fF(e.baseURL,e.url,e.allowAbsoluteUrls);return lF(n,e.params,e.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(e){Qu.prototype[e]=function(n,r){return this.request(oh(r||{},{method:e,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,s){return this.request(oh(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Qu.prototype[e]=n(),Qu.prototype[e+"Form"]=n(!0)});let Fme=class vF{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(s=>{r.subscribe(s),o=s}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,s){r.reason||(r.reason=new Rp(o,a,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new vF(function(i){e=i}),cancel:e}}};function Bme(t){return function(n){return t.apply(null,n)}}function zme(t){return W.isObject(t)&&t.isAxiosError===!0}const WE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(WE).forEach(([t,e])=>{WE[e]=t});function bF(t){const e=new Qu(t),n=Y$(Qu.prototype.request,e);return W.extend(n,Qu.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return bF(oh(t,i))},n}const on=bF(Dv);on.Axios=Qu;on.CanceledError=Rp;on.CancelToken=Fme;on.isCancel=hF;on.VERSION=yF;on.toFormData=f1;on.AxiosError=Ie;on.Cancel=on.CanceledError;on.all=function(e){return Promise.all(e)};on.spread=Bme;on.isAxiosError=zme;on.mergeConfig=oh;on.AxiosHeaders=Nr;on.formToJSON=t=>uF(W.isHTMLForm(t)?new FormData(t):t);on.getAdapter=gF.getAdapter;on.HttpStatusCode=WE;on.default=on;const{Axios:ATe,AxiosError:STe,CanceledError:ETe,isCancel:CTe,CancelToken:_Te,VERSION:PTe,all:TTe,Cancel:kTe,isAxiosError:OTe,spread:jTe,toFormData:MTe,AxiosHeaders:NTe,HttpStatusCode:RTe,formToJSON:ITe,getAdapter:DTe,mergeConfig:LTe}=on,Ume="/api",Br=on.create({baseURL:Ume,headers:{"Content-Type":"application/json"},timeout:3e4});Br.interceptors.request.use(t=>t,t=>Promise.reject(t));Br.interceptors.response.use(t=>t,t=>(t.response?console.error("API Error:",t.response.data):t.request?console.error("Network Error:",t.message):console.error("Error:",t.message),Promise.reject(t)));const ko={getSummary:async()=>(await Br.get("/metrics/summary")).data,getRevenueTrend:async(t=6)=>(await Br.get("/metrics/revenue-trend",{params:{months:t}})).data,getChannelBreakdown:async()=>(await Br.get("/metrics/channel-breakdown")).data,getCacByChannel:async()=>(await Br.get("/metrics/cac-by-channel")).data,getArpuBySegment:async t=>(await Br.get("/metrics/arpu-by-segment",{params:t?{year:t}:void 0})).data,getCohortRetention:async t=>(await Br.get("/metrics/cohort-retention",{params:t?{cohort_month:t}:void 0})).data,getGmvTrend:async(t,e)=>(await Br.get("/metrics/gmv-trend",{params:{...t&&{start_date:t},...e&&{end_date:e}}})).data,getChannelMix:async(t,e)=>(await Br.get("/metrics/channel-mix",{params:{...t&&{start_date:t},...e&&{end_date:e}}})).data,getAttachRate:async(t,e,n)=>(await Br.get("/metrics/attach-rate",{params:{...t&&{segment:t},...e&&{start_date:e},...n&&{end_date:n}}})).data,getHourlyHeatmap:async()=>(await Br.get("/metrics/hourly-heatmap")).data,getAttachRateDetailed:async()=>(await Br.get("/metrics/attach-rate-detailed")).data},Hme=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],jN=Array.from({length:24},(t,e)=>e);function MN({data:t,isLoading:e}){const n=P.useMemo(()=>Math.max(...t.map(o=>o.value),1),[t]),r=o=>{const a=o/n;return a<.2?"rgba(59, 130, 246, 0.1)":a<.4?"rgba(59, 130, 246, 0.3)":a<.6?"rgba(59, 130, 246, 0.5)":a<.8?"rgba(59, 130, 246, 0.7)":"rgba(59, 130, 246, 0.9)"},i=(o,a)=>t.find(s=>s.day===o&&s.hour===a);return e?v.jsxs(qe,{children:[v.jsx(et,{children:v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(ak,{className:"h-4 w-4"}),"Order Patterns by Hour"]})}),v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})})})]}):v.jsxs(qe,{children:[v.jsxs(et,{children:[v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(ak,{className:"h-4 w-4"}),"Order Patterns by Hour"]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Orders per hour, last 30 days"})]}),v.jsx(Ke,{children:v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx("div",{className:"w-12 flex-shrink-0"}),jN.filter(o=>o%3===0).map(o=>v.jsx("div",{className:"flex-1 text-center text-[10px] text-gray-500",children:o===0?"12a":o===12?"12p":o>12?`${o-12}p`:`${o}a`},o))]}),Hme.map(o=>v.jsxs("div",{className:"flex items-center gap-0.5",children:[v.jsx("div",{className:"w-12 flex-shrink-0 text-[11px] text-gray-500",children:o}),jN.map(a=>{const s=i(o,a);return v.jsx("div",{className:"flex-1 h-6 rounded-sm cursor-pointer transition-transform hover:scale-110",style:{backgroundColor:r((s==null?void 0:s.value)||0)},title:`${o} ${a}:00 - ${(s==null?void 0:s.value)||0} orders`},a)})]},o)),v.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 text-[10px] text-gray-500",children:[v.jsx("span",{children:"Low"}),v.jsx("div",{className:"w-24 h-2 rounded",style:{background:"linear-gradient(to right, rgba(59, 130, 246, 0.1), rgba(59, 130, 246, 0.9))"}}),v.jsx("span",{children:"High"})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-[10px] text-gray-500",children:"ðŸŒ™ Peak Dinner"}),v.jsx("div",{className:"text-xs font-medium",children:"6-9 PM (42%)"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-[10px] text-gray-500",children:"ðŸŒ… Peak Lunch"}),v.jsx("div",{className:"text-xs font-medium",children:"11 AM-1 PM (18%)"})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-[10px] text-gray-500",children:"ðŸŽ‰ Best Day"}),v.jsx("div",{className:"text-xs font-medium",children:"Saturday (+35%)"})]})]})]})})]})}function Vme({data:t,isLoading:e}){if(e)return v.jsxs(qe,{children:[v.jsx(et,{children:v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(sk,{className:"h-4 w-4"}),"CAC by Channel"]})}),v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})})})]});const r=[...t].sort((i,o)=>i.cac-o.cac).map(i=>({...i,benchmark:i.benchmark||Wme(i.channel)}));return v.jsxs(qe,{children:[v.jsxs(et,{children:[v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(sk,{className:"h-4 w-4"}),"CAC by Channel"]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Customer Acquisition Cost vs Industry Benchmark"})]}),v.jsx(Ke,{children:v.jsx("div",{className:"space-y-4",children:r.map(i=>{const o=i.cac<=i.benchmark,a=(i.benchmark-i.cac)/i.benchmark*100,s=Math.min(i.cac/50*100,100),l=Math.min(i.benchmark/50*100,100);return v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-sm",children:i.channel}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[v.jsxs("span",{className:"font-semibold",style:{color:o?"#10B981":"#EF4444"},children:["$",i.cac.toFixed(2)]}),v.jsxs("span",{children:["Benchmark: $",i.benchmark.toFixed(0)]})]})]}),v.jsxs("span",{className:"text-xs font-medium",style:{color:o?"#10B981":"#EF4444"},children:[o?"âœ“":"!"," ",Math.abs(a).toFixed(0),"%",o?" under":" over"]})]}),v.jsxs("div",{className:"relative h-2 bg-gray-100 rounded-full overflow-hidden",children:[v.jsx("div",{className:"absolute h-full rounded-full transition-all duration-500",style:{width:`${s}%`,backgroundColor:o?"#10B981":"#EF4444"}}),v.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-gray-400",style:{left:`${l}%`},title:`Benchmark: $${i.benchmark}`})]})]},i.channel)})})})]})}function Wme(t){return{Email:15,App:8,"Push Notifications":8,Search:30,Social:25,"Social Media":25,Display:35,TV:45,Radio:35,OOH:40}[t]||25}function Gme({data:t,isLoading:e}){if(e)return v.jsxs(qe,{children:[v.jsx(et,{children:v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(V1,{className:"h-4 w-4"}),"Product Attach Rates"]})}),v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})})})]});if(!t||t.length===0)return v.jsxs(qe,{children:[v.jsx(et,{children:v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(V1,{className:"h-4 w-4"}),"Product Attach Rates"]})}),v.jsx(Ke,{children:v.jsx("div",{className:"text-gray-500 text-sm",children:"No attach rate data available"})})]});const n=r=>r>=1e6?`$${(r/1e6).toFixed(1)}M`:r>=1e3?`$${(r/1e3).toFixed(0)}K`:`$${r}`;return v.jsxs(qe,{children:[v.jsxs(et,{children:[v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(V1,{className:"h-4 w-4"}),"Product Attach Rates"]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cross-sell performance with pizza orders"})]}),v.jsx(Ke,{children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:t.map(r=>{const i=(r.trend||0)>=0,o=2*Math.PI*35,a=r.rate/100*o;return v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 80 80",children:[v.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"none",stroke:"#E5E7EB",strokeWidth:"8"}),v.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"none",stroke:"#3B82F6",strokeWidth:"8",strokeDasharray:`${a} ${o}`,strokeDashoffset:o/4,strokeLinecap:"round",className:"transition-all duration-500"}),v.jsxs("text",{x:"40",y:"40",textAnchor:"middle",dominantBaseline:"middle",className:"text-base font-semibold fill-gray-900",children:[r.rate,"%"]})]})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"font-medium text-sm truncate",children:r.product}),v.jsxs("div",{className:"text-xs text-gray-500",children:[n(r.revenue)," revenue"]}),r.trend!==void 0&&v.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium mt-1",style:{color:i?"#10B981":"#EF4444"},children:[i?v.jsx(Sv,{className:"h-3 w-3"}):v.jsx(V_,{className:"h-3 w-3"}),i?"+":"",r.trend.toFixed(1),"%"]})]})]},r.product)})})})]})}function qme({data:t,isLoading:e}){if(e)return v.jsxs(qe,{children:[v.jsx(et,{children:v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(ok,{className:"h-4 w-4"}),"Cohort Retention"]})}),v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})})})]});const n=t.reduce((s,l)=>{const c=l.cohort_month;return s[c]||(s[c]={}),s[c][l.months_since_acquisition]=l.retention_rate_pct,s},{}),r=Object.keys(n).sort().slice(-6),i=6,o=s=>s>=80?"#10B981":s>=60?"#3B82F6":s>=40?"#F59E0B":s>=20?"#EF4444":"#6B7280",a=s=>new Date(s).toLocaleDateString("en-US",{month:"short",year:"2-digit"});return v.jsxs(qe,{children:[v.jsxs(et,{children:[v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(ok,{className:"h-4 w-4"}),"Cohort Retention"]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Customer retention by signup month"})]}),v.jsx(Ke,{children:v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("div",{className:"flex mb-2",children:[v.jsx("div",{className:"w-20 flex-shrink-0 text-[10px] font-medium text-gray-500",children:"Cohort"}),Array.from({length:i},(s,l)=>v.jsx("div",{className:"w-16 flex-shrink-0 text-center text-[10px] font-medium text-gray-500",children:l===0?"M0":`M${l}`},l))]}),r.map(s=>v.jsxs("div",{className:"flex mb-1",children:[v.jsx("div",{className:"w-20 flex-shrink-0 text-[11px] font-medium text-gray-700 flex items-center",children:a(s)}),Array.from({length:i},(l,c)=>{const u=n[s][c],h=u!==void 0;return v.jsx("div",{className:"w-16 flex-shrink-0 h-9 flex items-center justify-center text-[11px] font-medium rounded mx-0.5",style:{backgroundColor:h?`${o(u)}30`:"transparent",color:h?o(u):"#9CA3AF"},title:h?`${u.toFixed(1)}% retention`:"No data",children:h?`${u.toFixed(0)}%`:"â€”"},c)})]},s)),v.jsxs("div",{className:"flex gap-4 mt-4 text-[10px] text-gray-500",children:[v.jsx("span",{style:{color:"#10B981"},children:"â— 80%+"}),v.jsx("span",{style:{color:"#3B82F6"},children:"â— 60-79%"}),v.jsx("span",{style:{color:"#F59E0B"},children:"â— 40-59%"}),v.jsx("span",{style:{color:"#EF4444"},children:"â— <40%"})]})]})})]})}function Kme({data:t,isLoading:e}){var r,i,o,a;if(e)return v.jsxs(qe,{children:[v.jsx(et,{children:v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(lk,{className:"h-4 w-4"}),"Customer Journey Funnel"]})}),v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})})})]});const n=Math.max(...t.map(s=>s.value));return v.jsxs(qe,{children:[v.jsxs(et,{children:[v.jsxs(tt,{className:"flex items-center gap-2",children:[v.jsx(lk,{className:"h-4 w-4"}),"Customer Journey Funnel"]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Conversion rates through the customer journey"})]}),v.jsxs(Ke,{children:[v.jsx("div",{className:"space-y-3",children:t.map((s,l)=>{const c=s.value/n*100,u=l>0?(s.value/t[l-1].value*100).toFixed(1):"100.0",h=l>0?(100-parseFloat(u)).toFixed(1):"0.0";return v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex items-center justify-between text-sm",children:[v.jsx("span",{className:"font-medium",children:s.stage}),v.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[v.jsxs("span",{className:"font-semibold",children:[s.value.toLocaleString()," users"]}),l>0&&v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"text-green-600",children:[u,"% convert"]}),v.jsxs("span",{className:"text-red-600",children:[h,"% drop"]})]})]})]}),v.jsx("div",{className:"relative h-14 flex items-center",children:v.jsx("div",{className:"h-full rounded-r-lg transition-all duration-500 flex items-center justify-center text-white font-semibold text-sm",style:{width:`${c}%`,backgroundColor:s.color,clipPath:l===t.length-1?"none":"polygon(0 0, calc(100% - 20px) 0, 100% 50%, calc(100% - 20px) 100%, 0 100%)"},children:c>20&&`${(s.value/t[0].value*100).toFixed(0)}%`})})]},l)})}),v.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-4 border-t",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(r=t[0])==null?void 0:r.value.toLocaleString()}),v.jsx("div",{className:"text-xs text-gray-500",children:"Started"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl font-bold text-green-600",children:(i=t[t.length-1])==null?void 0:i.value.toLocaleString()}),v.jsx("div",{className:"text-xs text-gray-500",children:"Converted"})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(((o=t[t.length-1])==null?void 0:o.value)/((a=t[0])==null?void 0:a.value)*100).toFixed(1),"%"]}),v.jsx("div",{className:"text-xs text-gray-500",children:"Overall Rate"})]})]})]})]})}function Xme({data:t,isLoading:e}){if(e)return v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{children:"Revenue Waterfall"})}),v.jsx(Ke,{children:v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})})})]});let n=0;const r=t.map((a,s)=>{const l=n;return n+=a.value,{...a,start:l,end:n,height:Math.abs(a.value),index:s}}),o=300/Math.max(...r.map(a=>Math.abs(a.end)));return v.jsxs(qe,{children:[v.jsxs(et,{children:[v.jsx(tt,{children:"Revenue Waterfall Analysis"}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Monthly revenue progression"})]}),v.jsx(Ke,{children:v.jsx("div",{className:"space-y-2",children:r.map((a,s)=>{const l=Math.abs(a.value)*o,c=a.start*o;return v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-32 text-sm font-medium text-gray-700 truncate",children:a.label}),v.jsxs("div",{className:"flex-1 relative h-12",children:[v.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-gray-300"}),v.jsx("div",{className:"absolute rounded transition-all duration-300",style:{left:`${c}px`,width:`${l}px`,height:"32px",top:a.isPositive?"4px":"auto",bottom:a.isPositive?"auto":"4px",backgroundColor:a.isPositive?"#10B981":"#EF4444",opacity:.8}}),s<r.length-1&&v.jsx("div",{className:"absolute h-px bg-gray-400",style:{left:`${a.end*o}px`,width:"20px",top:"50%"}})]}),v.jsxs("div",{className:"w-24 text-right",children:[v.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.isPositive?v.jsx(Sv,{className:"h-3 w-3 text-green-600"}):v.jsx(V_,{className:"h-3 w-3 text-red-600"}),v.jsxs("span",{className:"text-sm font-semibold",style:{color:a.isPositive?"#10B981":"#EF4444"},children:["$",(a.value/1e3).toFixed(0),"K"]})]}),v.jsxs("div",{className:"text-xs text-gray-500",children:["Total: $",(a.end/1e3).toFixed(0),"K"]})]})]},s)})})})]})}function Ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Ip(t,e=[]){let n=[];function r(o,a){const s=P.createContext(a),l=n.length;n=[...n,a];const c=h=>{var b;const{scope:f,children:p,...m}=h,g=((b=f==null?void 0:f[t])==null?void 0:b[l])||s,y=P.useMemo(()=>m,Object.values(m));return v.jsx(g.Provider,{value:y,children:p})};c.displayName=o+"Provider";function u(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[l])||s,m=P.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>P.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return P.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,Yme(i,...e)]}function Yme(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...s,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function NN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function m1(...t){return e=>{let n=!1;const r=t.map(i=>{const o=NN(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():NN(t[i],null)}}}}function dn(...t){return P.useCallback(m1(...t),t)}function RN(t){const e=Jme(t),n=P.forwardRef((r,i)=>{const{children:o,...a}=r,s=P.Children.toArray(o),l=s.find(Qme);if(l){const c=l.props.children,u=s.map(h=>h===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:h);return v.jsx(e,{...a,ref:i,children:P.isValidElement(c)?P.cloneElement(c,void 0,u):null})}return v.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function Jme(t){const e=P.forwardRef((n,r)=>{const{children:i,...o}=n;if(P.isValidElement(i)){const a=tge(i),s=ege(o,i.props);return i.type!==P.Fragment&&(s.ref=r?m1(r,a):a),P.cloneElement(i,s)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zme=Symbol("radix.slottable");function Qme(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zme}function ege(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function tge(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xF(t){const e=t+"CollectionProvider",[n,r]=Ip(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:y,children:b}=g,w=B.useRef(null),x=B.useRef(new Map).current;return v.jsx(i,{scope:y,itemMap:x,collectionRef:w,children:b})};a.displayName=e;const s=t+"CollectionSlot",l=RN(s),c=B.forwardRef((g,y)=>{const{scope:b,children:w}=g,x=o(s,b),E=dn(y,x.collectionRef);return v.jsx(l,{ref:E,children:w})});c.displayName=s;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=RN(u),p=B.forwardRef((g,y)=>{const{scope:b,children:w,...x}=g,E=B.useRef(null),A=dn(y,E),S=o(u,b);return B.useEffect(()=>(S.itemMap.set(E,{ref:E,...x}),()=>void S.itemMap.delete(E))),v.jsx(f,{[h]:"",ref:A,children:w})});p.displayName=u;function m(g){const y=o(t+"CollectionConsumer",g);return B.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((S,_)=>x.indexOf(S.ref.current)-x.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},m,r]}var ir=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},nge=H2[" useId ".trim().toString()]||(()=>{}),rge=0;function Lv(t){const[e,n]=P.useState(nge());return ir(()=>{n(r=>r??String(rge++))},[t]),e?`radix-${e}`:""}function ige(t){const e=oge(t),n=P.forwardRef((r,i)=>{const{children:o,...a}=r,s=P.Children.toArray(o),l=s.find(sge);if(l){const c=l.props.children,u=s.map(h=>h===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:h);return v.jsx(e,{...a,ref:i,children:P.isValidElement(c)?P.cloneElement(c,void 0,u):null})}return v.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function oge(t){const e=P.forwardRef((n,r)=>{const{children:i,...o}=n;if(P.isValidElement(i)){const a=cge(i),s=lge(o,i.props);return i.type!==P.Fragment&&(s.ref=r?m1(r,a):a),P.cloneElement(i,s)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var age=Symbol("radix.slottable");function sge(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===age}function lge(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function cge(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var uge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vt=uge.reduce((t,e)=>{const n=ige(`Primitive.${e}`),r=P.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hge(t,e){t&&Av.flushSync(()=>t.dispatchEvent(e))}function Xl(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var dge=H2[" useInsertionEffect ".trim().toString()]||ir;function kg({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=fge({defaultProp:e,onChange:n}),s=t!==void 0,l=s?t:i;{const u=P.useRef(t!==void 0);P.useEffect(()=>{const h=u.current;h!==s&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,r])}const c=P.useCallback(u=>{var h;if(s){const f=pge(u)?u(t):u;f!==t&&((h=a.current)==null||h.call(a,f))}else o(u)},[s,t,o,a]);return[l,c]}function fge({defaultProp:t,onChange:e}){const[n,r]=P.useState(t),i=P.useRef(n),o=P.useRef(e);return dge(()=>{o.current=e},[e]),P.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function pge(t){return typeof t=="function"}var mge=P.createContext(void 0);function rT(t){const e=P.useContext(mge);return t||e||"ltr"}var _A="rovingFocusGroup.onEntryFocus",gge={bubbles:!1,cancelable:!0},$v="RovingFocusGroup",[GE,wF,yge]=xF($v),[vge,AF]=Ip($v,[yge]),[bge,xge]=vge($v),SF=P.forwardRef((t,e)=>v.jsx(GE.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(GE.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(wge,{...t,ref:e})})}));SF.displayName=$v;var wge=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,f=P.useRef(null),p=dn(e,f),m=rT(o),[g,y]=kg({prop:a,defaultProp:s??null,onChange:l,caller:$v}),[b,w]=P.useState(!1),x=Xl(c),E=wF(n),A=P.useRef(!1),[S,_]=P.useState(0);return P.useEffect(()=>{const O=f.current;if(O)return O.addEventListener(_A,x),()=>O.removeEventListener(_A,x)},[x]),v.jsx(bge,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:P.useCallback(O=>y(O),[y]),onItemShiftTab:P.useCallback(()=>w(!0),[]),onFocusableItemAdd:P.useCallback(()=>_(O=>O+1),[]),onFocusableItemRemove:P.useCallback(()=>_(O=>O-1),[]),children:v.jsx(vt.div,{tabIndex:b||S===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{A.current=!0}),onFocus:Ve(t.onFocus,O=>{const M=!A.current;if(O.target===O.currentTarget&&M&&!b){const j=new CustomEvent(_A,gge);if(O.currentTarget.dispatchEvent(j),!j.defaultPrevented){const N=E().filter(L=>L.focusable),R=N.find(L=>L.active),F=N.find(L=>L.id===g),z=[R,F,...N].filter(Boolean).map(L=>L.ref.current);_F(z,u)}}A.current=!1}),onBlur:Ve(t.onBlur,()=>w(!1))})})}),EF="RovingFocusGroupItem",CF=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=t,l=Lv(),c=o||l,u=xge(EF,n),h=u.currentTabStopId===c,f=wF(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=u;return P.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),v.jsx(GE.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:v.jsx(vt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:Ve(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:Ve(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ve(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=Ege(y,u.orientation,u.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const E=x.indexOf(y.currentTarget);x=u.loop?Cge(x,E+1):x.slice(E+1)}setTimeout(()=>_F(x))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:g!=null}):a})})});CF.displayName=EF;var Age={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Sge(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ege(t,e,n){const r=Sge(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Age[r]}function _F(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Cge(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _ge=SF,Pge=CF;function Tge(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var iT=t=>{const{present:e,children:n}=t,r=kge(e),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),o=dn(r.ref,Oge(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:o}):null};iT.displayName="Presence";function kge(t){const[e,n]=P.useState(),r=P.useRef(null),i=P.useRef(t),o=P.useRef("none"),a=t?"mounted":"unmounted",[s,l]=Tge(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const c=pb(r.current);o.current=s==="mounted"?c:"none"},[s]),ir(()=>{const c=r.current,u=i.current;if(u!==t){const f=o.current,p=pb(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ir(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const g=pb(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=p=>{p.target===e&&(o.current=pb(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:P.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function pb(t){return(t==null?void 0:t.animationName)||"none"}function Oge(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var g1="Tabs",[jge]=Ip(g1,[AF]),PF=AF(),[Mge,oT]=jge(g1),TF=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=rT(s),[h,f]=kg({prop:r,onChange:i,defaultProp:o??"",caller:g1});return v.jsx(Mge,{scope:n,baseId:Lv(),value:h,onValueChange:f,orientation:a,dir:u,activationMode:l,children:v.jsx(vt.div,{dir:u,"data-orientation":a,...c,ref:e})})});TF.displayName=g1;var kF="TabsList",OF=P.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=oT(kF,n),a=PF(n);return v.jsx(_ge,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:v.jsx(vt.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});OF.displayName=kF;var jF="TabsTrigger",MF=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=oT(jF,n),s=PF(n),l=IF(a.baseId,r),c=DF(a.baseId,r),u=r===a.value;return v.jsx(Pge,{asChild:!0,...s,focusable:!i,active:u,children:v.jsx(vt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:Ve(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:Ve(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:Ve(t.onFocus,()=>{const h=a.activationMode!=="manual";!u&&!i&&h&&a.onValueChange(r)})})})});MF.displayName=jF;var NF="TabsContent",RF=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=oT(NF,n),l=IF(s.baseId,r),c=DF(s.baseId,r),u=r===s.value,h=P.useRef(u);return P.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),v.jsx(iT,{present:i||u,children:({present:f})=>v.jsx(vt.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&o})})});RF.displayName=NF;function IF(t,e){return`${t}-trigger-${e}`}function DF(t,e){return`${t}-content-${e}`}var Nge=TF,LF=OF,$F=MF,FF=RF;const Rge=Nge,BF=P.forwardRef(({className:t,style:e,...n},r)=>v.jsx(LF,{ref:r,className:Wt("inline-flex h-10 items-center justify-center p-1",t),style:{background:"rgba(15, 23, 42, 0.8)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-md)",color:"var(--color-text-secondary)",...e},...n}));BF.displayName=LF.displayName;const Nh=P.forwardRef(({className:t,style:e,...n},r)=>v.jsx($F,{ref:r,className:Wt("inline-flex items-center justify-center whitespace-nowrap px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",t),style:{borderRadius:"var(--radius-sm)",color:"var(--color-text-secondary)",...e},...n}));Nh.displayName=$F.displayName;const wc=P.forwardRef(({className:t,...e},n)=>v.jsx(FF,{ref:n,className:Wt("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",t),...e}));wc.displayName=FF.displayName;const dp=P.forwardRef(({className:t,variant:e="default",size:n="default",style:r,...i},o)=>{const a=()=>{switch(e){case"outline":return{background:"transparent",border:"1px solid var(--color-border-strong)",color:"var(--color-text-primary)"};case"ghost":return{background:"transparent",color:"var(--color-text-secondary)"};case"destructive":return{background:"var(--color-danger)",color:"white"};default:return{background:"var(--color-accent)",color:"white"}}};return v.jsx("button",{className:Wt("inline-flex items-center justify-center text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50",{"h-10 px-4 py-2":n==="default","h-9 px-3":n==="sm","h-11 px-8":n==="lg","h-10 w-10":n==="icon"},t),style:{borderRadius:"var(--radius-pill)",...a(),...r},ref:o,...i})});dp.displayName="Button";function IN(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ige(t,e=globalThis==null?void 0:globalThis.document){const n=Xl(t);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Dge="DismissableLayer",qE="dismissableLayer.update",Lge="dismissableLayer.pointerDownOutside",$ge="dismissableLayer.focusOutside",DN,zF=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aT=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=P.useContext(zF),[u,h]=P.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=P.useState({}),m=dn(e,_=>h(_)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),w=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=b,A=zge(_=>{const O=_.target,M=[...c.branches].some(j=>j.contains(O));!E||M||(i==null||i(_),a==null||a(_),_.defaultPrevented||s==null||s())},f),S=Uge(_=>{const O=_.target;[...c.branches].some(j=>j.contains(O))||(o==null||o(_),a==null||a(_),_.defaultPrevented||s==null||s())},f);return Ige(_=>{w===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&s&&(_.preventDefault(),s()))},f),P.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(DN=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),LN(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=DN)}},[u,f,n,c]),P.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),LN())},[u,c]),P.useEffect(()=>{const _=()=>p({});return document.addEventListener(qE,_),()=>document.removeEventListener(qE,_)},[]),v.jsx(vt.div,{...l,ref:m,style:{pointerEvents:x?E?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,A.onPointerDownCapture)})});aT.displayName=Dge;var Fge="DismissableLayerBranch",Bge=P.forwardRef((t,e)=>{const n=P.useContext(zF),r=P.useRef(null),i=dn(e,r);return P.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),v.jsx(vt.div,{...t,ref:i})});Bge.displayName=Fge;function zge(t,e=globalThis==null?void 0:globalThis.document){const n=Xl(t),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){UF(Lge,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Uge(t,e=globalThis==null?void 0:globalThis.document){const n=Xl(t),r=P.useRef(!1);return P.useEffect(()=>{const i=o=>{o.target&&!r.current&&UF($ge,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LN(){const t=new CustomEvent(qE);document.dispatchEvent(t)}function UF(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?hge(i,o):i.dispatchEvent(o)}var PA=0;function Hge(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$N()),document.body.insertAdjacentElement("beforeend",t[1]??$N()),PA++,()=>{PA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),PA--}},[])}function $N(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var TA="focusScope.autoFocusOnMount",kA="focusScope.autoFocusOnUnmount",FN={bubbles:!1,cancelable:!0},Vge="FocusScope",HF=P.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=P.useState(null),c=Xl(i),u=Xl(o),h=P.useRef(null),f=dn(e,g=>l(g)),p=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let g=function(x){if(p.paused||!s)return;const E=x.target;s.contains(E)?h.current=E:Us(h.current,{select:!0})},y=function(x){if(p.paused||!s)return;const E=x.relatedTarget;E!==null&&(s.contains(E)||Us(h.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const A of x)A.removedNodes.length>0&&Us(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(b);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,s,p.paused]),P.useEffect(()=>{if(s){zN.add(p);const g=document.activeElement;if(!s.contains(g)){const b=new CustomEvent(TA,FN);s.addEventListener(TA,c),s.dispatchEvent(b),b.defaultPrevented||(Wge(Yge(VF(s)),{select:!0}),document.activeElement===g&&Us(s))}return()=>{s.removeEventListener(TA,c),setTimeout(()=>{const b=new CustomEvent(kA,FN);s.addEventListener(kA,u),s.dispatchEvent(b),b.defaultPrevented||Us(g??document.body,{select:!0}),s.removeEventListener(kA,u),zN.remove(p)},0)}}},[s,c,u,p]);const m=P.useCallback(g=>{if(!n&&!r||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const w=g.currentTarget,[x,E]=Gge(w);x&&E?!g.shiftKey&&b===E?(g.preventDefault(),n&&Us(x,{select:!0})):g.shiftKey&&b===x&&(g.preventDefault(),n&&Us(E,{select:!0})):b===w&&g.preventDefault()}},[n,r,p.paused]);return v.jsx(vt.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})});HF.displayName=Vge;function Wge(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Us(r,{select:e}),document.activeElement!==n)return}function Gge(t){const e=VF(t),n=BN(e,t),r=BN(e.reverse(),t);return[n,r]}function VF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function BN(t,e){for(const n of t)if(!qge(n,{upTo:e}))return n}function qge(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Kge(t){return t instanceof HTMLInputElement&&"select"in t}function Us(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Kge(t)&&e&&t.select()}}var zN=Xge();function Xge(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=UN(t,e),t.unshift(e)},remove(e){var n;t=UN(t,e),(n=t[0])==null||n.resume()}}}function UN(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Yge(t){return t.filter(e=>e.tagName!=="A")}const Jge=["top","right","bottom","left"],Yl=Math.min,ci=Math.max,P0=Math.round,mb=Math.floor,ha=t=>({x:t,y:t}),Zge={left:"right",right:"left",bottom:"top",top:"bottom"},Qge={start:"end",end:"start"};function KE(t,e,n){return ci(t,Yl(e,n))}function Cs(t,e){return typeof t=="function"?t(e):t}function _s(t){return t.split("-")[0]}function Dp(t){return t.split("-")[1]}function sT(t){return t==="x"?"y":"x"}function lT(t){return t==="y"?"height":"width"}const eye=new Set(["top","bottom"]);function la(t){return eye.has(_s(t))?"y":"x"}function cT(t){return sT(la(t))}function tye(t,e,n){n===void 0&&(n=!1);const r=Dp(t),i=cT(t),o=lT(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=T0(a)),[a,T0(a)]}function nye(t){const e=T0(t);return[XE(t),e,XE(e)]}function XE(t){return t.replace(/start|end/g,e=>Qge[e])}const HN=["left","right"],VN=["right","left"],rye=["top","bottom"],iye=["bottom","top"];function oye(t,e,n){switch(t){case"top":case"bottom":return n?e?VN:HN:e?HN:VN;case"left":case"right":return e?rye:iye;default:return[]}}function aye(t,e,n,r){const i=Dp(t);let o=oye(_s(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(XE)))),o}function T0(t){return t.replace(/left|right|bottom|top/g,e=>Zge[e])}function sye(t){return{top:0,right:0,bottom:0,left:0,...t}}function WF(t){return typeof t!="number"?sye(t):{top:t,right:t,bottom:t,left:t}}function k0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function WN(t,e,n){let{reference:r,floating:i}=t;const o=la(e),a=cT(e),s=lT(a),l=_s(e),c=o==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Dp(e)){case"start":p[a]-=f*(n&&c?-1:1);break;case"end":p[a]+=f*(n&&c?-1:1);break}return p}const lye=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=WN(c,r,l),f=r,p={},m=0;for(let g=0;g<s.length;g++){const{name:y,fn:b}=s[g],{x:w,y:x,data:E,reset:A}=await b({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});u=w??u,h=x??h,p={...p,[y]:{...p[y],...E}},A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(c=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:h}=WN(c,f,l)),g=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function Og(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Cs(e,t),m=WF(p),y=s[f?h==="floating"?"reference":"floating":h],b=k0(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),w=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),E=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},A=k0(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:x,strategy:l}):w);return{top:(b.top-A.top+m.top)/E.y,bottom:(A.bottom-b.bottom+m.bottom)/E.y,left:(b.left-A.left+m.left)/E.x,right:(A.right-b.right+m.right)/E.x}}const cye=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=Cs(t,e)||{};if(c==null)return{};const h=WF(u),f={x:n,y:r},p=cT(i),m=lT(p),g=await a.getDimensions(c),y=p==="y",b=y?"top":"left",w=y?"bottom":"right",x=y?"clientHeight":"clientWidth",E=o.reference[m]+o.reference[p]-f[p]-o.floating[m],A=f[p]-o.reference[p],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let _=S?S[x]:0;(!_||!await(a.isElement==null?void 0:a.isElement(S)))&&(_=s.floating[x]||o.floating[m]);const O=E/2-A/2,M=_/2-g[m]/2-1,j=Yl(h[b],M),N=Yl(h[w],M),R=j,F=_-g[m]-N,$=_/2-g[m]/2+O,z=KE(R,$,F),L=!l.arrow&&Dp(i)!=null&&$!==z&&o.reference[m]/2-($<R?j:N)-g[m]/2<0,U=L?$<R?$-R:$-F:0;return{[p]:f[p]+U,data:{[p]:z,centerOffset:$-z-U,...L&&{alignmentOffset:U}},reset:L}}}),uye=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=Cs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=_s(i),w=la(s),x=_s(s)===s,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=f||(x||!g?[T0(s)]:nye(s)),S=m!=="none";!f&&S&&A.push(...aye(s,g,m,E));const _=[s,...A],O=await Og(e,y),M=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&M.push(O[b]),h){const $=tye(i,a,E);M.push(O[$[0]],O[$[1]])}if(j=[...j,{placement:i,overflows:M}],!M.every($=>$<=0)){var N,R;const $=(((N=o.flip)==null?void 0:N.index)||0)+1,z=_[$];if(z&&(!(h==="alignment"?w!==la(z):!1)||j.every(H=>la(H.placement)===w?H.overflows[0]>0:!0)))return{data:{index:$,overflows:j},reset:{placement:z}};let L=(R=j.filter(U=>U.overflows[0]<=0).sort((U,H)=>U.overflows[1]-H.overflows[1])[0])==null?void 0:R.placement;if(!L)switch(p){case"bestFit":{var F;const U=(F=j.filter(H=>{if(S){const V=la(H.placement);return V===w||V==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(V=>V>0).reduce((V,I)=>V+I,0)]).sort((H,V)=>H[1]-V[1])[0])==null?void 0:F[0];U&&(L=U);break}case"initialPlacement":L=s;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function GN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qN(t){return Jge.some(e=>t[e]>=0)}const hye=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Cs(t,e);switch(r){case"referenceHidden":{const o=await Og(e,{...i,elementContext:"reference"}),a=GN(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:qN(a)}}}case"escaped":{const o=await Og(e,{...i,altBoundary:!0}),a=GN(o,n.floating);return{data:{escapedOffsets:a,escaped:qN(a)}}}default:return{}}}}},GF=new Set(["left","top"]);async function dye(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=_s(n),s=Dp(n),l=la(n)==="y",c=GF.has(a)?-1:1,u=o&&l?-1:1,h=Cs(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const fye=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await dye(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},pye=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...l}=Cs(t,e),c={x:n,y:r},u=await Og(e,l),h=la(_s(i)),f=sT(h);let p=c[f],m=c[h];if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=p+u[y],x=p-u[b];p=KE(w,p,x)}if(a){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=m+u[y],x=m-u[b];m=KE(w,m,x)}const g=s.fn({...e,[f]:p,[h]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:o,[h]:a}}}}}},mye=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Cs(t,e),u={x:n,y:r},h=la(i),f=sT(h);let p=u[f],m=u[h];const g=Cs(s,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",E=o.reference[f]-o.floating[x]+y.mainAxis,A=o.reference[f]+o.reference[x]-y.mainAxis;p<E?p=E:p>A&&(p=A)}if(c){var b,w;const x=f==="y"?"width":"height",E=GF.has(_s(i)),A=o.reference[h]-o.floating[x]+(E&&((b=a.offset)==null?void 0:b[h])||0)+(E?0:y.crossAxis),S=o.reference[h]+o.reference[x]+(E?0:((w=a.offset)==null?void 0:w[h])||0)-(E?y.crossAxis:0);m<A?m=A:m>S&&(m=S)}return{[f]:p,[h]:m}}}},gye=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=Cs(t,e),u=await Og(e,c),h=_s(i),f=Dp(i),p=la(i)==="y",{width:m,height:g}=o.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=f===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(b=h,y=f==="end"?"top":"bottom");const w=g-u.top-u.bottom,x=m-u.left-u.right,E=Yl(g-u[y],w),A=Yl(m-u[b],x),S=!e.middlewareData.shift;let _=E,O=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),S&&!f){const j=ci(u.left,0),N=ci(u.right,0),R=ci(u.top,0),F=ci(u.bottom,0);p?O=m-2*(j!==0||N!==0?j+N:ci(u.left,u.right)):_=g-2*(R!==0||F!==0?R+F:ci(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:_});const M=await a.getDimensions(s.floating);return m!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function y1(){return typeof window<"u"}function Lp(t){return qF(t)?(t.nodeName||"").toLowerCase():"#document"}function fi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ya(t){var e;return(e=(qF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qF(t){return y1()?t instanceof Node||t instanceof fi(t).Node:!1}function wo(t){return y1()?t instanceof Element||t instanceof fi(t).Element:!1}function fa(t){return y1()?t instanceof HTMLElement||t instanceof fi(t).HTMLElement:!1}function KN(t){return!y1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fi(t).ShadowRoot}const yye=new Set(["inline","contents"]);function Fv(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ao(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!yye.has(i)}const vye=new Set(["table","td","th"]);function bye(t){return vye.has(Lp(t))}const xye=[":popover-open",":modal"];function v1(t){return xye.some(e=>{try{return t.matches(e)}catch{return!1}})}const wye=["transform","translate","scale","rotate","perspective"],Aye=["transform","translate","scale","rotate","perspective","filter"],Sye=["paint","layout","strict","content"];function uT(t){const e=hT(),n=wo(t)?Ao(t):t;return wye.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Aye.some(r=>(n.willChange||"").includes(r))||Sye.some(r=>(n.contain||"").includes(r))}function Eye(t){let e=Jl(t);for(;fa(e)&&!fp(e);){if(uT(e))return e;if(v1(e))return null;e=Jl(e)}return null}function hT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Cye=new Set(["html","body","#document"]);function fp(t){return Cye.has(Lp(t))}function Ao(t){return fi(t).getComputedStyle(t)}function b1(t){return wo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jl(t){if(Lp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KN(t)&&t.host||ya(t);return KN(e)?e.host:e}function KF(t){const e=Jl(t);return fp(e)?t.ownerDocument?t.ownerDocument.body:t.body:fa(e)&&Fv(e)?e:KF(e)}function jg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=KF(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=fi(i);if(o){const s=YE(a);return e.concat(a,a.visualViewport||[],Fv(i)?i:[],s&&n?jg(s):[])}return e.concat(i,jg(i,[],n))}function YE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function XF(t){const e=Ao(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=fa(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=P0(n)!==o||P0(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function dT(t){return wo(t)?t:t.contextElement}function rd(t){const e=dT(t);if(!fa(e))return ha(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=XF(e);let a=(o?P0(n.width):n.width)/r,s=(o?P0(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const _ye=ha(0);function YF(t){const e=fi(t);return!hT()||!e.visualViewport?_ye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Pye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==fi(t)?!1:e}function ah(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=dT(t);let a=ha(1);e&&(r?wo(r)&&(a=rd(r)):a=rd(t));const s=Pye(o,n,r)?YF(o):ha(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(o){const f=fi(o),p=r&&wo(r)?fi(r):r;let m=f,g=YE(m);for(;g&&r&&p!==m;){const y=rd(g),b=g.getBoundingClientRect(),w=Ao(g),x=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,E=b.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,h*=y.y,l+=x,c+=E,m=fi(g),g=YE(m)}}return k0({width:u,height:h,x:l,y:c})}function x1(t,e){const n=b1(t).scrollLeft;return e?e.left+n:ah(ya(t)).left+n}function JF(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-x1(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Tye(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=ya(r),s=e?v1(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=ha(1);const u=ha(0),h=fa(r);if((h||!h&&!o)&&((Lp(r)!=="body"||Fv(a))&&(l=b1(r)),fa(r))){const p=ah(r);c=rd(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=a&&!h&&!o?JF(a,l):ha(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function kye(t){return Array.from(t.getClientRects())}function Oye(t){const e=ya(t),n=b1(t),r=t.ownerDocument.body,i=ci(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ci(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+x1(t);const s=-n.scrollTop;return Ao(r).direction==="rtl"&&(a+=ci(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const XN=25;function jye(t,e){const n=fi(t),r=ya(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=hT();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=x1(r);if(c<=0){const u=r.ownerDocument,h=u.body,f=getComputedStyle(h),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-h.clientWidth-p);m<=XN&&(o-=m)}else c<=XN&&(o+=c);return{width:o,height:a,x:s,y:l}}const Mye=new Set(["absolute","fixed"]);function Nye(t,e){const n=ah(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=fa(t)?rd(t):ha(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function YN(t,e,n){let r;if(e==="viewport")r=jye(t,n);else if(e==="document")r=Oye(ya(t));else if(wo(e))r=Nye(e,n);else{const i=YF(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return k0(r)}function ZF(t,e){const n=Jl(t);return n===e||!wo(n)||fp(n)?!1:Ao(n).position==="fixed"||ZF(n,e)}function Rye(t,e){const n=e.get(t);if(n)return n;let r=jg(t,[],!1).filter(s=>wo(s)&&Lp(s)!=="body"),i=null;const o=Ao(t).position==="fixed";let a=o?Jl(t):t;for(;wo(a)&&!fp(a);){const s=Ao(a),l=uT(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&Mye.has(i.position)||Fv(a)&&!l&&ZF(t,a))?r=r.filter(u=>u!==a):i=s,a=Jl(a)}return e.set(t,r),r}function Iye(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?v1(e)?[]:Rye(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const h=YN(e,u,i);return c.top=ci(h.top,c.top),c.right=Yl(h.right,c.right),c.bottom=Yl(h.bottom,c.bottom),c.left=ci(h.left,c.left),c},YN(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Dye(t){const{width:e,height:n}=XF(t);return{width:e,height:n}}function Lye(t,e,n){const r=fa(e),i=ya(e),o=n==="fixed",a=ah(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=ha(0);function c(){l.x=x1(i)}if(r||!r&&!o)if((Lp(e)!=="body"||Fv(i))&&(s=b1(e)),r){const p=ah(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?JF(i,s):ha(0),h=a.left+s.scrollLeft-l.x-u.x,f=a.top+s.scrollTop-l.y-u.y;return{x:h,y:f,width:a.width,height:a.height}}function OA(t){return Ao(t).position==="static"}function JN(t,e){if(!fa(t)||Ao(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ya(t)===n&&(n=n.ownerDocument.body),n}function QF(t,e){const n=fi(t);if(v1(t))return n;if(!fa(t)){let i=Jl(t);for(;i&&!fp(i);){if(wo(i)&&!OA(i))return i;i=Jl(i)}return n}let r=JN(t,e);for(;r&&bye(r)&&OA(r);)r=JN(r,e);return r&&fp(r)&&OA(r)&&!uT(r)?n:r||Eye(t)||n}const $ye=async function(t){const e=this.getOffsetParent||QF,n=this.getDimensions,r=await n(t.floating);return{reference:Lye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Fye(t){return Ao(t).direction==="rtl"}const Bye={convertOffsetParentRelativeRectToViewportRelativeRect:Tye,getDocumentElement:ya,getClippingRect:Iye,getOffsetParent:QF,getElementRects:$ye,getClientRects:kye,getDimensions:Dye,getScale:rd,isElement:wo,isRTL:Fye};function eB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zye(t,e){let n=null,r;const i=ya(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(s||e(),!f||!p)return;const m=mb(h),g=mb(i.clientWidth-(u+f)),y=mb(i.clientHeight-(h+p)),b=mb(u),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-b+"px",threshold:ci(0,Yl(1,l))||1};let E=!0;function A(S){const _=S[0].intersectionRatio;if(_!==l){if(!E)return a();_?a(!1,_):r=setTimeout(()=>{a(!1,1e-7)},1e3)}_===1&&!eB(c,t.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(A,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,x)}n.observe(t)}return a(!0),o}function Uye(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=dT(t),u=i||o?[...c?jg(c):[],...jg(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const h=c&&s?zye(c,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?ah(t):null;l&&y();function y(){const b=ah(t);g&&!eB(g,b)&&n(),g=b,m=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Hye=fye,Vye=pye,Wye=uye,Gye=gye,qye=hye,ZN=cye,Kye=mye,Xye=(t,e,n)=>{const r=new Map,i={platform:Bye,...n},o={...i.platform,_c:r};return lye(t,e,{...i,platform:o})};var Yye=typeof document<"u",Jye=function(){},$b=Yye?P.useLayoutEffect:Jye;function O0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!O0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!O0(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function tB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function QN(t,e){const n=tB(t);return Math.round(e*n)/n}function jA(t){const e=P.useRef(t);return $b(()=>{e.current=t}),e}function Zye(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,h]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=P.useState(r);O0(f,r)||p(r);const[m,g]=P.useState(null),[y,b]=P.useState(null),w=P.useCallback(H=>{H!==S.current&&(S.current=H,g(H))},[]),x=P.useCallback(H=>{H!==_.current&&(_.current=H,b(H))},[]),E=o||m,A=a||y,S=P.useRef(null),_=P.useRef(null),O=P.useRef(u),M=l!=null,j=jA(l),N=jA(i),R=jA(c),F=P.useCallback(()=>{if(!S.current||!_.current)return;const H={placement:e,strategy:n,middleware:f};N.current&&(H.platform=N.current),Xye(S.current,_.current,H).then(V=>{const I={...V,isPositioned:R.current!==!1};$.current&&!O0(O.current,I)&&(O.current=I,Av.flushSync(()=>{h(I)}))})},[f,e,n,N,R]);$b(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[c]);const $=P.useRef(!1);$b(()=>($.current=!0,()=>{$.current=!1}),[]),$b(()=>{if(E&&(S.current=E),A&&(_.current=A),E&&A){if(j.current)return j.current(E,A,F);F()}},[E,A,F,j,M]);const z=P.useMemo(()=>({reference:S,floating:_,setReference:w,setFloating:x}),[w,x]),L=P.useMemo(()=>({reference:E,floating:A}),[E,A]),U=P.useMemo(()=>{const H={position:n,left:0,top:0};if(!L.floating)return H;const V=QN(L.floating,u.x),I=QN(L.floating,u.y);return s?{...H,transform:"translate("+V+"px, "+I+"px)",...tB(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:I}},[n,s,L.floating,u.x,u.y]);return P.useMemo(()=>({...u,update:F,refs:z,elements:L,floatingStyles:U}),[u,F,z,L,U])}const Qye=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ZN({element:r.current,padding:i}).fn(n):{}:r?ZN({element:r,padding:i}).fn(n):{}}}},eve=(t,e)=>({...Hye(t),options:[t,e]}),tve=(t,e)=>({...Vye(t),options:[t,e]}),nve=(t,e)=>({...Kye(t),options:[t,e]}),rve=(t,e)=>({...Wye(t),options:[t,e]}),ive=(t,e)=>({...Gye(t),options:[t,e]}),ove=(t,e)=>({...qye(t),options:[t,e]}),ave=(t,e)=>({...Qye(t),options:[t,e]});var sve="Arrow",nB=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return v.jsx(vt.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});nB.displayName=sve;var lve=nB;function cve(t){const[e,n]=P.useState(void 0);return ir(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fT="Popper",[rB,w1]=Ip(fT),[uve,iB]=rB(fT),oB=t=>{const{__scopePopper:e,children:n}=t,[r,i]=P.useState(null);return v.jsx(uve,{scope:e,anchor:r,onAnchorChange:i,children:n})};oB.displayName=fT;var aB="PopperAnchor",sB=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=iB(aB,n),a=P.useRef(null),s=dn(e,a),l=P.useRef(null);return P.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||a.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:v.jsx(vt.div,{...i,ref:s})});sB.displayName=aB;var pT="PopperContent",[hve,dve]=rB(pT),lB=P.forwardRef((t,e)=>{var Z,ae,J,Q,ie,G;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,y=iB(pT,n),[b,w]=P.useState(null),x=dn(e,ue=>w(ue)),[E,A]=P.useState(null),S=cve(E),_=(S==null?void 0:S.width)??0,O=(S==null?void 0:S.height)??0,M=r+(o!=="center"?"-"+o:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(c)?c:[c],R=N.length>0,F={padding:j,boundary:N.filter(pve),altBoundary:R},{refs:$,floatingStyles:z,placement:L,isPositioned:U,middlewareData:H}=Zye({strategy:"fixed",placement:M,whileElementsMounted:(...ue)=>Uye(...ue,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[eve({mainAxis:i+O,alignmentAxis:a}),l&&tve({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?nve():void 0,...F}),l&&rve({...F}),ive({...F,apply:({elements:ue,rects:ce,availableWidth:we,availableHeight:Pe})=>{const{width:Ze,height:Qt}=ce.reference,en=ue.floating.style;en.setProperty("--radix-popper-available-width",`${we}px`),en.setProperty("--radix-popper-available-height",`${Pe}px`),en.setProperty("--radix-popper-anchor-width",`${Ze}px`),en.setProperty("--radix-popper-anchor-height",`${Qt}px`)}}),E&&ave({element:E,padding:s}),mve({arrowWidth:_,arrowHeight:O}),f&&ove({strategy:"referenceHidden",...F})]}),[V,I]=hB(L),Y=Xl(m);ir(()=>{U&&(Y==null||Y())},[U,Y]);const q=(Z=H.arrow)==null?void 0:Z.x,D=(ae=H.arrow)==null?void 0:ae.y,oe=((J=H.arrow)==null?void 0:J.centerOffset)!==0,[ve,be]=P.useState();return ir(()=>{b&&be(window.getComputedStyle(b).zIndex)},[b]),v.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:U?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(Q=H.transformOrigin)==null?void 0:Q.x,(ie=H.transformOrigin)==null?void 0:ie.y].join(" "),...((G=H.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(hve,{scope:n,placedSide:V,onArrowChange:A,arrowX:q,arrowY:D,shouldHideArrow:oe,children:v.jsx(vt.div,{"data-side":V,"data-align":I,...g,ref:x,style:{...g.style,animation:U?void 0:"none"}})})})});lB.displayName=pT;var cB="PopperArrow",fve={top:"bottom",right:"left",bottom:"top",left:"right"},uB=P.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=dve(cB,r),a=fve[o.placedSide];return v.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:v.jsx(lve,{...i,ref:n,style:{...i.style,display:"block"}})})});uB.displayName=cB;function pve(t){return t!==null}var mve=t=>({name:"transformOrigin",options:t,fn(e){var y,b,w;const{placement:n,rects:r,middlewareData:i}=e,a=((y=i.arrow)==null?void 0:y.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=hB(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=a?h:`${f}px`,g=`${-l}px`):c==="top"?(m=a?h:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=a?h:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=a?h:`${p}px`),{data:{x:m,y:g}}}});function hB(t){const[e,n="center"]=t.split("-");return[e,n]}var dB=oB,fB=sB,pB=lB,mB=uB,gve="Portal",gB=P.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=P.useState(!1);ir(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?Kz.createPortal(v.jsx(vt.div,{...r,ref:e}),a):null});gB.displayName=gve;function yve(t){const e=vve(t),n=P.forwardRef((r,i)=>{const{children:o,...a}=r,s=P.Children.toArray(o),l=s.find(xve);if(l){const c=l.props.children,u=s.map(h=>h===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:h);return v.jsx(e,{...a,ref:i,children:P.isValidElement(c)?P.cloneElement(c,void 0,u):null})}return v.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}function vve(t){const e=P.forwardRef((n,r)=>{const{children:i,...o}=n;if(P.isValidElement(i)){const a=Ave(i),s=wve(o,i.props);return i.type!==P.Fragment&&(s.ref=r?m1(r,a):a),P.cloneElement(i,s)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bve=Symbol("radix.slottable");function xve(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bve}function wve(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function Ave(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Sve(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var yB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Eve="VisuallyHidden",Cve=P.forwardRef((t,e)=>v.jsx(vt.span,{...t,ref:e,style:{...yB,...t.style}}));Cve.displayName=Eve;var _ve=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Eh=new WeakMap,gb=new WeakMap,yb={},MA=0,vB=function(t){return t&&(t.host||vB(t.parentNode))},Pve=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=vB(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Tve=function(t,e,n,r){var i=Pve(e,Array.isArray(t)?t:[t]);yb[n]||(yb[n]=new WeakMap);var o=yb[n],a=[],s=new Set,l=new Set(i),c=function(h){!h||s.has(h)||(s.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(s.has(f))u(f);else try{var p=f.getAttribute(r),m=p!==null&&p!=="false",g=(Eh.get(f)||0)+1,y=(o.get(f)||0)+1;Eh.set(f,g),o.set(f,y),a.push(f),g===1&&m&&gb.set(f,!0),y===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),s.clear(),MA++,function(){a.forEach(function(h){var f=Eh.get(h)-1,p=o.get(h)-1;Eh.set(h,f),o.set(h,p),f||(gb.has(h)||h.removeAttribute(r),gb.delete(h)),p||h.removeAttribute(n)}),MA--,MA||(Eh=new WeakMap,Eh=new WeakMap,gb=new WeakMap,yb={})}},kve=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=_ve(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Tve(r,i,n,"aria-hidden")):function(){return null}},ra=function(){return ra=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ra.apply(this,arguments)};function bB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ove(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Fb="right-scroll-bar-position",Bb="width-before-scroll-bar",jve="with-scroll-bars-hidden",Mve="--removed-body-scroll-bar-size";function NA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Nve(t,e){var n=P.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Rve=typeof window<"u"?P.useLayoutEffect:P.useEffect,eR=new WeakMap;function Ive(t,e){var n=Nve(null,function(r){return t.forEach(function(i){return NA(i,r)})});return Rve(function(){var r=eR.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||NA(s,null)}),o.forEach(function(s){i.has(s)||NA(s,a)})}eR.set(n,t)},[t]),n}function Dve(t){return t}function Lve(t,e){e===void 0&&(e=Dve);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function $ve(t){t===void 0&&(t={});var e=Lve(null);return e.options=ra({async:!0,ssr:!1},t),e}var xB=function(t){var e=t.sideCar,n=bB(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,ra({},n))};xB.isSideCarExport=!0;function Fve(t,e){return t.useMedium(e),xB}var wB=$ve(),RA=function(){},A1=P.forwardRef(function(t,e){var n=P.useRef(null),r=P.useState({onScrollCapture:RA,onWheelCapture:RA,onTouchMoveCapture:RA}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,m=t.noIsolation,g=t.inert,y=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,x=t.gapMode,E=bB(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,S=Ive([n,e]),_=ra(ra({},E),i);return P.createElement(P.Fragment,null,u&&P.createElement(A,{sideCar:wB,removeScrollBar:c,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:x}),a?P.cloneElement(P.Children.only(s),ra(ra({},_),{ref:S})):P.createElement(w,ra({},_,{className:l,ref:S}),s))});A1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A1.classNames={fullWidth:Bb,zeroRight:Fb};var Bve=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zve(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Bve();return e&&t.setAttribute("nonce",e),t}function Uve(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Hve(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Vve=function(){var t=0,e=null;return{add:function(n){t==0&&(e=zve())&&(Uve(e,n),Hve(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Wve=function(){var t=Vve();return function(e,n){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},AB=function(){var t=Wve(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Gve={left:0,top:0,right:0,gap:0},IA=function(t){return parseInt(t||"",10)||0},qve=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[IA(n),IA(r),IA(i)]},Kve=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Gve;var e=qve(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Xve=AB(),id="data-scroll-locked",Yve=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jve,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(id,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fb,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Bb,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Fb," .").concat(Fb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bb," .").concat(Bb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(id,`] {
    `).concat(Mve,": ").concat(s,`px;
  }
`)},tR=function(){var t=parseInt(document.body.getAttribute(id)||"0",10);return isFinite(t)?t:0},Jve=function(){P.useEffect(function(){return document.body.setAttribute(id,(tR()+1).toString()),function(){var t=tR()-1;t<=0?document.body.removeAttribute(id):document.body.setAttribute(id,t.toString())}},[])},Zve=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Jve();var o=P.useMemo(function(){return Kve(i)},[i]);return P.createElement(Xve,{styles:Yve(o,!e,i,n?"":"!important")})},JE=!1;if(typeof window<"u")try{var vb=Object.defineProperty({},"passive",{get:function(){return JE=!0,!0}});window.addEventListener("test",vb,vb),window.removeEventListener("test",vb,vb)}catch{JE=!1}var Ch=JE?{passive:!1}:!1,Qve=function(t){return t.tagName==="TEXTAREA"},SB=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Qve(t)&&n[e]==="visible")},ebe=function(t){return SB(t,"overflowY")},tbe=function(t){return SB(t,"overflowX")},nR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=EB(t,r);if(i){var o=CB(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nbe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},rbe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EB=function(t,e){return t==="v"?ebe(e):tbe(e)},CB=function(t,e){return t==="v"?nbe(e):rbe(e)},ibe=function(t,e){return t==="h"&&e==="rtl"?-1:1},obe=function(t,e,n,r,i){var o=ibe(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,u=a>0,h=0,f=0;do{if(!s)break;var p=CB(t,s),m=p[0],g=p[1],y=p[2],b=g-y-o*m;(m||b)&&EB(t,s)&&(h+=b,f+=m);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(c=!0),c},bb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rR=function(t){return[t.deltaX,t.deltaY]},iR=function(t){return t&&"current"in t?t.current:t},abe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sbe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lbe=0,_h=[];function cbe(t){var e=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(lbe++)[0],o=P.useState(AB)[0],a=P.useRef(t);P.useEffect(function(){a.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Ove([t.lockRef.current],(t.shards||[]).map(iR),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=P.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var b=bb(g),w=n.current,x="deltaX"in g?g.deltaX:w[0]-b[0],E="deltaY"in g?g.deltaY:w[1]-b[1],A,S=g.target,_=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in g&&_==="h"&&S.type==="range")return!1;var O=window.getSelection(),M=O&&O.anchorNode,j=M?M===S||M.contains(S):!1;if(j)return!1;var N=nR(_,S);if(!N)return!0;if(N?A=_:(A=_==="v"?"h":"v",N=nR(_,S)),!N)return!1;if(!r.current&&"changedTouches"in g&&(x||E)&&(r.current=A),!A)return!0;var R=r.current||A;return obe(R,y,g,R==="h"?x:E)},[]),l=P.useCallback(function(g){var y=g;if(!(!_h.length||_h[_h.length-1]!==o)){var b="deltaY"in y?rR(y):bb(y),w=e.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&abe(A.delta,b)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var x=(a.current.shards||[]).map(iR).filter(Boolean).filter(function(A){return A.contains(y.target)}),E=x.length>0?s(y,x[0]):!a.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),c=P.useCallback(function(g,y,b,w){var x={name:g,delta:y,target:b,should:w,shadowParent:ube(b)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(E){return E!==x})},1)},[]),u=P.useCallback(function(g){n.current=bb(g),r.current=void 0},[]),h=P.useCallback(function(g){c(g.type,rR(g),g.target,s(g,t.lockRef.current))},[]),f=P.useCallback(function(g){c(g.type,bb(g),g.target,s(g,t.lockRef.current))},[]);P.useEffect(function(){return _h.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ch),document.addEventListener("touchmove",l,Ch),document.addEventListener("touchstart",u,Ch),function(){_h=_h.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Ch),document.removeEventListener("touchmove",l,Ch),document.removeEventListener("touchstart",u,Ch)}},[]);var p=t.removeScrollBar,m=t.inert;return P.createElement(P.Fragment,null,m?P.createElement(o,{styles:sbe(i)}):null,p?P.createElement(Zve,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ube(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const hbe=Fve(wB,cbe);var _B=P.forwardRef(function(t,e){return P.createElement(A1,ra({},t,{ref:e,sideCar:hbe}))});_B.classNames=A1.classNames;var dbe=[" ","Enter","ArrowUp","ArrowDown"],fbe=[" ","Enter"],sh="Select",[S1,E1,pbe]=xF(sh),[$p]=Ip(sh,[pbe,w1]),C1=w1(),[mbe,sc]=$p(sh),[gbe,ybe]=$p(sh),PB=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:f,required:p,form:m}=t,g=C1(e),[y,b]=P.useState(null),[w,x]=P.useState(null),[E,A]=P.useState(!1),S=rT(c),[_,O]=kg({prop:r,defaultProp:i??!1,onChange:o,caller:sh}),[M,j]=kg({prop:a,defaultProp:s,onChange:l,caller:sh}),N=P.useRef(null),R=y?m||!!y.closest("form"):!0,[F,$]=P.useState(new Set),z=Array.from(F).map(L=>L.props.value).join(";");return v.jsx(dB,{...g,children:v.jsxs(mbe,{required:p,scope:e,trigger:y,onTriggerChange:b,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:E,onValueNodeHasChildrenChange:A,contentId:Lv(),value:M,onValueChange:j,open:_,onOpenChange:O,dir:S,triggerPointerDownPosRef:N,disabled:f,children:[v.jsx(S1.Provider,{scope:e,children:v.jsx(gbe,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback(L=>{$(U=>new Set(U).add(L))},[]),onNativeOptionRemove:P.useCallback(L=>{$(U=>{const H=new Set(U);return H.delete(L),H})},[]),children:n})}),R?v.jsxs(XB,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:M,onChange:L=>j(L.target.value),disabled:f,form:m,children:[M===void 0?v.jsx("option",{value:""}):null,Array.from(F)]},z):null]})})};PB.displayName=sh;var TB="SelectTrigger",kB=P.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=C1(n),a=sc(TB,n),s=a.disabled||r,l=dn(e,a.onTriggerChange),c=E1(n),u=P.useRef("touch"),[h,f,p]=JB(g=>{const y=c().filter(x=>!x.disabled),b=y.find(x=>x.value===a.value),w=ZB(y,g,b);w!==void 0&&a.onValueChange(w.value)}),m=g=>{s||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return v.jsx(fB,{asChild:!0,...o,children:v.jsx(vt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":YB(a.value)?"":void 0,...i,ref:l,onClick:Ve(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&m(g)}),onPointerDown:Ve(i.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:Ve(i.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&dbe.includes(g.key)&&(m(),g.preventDefault())})})})});kB.displayName=TB;var OB="SelectValue",jB=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,l=sc(OB,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,h=dn(e,l.onValueNodeChange);return ir(()=>{c(u)},[c,u]),v.jsx(vt.span,{...s,ref:h,style:{pointerEvents:"none"},children:YB(l.value)?v.jsx(v.Fragment,{children:a}):o})});jB.displayName=OB;var vbe="SelectIcon",MB=P.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return v.jsx(vt.span,{"aria-hidden":!0,...i,ref:e,children:r||"â–¼"})});MB.displayName=vbe;var bbe="SelectPortal",NB=t=>v.jsx(gB,{asChild:!0,...t});NB.displayName=bbe;var lh="SelectContent",RB=P.forwardRef((t,e)=>{const n=sc(lh,t.__scopeSelect),[r,i]=P.useState();if(ir(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Av.createPortal(v.jsx(IB,{scope:t.__scopeSelect,children:v.jsx(S1.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),o):null}return v.jsx(DB,{...t,ref:e})});RB.displayName=lh;var Qi=10,[IB,lc]=$p(lh),xbe="SelectContentImpl",wbe=yve("SelectContent.RemoveScroll"),DB=P.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y,...b}=t,w=sc(lh,n),[x,E]=P.useState(null),[A,S]=P.useState(null),_=dn(e,Z=>E(Z)),[O,M]=P.useState(null),[j,N]=P.useState(null),R=E1(n),[F,$]=P.useState(!1),z=P.useRef(!1);P.useEffect(()=>{if(x)return kve(x)},[x]),Hge();const L=P.useCallback(Z=>{const[ae,...J]=R().map(G=>G.ref.current),[Q]=J.slice(-1),ie=document.activeElement;for(const G of Z)if(G===ie||(G==null||G.scrollIntoView({block:"nearest"}),G===ae&&A&&(A.scrollTop=0),G===Q&&A&&(A.scrollTop=A.scrollHeight),G==null||G.focus(),document.activeElement!==ie))return},[R,A]),U=P.useCallback(()=>L([O,x]),[L,O,x]);P.useEffect(()=>{F&&U()},[F,U]);const{onOpenChange:H,triggerPointerDownPosRef:V}=w;P.useEffect(()=>{if(x){let Z={x:0,y:0};const ae=Q=>{var ie,G;Z={x:Math.abs(Math.round(Q.pageX)-(((ie=V.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((G=V.current)==null?void 0:G.y)??0))}},J=Q=>{Z.x<=10&&Z.y<=10?Q.preventDefault():x.contains(Q.target)||H(!1),document.removeEventListener("pointermove",ae),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",J,{capture:!0})}}},[x,H,V]),P.useEffect(()=>{const Z=()=>H(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[H]);const[I,Y]=JB(Z=>{const ae=R().filter(ie=>!ie.disabled),J=ae.find(ie=>ie.ref.current===document.activeElement),Q=ZB(ae,Z,J);Q&&setTimeout(()=>Q.ref.current.focus())}),q=P.useCallback((Z,ae,J)=>{const Q=!z.current&&!J;(w.value!==void 0&&w.value===ae||Q)&&(M(Z),Q&&(z.current=!0))},[w.value]),D=P.useCallback(()=>x==null?void 0:x.focus(),[x]),oe=P.useCallback((Z,ae,J)=>{const Q=!z.current&&!J;(w.value!==void 0&&w.value===ae||Q)&&N(Z)},[w.value]),ve=r==="popper"?ZE:LB,be=ve===ZE?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y}:{};return v.jsx(IB,{scope:n,content:x,viewport:A,onViewportChange:S,itemRefCallback:q,selectedItem:O,onItemLeave:D,itemTextRefCallback:oe,focusSelectedItem:U,selectedItemText:j,position:r,isPositioned:F,searchRef:I,children:v.jsx(_B,{as:wbe,allowPinchZoom:!0,children:v.jsx(HF,{asChild:!0,trapped:w.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Ve(i,Z=>{var ae;(ae=w.trigger)==null||ae.focus({preventScroll:!0}),Z.preventDefault()}),children:v.jsx(aT,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:v.jsx(ve,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Z=>Z.preventDefault(),...b,...be,onPlaced:()=>$(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ve(b.onKeyDown,Z=>{const ae=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!ae&&Z.key.length===1&&Y(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let Q=R().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ie=Z.target,G=Q.indexOf(ie);Q=Q.slice(G+1)}setTimeout(()=>L(Q)),Z.preventDefault()}})})})})})})});DB.displayName=xbe;var Abe="SelectItemAlignedPosition",LB=P.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=sc(lh,n),a=lc(lh,n),[s,l]=P.useState(null),[c,u]=P.useState(null),h=dn(e,_=>u(_)),f=E1(n),p=P.useRef(!1),m=P.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:w}=a,x=P.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&g&&y&&b){const _=o.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),j=b.getBoundingClientRect();if(o.dir!=="rtl"){const ie=j.left-O.left,G=M.left-ie,ue=_.left-G,ce=_.width+ue,we=Math.max(ce,O.width),Pe=window.innerWidth-Qi,Ze=IN(G,[Qi,Math.max(Qi,Pe-we)]);s.style.minWidth=ce+"px",s.style.left=Ze+"px"}else{const ie=O.right-j.right,G=window.innerWidth-M.right-ie,ue=window.innerWidth-_.right-G,ce=_.width+ue,we=Math.max(ce,O.width),Pe=window.innerWidth-Qi,Ze=IN(G,[Qi,Math.max(Qi,Pe-we)]);s.style.minWidth=ce+"px",s.style.right=Ze+"px"}const N=f(),R=window.innerHeight-Qi*2,F=g.scrollHeight,$=window.getComputedStyle(c),z=parseInt($.borderTopWidth,10),L=parseInt($.paddingTop,10),U=parseInt($.borderBottomWidth,10),H=parseInt($.paddingBottom,10),V=z+L+F+H+U,I=Math.min(y.offsetHeight*5,V),Y=window.getComputedStyle(g),q=parseInt(Y.paddingTop,10),D=parseInt(Y.paddingBottom,10),oe=_.top+_.height/2-Qi,ve=R-oe,be=y.offsetHeight/2,Z=y.offsetTop+be,ae=z+L+Z,J=V-ae;if(ae<=oe){const ie=N.length>0&&y===N[N.length-1].ref.current;s.style.bottom="0px";const G=c.clientHeight-g.offsetTop-g.offsetHeight,ue=Math.max(ve,be+(ie?D:0)+G+U),ce=ae+ue;s.style.height=ce+"px"}else{const ie=N.length>0&&y===N[0].ref.current;s.style.top="0px";const ue=Math.max(oe,z+g.offsetTop+(ie?q:0)+be)+J;s.style.height=ue+"px",g.scrollTop=ae-oe+g.offsetTop}s.style.margin=`${Qi}px 0`,s.style.minHeight=I+"px",s.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,o.trigger,o.valueNode,s,c,g,y,b,o.dir,r]);ir(()=>x(),[x]);const[E,A]=P.useState();ir(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const S=P.useCallback(_=>{_&&m.current===!0&&(x(),w==null||w(),m.current=!1)},[x,w]);return v.jsx(Ebe,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:v.jsx(vt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});LB.displayName=Abe;var Sbe="SelectPopperPosition",ZE=P.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Qi,...o}=t,a=C1(n);return v.jsx(pB,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ZE.displayName=Sbe;var[Ebe,mT]=$p(lh,{}),QE="SelectViewport",$B=P.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=lc(QE,n),a=mT(QE,n),s=dn(e,o.onViewportChange),l=P.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(S1.Slot,{scope:n,children:v.jsx(vt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ve(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const p=Math.abs(l.current-u.scrollTop);if(p>0){const m=window.innerHeight-Qi*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),b=Math.max(g,y);if(b<m){const w=b+p,x=Math.min(m,w),E=w-x;h.style.height=x+"px",h.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});$B.displayName=QE;var FB="SelectGroup",[Cbe,_be]=$p(FB),Pbe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Lv();return v.jsx(Cbe,{scope:n,id:i,children:v.jsx(vt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Pbe.displayName=FB;var BB="SelectLabel",zB=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=_be(BB,n);return v.jsx(vt.div,{id:i.id,...r,ref:e})});zB.displayName=BB;var j0="SelectItem",[Tbe,UB]=$p(j0),HB=P.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=sc(j0,n),l=lc(j0,n),c=s.value===r,[u,h]=P.useState(o??""),[f,p]=P.useState(!1),m=dn(e,w=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,w,r,i)}),g=Lv(),y=P.useRef("touch"),b=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(Tbe,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:P.useCallback(w=>{h(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:v.jsx(S1.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:v.jsx(vt.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:m,onFocus:Ve(a.onFocus,()=>p(!0)),onBlur:Ve(a.onBlur,()=>p(!1)),onClick:Ve(a.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Ve(a.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Ve(a.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Ve(a.onPointerMove,w=>{var x;y.current=w.pointerType,i?(x=l.onItemLeave)==null||x.call(l):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(a.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Ve(a.onKeyDown,w=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(fbe.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});HB.displayName=j0;var dm="SelectItemText",VB=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=sc(dm,n),s=lc(dm,n),l=UB(dm,n),c=ybe(dm,n),[u,h]=P.useState(null),f=dn(e,b=>h(b),l.onItemTextChange,b=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,b,l.value,l.disabled)}),p=u==null?void 0:u.textContent,m=P.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=c;return ir(()=>(g(m),()=>y(m)),[g,y,m]),v.jsxs(v.Fragment,{children:[v.jsx(vt.span,{id:l.textId,...o,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Av.createPortal(o.children,a.valueNode):null]})});VB.displayName=dm;var WB="SelectItemIndicator",GB=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return UB(WB,n).isSelected?v.jsx(vt.span,{"aria-hidden":!0,...r,ref:e}):null});GB.displayName=WB;var eC="SelectScrollUpButton",kbe=P.forwardRef((t,e)=>{const n=lc(eC,t.__scopeSelect),r=mT(eC,t.__scopeSelect),[i,o]=P.useState(!1),a=dn(e,r.onScrollButtonChange);return ir(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?v.jsx(qB,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});kbe.displayName=eC;var tC="SelectScrollDownButton",Obe=P.forwardRef((t,e)=>{const n=lc(tC,t.__scopeSelect),r=mT(tC,t.__scopeSelect),[i,o]=P.useState(!1),a=dn(e,r.onScrollButtonChange);return ir(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?v.jsx(qB,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});Obe.displayName=tC;var qB=P.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=lc("SelectScrollButton",n),a=P.useRef(null),s=E1(n),l=P.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return P.useEffect(()=>()=>l(),[l]),ir(()=>{var u;const c=s().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),v.jsx(vt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ve(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ve(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ve(i.onPointerLeave,()=>{l()})})}),jbe="SelectSeparator",KB=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v.jsx(vt.div,{"aria-hidden":!0,...r,ref:e})});KB.displayName=jbe;var nC="SelectArrow",Mbe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=C1(n),o=sc(nC,n),a=lc(nC,n);return o.open&&a.position==="popper"?v.jsx(mB,{...i,...r,ref:e}):null});Mbe.displayName=nC;var Nbe="SelectBubbleInput",XB=P.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=P.useRef(null),o=dn(r,i),a=Sve(e);return P.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const h=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(h)}},[a,e]),v.jsx(vt.select,{...n,style:{...yB,...n.style},ref:o,defaultValue:e})});XB.displayName=Nbe;function YB(t){return t===""||t===void 0}function JB(t){const e=Xl(t),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(a=>{const s=n.current+a;e(s),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),o=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function ZB(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=Rbe(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Rbe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Ibe=PB,QB=kB,Dbe=jB,Lbe=MB,$be=NB,e3=RB,Fbe=$B,t3=zB,n3=HB,Bbe=VB,zbe=GB,r3=KB;const Ph=Ibe,Th=Dbe,Ac=P.forwardRef(({className:t,children:e,style:n,...r},i)=>v.jsxs(QB,{ref:i,className:Wt("flex h-10 w-full items-center justify-between px-3 py-2 text-sm focus:outline-none disabled:cursor-not-allowed disabled:opacity-50",t),style:{background:"rgba(15, 23, 42, 0.8)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-sm)",color:"var(--color-text-primary)",...n},...r,children:[e,v.jsx(Lbe,{asChild:!0,children:v.jsx(V2,{className:"h-4 w-4",style:{color:"var(--color-text-secondary)"}})})]}));Ac.displayName=QB.displayName;const Sc=P.forwardRef(({className:t,children:e,position:n="popper",style:r,...i},o)=>v.jsx($be,{children:v.jsx(e3,{ref:o,className:Wt("relative z-50 min-w-[8rem] overflow-hidden animate-in fade-in-80",n==="popper"&&"translate-y-1",t),style:{background:"rgba(15, 23, 42, 0.98)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-strong)",color:"var(--color-text-primary)",...r},position:n,...i,children:v.jsx(Fbe,{className:Wt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));Sc.displayName=e3.displayName;const Ube=P.forwardRef(({className:t,style:e,...n},r)=>v.jsx(t3,{ref:r,className:Wt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),style:{color:"var(--color-text-secondary)",...e},...n}));Ube.displayName=t3.displayName;const Mt=P.forwardRef(({className:t,children:e,style:n,...r},i)=>v.jsxs(n3,{ref:i,className:Wt("relative flex w-full cursor-default select-none items-center py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),style:{borderRadius:"var(--radius-xs)",color:"var(--color-text-primary)",...n},...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(zbe,{children:v.jsx(iU,{className:"h-4 w-4",style:{color:"var(--color-accent)"}})})}),v.jsx(Bbe,{children:e})]}));Mt.displayName=n3.displayName;const Hbe=P.forwardRef(({className:t,...e},n)=>v.jsx(r3,{ref:n,className:Wt("-mx-1 my-1 h-px bg-gray-100",t),...e}));Hbe.displayName=r3.displayName;var DA,_1="HoverCard",[i3]=Ip(_1,[w1]),P1=w1(),[Vbe,gT]=i3(_1),o3=t=>{const{__scopeHoverCard:e,children:n,open:r,defaultOpen:i,onOpenChange:o,openDelay:a=700,closeDelay:s=300}=t,l=P1(e),c=P.useRef(0),u=P.useRef(0),h=P.useRef(!1),f=P.useRef(!1),[p,m]=kg({prop:r,defaultProp:i??!1,onChange:o,caller:_1}),g=P.useCallback(()=>{clearTimeout(u.current),c.current=window.setTimeout(()=>m(!0),a)},[a,m]),y=P.useCallback(()=>{clearTimeout(c.current),!h.current&&!f.current&&(u.current=window.setTimeout(()=>m(!1),s))},[s,m]),b=P.useCallback(()=>m(!1),[m]);return P.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(u.current)},[]),v.jsx(Vbe,{scope:e,open:p,onOpenChange:m,onOpen:g,onClose:y,onDismiss:b,hasSelectionRef:h,isPointerDownOnContentRef:f,children:v.jsx(dB,{...l,children:n})})};o3.displayName=_1;var a3="HoverCardTrigger",s3=P.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=gT(a3,n),o=P1(n);return v.jsx(fB,{asChild:!0,...o,children:v.jsx(vt.a,{"data-state":i.open?"open":"closed",...r,ref:e,onPointerEnter:Ve(t.onPointerEnter,N0(i.onOpen)),onPointerLeave:Ve(t.onPointerLeave,N0(i.onClose)),onFocus:Ve(t.onFocus,i.onOpen),onBlur:Ve(t.onBlur,i.onClose),onTouchStart:Ve(t.onTouchStart,a=>a.preventDefault())})})});s3.displayName=a3;var Wbe="HoverCardPortal",[$Te,Gbe]=i3(Wbe,{forceMount:void 0}),M0="HoverCardContent",l3=P.forwardRef((t,e)=>{const n=Gbe(M0,t.__scopeHoverCard),{forceMount:r=n.forceMount,...i}=t,o=gT(M0,t.__scopeHoverCard);return v.jsx(iT,{present:r||o.open,children:v.jsx(qbe,{"data-state":o.open?"open":"closed",...i,onPointerEnter:Ve(t.onPointerEnter,N0(o.onOpen)),onPointerLeave:Ve(t.onPointerLeave,N0(o.onClose)),ref:e})})});l3.displayName=M0;var qbe=P.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,...s}=t,l=gT(M0,n),c=P1(n),u=P.useRef(null),h=dn(e,u),[f,p]=P.useState(!1);return P.useEffect(()=>{if(f){const m=document.body;return DA=m.style.userSelect||m.style.webkitUserSelect,m.style.userSelect="none",m.style.webkitUserSelect="none",()=>{m.style.userSelect=DA,m.style.webkitUserSelect=DA}}},[f]),P.useEffect(()=>{if(u.current){const m=()=>{p(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var y;((y=document.getSelection())==null?void 0:y.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",m),()=>{document.removeEventListener("pointerup",m),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),P.useEffect(()=>{u.current&&Ybe(u.current).forEach(g=>g.setAttribute("tabindex","-1"))}),v.jsx(aT,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:a,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Ve(o,m=>{m.preventDefault()}),onDismiss:l.onDismiss,children:v.jsx(pB,{...c,...s,onPointerDown:Ve(s.onPointerDown,m=>{m.currentTarget.contains(m.target)&&p(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:h,style:{...s.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Kbe="HoverCardArrow",Xbe=P.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=P1(n);return v.jsx(mB,{...i,...r,ref:e})});Xbe.displayName=Kbe;function N0(t){return e=>e.pointerType==="touch"?void 0:t()}function Ybe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var Jbe=o3,Zbe=s3,c3=l3;const Qbe=Jbe,exe=Zbe,u3=P.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>v.jsx(c3,{ref:i,align:e,sideOffset:n,className:Wt("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));u3.displayName=c3.displayName;const txe={CAC:{term:"Customer Acquisition Cost",definition:"The average cost to acquire a new customer through marketing channels. Lower CAC means more efficient marketing spend.",formula:"Total Marketing Spend Ã· New Customers Acquired",benchmark:"$5-25 for QSR industry. Email typically lowest ($5-8), Display highest ($20-30).",icon:"ðŸ’°",category:"marketing"},ROAS:{term:"Return on Ad Spend",definition:"Revenue generated for every dollar spent on advertising. Higher ROAS means more profitable campaigns.",formula:"Revenue from Ads Ã· Ad Spend",benchmark:"3:1 minimum, 5:1 good, 10:1+ excellent for QSR.",icon:"ðŸ“ˆ",category:"marketing"},CPC:{term:"Cost Per Click",definition:"Average cost paid for each click on digital ads. Key metric for paid search and social campaigns.",formula:"Total Ad Spend Ã· Total Clicks",benchmark:"$0.50-$2.00 for QSR search ads, $0.25-$1.00 for social.",icon:"ðŸ–±ï¸",category:"marketing"},ARPU:{term:"Average Revenue Per User",definition:"The average annual revenue generated per customer. Higher ARPU indicates more valuable customers.",formula:"Total Revenue Ã· Total Active Customers",benchmark:"$3,500-4,500 for pizza QSR. Family segment typically highest.",icon:"ðŸ“Š",category:"customer"},LTV:{term:"Lifetime Value",definition:"The total revenue a customer generates over their entire relationship with the brand. Must exceed CAC by 3x+ for healthy unit economics.",formula:"ARPU Ã— Average Customer Lifespan (in years)",benchmark:"3-5x CAC for sustainable growth. $10,000-15,000 for loyal pizza customers.",icon:"ðŸ’Ž",category:"customer"},"Retention Rate":{term:"Customer Retention Rate",definition:"Percentage of customers who continue ordering over time. Higher retention drives profitability.",formula:"(Customers at End - New Customers) Ã· Customers at Start Ã— 100",benchmark:"Month 1: 60%, Month 6: 35%, Month 12: 20% for QSR.",icon:"ðŸ”„",category:"customer"},"Churn Rate":{term:"Customer Churn Rate",definition:"Percentage of customers who stop ordering. Lower churn means better customer experience.",formula:"Customers Lost Ã· Total Customers at Start Ã— 100",benchmark:"3-5% monthly churn is typical for QSR with loyalty programs.",icon:"ðŸ“‰",category:"customer"},GMV:{term:"Gross Merchandise Value",definition:"Total transaction value before discounts and refunds. Shows true demand and sales volume.",formula:"Sum of all order subtotals (pre-discount)",benchmark:"$200-250M monthly for large regional pizza chain.",icon:"ðŸ’µ",category:"revenue"},"Net Revenue":{term:"Net Revenue",definition:"Revenue after discounts, promotions, and refunds. This is actual income received.",formula:"GMV - Discounts - Refunds + Delivery Fees + Tips",benchmark:"88-92% of GMV (8-12% discount rate).",icon:"ðŸ’¸",category:"revenue"},AOV:{term:"Average Order Value",definition:"Average amount spent per order. Higher AOV means better upselling and product mix.",formula:"Total Revenue Ã· Number of Orders",benchmark:"$25-35 for pizza delivery. Family segment typically $35-45.",icon:"ðŸ›’",category:"revenue"},"Discount Rate":{term:"Discount Rate",definition:"Percentage of GMV given as discounts and promotions. Track to balance growth and profitability.",formula:"Total Discounts Ã· GMV Ã— 100",benchmark:"8-12% for pizza QSR. Higher during promotions, lower for loyal customers.",icon:"ðŸŽ«",category:"revenue"},"Attach Rate":{term:"Attach Rate",definition:"Percentage of orders that include add-on items (sides, desserts, beverages). Key upsell metric.",formula:"Orders with Item Ã· Total Orders Ã— 100",benchmark:"Sides: 35-45%, Beverages: 40-50%, Desserts: 15-25%.",icon:"ðŸ•",category:"operations"},"Order Frequency":{term:"Order Frequency",definition:"Average number of orders per customer per time period. Higher frequency drives LTV.",formula:"Total Orders Ã· Active Customers",benchmark:"12-18 orders/year for regular pizza customers.",icon:"ðŸ“…",category:"customer"},"Channel Mix":{term:"Channel Mix",definition:"Distribution of orders across channels (Mobile App, Online, Phone, Walk-in). Track to optimize investments.",formula:"Orders per Channel Ã· Total Orders Ã— 100",benchmark:"Mobile: 45-50%, Online: 25-30%, Phone: 15-20%, Walk-in: 5-10%.",icon:"ðŸ“±",category:"operations"},Cohort:{term:"Customer Cohort",definition:"Group of customers acquired in the same time period. Track cohorts to understand retention patterns.",formula:"Grouped by first order month/quarter",benchmark:"Best cohorts retain 25%+ customers after 12 months.",icon:"ðŸ‘¥",category:"customer"},"CAC:LTV Ratio":{term:"CAC to LTV Ratio",definition:"Efficiency of customer acquisition. Shows if you're spending the right amount to acquire customers.",formula:"LTV Ã· CAC",benchmark:"3:1 minimum, 5:1+ excellent. Below 3:1 means burning money.",icon:"âš–ï¸",category:"marketing"},"Payback Period":{term:"CAC Payback Period",definition:"Time to recover customer acquisition cost through revenue. Faster payback improves cash flow.",formula:"CAC Ã· (ARPU Ã· 12)",benchmark:"6-12 months for healthy SaaS/subscription. 3-6 months for transactional.",icon:"â±ï¸",category:"marketing"},"Product Mix":{term:"Product Mix",definition:"Distribution of revenue across product categories. Optimize mix for profitability.",formula:"Revenue per Category Ã· Total Revenue Ã— 100",benchmark:"Pizza: 65-70%, Sides: 15-20%, Beverages: 8-12%, Desserts: 5-8%.",icon:"ðŸ½ï¸",category:"operations"},"Delivery Time":{term:"Average Delivery Time",definition:"Time from order placement to delivery. Critical for customer satisfaction.",formula:"Sum of Delivery Times Ã· Number of Deliveries",benchmark:"25-35 minutes. Under 30 min = good, over 40 min = poor satisfaction.",icon:"ðŸš—",category:"operations"},"Store Performance":{term:"Store-Level Performance",definition:"Revenue and order metrics by store location. Identify top and underperforming locations.",formula:"Aggregated metrics by store_id",benchmark:"Top 20% stores do 2-3x volume of bottom 20%.",icon:"ðŸª",category:"operations"}};function nxe(t){return txe[t]}function Fs({term:t,children:e,showIcon:n=!0}){const r=nxe(t);return r?v.jsxs(Qbe,{children:[v.jsx(exe,{asChild:!0,children:v.jsxs("button",{className:"inline-flex items-center gap-1 text-left hover:text-blue-600 transition-colors",type:"button",children:[e||t,n&&v.jsx(q2,{className:"h-3.5 w-3.5 text-gray-400 hover:text-blue-500"})]})}),v.jsx(u3,{className:"w-96 p-4",side:"top",children:v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"text-3xl",role:"img","aria-label":r.term,children:r.icon}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-semibold text-gray-900 text-base",children:r.term}),v.jsx("span",{className:"text-xs text-gray-500 capitalize",children:r.category})]})]}),v.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:r.definition}),r.formula&&v.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-md p-2.5",children:[v.jsx("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"Formula:"}),v.jsx("p",{className:"text-sm font-mono text-blue-800",children:r.formula})]}),r.benchmark&&v.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-md p-2.5",children:[v.jsx("p",{className:"text-xs font-medium text-green-900 mb-1",children:"Industry Benchmark:"}),v.jsx("p",{className:"text-xs text-green-800 leading-relaxed",children:r.benchmark})]})]})})]}):v.jsx(v.Fragment,{children:e||t})}const oR=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,aR=ke,rxe=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return aR(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=o==null?void 0:o[c];if(u===null)return null;const f=oR(u)||oR(h);return i[c][f]}),s=n&&Object.entries(n).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...o,...s}[g]):{...o,...s}[g]===y})?[...c,h,f]:c},[]);return aR(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},ixe=rxe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function oxe({className:t,variant:e,...n}){return v.jsx("div",{className:Wt(ixe({variant:e}),t),...n})}function axe({filters:t,onRemove:e,onClearAll:n}){const r=t.filter(i=>!i.isDefault);return r.length===0?null:v.jsxs("div",{className:"flex items-center gap-2 flex-wrap py-2",children:[v.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Active Filters:"}),r.map(i=>v.jsxs(oxe,{variant:"secondary",className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100",children:[v.jsxs("span",{className:"text-xs font-medium",children:[i.label,": ",v.jsx("span",{className:"font-semibold",children:i.value})]}),v.jsx("button",{onClick:()=>e(i.key),className:"hover:bg-blue-200 rounded-full p-0.5 transition-colors","aria-label":`Remove ${i.label} filter`,children:v.jsx(yU,{className:"h-3 w-3"})})]},i.key)),r.length>1&&n&&v.jsx(dp,{variant:"ghost",size:"sm",onClick:n,className:"text-xs text-gray-600 hover:text-gray-900 h-7",children:"Clear All"})]})}const sxe={success:{icon:rU,bgColor:"bg-[rgba(47,127,217,0.1)]",borderColor:"border-[#2F7FD9]",iconColor:"text-[#3b82f6]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"},warning:{icon:qm,bgColor:"bg-[rgba(245,158,11,0.1)]",borderColor:"border-[#f59e0b]",iconColor:"text-[#f59e0b]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"},info:{icon:q2,bgColor:"bg-[rgba(59,130,246,0.1)]",borderColor:"border-[#3b82f6]",iconColor:"text-[#3b82f6]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"},opportunity:{icon:Sv,bgColor:"bg-[rgba(16,185,129,0.1)]",borderColor:"border-[#10b981]",iconColor:"text-[#10b981]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"},alert:{icon:qm,bgColor:"bg-[rgba(239,68,68,0.1)]",borderColor:"border-[#ef4444]",iconColor:"text-[#ef4444]",titleColor:"text-[var(--color-text-primary)]",textColor:"text-[var(--color-text-secondary)]"}};function lxe({type:t,title:e,children:n,metric:r}){const i=sxe[t],o=i.icon;return v.jsxs("div",{className:Wt("flex gap-3 p-4 rounded-lg border-l-4",i.bgColor,i.borderColor),children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx(o,{className:Wt("h-5 w-5",i.iconColor)})}),v.jsxs("div",{className:"flex-1 space-y-1",children:[e&&v.jsx("h4",{className:Wt("font-semibold text-sm",i.titleColor),children:e}),v.jsx("p",{className:Wt("text-sm",i.textColor),children:n}),r&&v.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.jsx("span",{className:"text-lg font-bold",children:r.value}),r.trend&&v.jsx("span",{className:"flex items-center gap-1",children:r.trend==="up"?v.jsx(Sv,{className:"h-4 w-4 text-green-600"}):v.jsx(V_,{className:"h-4 w-4 text-red-600"})})]})]})]})}function cxe({insights:t,title:e="AI-Generated Insights",description:n="Key findings and recommendations based on your data"}){return!t||t.length===0?null:v.jsxs(qe,{children:[v.jsxs(et,{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(hU,{className:"h-5 w-5",style:{color:"var(--color-warning)"}}),v.jsx(tt,{children:e})]}),n&&v.jsx("p",{className:"text-sm mt-1",style:{color:"var(--color-text-secondary)"},children:n})]}),v.jsx(Ke,{children:v.jsx("div",{className:"space-y-3",children:t.map(r=>v.jsx(lxe,{type:r.type,title:r.title,metric:r.metric,children:r.message},r.id))})})]})}function uxe({title:t,historicalData:e,forecastData:n,xKey:r,yKey:i,format:o="number",isLoading:a=!1}){var f;const s=P.useMemo(()=>{const p=e.map(g=>({[r]:g[r],actual:Number(g[i]||0),forecast:null,lowerBound:null,upperBound:null,isForecast:!1})),m=n.map(g=>({[r]:g.period,actual:null,forecast:g.value,lowerBound:g.lowerBound,upperBound:g.upperBound,isForecast:!0,confidence:g.confidence}));return[...p,...m]},[e,n,r,i]),l=n.length>0?n[0].period:null,c=P.useMemo(()=>{if(s.length===0)return[0,100];const p=s.flatMap(b=>[b.actual,b.forecast,b.upperBound].filter(w=>w!==null));if(p.length===0)return[0,100];const m=Math.min(...p),g=Math.max(...p),y=(g-m)*.1;return[Math.max(0,Math.floor(m-y)),Math.ceil(g+y)]},[s]),u=p=>o==="currency"?p>=1e6?`$${(p/1e6).toFixed(1)}M`:p>=1e3?`$${(p/1e3).toFixed(0)}K`:bs(p):p>=1e6?`${(p/1e6).toFixed(1)}M`:p>=1e3?`${(p/1e3).toFixed(0)}K`:vs(p),h=p=>{const m=Number(p);return o==="currency"?bs(m):vs(m)};return v.jsxs(qe,{children:[v.jsx(et,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(tt,{children:t}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[v.jsx(Sv,{className:"h-4 w-4"}),v.jsxs("span",{children:[n.length," period forecast (",((f=n[0])==null?void 0:f.confidence)||95,"% confidence)"]})]})]})}),v.jsx(Ke,{children:a?v.jsx("div",{className:"flex items-center justify-center h-[300px]",children:v.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):v.jsxs(v.Fragment,{children:[v.jsx(fs,{width:"100%",height:300,children:v.jsxs(X$,{data:s,children:[v.jsx(Ss,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),v.jsx(gi,{dataKey:r,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"}}),v.jsx(Rr,{domain:c,tick:{fill:"#6b7280",fontSize:12},tickLine:{stroke:"#e5e7eb"},tickFormatter:u}),v.jsx(jn,{formatter:p=>h(p),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),v.jsx(vr,{}),l&&v.jsx(n1,{x:l,stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"3 3",label:{value:"â† Forecast",position:"top",fill:"#f59e0b",fontSize:11,fontWeight:600}}),v.jsx(Es,{type:"monotone",dataKey:"upperBound",stroke:"none",fill:"#f59e0b",fillOpacity:.15,name:"Confidence Range"}),v.jsx(Es,{type:"monotone",dataKey:"lowerBound",stroke:"none",fill:"#f59e0b",fillOpacity:.15,name:""}),v.jsx(qi,{type:"monotone",dataKey:"actual",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,fill:"#3b82f6"},name:"Actual",connectNulls:!1}),v.jsx(qi,{type:"monotone",dataKey:"forecast",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"8 4",dot:{r:4,fill:"#f59e0b"},name:"Forecast",connectNulls:!1})]})}),v.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3",children:n.map((p,m)=>{const g=m>0?(p.value-n[m-1].value)/n[m-1].value*100:0;return v.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[v.jsx("p",{className:"text-xs text-blue-600 font-medium",children:p.period}),v.jsx("p",{className:"text-lg font-bold text-blue-900 mt-1",children:u(p.value)}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m>0&&v.jsxs("span",{className:`text-xs font-medium ${g>=0?"text-green-600":"text-red-600"}`,children:[g>=0?"+":"",g.toFixed(1),"%"]}),v.jsxs("span",{className:"text-xs text-blue-600",children:["Â±",u(p.upperBound-p.value)]})]})]},m)})})]})})]})}function hxe(t){var n,r;const e=[];if(t.cacByChannel&&t.cacByChannel.length>0){const i=[...t.cacByChannel].sort((h,f)=>Number(h.cac||0)-Number(f.cac||0)),o=i[0],a=i[i.length-1],s=Number((o==null?void 0:o.cac)||0),l=Number((a==null?void 0:a.cac)||0);if(l>s*3&&s>0){const h=(l/s).toFixed(1);e.push({id:"cac-efficiency",type:"warning",title:"High CAC Disparity Detected",message:`Your CAC for ${a.channel} ($${l.toFixed(2)}) is ${h}x higher than ${o.channel} ($${s.toFixed(2)}). Consider reallocating marketing budget to more efficient channels.`,metric:{value:`${h}x`,trend:"down"}})}const c=i[0],u=Number((c==null?void 0:c.cac)||0);u<10&&u>0&&e.push({id:"cac-success",type:"success",title:"Excellent CAC Performance",message:`${c.channel} has an outstanding CAC of $${u.toFixed(2)}, well below the QSR industry benchmark of $15-25. Continue investing in this channel.`,metric:{value:`$${u.toFixed(2)}`,trend:"up"}})}if(t.arpuBySegment&&t.arpuBySegment.length>0){const i=[...t.arpuBySegment].sort((l,c)=>Number(c.arpu||0)-Number(l.arpu||0)),o=i[0],a=i.reduce((l,c)=>l+Number(c.arpu||0),0)/i.length,s=Number((o==null?void 0:o.arpu)||0);s>a*1.15&&a>0&&e.push({id:"arpu-segment",type:"opportunity",title:"High-Value Segment Opportunity",message:`${o.customer_segment} customers have ARPU of $${s.toLocaleString()}, ${((s-a)/a*100).toFixed(0)}% above average. Focus retention and upsell campaigns on this segment.`,metric:{value:`$${s.toLocaleString()}`,trend:"up"}})}if(t.gmvTrend&&t.gmvTrend.length>0){const i=t.gmvTrend.slice(-3),o=i.reduce((a,s)=>a+Number(s.discount_rate_pct||0),0)/i.length;if(o>15&&e.push({id:"discount-warning",type:"alert",title:"High Discount Rate",message:`Average discount rate over the last 3 months is ${o.toFixed(1)}%. High discounting can erode margins. Consider testing targeted offers instead of blanket discounts.`,metric:{value:`${o.toFixed(1)}%`,trend:"down"}}),i.length>=2){const a=Number(((n=i[0])==null?void 0:n.gmv)||0),s=Number(((r=i[i.length-1])==null?void 0:r.gmv)||0);if(a>0){const l=(s-a)/a*100;l>10?e.push({id:"gmv-growth",type:"success",title:"Strong GMV Growth",message:`GMV has grown ${l.toFixed(1)}% over the last ${i.length} months. Your business is showing healthy growth momentum.`,metric:{value:`+${l.toFixed(1)}%`,trend:"up"}}):l<-5&&e.push({id:"gmv-decline",type:"warning",title:"GMV Decline Detected",message:`GMV has declined ${Math.abs(l).toFixed(1)}% over the last ${i.length} months. Review pricing strategy and marketing campaigns.`,metric:{value:`${l.toFixed(1)}%`,trend:"down"}})}}}if(t.attachRate&&t.attachRate.length>0){const i=t.attachRate[0],a=[...[{name:"Sides",rate:Number((i==null?void 0:i.sides_attach_rate_pct)||0)},{name:"Beverages",rate:Number((i==null?void 0:i.beverage_attach_rate_pct)||0)},{name:"Desserts",rate:Number((i==null?void 0:i.dessert_attach_rate_pct)||0)}]].sort((c,u)=>u.rate-c.rate),s=a[0],l=a[a.length-1];s.rate>l.rate*1.5&&l.rate>0&&e.push({id:"attach-rate-opportunity",type:"opportunity",title:"Upsell Opportunity Identified",message:`${s.name} have a strong ${s.rate.toFixed(1)}% attach rate, while ${l.name} are at ${l.rate.toFixed(1)}%. Consider promoting ${l.name} with combo deals or suggestive selling.`,metric:{value:`${s.rate.toFixed(1)}%`,trend:"up"}})}if(t.channelBreakdown&&t.channelBreakdown.length>0){const i=t.channelBreakdown.reduce((l,c)=>l+Number(c.revenue||0),0),a=[...t.channelBreakdown].sort((l,c)=>Number(c.revenue||0)-Number(l.revenue||0))[0],s=Number((a==null?void 0:a.revenue)||0);if(i>0){const l=s/i*100;l>40&&e.push({id:"channel-concentration",type:"info",title:"Channel Concentration Risk",message:`${a.channel} accounts for ${l.toFixed(0)}% of revenue. Consider diversifying channel mix to reduce dependency risk.`,metric:{value:`${l.toFixed(0)}%`,trend:"down"}});const c=t.channelBreakdown.filter(u=>u.channel==="Mobile App"||u.channel==="Online");if(c.length>0){const h=c.reduce((f,p)=>f+Number(p.revenue||0),0)/i*100;h>50&&e.push({id:"digital-first",type:"success",title:"Digital-First Success",message:`Digital channels (Mobile App + Online) represent ${h.toFixed(0)}% of revenue. Your digital transformation is driving business growth.`,metric:{value:`${h.toFixed(0)}%`,trend:"up"}})}}}return e.slice(0,5)}function dxe(t,e="dashboard-export"){const n=new Date().toISOString().split("T")[0],r=`${e}-${n}.csv`;let i=`Dashboard Export
`;if(i+=`Generated: ${new Date().toLocaleString()}

`,t.filters&&(i+=`Active Filters
`,i+=`Date Range,${t.filters.dateRange}
`,i+=`Segment,${t.filters.segment}
`,i+=`Channel,${t.filters.channel}
`,i+=`Time Grain,${t.filters.timeGrain}
`,i+=`Comparison Mode,${t.filters.comparisonMode}

`),t.insights&&t.insights.length>0&&(i+=`AI-Generated Insights
`,i+=`Type,Title,Message
`,t.insights.forEach(l=>{const c=l.message.replace(/,/g,";");i+=`${l.type},"${l.title||""}","${c}"
`}),i+=`
`),t.revenueTrend&&t.revenueTrend.length>0){i+=`Revenue Trend
`;const l=Object.keys(t.revenueTrend[0]).join(",");i+=l+`
`,t.revenueTrend.forEach(c=>{const u=Object.values(c).join(",");i+=u+`
`}),i+=`
`}if(t.cacByChannel&&t.cacByChannel.length>0){i+=`Customer Acquisition Cost by Channel
`;const l=Object.keys(t.cacByChannel[0]).join(",");i+=l+`
`,t.cacByChannel.forEach(c=>{const u=Object.values(c).join(",");i+=u+`
`}),i+=`
`}if(t.arpuBySegment&&t.arpuBySegment.length>0){i+=`ARPU by Customer Segment
`;const l=Object.keys(t.arpuBySegment[0]).join(",");i+=l+`
`,t.arpuBySegment.forEach(c=>{const u=Object.values(c).join(",");i+=u+`
`}),i+=`
`}const o=new Blob([i],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(o);a.setAttribute("href",s),a.setAttribute("download",r),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function fxe(t,e="dashboard-export"){const n=new Date().toISOString().split("T")[0],r=`${e}-${n}.json`,i={metadata:{generatedAt:new Date().toISOString(),filters:t.filters},insights:t.insights,metrics:t.metrics,revenueTrend:t.revenueTrend,cacByChannel:t.cacByChannel,arpuBySegment:t.arpuBySegment,gmvTrend:t.gmvTrend,channelBreakdown:t.channelBreakdown},o=JSON.stringify(i,null,2),a=new Blob([o],{type:"application/json"}),s=document.createElement("a"),l=URL.createObjectURL(a);s.setAttribute("href",l),s.setAttribute("download",r),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function pxe(t,e,n={}){const{sensitivity:r=2,windowSize:i=3}=n;if(!t||t.length<i+1)return[];const o=[],a=t.map(h=>Number(h[e]||0)),s=a.reduce((h,f)=>h+f,0)/a.length,l=a.reduce((h,f)=>h+Math.pow(f-s,2),0)/a.length,c=Math.sqrt(l);if(c<s*.01)return[];const u=[];for(let h=0;h<a.length;h++)if(h<i-1)u.push(s);else{const f=a.slice(h-i+1,h+1),p=f.reduce((m,g)=>m+g,0)/f.length;u.push(p)}return a.forEach((h,f)=>{if(f<i)return;const p=u[f],m=Math.abs(h-p),g=(h-s)/c,y=m/p*100;if(Math.abs(g)>r||y>20){let w="low";Math.abs(g)>r*2||y>40?w="high":(Math.abs(g)>r*1.5||y>30)&&(w="medium");let x="";h>p?x=`${y.toFixed(0)}% above expected (${sR(p)})`:x=`${y.toFixed(0)}% below expected (${sR(p)})`,o.push({index:f,value:h,expected:p,deviation:m,severity:w,reason:x})}}),o}function mxe(t,e,n=25){if(!t||t.length<2)return[];const r=[],i=t.map(o=>Number(o[e]||0));for(let o=1;o<i.length;o++){const a=i[o],s=i[o-1];if(s===0)continue;const l=(a-s)/s*100;if(Math.abs(l)>n){const c=Math.abs(l)>50?"high":Math.abs(l)>35?"medium":"low",u=l>0;r.push({index:o,value:a,expected:s,deviation:Math.abs(a-s),severity:c,reason:`${u?"Spike":"Drop"} of ${Math.abs(l).toFixed(0)}% from previous period`})}}return r}function sR(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(0)}K`:t.toFixed(0)}function gxe(t,e,n,r={}){const{periods:i=3,confidence:o=.95}=r;if(!t||t.length<3)return[];const a=t.map(A=>Number(A[e]||0)),s=a.length,l=Array.from({length:s},(A,S)=>S),c=l.reduce((A,S)=>A+S,0)/s,u=a.reduce((A,S)=>A+S,0)/s;let h=0,f=0;for(let A=0;A<s;A++)h+=(l[A]-c)*(a[A]-u),f+=Math.pow(l[A]-c,2);const p=f!==0?h/f:0,m=u-p*c,y=a.map((A,S)=>A-(p*S+m)).reduce((A,S)=>A+S*S,0),b=Math.sqrt(y/(s-2)),w=o===.95?1.96:o===.9?1.645:2,x=[],E=t[s-1][n];for(let A=1;A<=i;A++){const S=s-1+A,_=p*S+m,O=1+(A-1)*.2,M=w*b*O,j=yxe(E,A);x.push({period:j,value:Math.max(0,_),lowerBound:Math.max(0,_-M),upperBound:_+M,confidence:o*100})}return x}function yxe(t,e){if(t.match(/^\d{4}-\d{2}$/)){const[n,r]=t.split("-").map(Number),i=new Date(n,r-1+e,1),o=i.getFullYear(),a=String(i.getMonth()+1).padStart(2,"0");return`${o}-${a}`}if(t.match(/^\d{4}-\d{2}-\d{2}$/)){const n=new Date(t);return n.setMonth(n.getMonth()+e),n.toISOString().split("T")[0]}return`Forecast +${e}`}function lR(){var Ze,Qt,en,vi;const[t,e]=P.useState("6"),[n,r]=P.useState("all"),[i,o]=P.useState("all"),[a,s]=P.useState("overview"),[l,c]=P.useState("monthly"),[u,h]=P.useState("none"),[f,p]=P.useState("none"),m={"q4-2024":{dateRange:"3",description:"Q4 2024 Performance"},"digital-only":{dateRange:"6",channel:"Mobile App",description:"Digital Channels (6 months)"},"high-value":{dateRange:"6",segment:"Family",description:"High-Value Customers"},"year-review":{dateRange:"12",description:"Annual Review"}},g=le=>{if(le==="none"){p("none");return}const Qe=m[le];Qe&&(e(Qe.dateRange),Qe.segment?o(Qe.segment):o("all"),Qe.channel?r(Qe.channel):r("all"),p(le))},y=le=>{const Qe=new Date,An=new Date;return An.setMonth(An.getMonth()-parseInt(le)),{startDate:An.toISOString().split("T")[0],endDate:Qe.toISOString().split("T")[0]}},{startDate:b,endDate:w}=y(t),{data:x,isLoading:E}=Ci({queryKey:["dashboard-metrics",b,w,i,n],queryFn:ko.getSummary}),{data:A,isLoading:S}=Ci({queryKey:["revenue-trend",t,b,w,i,n],queryFn:()=>ko.getRevenueTrend(parseInt(t))}),{data:_,isLoading:O}=Ci({queryKey:["gmv-trend",b,w,i,n],queryFn:()=>ko.getGmvTrend(b,w)}),{data:M,isLoading:j,error:N}=Ci({queryKey:["cac-by-channel",b,w,i,n],queryFn:ko.getCacByChannel,retry:1});N&&console.error("CAC by channel error:",N);const{data:R,isLoading:F}=Ci({queryKey:["arpu-by-segment",b,w,i,n],queryFn:()=>ko.getArpuBySegment()}),{data:$,isLoading:z}=Ci({queryKey:["attach-rate",i,b,w,n],queryFn:()=>ko.getAttachRate(i!=="all"?i:void 0,b,w)}),{data:L,isLoading:U}=Ci({queryKey:["hourly-heatmap"],queryFn:ko.getHourlyHeatmap}),{data:H,isLoading:V,error:I}=Ci({queryKey:["attach-rate-detailed"],queryFn:ko.getAttachRateDetailed,retry:1});I&&console.error("Attach rate detailed error:",I);const{data:Y,isLoading:q,error:D}=Ci({queryKey:["cohort-retention"],queryFn:()=>ko.getCohortRetention(),retry:1});D&&console.error("Cohort retention error:",D);const{data:oe,isLoading:ve}=Ci({queryKey:["channel-breakdown",b,w,i,n],queryFn:ko.getChannelBreakdown}),be=n==="all"?oe:oe==null?void 0:oe.filter(le=>le.channel===n),Z=P.useMemo(()=>A?dk(A):[],[A]),ae=P.useMemo(()=>_?dk(_):[],[_]),J=P.useMemo(()=>{var Qe;const le=[];if(t!=="6"&&le.push({key:"dateRange",label:"Date Range",value:fk(t),isDefault:!1}),i!=="all"&&le.push({key:"segment",label:"Segment",value:i,isDefault:!1}),n!=="all"&&le.push({key:"channel",label:"Channel",value:n,isDefault:!1}),l!=="monthly"&&le.push({key:"timeGrain",label:"Time Grain",value:l.charAt(0).toUpperCase()+l.slice(1),isDefault:!1}),u!=="none"){const An={previous_period:"vs Previous Period",year_ago:"vs Year Ago"};le.push({key:"comparisonMode",label:"Comparison",value:An[u]||u,isDefault:!1})}return f!=="none"&&le.push({key:"preset",label:"Preset",value:((Qe=m[f])==null?void 0:Qe.description)||f,isDefault:!1}),le},[t,i,n,l,u,f,m]),Q=le=>{le==="dateRange"&&e("6"),le==="segment"&&o("all"),le==="channel"&&r("all"),le==="timeGrain"&&c("monthly"),le==="comparisonMode"&&h("none"),le==="preset"&&p("none")},ie=()=>{e("6"),o("all"),r("all"),c("monthly"),h("none"),p("none")},G=P.useMemo(()=>hxe({cacByChannel:M,arpuBySegment:R,gmvTrend:ae,attachRate:$,channelBreakdown:oe}),[M,R,ae,$,oe]),ue=P.useMemo(()=>!Z||Z.length<5?[]:pxe(Z,"revenue",{sensitivity:2,windowSize:3}),[Z]),ce=P.useMemo(()=>!ae||ae.length<5?[]:mxe(ae,"gmv",25),[ae]),we=P.useMemo(()=>!Z||Z.length<6?[]:gxe(Z,"revenue","month",{periods:3,confidence:.95}),[Z]),Pe=le=>{const Qe={metrics:x,revenueTrend:Z,cacByChannel:M,arpuBySegment:R,gmvTrend:ae,channelBreakdown:oe,insights:G,filters:{dateRange:fk(t),segment:i,channel:n,timeGrain:l,comparisonMode:u}};le==="csv"?dxe(Qe,`dominos-dashboard-${a}`):fxe(Qe,`dominos-dashboard-${a}`)};return v.jsxs("div",{className:"space-y-8 p-8",style:{background:"var(--color-bg-app)",minHeight:"100vh"},children:[v.jsxs("div",{className:"flex items-center justify-between pb-6 border-b",style:{borderColor:"var(--color-border-subtle)"},children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-semibold tracking-tight",style:{color:"var(--color-text-primary)"},children:"ðŸ• Analytics Dashboard"}),v.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--color-text-secondary)"},children:"Domino's Performance Insights & Predictive Analytics"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(nU,{className:"h-4 w-4",style:{color:"var(--color-text-secondary)"}}),v.jsxs(Ph,{value:t,onValueChange:e,children:[v.jsx(Ac,{className:"w-[180px]",children:v.jsx(Th,{placeholder:"Select period"})}),v.jsxs(Sc,{children:[v.jsx(Mt,{value:"1",children:"Last 30 days"}),v.jsx(Mt,{value:"3",children:"Last 3 months"}),v.jsx(Mt,{value:"6",children:"Last 6 months"}),v.jsx(Mt,{value:"12",children:"Last 12 months"}),v.jsx(Mt,{value:"24",children:"Last 24 months"})]})]})]}),v.jsxs(Ph,{value:i,onValueChange:o,children:[v.jsx(Ac,{className:"w-[180px]",children:v.jsx(Th,{placeholder:"All segments"})}),v.jsxs(Sc,{children:[v.jsx(Mt,{value:"all",children:"All Segments"}),v.jsx(Mt,{value:"Family",children:"Family"}),v.jsx(Mt,{value:"Young Professional",children:"Young Professional"}),v.jsx(Mt,{value:"Student",children:"Student"}),v.jsx(Mt,{value:"Single",children:"Single"})]})]}),v.jsxs(Ph,{value:n,onValueChange:r,children:[v.jsx(Ac,{className:"w-[180px]",children:v.jsx(Th,{placeholder:"All channels"})}),v.jsxs(Sc,{children:[v.jsx(Mt,{value:"all",children:"All Channels"}),v.jsx(Mt,{value:"Mobile App",children:"Mobile App"}),v.jsx(Mt,{value:"Online",children:"Online"}),v.jsx(Mt,{value:"Phone",children:"Phone"}),v.jsx(Mt,{value:"Walk-in",children:"Walk-in"})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs(dp,{variant:"outline",size:"sm",onClick:()=>Pe("csv"),className:"flex items-center gap-2 border-[#2F7FD9] text-[#2666B1] hover:bg-[#EBF4FD] hover:border-[#2666B1] font-medium transition-all",children:[v.jsx(ys,{className:"h-3.5 w-3.5"}),"Export CSV"]}),v.jsxs(dp,{variant:"outline",size:"sm",onClick:()=>Pe("json"),className:"flex items-center gap-2 border-[#2F7FD9] text-[#2666B1] hover:bg-[#EBF4FD] hover:border-[#2666B1] font-medium transition-all",children:[v.jsx(ys,{className:"h-3.5 w-3.5"}),"Export JSON"]})]})]})]}),v.jsx("div",{className:"flex items-center justify-between p-6",style:{background:"rgba(15, 23, 42, 0.96)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-soft)"},children:v.jsxs("div",{className:"flex items-center gap-5 flex-wrap",children:[v.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:"Advanced Filters"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Time Grain:"}),v.jsxs(Ph,{value:l,onValueChange:c,children:[v.jsx(Ac,{className:"w-[140px] h-8 text-sm",children:v.jsx(Th,{})}),v.jsxs(Sc,{children:[v.jsx(Mt,{value:"daily",children:"Daily"}),v.jsx(Mt,{value:"weekly",children:"Weekly"}),v.jsx(Mt,{value:"monthly",children:"Monthly"}),v.jsx(Mt,{value:"quarterly",children:"Quarterly"})]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Compare:"}),v.jsxs(Ph,{value:u,onValueChange:h,children:[v.jsx(Ac,{className:"w-[180px] h-8 text-sm",children:v.jsx(Th,{})}),v.jsxs(Sc,{children:[v.jsx(Mt,{value:"none",children:"No Comparison"}),v.jsx(Mt,{value:"previous_period",children:"vs Previous Period"}),v.jsx(Mt,{value:"year_ago",children:"vs Year Ago"})]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Quick Preset:"}),v.jsxs(Ph,{value:f,onValueChange:g,children:[v.jsx(Ac,{className:"w-[200px] h-8 text-sm",children:v.jsx(Th,{placeholder:"Select a preset"})}),v.jsxs(Sc,{children:[v.jsx(Mt,{value:"none",children:"No Preset"}),Object.entries(m).map(([le,Qe])=>v.jsx(Mt,{value:le,children:Qe.description},le))]})]})]})]})}),J.length>0&&v.jsx(axe,{filters:J,onRemove:Q,onClearAll:ie}),v.jsxs(Rge,{value:a,onValueChange:s,className:"space-y-6",children:[v.jsxs(BF,{children:[v.jsx(Nh,{value:"overview",children:"Overview"}),v.jsx(Nh,{value:"sales",children:"Sales Analysis"}),v.jsx(Nh,{value:"marketing",children:"Marketing"}),v.jsx(Nh,{value:"channels",children:"Channels"}),v.jsx(Nh,{value:"customers",children:"Customers"})]}),v.jsxs(wc,{value:"overview",className:"space-y-6",children:[v.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[v.jsx(Zv,{label:v.jsx(Fs,{term:"REVENUE",children:"Total Revenue"}),value:(x==null?void 0:x.total_revenue)||0,format:"currency",delta:{value:12.5,isPositive:!0},sparkline:(Z==null?void 0:Z.slice(-6).map(le=>le.revenue))||[],loading:E}),v.jsx(Zv,{label:v.jsx(Fs,{term:"ORDERS",children:"Total Orders"}),value:(x==null?void 0:x.total_orders)||0,format:"number",delta:{value:8.3,isPositive:!0},sparkline:(Z==null?void 0:Z.slice(-6).map(le=>le.orders))||[],loading:E}),v.jsx(Zv,{label:v.jsx(Fs,{term:"AOV",children:"Avg Order Value"}),value:(x==null?void 0:x.avg_order_value)||0,format:"currency",delta:{value:3.2,isPositive:!0},loading:E}),v.jsx(Zv,{label:v.jsx(Fs,{term:"CSAT",children:"Customer Satisfaction (out of 5)"}),value:(x==null?void 0:x.customer_satisfaction)||0,format:"number",delta:{value:-1.5,isPositive:!1},loading:E})]}),v.jsx(cxe,{insights:G}),v.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[v.jsx(wA,{title:"Revenue Trend with Anomaly Detection",data:Z||[],xKey:"month",yKeys:["revenue"],colors:["#3b82f6"],format:"currency",isLoading:S,anomalies:ue,showAnomalies:!0}),v.jsx(wA,{title:"Orders Trend (Complete Months Only)",data:Z||[],xKey:"month",yKeys:["orders"],colors:["#10b981"],format:"number",isLoading:S})]}),we&&we.length>0&&v.jsx(uxe,{title:"Revenue Forecast (Next 3 Months)",historicalData:Z||[],forecastData:we,xKey:"month",yKey:"revenue",format:"currency",isLoading:S}),v.jsx("div",{className:"grid gap-6",children:v.jsx(rm,{title:"Revenue by Channel",data:be||[],xKey:"channel",yKeys:["revenue"],colors:["#3b82f6"],format:"currency",isLoading:ve})}),v.jsx(Kme,{data:[{stage:"Website Visitors",value:125e3,color:"#3B82F6"},{stage:"Added to Cart",value:45e3,color:"#10B981"},{stage:"Started Checkout",value:32e3,color:"#F59E0B"},{stage:"Completed Order",value:28500,color:"#8B5CF6"}],isLoading:!1}),v.jsx("div",{className:"grid gap-6",children:v.jsx(MN,{data:L||[],isLoading:U})})]}),v.jsxs(wc,{value:"sales",className:"space-y-6",children:[v.jsx(Xme,{data:[{label:"Previous Month",value:85e4,isPositive:!0},{label:"New Orders",value:125e3,isPositive:!0},{label:"Discounts",value:-35e3,isPositive:!1},{label:"Refunds",value:-12e3,isPositive:!1},{label:"Upsells",value:72e3,isPositive:!0},{label:"Current Month",value:1e6,isPositive:!0}],isLoading:!1}),v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{children:"Sales Analysis"})}),v.jsx(Ke,{children:v.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[v.jsx(AA,{title:"Revenue vs Orders (Complete Months)",data:Z||[],xKey:"month",leftYAxis:{key:"revenue",label:"Revenue ($)",color:"#3b82f6",type:"bar"},rightYAxis:{key:"orders",label:"Orders",color:"#10b981",type:"line"},isLoading:S}),v.jsx(rm,{title:"Monthly Comparison (Complete Months)",data:(Z==null?void 0:Z.slice(-12))||[],xKey:"month",yKeys:["revenue"],colors:["#3b82f6"],format:"currency",isLoading:S})]})})]}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{className:"text-sm font-medium",children:"Peak Hours"})}),v.jsxs(Ke,{children:[v.jsx("div",{className:"text-2xl font-bold",children:"6-8 PM"}),v.jsx("p",{className:"text-xs text-gray-500",children:"35% of daily orders"})]})]}),v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{className:"text-sm font-medium",children:"Top Product"})}),v.jsxs(Ke,{children:[v.jsx("div",{className:"text-2xl font-bold",children:"Pepperoni"}),v.jsx("p",{className:"text-xs text-gray-500",children:"32% of revenue"})]})]}),v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{className:"text-sm font-medium",children:"Avg Delivery Time"})}),v.jsxs(Ke,{children:[v.jsx("div",{className:"text-2xl font-bold",children:"28 min"}),v.jsx("p",{className:"text-xs text-gray-500",children:"-2 min vs last month"})]})]})]})]}),v.jsxs(wc,{value:"marketing",className:"space-y-6",children:[(N||I||D)&&v.jsx(qe,{className:"border-red-500 bg-red-50",children:v.jsx(Ke,{className:"pt-6",children:v.jsxs("div",{className:"text-red-800 text-sm",children:[v.jsx("strong",{children:"Error loading marketing data:"}),N&&v.jsx("div",{children:"- CAC data failed to load"}),I&&v.jsx("div",{children:"- Attach rate data failed to load"}),D&&v.jsx("div",{children:"- Cohort data failed to load"})]})})}),M&&M.length>0&&!N&&v.jsx(Vme,{data:M,isLoading:j}),v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{className:"flex items-center gap-2",children:v.jsx(Fs,{term:"CAC",children:"Customer Acquisition Cost"})})}),v.jsxs(Ke,{children:[v.jsxs("div",{className:"space-y-6",children:[v.jsx(rm,{title:"CAC by Marketing Channel",data:M||[],xKey:"channel",yKeys:["cac"],colors:["#f59e0b"],format:"currency",isLoading:j}),v.jsx(AA,{title:"CAC Efficiency: Cost vs Customer Acquisition",data:M||[],xKey:"channel",leftYAxis:{key:"cac",label:"CAC ($)",color:"#ef4444",type:"bar"},rightYAxis:{key:"new_customers",label:"New Customers",color:"#10b981",type:"line"},isLoading:j})]}),v.jsx("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6 mt-6",children:M==null?void 0:M.map(le=>v.jsxs(qe,{children:[v.jsx(et,{className:"pb-2",children:v.jsx(tt,{className:"text-xs font-medium",children:le.channel})}),v.jsxs(Ke,{children:[v.jsxs("div",{className:"text-lg font-bold",children:["$",Number((le==null?void 0:le.cac)||0).toFixed(2)]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:le.cac_grade}),v.jsxs("p",{className:"text-xs text-gray-400",children:[Number((le==null?void 0:le.new_customers)||0).toLocaleString()," customers"]})]})]},le.channel))})]})]}),H&&H.length>0&&!I&&v.jsx(Gme,{data:H,isLoading:V}),v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{className:"flex items-center gap-2",children:v.jsx(Fs,{term:"ATTACH_RATE",children:"Upsell Attach Rates by Segment"})})}),v.jsx(Ke,{children:v.jsxs("div",{className:"space-y-4",children:[$&&$.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[v.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Sides Attach Rate"}),v.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[Number(((Ze=$[0])==null?void 0:Ze.sides_attach_rate_pct)||0).toFixed(1),"%"]})]}),v.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Beverage Attach Rate"}),v.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Number(((Qt=$[0])==null?void 0:Qt.beverage_attach_rate_pct)||0).toFixed(1),"%"]})]}),v.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Dessert Attach Rate"}),v.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[Number(((en=$[0])==null?void 0:en.dessert_attach_rate_pct)||0).toFixed(1),"%"]})]})]}),v.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Based on ",Number(((vi=$[0])==null?void 0:vi.total_orders)||0).toLocaleString()," orders",i!=="all"&&` for ${i} segment`]})]}),(!$||$.length===0)&&!z&&v.jsx("p",{className:"text-gray-500",children:"No attach rate data available for selected filters"})]})})]})]}),v.jsx(wc,{value:"channels",className:"space-y-6",children:v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{children:"Channel Performance"})}),v.jsx(Ke,{children:v.jsxs("div",{className:"space-y-6",children:[v.jsx(rm,{title:"Revenue by Channel (Last 30 Days)",data:oe||[],xKey:"channel",yKeys:["revenue"],colors:["#3b82f6"],format:"currency",isLoading:ve}),v.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:oe==null?void 0:oe.map(le=>{const Qe=oe.reduce((bi,K)=>bi+Number((K==null?void 0:K.revenue)||0),0),An=Number((le==null?void 0:le.revenue)||0),Po=Qe>0?(An/Qe*100).toFixed(1):"0.0";return v.jsxs(qe,{children:[v.jsx(et,{className:"pb-3",children:v.jsx(tt,{className:"text-sm font-medium",children:le.channel})}),v.jsxs(Ke,{children:[v.jsxs("div",{className:"text-2xl font-bold",children:["$",(An/1e3).toFixed(0),"K"]}),v.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Po,"% of total"]})]})]},le.channel)})})]})})]})}),v.jsxs(wc,{value:"customers",className:"space-y-6",children:[v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{className:"flex items-center gap-2",children:v.jsx(Fs,{term:"ARPU",children:"Average Revenue Per User (ARPU) by Segment"})})}),v.jsxs(Ke,{children:[v.jsx(rm,{title:"ARPU by Customer Segment",data:R||[],xKey:"customer_segment",yKeys:["arpu"],colors:["#10b981"],format:"currency",isLoading:F}),v.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mt-6",children:R==null?void 0:R.slice(0,4).map(le=>v.jsxs(qe,{children:[v.jsx(et,{className:"pb-2",children:v.jsx(tt,{className:"text-sm font-medium",children:le.customer_segment})}),v.jsxs(Ke,{children:[v.jsxs("div",{className:"text-2xl font-bold",children:["$",((le==null?void 0:le.arpu)||0).toLocaleString()]}),v.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Number((le==null?void 0:le.customer_count)||0).toLocaleString()," customers"]}),v.jsxs("p",{className:"text-xs text-gray-400",children:[Number((le==null?void 0:le.avg_orders_per_customer)||0).toFixed(1)," orders/year"]})]})]},le.customer_segment))})]})]}),v.jsxs(qe,{children:[v.jsx(et,{children:v.jsx(tt,{className:"flex items-center gap-2",children:v.jsx(Fs,{term:"GMV",children:"Gross Merchandise Value (GMV) Trend"})})}),v.jsxs(Ke,{children:[v.jsxs("div",{className:"space-y-6",children:[v.jsx(wA,{title:"GMV vs Net Revenue with Anomaly Detection",data:ae||[],xKey:"month",yKeys:["gmv","net_revenue"],colors:["#3b82f6","#10b981"],format:"currency",isLoading:O,anomalies:ce,showAnomalies:!0}),v.jsx(AA,{title:"GMV vs Discount Impact",data:ae||[],xKey:"month",leftYAxis:{key:"gmv",label:"GMV ($)",color:"#3b82f6",type:"bar"},rightYAxis:{key:"discount_rate_pct",label:"Discount Rate (%)",color:"#f59e0b",type:"line"},isLoading:O})]}),ae&&ae.length>0&&(()=>{const le=ae.reduce((Ae,Oe)=>Ae+Number((Oe==null?void 0:Oe.gmv)||0),0),Qe=ae.reduce((Ae,Oe)=>Ae+Number((Oe==null?void 0:Oe.net_revenue)||0),0),An=ae.reduce((Ae,Oe)=>Ae+Number((Oe==null?void 0:Oe.discount_rate_pct)||0),0),Po=ae.reduce((Ae,Oe)=>Ae+Number((Oe==null?void 0:Oe.order_count)||0),0),bi=ae.length>0?le/ae.length/1e6:0,K=ae.length>0?Qe/ae.length/1e6:0,ne=ae.length>0?An/ae.length:0,xe=Po/1e6;return v.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mt-4",children:[v.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Avg GMV"}),v.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",!isNaN(bi)&&isFinite(bi)?bi.toFixed(1):"0.0","M"]})]}),v.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Avg Net Revenue"}),v.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",!isNaN(K)&&isFinite(K)?K.toFixed(1):"0.0","M"]})]}),v.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Avg Discount Rate"}),v.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[!isNaN(ne)&&isFinite(ne)?ne.toFixed(1):"0.0","%"]})]}),v.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),v.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[!isNaN(xe)&&isFinite(xe)?xe.toFixed(1):"0.0","M"]})]})]})})()]})]})]}),v.jsxs(wc,{value:"advanced",className:"space-y-6",children:[v.jsx(qme,{data:Y||[],isLoading:q}),v.jsx(MN,{data:L||[],isLoading:U})]})]})]})}function vxe({block:t,tablePreview:e}){const n=()=>{if(!t.spec)return v.jsx("div",{className:"flex items-center justify-center h-full text-sm",style:{color:"var(--color-text-secondary)"},children:"No chart data available"});if(t.specType==="recharts"&&t.spec){const{type:r,data:i,dataKey:o,xKey:a,yKey:s,...l}=t.spec;if(r==="bar")return v.jsx(fs,{width:"100%",height:400,children:v.jsxs(ZP,{data:i,...l,children:[v.jsx(Ss,{strokeDasharray:"3 3",stroke:"rgba(100, 116, 139, 0.3)"}),v.jsx(gi,{dataKey:a||"name",stroke:"var(--color-text-secondary)"}),v.jsx(Rr,{stroke:"var(--color-text-secondary)"}),v.jsx(jn,{contentStyle:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"8px",color:"var(--color-text-primary)"}}),v.jsx(vr,{}),v.jsx(Gi,{dataKey:o||s||"value",fill:"var(--color-accent)"})]})});if(r==="line")return v.jsx(fs,{width:"100%",height:400,children:v.jsxs(JP,{data:i,...l,children:[v.jsx(Ss,{strokeDasharray:"3 3",stroke:"rgba(100, 116, 139, 0.3)"}),v.jsx(gi,{dataKey:a||"name",stroke:"var(--color-text-secondary)"}),v.jsx(Rr,{stroke:"var(--color-text-secondary)"}),v.jsx(jn,{contentStyle:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"8px",color:"var(--color-text-primary)"}}),v.jsx(vr,{}),v.jsx(qi,{type:"monotone",dataKey:o||s||"value",stroke:"var(--color-accent)",strokeWidth:2})]})})}return v.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-sm p-8",style:{color:"var(--color-text-secondary)"},children:[v.jsxs("p",{className:"mb-2",children:["Chart rendering for ",t.specType]}),v.jsx("p",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:"(Spec available - renderer to be implemented)"})]})};return v.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-soft)",overflow:"hidden"},children:[(t.title||t.subtitle)&&v.jsxs("div",{className:"px-4 py-3 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[t.title&&v.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:t.title}),t.subtitle&&v.jsx("div",{className:"text-xs mt-1",style:{color:"var(--color-text-secondary)"},children:t.subtitle})]}),v.jsx("div",{className:"p-4",style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.4) 0%, rgba(30, 41, 59, 0.2) 100%)",backgroundImage:`
            linear-gradient(rgba(100, 116, 139, 0.05) 1px, transparent 1px),
            linear-gradient(90deg, rgba(100, 116, 139, 0.05) 1px, transparent 1px)
          `,backgroundSize:"20px 20px",minHeight:"360px"},children:n()}),t.meta&&v.jsxs("div",{className:"px-4 py-2 border-t text-xs flex items-center gap-4",style:{borderColor:"rgba(30, 41, 59, 0.8)",color:"var(--color-text-secondary)"},children:[t.meta.primaryMeasure&&v.jsxs("span",{children:["Measure: ",t.meta.primaryMeasure]}),t.meta.primaryDim&&v.jsxs("span",{children:["Dimension: ",t.meta.primaryDim]}),t.meta.timeframe&&v.jsxs("span",{children:["Timeframe: ",t.meta.timeframe]})]}),e&&v.jsx("div",{className:"px-4 py-3 border-t",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:v.jsxs("details",{children:[v.jsxs("summary",{className:"text-xs font-medium cursor-pointer",style:{color:"var(--color-text-secondary)"},children:["View data (",e.rows.length," rows)"]}),v.jsx("div",{className:"mt-2 overflow-auto max-h-64",children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"11px"},children:[v.jsx("thead",{children:v.jsx("tr",{style:{background:"rgba(0, 100, 145, 0.2)"},children:e.columns.map(r=>v.jsx("th",{style:{padding:"0.25rem 0.5rem",textAlign:"left",color:"var(--color-text-primary)"},children:r},r))})}),v.jsx("tbody",{children:e.rows.slice(0,10).map((r,i)=>v.jsx("tr",{children:r.map((o,a)=>v.jsx("td",{style:{padding:"0.25rem 0.5rem",borderBottom:"1px solid rgba(30, 41, 59, 0.5)",color:"var(--color-text-secondary)"},children:o},a))},i))})]})})]})})]})}function bxe({block:t}){const[e,n]=P.useState(t.spec),[r,i]=P.useState(null),[o,a]=P.useState(!t.spec&&!!t.dataRef),[s,l]=P.useState(null);return P.useEffect(()=>{if(!t.dataRef||t.spec||t.dataRef.type!=="genie")return;const{genie:c}=t.dataRef;if(!c)return;let u=!1;return(async()=>{try{a(!0),l(null);const h=await fetch("/api/genie/chart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!h.ok){const p=await h.json().catch(()=>({detail:"Failed to load chart"}));throw new Error(p.detail||"Failed to load chart")}const f=await h.json();if(u)return;n(f.spec),i(f.table??null),a(!1)}catch(h){if(u)return;console.error("[FullChartView] Hydration error:",h),l(h.message??"Error loading chart"),a(!1)}})(),()=>{u=!0}},[t]),o?v.jsxs("div",{className:"flex flex-col items-center justify-center p-12 rounded-lg",style:{background:"rgba(15, 23, 42, 0.96)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"var(--radius-lg)",minHeight:"400px"},children:[v.jsx(Yu,{className:"h-8 w-8 animate-spin mb-3",style:{color:"var(--color-accent)"}}),v.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Loading chart from Genie..."})]}):s?v.jsxs("div",{className:"flex flex-col items-center justify-center p-12 rounded-lg",style:{background:"rgba(15, 23, 42, 0.96)",border:"2px solid rgba(239, 68, 68, 0.6)",borderRadius:"var(--radius-lg)",minHeight:"400px"},children:[v.jsx(qm,{className:"h-8 w-8 mb-3",style:{color:"#ef4444"}}),v.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"#ef4444"},children:"Couldn't load chart"}),v.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:s})]}):v.jsx(vxe,{block:{...t,spec:e},tablePreview:r,loading:!1,error:null})}function xxe(t){const{columns:e,rows:n}=t;return n.map(o=>{var a;return((a=o[0])==null?void 0:a.toString())||""}).some(o=>/\d{4}[-/]\d{1,2}|Q[1-4]|Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec/i.test(o))?"line":e.length===2&&n.length<=8?"pie":"bar"}function cR(t){if(!t||typeof t!="string")return 0;const e=t.replace(/[$Â£â‚¬Â¥]/g,"").replace(/,/g,"").replace(/\s+/g,"").replace(/%$/g,"").trim();if(!e||e==="-"||e==="N/A")return 0;const n=parseFloat(e);return isNaN(n)?0:n}function wxe(t,e="bar"){const{columns:n,rows:r}=t;if(r.length===0||n.length===0)return{data:[],dataKeys:[]};if(e==="pie")return{data:r.map(s=>{var l,c;return{name:((l=s[0])==null?void 0:l.toString())||"",value:cR(((c=s[1])==null?void 0:c.toString())||"0")}}).filter(s=>s.value>0),dataKeys:["value"]};const i=r.map((a,s)=>{var c,u;const l={name:((c=a[0])==null?void 0:c.toString())||`Row ${s+1}`};for(let h=1;h<n.length;h++){const f=((u=a[h])==null?void 0:u.toString())||"";l[n[h]]=cR(f)}return l}),o=n.slice(1);return{data:i,dataKeys:o}}function Axe(t){return["#FF6B35","#00A3E0","#FFA630","#8B5CF6","#10B981","#F59E0B","#EC4899","#6366F1"].slice(0,t)}function LA(t){return t>=1e3?t>=1e6?`$${(t/1e6).toFixed(1)}M`:`$${(t/1e3).toFixed(1)}K`:t.toFixed(2)}function Sxe({block:t}){const{columns:e,rows:n,meta:r}=t,[i,o]=P.useState("table"),[a,s]=P.useState(()=>xxe(t)),l=()=>{const m=[e.join(","),...n.map(w=>w.map(x=>`"${x}"`).join(","))].join(`
`),g=new Blob([m],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(g),b=document.createElement("a");b.href=y,b.download=`${(r==null?void 0:r.title)||"table"}.csv`,b.click(),URL.revokeObjectURL(y)},{data:c,dataKeys:u}=wxe(t,a),h=Axe(u.length),f=()=>!c||c.length===0?v.jsx("div",{className:"flex items-center justify-center h-full text-sm",style:{color:"var(--color-text-secondary)"},children:"No data available to chart. Table may contain non-numeric values."}):!u||u.length===0?v.jsx("div",{className:"flex items-center justify-center h-full text-sm",style:{color:"var(--color-text-secondary)"},children:"No numeric columns found to chart."}):a==="pie"?v.jsx(fs,{width:"100%",height:"100%",children:v.jsxs(upe,{children:[v.jsx(Is,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:m})=>`${p}: ${(m*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:c.map((p,m)=>v.jsx(_v,{fill:h[m%h.length]},`cell-${m}`))}),v.jsx(jn,{formatter:p=>LA(p)}),v.jsx(vr,{})]})}):a==="line"?v.jsx(fs,{width:"100%",height:"100%",children:v.jsxs(JP,{data:c,margin:{top:20,right:30,left:20,bottom:20},children:[v.jsx(Ss,{strokeDasharray:"3 3",stroke:"rgba(71, 85, 105, 0.3)"}),v.jsx(gi,{dataKey:"name",stroke:"var(--color-text-secondary)",fontSize:11}),v.jsx(Rr,{stroke:"var(--color-text-secondary)",fontSize:11}),v.jsx(jn,{contentStyle:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(71, 85, 105, 0.5)",borderRadius:"6px"},formatter:p=>LA(p)}),v.jsx(vr,{}),u.map((p,m)=>v.jsx(qi,{type:"monotone",dataKey:p,stroke:h[m],strokeWidth:2,dot:{fill:h[m],r:4}},p))]})}):v.jsx(fs,{width:"100%",height:"100%",children:v.jsxs(ZP,{data:c,margin:{top:20,right:30,left:20,bottom:20},children:[v.jsx(Ss,{strokeDasharray:"3 3",stroke:"rgba(71, 85, 105, 0.3)"}),v.jsx(gi,{dataKey:"name",stroke:"var(--color-text-secondary)",fontSize:11}),v.jsx(Rr,{stroke:"var(--color-text-secondary)",fontSize:11}),v.jsx(jn,{contentStyle:{background:"rgba(15, 23, 42, 0.95)",border:"1px solid rgba(71, 85, 105, 0.5)",borderRadius:"6px"},formatter:p=>LA(p)}),v.jsx(vr,{}),u.map((p,m)=>v.jsx(Gi,{dataKey:p,fill:h[m],radius:[4,4,0,0]},p))]})});return v.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",display:"flex",flexDirection:"column",maxHeight:"100%"},children:[v.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:(r==null?void 0:r.title)??"Table"}),(r==null?void 0:r.subtitle)&&v.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:r.subtitle})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"flex items-center gap-1 border rounded-full p-0.5",style:{borderColor:"rgba(71, 85, 105, 0.5)"},children:[v.jsxs("button",{className:"flex items-center gap-1 px-2 py-0.5 text-[10px] rounded-full transition-all",style:{background:i==="table"?"var(--color-accent)":"transparent",color:i==="table"?"white":"var(--color-text-secondary)"},onClick:()=>o("table"),children:[v.jsx(mw,{className:"h-3 w-3"}),"Table"]}),v.jsxs("button",{className:"flex items-center gap-1 px-2 py-0.5 text-[10px] rounded-full transition-all",style:{background:i==="chart"?"var(--color-accent)":"transparent",color:i==="chart"?"white":"var(--color-text-secondary)"},onClick:()=>o("chart"),children:[v.jsx(z_,{className:"h-3 w-3"}),"Chart"]})]}),i==="chart"&&v.jsxs("select",{value:a,onChange:p=>s(p.target.value),className:"text-[10px] px-2 py-1 border rounded-full",style:{background:"rgba(15, 23, 42, 0.9)",borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:[v.jsx("option",{value:"bar",children:"Bar"}),v.jsx("option",{value:"line",children:"Line"}),v.jsx("option",{value:"pie",children:"Pie"})]}),v.jsxs("span",{className:"text-[10px]",style:{color:"var(--color-text-secondary)"},children:[n.length," rows"]}),v.jsxs("button",{className:"flex items-center gap-1 px-2 py-0.5 text-[10px] border rounded-full transition-colors",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},onMouseEnter:p=>{p.currentTarget.style.borderColor="var(--color-accent)",p.currentTarget.style.color="var(--color-accent)"},onMouseLeave:p=>{p.currentTarget.style.borderColor="rgba(71, 85, 105, 0.8)",p.currentTarget.style.color="var(--color-text-secondary)"},onClick:l,children:[v.jsx(ys,{className:"h-3 w-3"}),"Download CSV"]})]})]}),v.jsx("div",{className:"flex-1 overflow-auto",children:i==="table"?v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[v.jsx("thead",{children:v.jsx("tr",{style:{background:"var(--color-accent)",color:"white"},children:e.map(p=>v.jsx("th",{style:{fontSize:"11px",textTransform:"uppercase",letterSpacing:"0.06em",padding:"0.5rem 0.75rem",textAlign:"left",fontWeight:600,position:"sticky",top:0},children:p},p))})}),v.jsx("tbody",{children:n.map((p,m)=>v.jsx("tr",{style:{background:m%2===0?"rgba(15, 23, 42, 0.9)":"rgba(30, 41, 59, 0.9)"},children:p.map((g,y)=>v.jsx("td",{style:{color:"var(--color-text-primary)",fontSize:"0.8rem",padding:"0.45rem 0.75rem",borderBottom:"1px solid rgba(30, 41, 59, 0.8)",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:g},y))},m))})]}):v.jsx("div",{style:{width:"100%",height:"600px",padding:"1rem"},children:f()})})]})}function h3({block:t}){return v.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",padding:"0.75rem",display:"flex",flexDirection:"column",height:"100%"},children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:t.alt||"Image"}),v.jsxs("button",{className:"flex items-center gap-1 text-xs transition-colors",style:{color:"var(--color-text-secondary)"},onMouseEnter:e=>{e.currentTarget.style.color="var(--color-text-primary)"},onMouseLeave:e=>{e.currentTarget.style.color="var(--color-text-secondary)"},onClick:()=>window.open(t.url,"_blank"),children:[v.jsx(zl,{className:"h-3 w-3"}),"Open in new tab"]})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center overflow-auto",children:v.jsx("img",{src:t.url,alt:t.alt??"",style:{maxWidth:"100%",maxHeight:"100%",borderRadius:"var(--radius-md)",objectFit:"contain"}})})]})}const hr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),rC=[.001,0,0,.001,0,0],$A=1.35,ai={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ia={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Mg="pdfjs_internal_editor_",je={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ge={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},d3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},In={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Hm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},tn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Rh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Bv={ERRORS:0,WARNINGS:1,INFOS:5},pp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},xb={moveTo:0,lineTo:1,curveTo:2,closePath:3},f3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let T1=Bv.WARNINGS;function Exe(t){Number.isInteger(t)&&(T1=t)}function Cxe(){return T1}function k1(t){T1>=Bv.INFOS&&console.info(`Info: ${t}`)}function Me(t){T1>=Bv.WARNINGS&&console.warn(`Warning: ${t}`)}function St(t){throw new Error(t)}function Xe(t,e){t||St(e)}function _xe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function yT(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=jxe(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return _xe(r)?r:null}function vT(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&yT(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Be(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const gh=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class uR extends gh{constructor(e,n){super(e,"PasswordException"),this.code=n}}class FA extends gh{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class R0 extends gh{constructor(e){super(e,"InvalidPDFException")}}class Ng extends gh{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class Pxe extends gh{constructor(e){super(e,"FormatError")}}class Ps extends gh{constructor(e){super(e,"AbortException")}}function p3(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&St("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const o=Math.min(i+n,e),a=t.subarray(i,o);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function zv(t){typeof t!="string"&&St("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function Txe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function kxe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function Oxe(){try{return new Function(""),!0}catch{return!1}}class Nn{static get isLittleEndian(){return Be(this,"isLittleEndian",kxe())}static get isEvalSupported(){return Be(this,"isEvalSupported",Oxe())}static get isOffscreenCanvasSupported(){return Be(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Be(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Be(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return Be(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const BA=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var ms,zb,iC;class fe{static makeHexColor(e,n,r){return`#${BA[e]}${BA[n]}${BA[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],o=e[r+1];e[r]=i*n[0]+o*n[2]+n[4],e[r+1]=i*n[1]+o*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5];for(let u=0;u<6;u+=2){const h=e[r+u],f=e[r+u+1];e[r+u]=h*i+f*a+l,e[r+u+1]=h*o+f*s+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],o=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/o,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/o}static axialAlignedBoundingBox(e,n,r){const i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=e[0],h=e[1],f=e[2],p=e[3];let m=i*u+l,g=m,y=i*f+l,b=y,w=s*h+c,x=w,E=s*p+c,A=E;if(o!==0||a!==0){const S=o*u,_=o*f,O=a*h,M=a*p;m+=O,b+=O,y+=M,g+=M,w+=S,A+=S,E+=_,x+=_}r[0]=Math.min(r[0],m,y,g,b),r[1]=Math.min(r[1],w,E,x,A),r[2]=Math.max(r[2],m,y,g,b),r[3]=Math.max(r[3],w,E,x,A)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],o=e[2],a=e[3],s=r**2+i**2,l=r*o+i*a,c=o**2+a**2,u=(s+c)/2,h=Math.sqrt(u**2-(s*c-l**2));n[0]=Math.sqrt(u+h||1),n[1]=Math.sqrt(u-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return o>a?null:[r,o,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,o){o[0]=Math.min(o[0],e,r),o[1]=Math.min(o[1],n,i),o[2]=Math.max(o[2],e,r),o[3]=Math.max(o[3],n,i)}static bezierBoundingBox(e,n,r,i,o,a,s,l,c){c[0]=Math.min(c[0],e,s),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,s),c[3]=Math.max(c[3],n,l),k(this,ms,iC).call(this,e,r,o,s,n,i,a,l,3*(-e+3*(r-o)+s),6*(e-2*r+o),3*(r-e),c),k(this,ms,iC).call(this,e,r,o,s,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}ms=new WeakSet,zb=function(e,n,r,i,o,a,s,l,c,u){if(c<=0||c>=1)return;const h=1-c,f=c*c,p=f*c,m=h*(h*(h*e+3*c*n)+3*f*r)+p*i,g=h*(h*(h*o+3*c*a)+3*f*s)+p*l;u[0]=Math.min(u[0],m),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],m),u[3]=Math.max(u[3],g)},iC=function(e,n,r,i,o,a,s,l,c,u,h,f){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&k(this,ms,zb).call(this,e,n,r,i,o,a,s,l,-h/u,f);return}const p=u**2-4*h*c;if(p<0)return;const m=Math.sqrt(p),g=2*c;k(this,ms,zb).call(this,e,n,r,i,o,a,s,l,(-u+m)/g,f),k(this,ms,zb).call(this,e,n,r,i,o,a,s,l,(-u-m)/g,f)},T(fe,ms);function jxe(t){return decodeURIComponent(escape(t))}let zA=null,hR=null;function m3(t){return zA||(zA=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,hR=new Map([["ï¬…","Å¿t"]])),t.replaceAll(zA,(e,n,r)=>n?n.normalize("NFKC"):hR.get(r))}function bT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),p3(t)}const xT="pdfjs_internal_id_";function Mxe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...o]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=o.length;let s=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;s=!1;break;default:return!1}for(const l of o)if(!(typeof l=="number"||s&&l===null))return!1;return!0}function Qn(t,e,n){return Math.min(Math.max(t,e),n)}function g3(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(p3(t))}function Nxe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):zv(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Rg{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(o){var l;if(!o)return;let a=null;const s=o.name;if(s==="#text")a=o.value;else if(Rg.shouldBuildText(s))(l=o==null?void 0:o.attributes)!=null&&l.textContent?a=o.attributes.textContent:o.value&&(a=o.value);else return;if(a!==null&&n.push({str:a}),!!o.children)for(const c of o.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class wT{static setupStorage(e,n,r,i,o){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),o==="print")break;e.addEventListener("input",s=>{i.setValue(n,{value:s.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",s=>{i.setValue(n,{value:s.target.checked?s.target.getAttribute("xfaOn"):s.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),o==="print")break;e.addEventListener("input",s=>{i.setValue(n,{value:s.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const s of r.children)s.attributes.value===a.value?s.attributes.selected=!0:s.attributes.hasOwnProperty("selected")&&delete s.attributes.selected}e.addEventListener("input",s=>{const l=s.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:o}){const{attributes:a}=n,s=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!s||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}s&&o.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){var h,f;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,o=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:o,linkService:r});const s=o!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}s&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),s&&Rg.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[p,m,g]=u.at(-1);if(m+1===p.children.length){u.pop();continue}const y=p.children[++u.at(-1)[1]];if(y===null)continue;const{name:b}=y;if(b==="#text"){const x=document.createTextNode(y.value);c.push(x),g.append(x);continue}const w=(h=y==null?void 0:y.attributes)!=null&&h.xmlns?document.createElementNS(y.attributes.xmlns,b):document.createElement(b);if(g.append(w),y.attributes&&this.setAttributes({html:w,element:y,storage:n,intent:o,linkService:r}),((f=y.children)==null?void 0:f.length)>0)u.push([y,-1,w]);else if(y.value){const x=document.createTextNode(y.value);s&&Rg.shouldBuildText(b)&&c.push(x),w.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Sa="http://www.w3.org/2000/svg",kc=class kc{};ee(kc,"CSS",96),ee(kc,"PDF",72),ee(kc,"PDF_TO_CSS_UNITS",kc.CSS/kc.PDF);let Ts=kc;async function Fp(t,e="text"){if(fm(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Uv{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:o=0,offsetY:a=0,dontFlip:s=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=o,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,h,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,h=0,f=0,p=1;break;case 90:u=0,h=1,f=1,p=0;break;case 270:u=0,h=-1,f=-1,p=0;break;case 0:u=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(f=-f,p=-p);let m,g,y,b;u===0?(m=Math.abs(c-e[1])*r+o,g=Math.abs(l-e[0])*r+a,y=(e[3]-e[1])*r,b=(e[2]-e[0])*r):(m=Math.abs(l-e[0])*r+o,g=Math.abs(c-e[1])*r+a,y=(e[2]-e[0])*r,b=(e[3]-e[1])*r),this.transform=[u*r,h*r,f*r,p*r,m-u*r*l-f*r*c,g-h*r*l-p*r*c],this.width=y,this.height=b}get rawDims(){const e=this.viewBox;return Be(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new Uv({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}convertToViewportPoint(e,n){const r=[e,n];return fe.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];fe.applyTransform(n,this.transform);const r=[e[2],e[3]];return fe.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return fe.applyInverseTransform(r,this.transform),r}}class O1 extends gh{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function Hv(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function j1(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function y3(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function v3(t,e="document.pdf"){if(typeof t!="string")return e;if(Hv(t))return Me('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(s=>{try{return new URL(s)}catch{try{return new URL(decodeURIComponent(s))}catch{try{return new URL(s,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(s),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=s=>{try{let l=decodeURIComponent(s);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:s):l}catch{return s}},o=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(o.test(a))return i(a);if(r.searchParams.size>0){const s=Array.from(r.searchParams.values()).reverse();for(const c of s)if(o.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(o.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class dR{constructor(){ee(this,"started",Object.create(null));ee(this,"times",[])}time(e){e in this.started&&Me(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Me(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:o}of this.times)e.push(`${r.padEnd(n)} ${o-i}ms
`);return e.join("")}}function fm(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function yi(t){t.preventDefault()}function Ht(t){t.preventDefault(),t.stopPropagation()}function Rxe(t){console.log("Deprecated API usage: "+t)}var Ug;class Ig{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;d(this,Ug)||C(this,Ug,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=d(this,Ug).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(n[3],10);o=o>=1&&o<=31?o:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(n[5],10);s=s>=0&&s<=59?s:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let u=parseInt(n[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=u,s+=h):c==="+"&&(a-=u,s-=h),new Date(Date.UTC(r,i,o,a,s,l))}}Ug=new WeakMap,T(Ig,Ug);function b3(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new Uv({viewBox:o,userUnit:1,scale:e,rotation:n})}function Bp(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Me(`Not a valid color format: "${t}"`),[0,0,0])}function Ixe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Bp(r))}e.remove()}function Ut(t){const{a:e,b:n,c:r,d:i,e:o,f:a}=t.getTransform();return[e,n,r,i,o,a]}function Oo(t){const{a:e,b:n,c:r,d:i,e:o,f:a}=t.getTransform().invertSelf();return[e,n,r,i,o,a]}function Zl(t,e,n=!1,r=!0){if(e instanceof Uv){const{pageWidth:i,pageHeight:o}=e.rawDims,{style:a}=t,s=Nn.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${o}px`,u=s?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=s?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=u,a.height=h):(a.width=h,a.height=u)}r&&t.setAttribute("data-main-rotation",e.rotation)}class So{constructor(){const{pixelRatio:e}=So;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,o=-1){let a=1/0,s=1/0,l=1/0;r=So.capPixels(r,o),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(s=i/e,l=i/n);const c=Math.min(a,s,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const I0=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Dxe{static get isDarkMode(){var e;return Be(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class x3{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Be(this,"commentForegroundColor",Bp(r))}}function w3(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function fR(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.max(n,r,i),a=Math.min(n,r,i),s=(o+a)/2;if(o===a)e[0]=e[1]=0;else{const l=o-a;switch(e[1]=s<.5?l/(o+a):l/(2-o-a),o){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=s}function oC(t,e){const n=t[0],r=t[1],i=t[2],o=(1-Math.abs(2*i-1))*r,a=o*(1-Math.abs(n/60%2-1)),s=i-o/2;switch(Math.floor(n/60)){case 0:e[0]=o+s,e[1]=a+s,e[2]=s;break;case 1:e[0]=a+s,e[1]=o+s,e[2]=s;break;case 2:e[0]=s,e[1]=o+s,e[2]=a+s;break;case 3:e[0]=s,e[1]=a+s,e[2]=o+s;break;case 4:e[0]=a+s,e[1]=s,e[2]=o+s;break;case 5:case 6:e[0]=o+s,e[1]=s,e[2]=a+s;break}}function pR(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function mR(t,e,n){oC(t,n),n.map(pR);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];oC(e,n),n.map(pR);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const gR=new Map;function A3(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=gR.get(n);if(r)return r;const i=new Float32Array(9),o=i.subarray(0,3),a=i.subarray(3,6);fR(t,a);const s=i.subarray(6,9);fR(e,s);const l=s[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),mR(a,s,o)<c){let u,h;l?(u=a[2],h=1):(u=0,h=a[2]);const f=.005;for(;h-u>f;){const p=a[2]=(u+h)/2;l===mR(a,s,o)<c?u=p:h=p}a[2]=l?h:u}return oC(a,o),r=fe.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),gR.set(n,r),r}function AT({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const o=document.createElement("p");o.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let s=0,l=a.length;s<l;++s){const c=a[s];o.append(document.createTextNode(c)),s<l-1&&o.append(document.createElement("br"))}i.append(o)}else wT.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}var Gs,qs,Pi,Ti,Hg,Ks,cd,ud,Vg,Y0,S3,Vn,E3,C3,Ih,pm;const Pa=class Pa{constructor(e){T(this,Vn);T(this,Gs,null);T(this,qs,null);T(this,Pi);T(this,Ti,null);T(this,Hg,null);T(this,Ks,null);T(this,cd,null);T(this,ud,null);C(this,Pi,e),d(Pa,Vg)||C(Pa,Vg,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=C(this,Gs,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=d(this,Pi)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",yi,{signal:n}),e.addEventListener("pointerdown",k(Pa,Y0,S3),{signal:n}));const r=C(this,Ti,document.createElement("div"));r.className="buttons",e.append(r);const i=d(this,Pi).toolbarPosition;if(i){const{style:o}=e,a=d(this,Pi)._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*a}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return d(this,Gs)}hide(){var e;d(this,Gs).classList.add("hidden"),(e=d(this,qs))==null||e.hideDropdown()}show(){var e,n;d(this,Gs).classList.remove("hidden"),(e=d(this,Hg))==null||e.shown(),(n=d(this,Ks))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=d(this,Pi),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",d(Pa,Vg)[e]),k(this,Vn,Ih).call(this,r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),d(this,Ti).append(r)}async addAltText(e){const n=await e.render();k(this,Vn,Ih).call(this,n),d(this,Ti).append(n,d(this,Vn,pm)),C(this,Hg,e)}addComment(e,n=null){if(d(this,Ks))return;const r=e.renderForToolbar();if(!r)return;k(this,Vn,Ih).call(this,r);const i=C(this,cd,d(this,Vn,pm));n?(d(this,Ti).insertBefore(r,n),d(this,Ti).insertBefore(i,n)):d(this,Ti).append(r,i),C(this,Ks,e),e.toolbar=this}addColorPicker(e){if(d(this,qs))return;C(this,qs,e);const n=e.renderButton();k(this,Vn,Ih).call(this,n),d(this,Ti).append(n,d(this,Vn,pm))}async addEditSignatureButton(e){const n=C(this,ud,await e.renderEditButton(d(this,Pi)));k(this,Vn,Ih).call(this,n),d(this,Ti).append(n,d(this,Vn,pm))}removeButton(e){var n,r;switch(e){case"comment":(n=d(this,Ks))==null||n.removeToolbarCommentButton(),C(this,Ks,null),(r=d(this,cd))==null||r.remove(),C(this,cd,null);break}}async addButton(e,n){switch(e){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(n);break}}async addButtonBefore(e,n,r){const i=d(this,Ti).querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){d(this,ud)&&(d(this,ud).title=e)}remove(){var e;d(this,Gs).remove(),(e=d(this,qs))==null||e.destroy(),C(this,qs,null)}};Gs=new WeakMap,qs=new WeakMap,Pi=new WeakMap,Ti=new WeakMap,Hg=new WeakMap,Ks=new WeakMap,cd=new WeakMap,ud=new WeakMap,Vg=new WeakMap,Y0=new WeakSet,S3=function(e){e.stopPropagation()},Vn=new WeakSet,E3=function(e){d(this,Pi)._focusEventsAllowed=!1,Ht(e)},C3=function(e){d(this,Pi)._focusEventsAllowed=!0,Ht(e)},Ih=function(e){const n=d(this,Pi)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",k(this,Vn,E3).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",k(this,Vn,C3).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",yi,{signal:n}),!0)},pm=function(){const e=document.createElement("div");return e.className="divider",e},T(Pa,Y0),T(Pa,Vg,null);let aC=Pa;var Wg,$c,ka,ks,_3,P3,sC;class Lxe{constructor(e){T(this,ks);T(this,Wg,null);T(this,$c,null);T(this,ka);C(this,ka,e)}show(e,n,r){const[i,o]=k(this,ks,P3).call(this,n,r),{style:a}=d(this,$c)||C(this,$c,k(this,ks,_3).call(this));e.append(d(this,$c)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,$c).remove()}}Wg=new WeakMap,$c=new WeakMap,ka=new WeakMap,ks=new WeakSet,_3=function(){const e=C(this,$c,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=d(this,ka)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",yi,{signal:n});const r=C(this,Wg,document.createElement("div"));return r.className="buttons",e.append(r),d(this,ka).hasCommentManager()&&k(this,ks,sC).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{d(this,ka).commentSelection("floating_button")}),k(this,ks,sC).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{d(this,ka).highlightSelection("floating_button")}),e},P3=function(e,n){let r=0,i=0;for(const o of e){const a=o.y+o.height;if(a<r)continue;const s=o.x+(n?o.width:0);if(a>r){i=s,r=a;continue}n?s>i&&(i=s):s<i&&(i=s)}return[n?1-i:i,r]},sC=function(e,n,r,i){const o=document.createElement("button");o.classList.add("basic",e),o.tabIndex=0,o.setAttribute("data-l10n-id",n);const a=document.createElement("span");o.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const s=d(this,ka)._signal;s instanceof AbortSignal&&!s.aborted&&(o.addEventListener("contextmenu",yi,{signal:s}),o.addEventListener("click",i,{signal:s})),d(this,Wg).append(o)};function T3(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var J0;class $xe{constructor(){T(this,J0,0)}get id(){return`${Mg}${fn(this,J0)._++}`}}J0=new WeakMap;var hd,Gg,Gn,dd,Ub;const ZT=class ZT{constructor(){T(this,dd);T(this,hd,bT());T(this,Gg,0);T(this,Gn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const o=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Be(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:o}=e;return k(this,dd,Ub).call(this,`${n}_${r}_${i}_${o}`,e)}async getFromUrl(e){return k(this,dd,Ub).call(this,e,e)}async getFromBlob(e,n){const r=await n;return k(this,dd,Ub).call(this,e,r)}async getFromId(e){d(this,Gn)||C(this,Gn,new Map);const n=d(this,Gn).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){d(this,Gn)||C(this,Gn,new Map);let r=d(this,Gn).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${d(this,hd)}_${fn(this,Gg)._++}`,refCounter:1,isSvg:!1},d(this,Gn).set(e,r),d(this,Gn).set(r.id,r),r}getSvgUrl(e){const n=d(this,Gn).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;d(this,Gn)||C(this,Gn,new Map);const n=d(this,Gn).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const o=new OffscreenCanvas(r.width,r.height);o.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=o.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${d(this,hd)}_`)}};hd=new WeakMap,Gg=new WeakMap,Gn=new WeakMap,dd=new WeakSet,Ub=async function(e,n){d(this,Gn)||C(this,Gn,new Map);let r=d(this,Gn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${d(this,hd)}_${fn(this,Gg)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await Fp(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const o=ZT._isSVGFittingCanvas,a=new FileReader,s=new Image,l=new Promise((c,u)=>{s.onload=()=>{r.bitmap=s,r.isSvg=!0,c()},a.onload=async()=>{const h=r.svgUrl=a.result;s.src=await o?`${h}#svgView(preserveAspectRatio(none))`:h},s.onerror=a.onerror=u});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Me(i),r=null}return d(this,Gn).set(e,r),r&&d(this,Gn).set(r.id,r),r};let lC=ZT;var nn,Xs,qg,zt;class Fxe{constructor(e=128){T(this,nn,[]);T(this,Xs,!1);T(this,qg);T(this,zt,-1);C(this,qg,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:o=NaN,overwriteIfSameType:a=!1,keepUndo:s=!1}){if(i&&e(),d(this,Xs))return;const l={cmd:e,undo:n,post:r,type:o};if(d(this,zt)===-1){d(this,nn).length>0&&(d(this,nn).length=0),C(this,zt,0),d(this,nn).push(l);return}if(a&&d(this,nn)[d(this,zt)].type===o){s&&(l.undo=d(this,nn)[d(this,zt)].undo),d(this,nn)[d(this,zt)]=l;return}const c=d(this,zt)+1;c===d(this,qg)?d(this,nn).splice(0,1):(C(this,zt,c),c<d(this,nn).length&&d(this,nn).splice(c)),d(this,nn).push(l)}undo(){if(d(this,zt)===-1)return;C(this,Xs,!0);const{undo:e,post:n}=d(this,nn)[d(this,zt)];e(),n==null||n(),C(this,Xs,!1),C(this,zt,d(this,zt)-1)}redo(){if(d(this,zt)<d(this,nn).length-1){C(this,zt,d(this,zt)+1),C(this,Xs,!0);const{cmd:e,post:n}=d(this,nn)[d(this,zt)];e(),n==null||n(),C(this,Xs,!1)}}hasSomethingToUndo(){return d(this,zt)!==-1}hasSomethingToRedo(){return d(this,zt)<d(this,nn).length-1}cleanType(e){if(d(this,zt)!==-1){for(let n=d(this,zt);n>=0;n--)if(d(this,nn)[n].type!==e){d(this,nn).splice(n+1,d(this,zt)-n),C(this,zt,n);return}d(this,nn).length=0,C(this,zt,-1)}}destroy(){C(this,nn,null)}}nn=new WeakMap,Xs=new WeakMap,qg=new WeakMap,zt=new WeakMap;var Z0,k3;class Vv{constructor(e){T(this,Z0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Nn.platform;for(const[r,i,o={}]of e)for(const a of r){const s=a.startsWith("mac+");n&&s?(this.callbacks.set(a.slice(4),{callback:i,options:o}),this.allKeys.add(a.split("+").at(-1))):!n&&!s&&(this.callbacks.set(a,{callback:i,options:o}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(k(this,Z0,k3).call(this,n));if(!r)return;const{callback:i,options:{bubbles:o=!1,args:a=[],checker:s=null}}=r;s&&!s(e,n)||(i.bind(e,...a,n)(),o||Ht(n))}}Z0=new WeakSet,k3=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const Q0=class Q0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Ixe(e),Be(this,"_colors",e)}convert(e){const n=Bp(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((o,a)=>o===n[a]))return Q0._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?fe.makeHexColor(...n):e}};ee(Q0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let cC=Q0;var fd,Hr,pd,qt,yn,md,ki,gd,Oi,qn,Ys,Js,yd,Zs,Ro,ji,Fc,Kg,Xg,vd,Yg,Io,Qs,bd,el,Do,ew,tl,xd,Jg,nl,Bc,wd,rl,Zg,sn,ct,Oa,il,ol,Qg,Ad,ey,al,Lo,ja,ty,ny,Mi,se,Hb,uC,O3,j3,mm,M3,N3,R3,hC,I3,dC,fC,D3,ar,Ea,L3,$3,pC,F3,gm,mC;const Xh=class Xh{constructor(e,n,r,i,o,a,s,l,c,u,h,f,p,m,g,y){T(this,se);T(this,fd,new AbortController);T(this,Hr,null);T(this,pd,null);T(this,qt,new Map);T(this,yn,new Map);T(this,md,null);T(this,ki,null);T(this,gd,null);T(this,Oi,new Fxe);T(this,qn,null);T(this,Ys,null);T(this,Js,null);T(this,yd,0);T(this,Zs,new Set);T(this,Ro,null);T(this,ji,null);T(this,Fc,new Set);ee(this,"_editorUndoBar",null);T(this,Kg,!1);T(this,Xg,!1);T(this,vd,!1);T(this,Yg,null);T(this,Io,null);T(this,Qs,null);T(this,bd,null);T(this,el,!1);T(this,Do,null);T(this,ew,new $xe);T(this,tl,!1);T(this,xd,!1);T(this,Jg,!1);T(this,nl,null);T(this,Bc,null);T(this,wd,null);T(this,rl,null);T(this,Zg,null);T(this,sn,je.NONE);T(this,ct,new Set);T(this,Oa,null);T(this,il,null);T(this,ol,null);T(this,Qg,null);T(this,Ad,null);T(this,ey,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,al,[0,0]);T(this,Lo,null);T(this,ja,null);T(this,ty,null);T(this,ny,null);T(this,Mi,null);const b=this._signal=d(this,fd).signal;C(this,ja,e),C(this,ty,n),C(this,ny,r),C(this,md,i),C(this,qn,o),C(this,il,a),C(this,Ad,l),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:b}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),s._on("setpreference",this.onSetPreference.bind(this),{signal:b}),s._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:b}),window.addEventListener("pointerdown",()=>{C(this,xd,!0)},{capture:!0,signal:b}),window.addEventListener("pointerup",()=>{C(this,xd,!1)},{capture:!0,signal:b}),k(this,se,M3).call(this),k(this,se,D3).call(this),k(this,se,hC).call(this),C(this,ki,l.annotationStorage),C(this,Yg,l.filterFactory),C(this,ol,c),C(this,bd,u||null),C(this,Kg,h),C(this,Xg,f),C(this,vd,p),C(this,Zg,m||null),this.viewParameters={realScale:Ts.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=y!==!1,o==null||o.setSidebarUiManager(this)}static get _keyboardManager(){const e=Xh.prototype,n=a=>d(a,ja).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:s})=>{if(s instanceof HTMLInputElement){const{type:l}=s;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Be(this,"_keyboardManager",new Vv([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:s})=>!(s instanceof HTMLButtonElement)&&d(a,ja).contains(s)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:s})=>!(s instanceof HTMLButtonElement)&&d(a,ja).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}]]))}destroy(){var e,n,r,i,o,a,s,l,c;(e=d(this,Mi))==null||e.resolve(),C(this,Mi,null),(n=d(this,fd))==null||n.abort(),C(this,fd,null),this._signal=null;for(const u of d(this,yn).values())u.destroy();d(this,yn).clear(),d(this,qt).clear(),d(this,Fc).clear(),(r=d(this,rl))==null||r.clear(),C(this,Hr,null),d(this,ct).clear(),d(this,Oi).destroy(),(i=d(this,md))==null||i.destroy(),(o=d(this,qn))==null||o.destroy(),(a=d(this,il))==null||a.destroy(),(s=d(this,Do))==null||s.hide(),C(this,Do,null),(l=d(this,wd))==null||l.destroy(),C(this,wd,null),C(this,pd,null),d(this,Io)&&(clearTimeout(d(this,Io)),C(this,Io,null)),d(this,Lo)&&(clearTimeout(d(this,Lo)),C(this,Lo,null)),(c=this._editorUndoBar)==null||c.destroy(),C(this,Ad,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return d(this,Zg)}get useNewAltTextFlow(){return d(this,Xg)}get useNewAltTextWhenAddingImage(){return d(this,vd)}get hcmFilter(){return Be(this,"hcmFilter",d(this,ol)?d(this,Yg).addHCMFilter(d(this,ol).foreground,d(this,ol).background):"none")}get direction(){return Be(this,"direction",getComputedStyle(d(this,ja)).direction)}get _highlightColors(){return Be(this,"_highlightColors",d(this,bd)?new Map(d(this,bd).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Be(this,"highlightColors",null);const n=new Map,r=!!d(this,ol);for(const[i,o]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),o);continue}!r&&!a&&n.set(i,o)}return Be(this,"highlightColors",n)}get highlightColorNames(){return Be(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),C(this,Js,e)}setMainHighlightColorPicker(e){C(this,wd,e)}editAltText(e,n=!1){var r;(r=d(this,md))==null||r.editAltText(this,e,n)}hasCommentManager(){return!!d(this,qn)}editComment(e,n,r,i){var o;(o=d(this,qn))==null||o.showDialog(this,e,n,r,i)}selectComment(e,n){const r=d(this,yn).get(e),i=r==null?void 0:r.getEditorByUID(n);i==null||i.toggleComment(!0,!0)}updateComment(e){var n;(n=d(this,qn))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=d(this,qn))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=d(this,qn))==null||n.removeComments([e.uid])}toggleComment(e,n,r=void 0){var i;(i=d(this,qn))==null||i.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){var r;return e&&((r=d(this,qn))==null?void 0:r.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=d(this,qn))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(d(this,yn).has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=o=>{o.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var n;(n=d(this,il))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return d(this,il)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":C(this,vd,n);break}}onPageChanging({pageNumber:e}){C(this,yd,e-1)}focusMainContainer(){d(this,ja).focus()}findParent(e,n){for(const r of d(this,yn).values()){const{x:i,y:o,width:a,height:s}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=o&&n<=o+s)return r}return null}disableUserSelect(e=!1){d(this,ty).classList.toggle("noUserSelect",e)}addShouldRescale(e){d(this,Fc).add(e)}removeShouldRescale(e){d(this,Fc).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Ts.PDF_TO_CSS_UNITS;for(const r of d(this,Fc))r.onScaleChanging();(n=d(this,Js))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:o,focusNode:a,focusOffset:s}=r,l=r.toString(),u=k(this,se,Hb).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(u);if(!h)return;r.empty();const f=k(this,se,uC).call(this,u),p=d(this,sn)===je.NONE,m=()=>{const g=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:o,focusNode:a,focusOffset:s,text:l});p&&this.showAllEditors("highlight",!0,!0),n&&(g==null||g.editComment())};if(p){this.switchToMode(je.HIGHLIGHT,m);return}m()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!d(this,ki))return null;const n=`${Mg}${e}`,r=d(this,ki).getRawValue(n);return r&&d(this,ki).remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&d(this,ki)&&!d(this,ki).has(e.id)&&d(this,ki).setValue(e.id,e)}a11yAlert(e,n=null){const r=d(this,ny);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,d(this,el)&&(C(this,el,!1),k(this,se,mm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of d(this,ct))if(n.div.contains(e)){C(this,Bc,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!d(this,Bc))return;const[e,n]=d(this,Bc);C(this,Bc,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){k(this,se,hC).call(this),k(this,se,dC).call(this)}removeEditListeners(){k(this,se,I3).call(this),k(this,se,fC).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of d(this,ji))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of d(this,ji))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=d(this,Hr))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of d(this,ct)){const o=i.serialize(!0);o&&n.push(o)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const o of n.items)for(const a of d(this,ji))if(a.isHandlingMimeForPasting(o.type)){a.paste(o,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){Me(`paste: "${o.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const o=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;o.push(c)}const a=()=>{for(const l of o)k(this,se,pC).call(this,l);k(this,se,mC).call(this,o)},s=()=>{for(const l of o)l.remove()};this.addCommands({cmd:a,undo:s,mustExec:!0})}catch(o){Me(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,sn)!==je.NONE&&!this.isEditorHandlingKeyboard&&Xh._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,el)&&(C(this,el,!1),k(this,se,mm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(k(this,se,N3).call(this),k(this,se,dC).call(this),k(this,se,ar).call(this,{isEditing:d(this,sn)!==je.NONE,isEmpty:k(this,se,gm).call(this),hasSomethingToUndo:d(this,Oi).hasSomethingToUndo(),hasSomethingToRedo:d(this,Oi).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,se,R3).call(this),k(this,se,fC).call(this),k(this,se,ar).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!d(this,ji)){C(this,ji,e);for(const n of d(this,ji))k(this,se,Ea).call(this,n.defaultPropertiesToUpdate)}}getId(){return d(this,ew).id}get currentLayer(){return d(this,yn).get(d(this,yd))}getLayer(e){return d(this,yn).get(e)}get currentPageIndex(){return d(this,yd)}addLayer(e){d(this,yn).set(e.pageIndex,e),d(this,tl)?e.enable():e.disable()}removeLayer(e){d(this,yn).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,o=!1){var a,s,l,c,u,h;if(d(this,sn)!==e&&!(d(this,Mi)&&(await d(this,Mi).promise,!d(this,Mi)))){if(C(this,Mi,Promise.withResolvers()),(a=d(this,Js))==null||a.commitOrRemove(),d(this,sn)===je.POPUP&&((s=d(this,qn))==null||s.hideSidebar()),(l=d(this,qn))==null||l.destroyPopup(),C(this,sn,e),e===je.NONE){this.setEditingState(!1),k(this,se,$3).call(this);for(const f of d(this,qt).values())f.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),d(this,Mi).resolve();return}for(const f of d(this,qt).values())f.addStandaloneCommentButton();e===je.SIGNATURE&&await((u=d(this,il))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await k(this,se,L3).call(this),this.unselectAll();for(const f of d(this,yn).values())f.updateMode(e);if(e===je.POPUP){d(this,pd)||C(this,pd,await d(this,Ad).getAnnotationsByType(new Set(d(this,ji).map(m=>m._editorType))));const f=new Set,p=[];for(const m of d(this,qt).values()){const{annotationElementId:g,hasComment:y,deleted:b}=m;g&&f.add(g),y&&!b&&p.push(m.getData())}for(const m of d(this,pd)){const{id:g,popupRef:y,contentsObj:b}=m;y&&(b!=null&&b.str)&&!f.has(g)&&!d(this,Zs).has(g)&&p.push(m)}(h=d(this,qn))==null||h.showSidebar(p)}if(!n){r&&this.addNewEditorFromKeyboard(),d(this,Mi).resolve();return}for(const f of d(this,qt).values())f.uid===n?(this.setSelected(f),o?f.editComment():i?f.enterInEditMode():f.focus()):f.unselect();d(this,Mi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==d(this,sn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(d(this,ji)){switch(e){case Ge.CREATE:this.currentLayer.addNewEditor(n);return;case Ge.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,Qg)||C(this,Qg,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of d(this,ct))r.updateParams(e,n);else for(const r of d(this,ji))r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var o;for(const a of d(this,qt).values())a.editorType===e&&a.show(n);(((o=d(this,Qg))==null?void 0:o.get(Ge.HIGHLIGHT_SHOW_ALL))??!0)!==n&&k(this,se,Ea).call(this,[[Ge.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(d(this,Jg)!==e){C(this,Jg,e);for(const n of d(this,yn).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of d(this,qt).values())n.pageIndex===e&&(yield n)}getEditor(e){return d(this,qt).get(e)}addEditor(e){d(this,qt).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(d(this,Io)&&clearTimeout(d(this,Io)),C(this,Io,setTimeout(()=>{this.focusMainContainer(),C(this,Io,null)},0))),d(this,qt).delete(e.id),e.annotationElementId&&((n=d(this,rl))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!d(this,Zs).has(e.annotationElementId))&&((r=d(this,ki))==null||r.remove(e.id))}addDeletedAnnotationElement(e){d(this,Zs).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return d(this,Zs).has(e)}removeDeletedAnnotationElement(e){d(this,Zs).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){d(this,Hr)!==e&&(C(this,Hr,e),e&&k(this,se,Ea).call(this,e.propertiesToUpdate))}updateUI(e){d(this,se,F3)===e&&k(this,se,Ea).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){k(this,se,Ea).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(d(this,ct).has(e)){d(this,ct).delete(e),e.unselect(),k(this,se,ar).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,ct).add(e),e.select(),k(this,se,Ea).call(this,e.propertiesToUpdate),k(this,se,ar).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.id}),(n=d(this,Js))==null||n.commitOrRemove();for(const r of d(this,ct))r!==e&&r.unselect();d(this,ct).clear(),d(this,ct).add(e),e.select(),k(this,se,Ea).call(this,e.propertiesToUpdate),k(this,se,ar).call(this,{hasSelectedEditor:!0})}isSelected(e){return d(this,ct).has(e)}get firstSelectedEditor(){return d(this,ct).values().next().value}unselect(e){e.unselect(),d(this,ct).delete(e),k(this,se,ar).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,ct).size!==0}get isEnterHandled(){return d(this,ct).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;d(this,Oi).undo(),k(this,se,ar).call(this,{hasSomethingToUndo:d(this,Oi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,se,gm).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){d(this,Oi).redo(),k(this,se,ar).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Oi).hasSomethingToRedo(),isEmpty:k(this,se,gm).call(this)})}addCommands(e){d(this,Oi).add(e),k(this,se,ar).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,se,gm).call(this)})}cleanUndoStack(e){d(this,Oi).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...d(this,ct)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,n.length===1?n[0].editorType:n.length);for(const s of n)s.remove()},i=()=>{for(const a of n)k(this,se,pC).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=d(this,Hr))==null||e.commitOrRemove()}hasSomethingToControl(){return d(this,Hr)||this.hasSelection}selectAll(){for(const e of d(this,ct))e.commit();k(this,se,mC).call(this,d(this,qt).values())}unselectAll(){var e;if(!(d(this,Hr)&&(d(this,Hr).commitOrRemove(),d(this,sn)!==je.NONE))&&!((e=d(this,Js))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of d(this,ct))n.unselect();d(this,ct).clear(),k(this,se,ar).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;d(this,al)[0]+=e,d(this,al)[1]+=n;const[i,o]=d(this,al),a=[...d(this,ct)],s=1e3;d(this,Lo)&&clearTimeout(d(this,Lo)),C(this,Lo,setTimeout(()=>{C(this,Lo,null),d(this,al)[0]=d(this,al)[1]=0,this.addCommands({cmd:()=>{for(const l of a)d(this,qt).has(l.id)&&(l.translateInPage(i,o),l.translationDone())},undo:()=>{for(const l of a)d(this,qt).has(l.id)&&(l.translateInPage(-i,-o),l.translationDone())},mustExec:!1})},s));for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,Ro,new Map);for(const e of d(this,ct))d(this,Ro).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,Ro))return!1;this.disableUserSelect(!1);const e=d(this,Ro);C(this,Ro,null);let n=!1;for(const[{x:i,y:o,pageIndex:a},s]of e)s.newX=i,s.newY=o,s.newPageIndex=a,n||(n=i!==s.savedX||o!==s.savedY||a!==s.savedPageIndex);if(!n)return!1;const r=(i,o,a,s)=>{if(d(this,qt).has(i.id)){const l=d(this,yn).get(s);l?i._setParentAndPosition(l,o,a):(i.pageIndex=s,i.x=o,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:o,newY:a,newPageIndex:s}]of e)r(i,o,a,s)},undo:()=>{for(const[i,{savedX:o,savedY:a,savedPageIndex:s}]of e)r(i,o,a,s)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(d(this,Ro))for(const r of d(this,Ro).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||d(this,ct).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return d(this,Hr)===e}getActive(){return d(this,Hr)}getMode(){return d(this,sn)}isEditingMode(){return d(this,sn)!==je.NONE}get imageManager(){return Be(this,"imageManager",new lC)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,u=n.rangeCount;c<u;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:o,height:a}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(c,u,h,f)=>({x:(u-i)/a,y:1-(c+h-r)/o,width:f/a,height:h/o});break;case"180":s=(c,u,h,f)=>({x:1-(c+h-r)/o,y:1-(u+f-i)/a,width:h/o,height:f/a});break;case"270":s=(c,u,h,f)=>({x:1-(u+f-i)/a,y:(c-r)/o,width:f/a,height:h/o});break;default:s=(c,u,h,f)=>({x:(c-r)/o,y:(u-i)/a,width:h/o,height:f/a});break}const l=[];for(let c=0,u=n.rangeCount;c<u;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:f,y:p,width:m,height:g}of h.getClientRects())m===0||g===0||l.push(s(f,p,m,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(d(this,gd)||C(this,gd,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=d(this,gd))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=d(this,gd))==null?void 0:i.get(e.data.id);if(!n)return;const r=d(this,ki).getRawValue(n);r&&(d(this,sn)===je.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var o;const i=(o=d(this,rl))==null?void 0:o.get(e);i&&(i.setCanvas(n,r),d(this,rl).delete(e))}addMissingCanvas(e,n){(d(this,rl)||C(this,rl,new Map)).set(e,n)}};fd=new WeakMap,Hr=new WeakMap,pd=new WeakMap,qt=new WeakMap,yn=new WeakMap,md=new WeakMap,ki=new WeakMap,gd=new WeakMap,Oi=new WeakMap,qn=new WeakMap,Ys=new WeakMap,Js=new WeakMap,yd=new WeakMap,Zs=new WeakMap,Ro=new WeakMap,ji=new WeakMap,Fc=new WeakMap,Kg=new WeakMap,Xg=new WeakMap,vd=new WeakMap,Yg=new WeakMap,Io=new WeakMap,Qs=new WeakMap,bd=new WeakMap,el=new WeakMap,Do=new WeakMap,ew=new WeakMap,tl=new WeakMap,xd=new WeakMap,Jg=new WeakMap,nl=new WeakMap,Bc=new WeakMap,wd=new WeakMap,rl=new WeakMap,Zg=new WeakMap,sn=new WeakMap,ct=new WeakMap,Oa=new WeakMap,il=new WeakMap,ol=new WeakMap,Qg=new WeakMap,Ad=new WeakMap,ey=new WeakMap,al=new WeakMap,Lo=new WeakMap,ja=new WeakMap,ty=new WeakMap,ny=new WeakMap,Mi=new WeakMap,se=new WeakSet,Hb=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},uC=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of d(this,yn).values())if(r.hasTextLayer(e))return r;return null},O3=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=k(this,se,Hb).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(d(this,Do)||C(this,Do,new Lxe(this)),d(this,Do).show(r,i,this.direction==="ltr"))},j3=function(){var o,a,s;const e=document.getSelection();if(!e||e.isCollapsed){d(this,Oa)&&((o=d(this,Do))==null||o.hide(),C(this,Oa,null),k(this,se,ar).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===d(this,Oa))return;const i=k(this,se,Hb).call(this,e).closest(".textLayer");if(!i){d(this,Oa)&&((a=d(this,Do))==null||a.hide(),C(this,Oa,null),k(this,se,ar).call(this,{hasSelectedText:!1}));return}if((s=d(this,Do))==null||s.hide(),C(this,Oa,n),k(this,se,ar).call(this,{hasSelectedText:!0}),!(d(this,sn)!==je.HIGHLIGHT&&d(this,sn)!==je.NONE)&&(d(this,sn)===je.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,el,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=d(this,sn)===je.HIGHLIGHT?k(this,se,uC).call(this,i):null;if(l==null||l.toggleDrawing(),d(this,xd)){const c=new AbortController,u=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&k(this,se,mm).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("blur",h,{signal:u})}else l==null||l.toggleDrawing(!0),k(this,se,mm).call(this,"main_toolbar")}},mm=function(e=""){d(this,sn)===je.HIGHLIGHT?this.highlightSelection(e):d(this,Kg)&&k(this,se,O3).call(this)},M3=function(){document.addEventListener("selectionchange",k(this,se,j3).bind(this),{signal:this._signal})},N3=function(){if(d(this,Qs))return;C(this,Qs,new AbortController);const e=this.combinedSignal(d(this,Qs));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},R3=function(){var e;(e=d(this,Qs))==null||e.abort(),C(this,Qs,null)},hC=function(){if(d(this,nl))return;C(this,nl,new AbortController);const e=this.combinedSignal(d(this,nl));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},I3=function(){var e;(e=d(this,nl))==null||e.abort(),C(this,nl,null)},dC=function(){if(d(this,Ys))return;C(this,Ys,new AbortController);const e=this.combinedSignal(d(this,Ys));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},fC=function(){var e;(e=d(this,Ys))==null||e.abort(),C(this,Ys,null)},D3=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ar=function(e){Object.entries(e).some(([r,i])=>d(this,ey)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,ey),e)}),d(this,sn)===je.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,se,Ea).call(this,[[Ge.HIGHLIGHT_FREE,!0]]))},Ea=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},L3=async function(){if(!d(this,tl)){C(this,tl,!0);const e=[];for(const n of d(this,yn).values())e.push(n.enable());await Promise.all(e);for(const n of d(this,qt).values())n.enable()}},$3=function(){if(this.unselectAll(),d(this,tl)){C(this,tl,!1);for(const e of d(this,yn).values())e.disable();for(const e of d(this,qt).values())e.disable()}},pC=function(e){const n=d(this,yn).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},F3=function(){let e=null;for(e of d(this,ct));return e},gm=function(){if(d(this,qt).size===0)return!0;if(d(this,qt).size===1)for(const e of d(this,qt).values())return e.isEmpty();return!1},mC=function(e){for(const n of d(this,ct))n.unselect();d(this,ct).clear();for(const n of e)n.isEmpty()||(d(this,ct).add(n),n.select());k(this,se,ar).call(this,{hasSelectedEditor:this.hasSelection})},ee(Xh,"TRANSLATE_SMALL",1),ee(Xh,"TRANSLATE_BIG",10);let Ql=Xh;var Sn,$o,to,Sd,Fo,Vr,Ed,Bo,Sr,Ma,zc,zo,sl,yo,ym,Vb;const sr=class sr{constructor(e){T(this,yo);T(this,Sn,null);T(this,$o,!1);T(this,to,null);T(this,Sd,null);T(this,Fo,null);T(this,Vr,null);T(this,Ed,!1);T(this,Bo,null);T(this,Sr,null);T(this,Ma,null);T(this,zc,null);T(this,zo,!1);C(this,Sr,e),C(this,zo,e._uiManager.useNewAltTextFlow),d(sr,sl)||C(sr,sl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){sr._l10n??(sr._l10n=e)}async render(){const e=C(this,to,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=C(this,Sd,document.createElement("span"));e.append(n),d(this,zo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",d(sr,sl).missing),n.setAttribute("data-l10n-id",d(sr,sl)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=d(this,Sr)._uiManager._signal;e.addEventListener("contextmenu",yi,{signal:r}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});const i=o=>{o.preventDefault(),d(this,Sr)._uiManager.editAltText(d(this,Sr)),d(this,zo)&&d(this,Sr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,yo,ym)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(C(this,Ed,!0),i(o))},{signal:r}),await k(this,yo,Vb).call(this),e}finish(){d(this,to)&&(d(this,to).focus({focusVisible:d(this,Ed)}),C(this,Ed,!1))}isEmpty(){return d(this,zo)?d(this,Sn)===null:!d(this,Sn)&&!d(this,$o)}hasData(){return d(this,zo)?d(this,Sn)!==null||!!d(this,Ma):this.isEmpty()}get guessedText(){return d(this,Ma)}async setGuessedText(e){d(this,Sn)===null&&(C(this,Ma,e),C(this,zc,await sr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,yo,Vb).call(this))}toggleAltTextBadge(e=!1){var n;if(!d(this,zo)||d(this,Sn)){(n=d(this,Bo))==null||n.remove(),C(this,Bo,null);return}if(!d(this,Bo)){const r=C(this,Bo,document.createElement("div"));r.className="noAltTextBadge",d(this,Sr).div.append(r)}d(this,Bo).classList.toggle("hidden",!e)}serialize(e){let n=d(this,Sn);return!e&&d(this,Ma)===n&&(n=d(this,zc)),{altText:n,decorative:d(this,$o),guessedText:d(this,Ma),textWithDisclaimer:d(this,zc)}}get data(){return{altText:d(this,Sn),decorative:d(this,$o)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:o=!1}){r&&(C(this,Ma,r),C(this,zc,i)),!(d(this,Sn)===e&&d(this,$o)===n)&&(o||(C(this,Sn,e),C(this,$o,n)),k(this,yo,Vb).call(this))}toggle(e=!1){d(this,to)&&(!e&&d(this,Vr)&&(clearTimeout(d(this,Vr)),C(this,Vr,null)),d(this,to).disabled=!e)}shown(){d(this,Sr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,yo,ym)}})}destroy(){var e,n;(e=d(this,to))==null||e.remove(),C(this,to,null),C(this,Sd,null),C(this,Fo,null),(n=d(this,Bo))==null||n.remove(),C(this,Bo,null)}};Sn=new WeakMap,$o=new WeakMap,to=new WeakMap,Sd=new WeakMap,Fo=new WeakMap,Vr=new WeakMap,Ed=new WeakMap,Bo=new WeakMap,Sr=new WeakMap,Ma=new WeakMap,zc=new WeakMap,zo=new WeakMap,sl=new WeakMap,yo=new WeakSet,ym=function(){return d(this,Sn)&&"added"||d(this,Sn)===null&&this.guessedText&&"review"||"missing"},Vb=async function(){var i,o,a;const e=d(this,to);if(!e)return;if(d(this,zo)){if(e.classList.toggle("done",!!d(this,Sn)),e.setAttribute("data-l10n-id",d(sr,sl)[d(this,yo,ym)]),(i=d(this,Sd))==null||i.setAttribute("data-l10n-id",d(sr,sl)[`${d(this,yo,ym)}-label`]),!d(this,Sn)){(o=d(this,Fo))==null||o.remove();return}}else{if(!d(this,Sn)&&!d(this,$o)){e.classList.remove("done"),(a=d(this,Fo))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=d(this,Fo);if(!n){C(this,Fo,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${d(this,Sr).id}`;const s=100,l=d(this,Sr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(d(this,Vr)),C(this,Vr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{C(this,Vr,setTimeout(()=>{C(this,Vr,null),d(this,Fo).classList.add("show"),d(this,Sr)._reportTelemetry({action:"alt_text_tooltip"})},s))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;d(this,Vr)&&(clearTimeout(d(this,Vr)),C(this,Vr,null)),(c=d(this,Fo))==null||c.classList.remove("show")},{signal:l})}d(this,$o)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=d(this,Sn)),n.parentNode||e.append(n);const r=d(this,Sr).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},T(sr,sl,null),ee(sr,"_l10n",null);let D0=sr;var Dn,Ni,Uc,Ct,ry,Hc,no,Vc,Wc,Gc,iy,gC;class wb{constructor(e){T(this,iy);T(this,Dn,null);T(this,Ni,null);T(this,Uc,!1);T(this,Ct,null);T(this,ry,null);T(this,Hc,null);T(this,no,null);T(this,Vc,null);T(this,Wc,!1);T(this,Gc,null);C(this,Ct,e)}renderForToolbar(){const e=C(this,Ni,document.createElement("button"));return e.className="comment",k(this,iy,gC).call(this,e,!1)}renderForStandalone(){const e=C(this,Dn,document.createElement("button"));e.className="annotationCommentButton";const n=d(this,Ct).commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(d(this,Ct)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=d(this,Ct).commentButtonColor;i&&(r.backgroundColor=i)}return k(this,iy,gC).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=d(this,Dn)??d(this,Ni))==null||e.focus()},0)}onUpdatedColor(){if(!d(this,Dn))return;const e=d(this,Ct).commentButtonColor;e&&(d(this,Dn).style.backgroundColor=e),d(this,Ct)._uiManager.updatePopupColor(d(this,Ct))}get commentButtonWidth(){var e;return(((e=d(this,Dn))==null?void 0:e.getBoundingClientRect().width)??0)/d(this,Ct).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(d(this,Gc))return d(this,Gc);if(!d(this,Dn))return null;const{x:e,y:n,height:r}=d(this,Dn).getBoundingClientRect(),{x:i,y:o,width:a,height:s}=d(this,Ct).parent.boundingClientRect;return[(e-i)/a,(n+r-o)/s]}set commentPopupPositionInLayer(e){C(this,Gc,e)}hasDefaultPopupPosition(){return d(this,Gc)===null}removeStandaloneCommentButton(){var e;(e=d(this,Dn))==null||e.remove(),C(this,Dn,null)}removeToolbarCommentButton(){var e;(e=d(this,Ni))==null||e.remove(),C(this,Ni,null)}setCommentButtonStates({selected:e,hasPopup:n}){d(this,Dn)&&(d(this,Dn).classList.toggle("selected",e),d(this,Dn).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=d(this,Ct).commentButtonPosition;const{width:u,height:h,x:f,y:p}=d(this,Ct);r=f+r*u,i=p+i*h}const o=d(this,Ct).parent.boundingClientRect,{x:a,y:s,width:l,height:c}=o;d(this,Ct)._uiManager.editComment(d(this,Ct),a+r*l,s+i*c,{...e,parentDimensions:o})}finish(){d(this,Ni)&&(d(this,Ni).focus({focusVisible:d(this,Uc)}),C(this,Uc,!1))}isDeleted(){return d(this,Wc)||d(this,no)===""}isEmpty(){return d(this,no)===null}hasBeenEdited(){return this.isDeleted()||d(this,no)!==d(this,ry)}serialize(){return this.data}get data(){return{text:d(this,no),richText:d(this,Hc),date:d(this,Vc),deleted:this.isDeleted()}}set data(e){if(e!==d(this,no)&&C(this,Hc,null),e===null){C(this,no,""),C(this,Wc,!0);return}C(this,no,e),C(this,Vc,new Date),C(this,Wc,!1)}setInitialText(e,n=null){C(this,ry,e),this.data=e,C(this,Vc,null),C(this,Hc,n)}shown(){}destroy(){var e,n;(e=d(this,Ni))==null||e.remove(),C(this,Ni,null),(n=d(this,Dn))==null||n.remove(),C(this,Dn,null),C(this,no,""),C(this,Hc,null),C(this,Vc,null),C(this,Ct,null),C(this,Uc,!1),C(this,Wc,!1)}}Dn=new WeakMap,Ni=new WeakMap,Uc=new WeakMap,Ct=new WeakMap,ry=new WeakMap,Hc=new WeakMap,no=new WeakMap,Vc=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,iy=new WeakSet,gC=function(e,n){if(!d(this,Ct)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[d(this,Ct)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=d(this,Ct)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",yi,{signal:r}),n&&(e.addEventListener("focusin",o=>{d(this,Ct)._focusEventsAllowed=!1,Ht(o)},{capture:!0,signal:r}),e.addEventListener("focusout",o=>{d(this,Ct)._focusEventsAllowed=!0,Ht(o)},{capture:!0,signal:r})),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});const i=o=>{o.preventDefault(),e===d(this,Ni)?this.edit():d(this,Ct).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(C(this,Uc,!0),i(o))},{signal:r}),e.addEventListener("pointerenter",()=>{d(this,Ct).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{d(this,Ct).toggleComment(!1,!1)},{signal:r}),e};var Cd,qc,oy,ay,sy,ly,cy,Na,Kc,Ra,Xc,Ia,ec,B3,z3,U3;const QT=class QT{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:o=null,onPinchEnd:a=null,signal:s}){T(this,ec);T(this,Cd);T(this,qc,!1);T(this,oy,null);T(this,ay);T(this,sy);T(this,ly);T(this,cy);T(this,Na,null);T(this,Kc);T(this,Ra,null);T(this,Xc);T(this,Ia,null);C(this,Cd,e),C(this,oy,r),C(this,ay,n),C(this,sy,i),C(this,ly,o),C(this,cy,a),C(this,Xc,new AbortController),C(this,Kc,AbortSignal.any([s,d(this,Xc).signal])),e.addEventListener("touchstart",k(this,ec,B3).bind(this),{passive:!1,signal:d(this,Kc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/So.pixelRatio}destroy(){var e,n;(e=d(this,Xc))==null||e.abort(),C(this,Xc,null),(n=d(this,Na))==null||n.abort(),C(this,Na,null)}};Cd=new WeakMap,qc=new WeakMap,oy=new WeakMap,ay=new WeakMap,sy=new WeakMap,ly=new WeakMap,cy=new WeakMap,Na=new WeakMap,Kc=new WeakMap,Ra=new WeakMap,Xc=new WeakMap,Ia=new WeakMap,ec=new WeakSet,B3=function(e){var i,o,a;if((i=d(this,ay))!=null&&i.call(this))return;if(e.touches.length===1){if(d(this,Na))return;const s=C(this,Na,new AbortController),l=AbortSignal.any([d(this,Kc),s.signal]),c=d(this,Cd),u={capture:!0,signal:l,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=d(this,Na))==null||p.abort(),C(this,Na,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Ht(f),h(f))},u),c.addEventListener("pointerup",h,u),c.addEventListener("pointercancel",h,u);return}if(!d(this,Ia)){C(this,Ia,new AbortController);const s=AbortSignal.any([d(this,Kc),d(this,Ia).signal]),l=d(this,Cd),c={signal:s,capture:!1,passive:!1};l.addEventListener("touchmove",k(this,ec,z3).bind(this),c);const u=k(this,ec,U3).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",Ht,c),l.addEventListener("pointermove",Ht,c),l.addEventListener("pointercancel",Ht,c),l.addEventListener("pointerup",Ht,c),(o=d(this,sy))==null||o.call(this)}if(Ht(e),e.touches.length!==2||(a=d(this,oy))!=null&&a.call(this)){C(this,Ra,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),C(this,Ra,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},z3=function(e){var E;if(!d(this,Ra)||e.touches.length!==2)return;Ht(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:o}=n,{screenX:a,screenY:s}=r,l=d(this,Ra),{touch0X:c,touch0Y:u,touch1X:h,touch1Y:f}=l,p=h-c,m=f-u,g=a-i,y=s-o,b=Math.hypot(g,y)||1,w=Math.hypot(p,m)||1;if(!d(this,qc)&&Math.abs(w-b)<=QT.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=o,l.touch1X=a,l.touch1Y=s,!d(this,qc)){C(this,qc,!0);return}const x=[(i+a)/2,(o+s)/2];(E=d(this,ly))==null||E.call(this,x,w,b)},U3=function(e){var n;e.touches.length>=2||(d(this,Ia)&&(d(this,Ia).abort(),C(this,Ia,null),(n=d(this,cy))==null||n.call(this)),d(this,Ra)&&(Ht(e),C(this,Ra,null),C(this,qc,!1)))};let Dg=QT;var Yc,ro,$t,bt,Da,_d,ll,uy,Ln,Jc,La,Uo,cl,hy,Zc,Wr,dy,Qc,$a,Ho,Pd,Td,Ri,eu,fy,tw,_e,yC,py,vC,Wb,H3,V3,bC,Gb,xC,W3,G3,q3,wC,K3,AC,X3,Y3,J3,SC,vm;const Ne=class Ne{constructor(e){T(this,_e);T(this,Yc,null);T(this,ro,null);T(this,$t,null);T(this,bt,null);T(this,Da,null);T(this,_d,!1);T(this,ll,null);T(this,uy,"");T(this,Ln,null);T(this,Jc,null);T(this,La,null);T(this,Uo,null);T(this,cl,null);T(this,hy,"");T(this,Zc,!1);T(this,Wr,null);T(this,dy,!1);T(this,Qc,!1);T(this,$a,!1);T(this,Ho,null);T(this,Pd,0);T(this,Td,0);T(this,Ri,null);T(this,eu,null);ee(this,"isSelected",!1);ee(this,"_isCopy",!1);ee(this,"_editToolbar",null);ee(this,"_initialOptions",Object.create(null));ee(this,"_initialData",null);ee(this,"_isVisible",!0);ee(this,"_uiManager",null);ee(this,"_focusEventsAllowed",!0);T(this,fy,!1);T(this,tw,Ne._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[o,a];const[s,l]=this.parentDimensions;this.x=e.x/s,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ne.prototype._resizeWithKeyboard,n=Ql.TRANSLATE_SMALL,r=Ql.TRANSLATE_BIG;return Be(this,"_resizerKeyboardManager",new Vv([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Ne.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Be(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Bxe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Ne._l10n??(Ne._l10n=e),Ne._l10nResizer||(Ne._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ne._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Ne._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){St("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,fy)}set _isDraggable(e){var n;C(this,fy,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,tw)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(k(this,_e,vm).call(this),(n=d(this,Uo))==null||n.remove(),C(this,Uo,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(d(this,Zc)?C(this,Zc,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[o,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/o,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){k(this,_e,yC).call(this,this.parentDimensions,e,n)}translateInPage(e,n){d(this,Wr)||C(this,Wr,[this.x,this.y,this.width,this.height]),k(this,_e,yC).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){d(this,Wr)||C(this,Wr,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,o]}=this;if(this.x+=e/i,this.y+=n/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[l,c]=this.getBaseTranslation();a+=l,s+=c;const{style:u}=r;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this._onTranslating(a,s),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!d(this,Wr)&&(d(this,Wr)[0]!==this.x||d(this,Wr)[1]!==this.y)}get _hasBeenResized(){return!!d(this,Wr)&&(d(this,Wr)[2]!==this.width||d(this,Wr)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Ne,i=r/e,o=r/n;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:o,y:a,width:s,height:l}=this;if(s*=r,l*=i,o*=r,a*=i,this._mustFixPosition)switch(e){case 0:o=Qn(o,0,r-s),a=Qn(a,0,i-l);break;case 90:o=Qn(o,0,r-l),a=Qn(a,s,i);break;case 180:o=Qn(o,s,r),a=Qn(a,l,i);break;case 270:o=Qn(o,l,r),a=Qn(a,0,i-s);break}this.x=o/=r,this.y=a/=i;const[c,u]=this.getBaseTranslation();o+=c,a+=u,n.left=`${(100*o).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return k(r=Ne,py,vC).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return k(r=Ne,py,vC).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=d(this,$t))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||d(this,Qc))return this._editToolbar;this._editToolbar=new aC(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=d(this,$t))==null||n.destroy()}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return d(this,$t)||(D0.initialize(Ne._l10n),C(this,$t,new D0(this)),d(this,Yc)&&(d(this,$t).data=d(this,Yc),C(this,Yc,null))),d(this,$t)}get altTextData(){var e;return(e=d(this,$t))==null?void 0:e.data}set altTextData(e){d(this,$t)&&(d(this,$t).data=e)}get guessedAltText(){var e;return(e=d(this,$t))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=d(this,$t))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=d(this,$t))==null?void 0:n.serialize(e)}hasAltText(){return!!d(this,$t)&&!d(this,$t).isEmpty()}hasAltTextData(){var e;return((e=d(this,$t))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=d(this,bt))==null||e.focusButton()}addCommentButton(){return d(this,bt)||C(this,bt,new wb(this))}addStandaloneCommentButton(){if(d(this,Da)){this._uiManager.isEditingMode()&&d(this,Da).classList.remove("hidden");return}this.hasComment&&(C(this,Da,d(this,bt).renderForStandalone()),this.div.append(d(this,Da)))}removeStandaloneCommentButton(){d(this,bt).removeStandaloneCommentButton(),C(this,Da,null)}hideStandaloneCommentButton(){var e;(e=d(this,Da))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=d(this,bt);return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){d(this,bt)||C(this,bt,new wb(this)),d(this,bt).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(d(this,bt)||C(this,bt,new wb(this)),d(this,bt).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=d(this,bt))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=d(this,bt))==null?void 0:e.isDeleted()}get hasComment(){return!!d(this,bt)&&!d(this,bt).isEmpty()&&!d(this,bt).isDeleted()}async editComment(e){d(this,bt)||C(this,bt,new wb(this)),d(this,bt).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){d(this,bt).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[o]=this.pageDimensions,[a]=this.pageTranslation,s=a+o+1,l=i-100,c=s+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){d(this,bt).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=d(this,_d)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),k(this,_e,AC).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,o]=this.getInitialTranslation();return this.translate(i,o),T3(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,eu)||C(this,eu,new Dg({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:k(this,_e,W3).bind(this),onPinching:k(this,_e,G3).bind(this),onPinchEnd:k(this,_e,q3).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:n}=Nn.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(C(this,Zc,!0),this._isDraggable){k(this,_e,K3).call(this,e);return}k(this,_e,wC).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,Ho)&&clearTimeout(d(this,Ho)),C(this,Ho,setTimeout(()=>{var e;C(this,Ho,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[o,a]=this.pageDimensions,[s,l]=this.pageTranslation,c=e/i,u=n/i,h=this.x*o,f=this.y*a,p=this.width*o,m=this.height*a;switch(r){case 0:return[h+c+s,a-f-u-m+l,h+c+p+s,a-f-u+l];case 90:return[h+u+s,a-f+c+l,h+u+m+s,a-f+c+p+l];case 180:return[h-c-p+s,a-f+u+l,h-c+s,a-f+u+m+l];case 270:return[h-u-m+s,a-f-c-p+l,h-u+s,a-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,o,a]=e,s=o-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,s,l];case 90:return[r,n-i,l,s];case 180:return[o,n-i,s,l];case 270:return[o,n-a,l,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Ne._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=d(this,bt))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:o,richText:a},uid:s,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:s,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||u,popupRef:!o,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),C(this,Qc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),C(this,Qc,!1),!0):!1}isInEditMode(){return d(this,Qc)}shouldGetKeyboardEvents(){return d(this,$a)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:o,innerWidth:a}=window;return n<a&&i>0&&e<o&&r>0}rebuild(){k(this,_e,AC).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,C(i,Yc,e.accessibilityData),i._isCopy=e.isCopy||!1;const[o,a]=i.pageDimensions,[s,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=s/o,i.y=l/a,i.width=c/o,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=d(this,cl))==null||e.abort(),C(this,cl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,Ho)&&(clearTimeout(d(this,Ho)),C(this,Ho,null)),k(this,_e,vm).call(this),this.removeEditToolbar(),d(this,Ri)){for(const r of d(this,Ri).values())clearTimeout(r);C(this,Ri,null)}this.parent=null,(n=d(this,eu))==null||n.destroy(),C(this,eu,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,_e,H3).call(this),d(this,Ln).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,o,a]=this.getPDFRect();return[Ne._round(r+(o-r)*e),Ne._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return d(this,bt).commentPopupPositionInLayer}set commentPopupPosition(e){d(this,bt).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return d(this,bt).hasDefaultPopupPosition()}get commentButtonWidth(){return d(this,bt).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){d(this,bt).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),C(this,La,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=d(this,Ln).children;if(!d(this,ro)){C(this,ro,Array.from(n));const a=k(this,_e,X3).bind(this),s=k(this,_e,Y3).bind(this),l=this._uiManager._signal;for(const c of d(this,ro)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",s,{signal:l}),c.addEventListener("focus",k(this,_e,J3).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Ne._l10nResizer[u])}}const r=d(this,ro)[0];let i=0;for(const a of n){if(a===r)break;i++}const o=(360-this.rotation+this.parentRotation)%360/90*(d(this,ro).length/4);if(o!==i){if(o<i)for(let s=0;s<i-o;s++)d(this,Ln).append(d(this,Ln).firstChild);else if(o>i)for(let s=0;s<o-i;s++)d(this,Ln).firstChild.before(d(this,Ln).lastChild);let a=0;for(const s of n){const c=d(this,ro)[a++].getAttribute("data-resizer-name");s.setAttribute("data-l10n-id",Ne._l10nResizer[c])}}k(this,_e,SC).call(this,0),C(this,$a,!0),d(this,Ln).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){d(this,$a)&&k(this,_e,xC).call(this,d(this,hy),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){k(this,_e,vm).call(this),this.div.focus()}select(){var e,n,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,o;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(n=this._editToolbar)==null||n.show(),(r=d(this,$t))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,r,i,o;this.isSelected&&(this.isSelected=!1,(e=d(this,Ln))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(o=d(this,$t))==null||o.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return d(this,dy)}set isEditing(e){C(this,dy,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){d(this,Ri)||C(this,Ri,new Map);const{action:r}=e;let i=d(this,Ri).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),d(this,Ri).delete(r),d(this,Ri).size===0&&C(this,Ri,null)},Ne._telemetryTimeout),d(this,Ri).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),C(this,_d,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,_d,!0)}updateFakeAnnotationElement(e){if(!d(this,Uo)&&!this.deleted){C(this,Uo,e.addFakeAnnotation(this));return}if(this.deleted){d(this,Uo).remove(),C(this,Uo,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&d(this,Uo).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Yc=new WeakMap,ro=new WeakMap,$t=new WeakMap,bt=new WeakMap,Da=new WeakMap,_d=new WeakMap,ll=new WeakMap,uy=new WeakMap,Ln=new WeakMap,Jc=new WeakMap,La=new WeakMap,Uo=new WeakMap,cl=new WeakMap,hy=new WeakMap,Zc=new WeakMap,Wr=new WeakMap,dy=new WeakMap,Qc=new WeakMap,$a=new WeakMap,Ho=new WeakMap,Pd=new WeakMap,Td=new WeakMap,Ri=new WeakMap,eu=new WeakMap,fy=new WeakMap,tw=new WeakMap,_e=new WeakSet,yC=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},py=new WeakSet,vC=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},Wb=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},H3=function(){if(d(this,Ln))return;C(this,Ln,document.createElement("div")),d(this,Ln).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");d(this,Ln).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",k(this,_e,V3).bind(this,r),{signal:n}),i.addEventListener("contextmenu",yi,{signal:n}),i.tabIndex=-1}this.div.prepend(d(this,Ln))},V3=function(e,n){var u;n.preventDefault();const{isMac:r}=Nn.platform;if(n.button!==0||n.ctrlKey&&r)return;(u=d(this,$t))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,C(this,Jc,[n.screenX,n.screenY]);const o=new AbortController,a=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,_e,xC).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Ht,{passive:!1,signal:a}),window.addEventListener("contextmenu",yi,{signal:a}),C(this,La,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const s=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var h;o.abort(),this.parent.togglePointerEvents(!0),(h=d(this,$t))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=s,this.div.style.cursor=l,k(this,_e,Gb).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},bC=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},Gb=function(){if(!d(this,La))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=d(this,La);C(this,La,null);const o=this.x,a=this.y,s=this.width,l=this.height;o===e&&a===n&&s===r&&l===i||this.addCommands({cmd:k(this,_e,bC).bind(this,o,a,s,l),undo:k(this,_e,bC).bind(this,e,n,r,i),mustExec:!0})},xC=function(e,n){const[r,i]=this.parentDimensions,o=this.x,a=this.y,s=this.width,l=this.height,c=Ne.MIN_SIZE/r,u=Ne.MIN_SIZE/i,h=k(this,_e,Wb).call(this,this.rotation),f=(L,U)=>[h[0]*L+h[2]*U,h[1]*L+h[3]*U],p=k(this,_e,Wb).call(this,360-this.rotation),m=(L,U)=>[p[0]*L+p[2]*U,p[1]*L+p[3]*U];let g,y,b=!1,w=!1;switch(e){case"topLeft":b=!0,g=(L,U)=>[0,0],y=(L,U)=>[L,U];break;case"topMiddle":g=(L,U)=>[L/2,0],y=(L,U)=>[L/2,U];break;case"topRight":b=!0,g=(L,U)=>[L,0],y=(L,U)=>[0,U];break;case"middleRight":w=!0,g=(L,U)=>[L,U/2],y=(L,U)=>[0,U/2];break;case"bottomRight":b=!0,g=(L,U)=>[L,U],y=(L,U)=>[0,0];break;case"bottomMiddle":g=(L,U)=>[L/2,U],y=(L,U)=>[L/2,0];break;case"bottomLeft":b=!0,g=(L,U)=>[0,U],y=(L,U)=>[L,0];break;case"middleLeft":w=!0,g=(L,U)=>[0,U/2],y=(L,U)=>[L,U/2];break}const x=g(s,l),E=y(s,l);let A=f(...E);const S=Ne._round(o+A[0]),_=Ne._round(a+A[1]);let O=1,M=1,j,N;if(n.fromKeyboard)({deltaX:j,deltaY:N}=n);else{const{screenX:L,screenY:U}=n,[H,V]=d(this,Jc);[j,N]=this.screenToPageTranslation(L-H,U-V),d(this,Jc)[0]=L,d(this,Jc)[1]=U}if([j,N]=m(j/r,N/i),b){const L=Math.hypot(s,l);O=M=Math.max(Math.min(Math.hypot(E[0]-x[0]-j,E[1]-x[1]-N)/L,1/s,1/l),c/s,u/l)}else w?O=Qn(Math.abs(E[0]-x[0]-j),c,1)/s:M=Qn(Math.abs(E[1]-x[1]-N),u,1)/l;const R=Ne._round(s*O),F=Ne._round(l*M);A=f(...y(R,F));const $=S-A[0],z=_-A[1];d(this,Wr)||C(this,Wr,[this.x,this.y,this.width,this.height]),this.width=R,this.height=F,this.x=$,this.y=z,this.setDims(),this.fixAndSetPosition(),this._onResizing()},W3=function(){var e;C(this,La,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=d(this,$t))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},G3=function(e,n,r){let o=.7*(r/n)+1-.7;if(o===1)return;const a=k(this,_e,Wb).call(this,this.rotation),s=(S,_)=>[a[0]*S+a[2]*_,a[1]*S+a[3]*_],[l,c]=this.parentDimensions,u=this.x,h=this.y,f=this.width,p=this.height,m=Ne.MIN_SIZE/l,g=Ne.MIN_SIZE/c;o=Math.max(Math.min(o,1/f,1/p),m/f,g/p);const y=Ne._round(f*o),b=Ne._round(p*o);if(y===f&&b===p)return;d(this,Wr)||C(this,Wr,[u,h,f,p]);const w=s(f/2,p/2),x=Ne._round(u+w[0]),E=Ne._round(h+w[1]),A=s(y/2,b/2);this.x=x-A[0],this.y=E-A[1],this.width=y,this.height=b,this.setDims(),this.fixAndSetPosition(),this._onResizing()},q3=function(){var e;(e=d(this,$t))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),k(this,_e,Gb).call(this)},wC=function(e){const{isMac:n}=Nn.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},K3=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,o=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:o},s=c=>{i.abort(),C(this,ll,null),C(this,Zc,!1),this._uiManager.endDragSession()||k(this,_e,wC).call(this,c),r&&this._onStopDragging()};n&&(C(this,Pd,e.clientX),C(this,Td,e.clientY),C(this,ll,e.pointerId),C(this,uy,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:h,pointerId:f}=c;if(f!==d(this,ll)){Ht(c);return}const[p,m]=this.screenToPageTranslation(u-d(this,Pd),h-d(this,Td));C(this,Pd,u),C(this,Td,h),this._uiManager.dragSelectedEditors(p,m)},a),window.addEventListener("touchmove",Ht,a),window.addEventListener("pointerdown",c=>{c.pointerType===d(this,uy)&&(d(this,eu)||c.isPrimary)&&s(c),Ht(c)},a));const l=c=>{if(!d(this,ll)||d(this,ll)===c.pointerId){s(c);return}Ht(c)};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})},AC=function(){if(d(this,cl)||!this.div)return;C(this,cl,new AbortController);const e=this._uiManager.combinedSignal(d(this,cl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},X3=function(e){Ne._resizerKeyboardManager.exec(this,e)},Y3=function(e){var n;d(this,$a)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==d(this,Ln)&&k(this,_e,vm).call(this)},J3=function(e){C(this,hy,d(this,$a)?e:"")},SC=function(e){if(d(this,ro))for(const n of d(this,ro))n.tabIndex=e},vm=function(){C(this,$a,!1),k(this,_e,SC).call(this,-1),k(this,_e,Gb).call(this)},T(Ne,py),ee(Ne,"_l10n",null),ee(Ne,"_l10nResizer",null),ee(Ne,"_borderLineWidth",-1),ee(Ne,"_colorManager",new cC),ee(Ne,"_zIndex",1),ee(Ne,"_telemetryTimeout",1e3);let kt=Ne;class Bxe extends kt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const yR=3285377520,Si=4294901760,jo=65535;class Z3{constructor(e){this.h1=e?e&4294967295:yR,this.h2=e?e&4294967295:yR}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let g=0,y=e.length;g<y;g++){const b=e.charCodeAt(g);b<=255?n[r++]=b:(n[r++]=b>>>8,n[r++]=b&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,o=r-i*4,a=new Uint32Array(n.buffer,0,i);let s=0,l=0,c=this.h1,u=this.h2;const h=3432918353,f=461845907,p=h&jo,m=f&jo;for(let g=0;g<i;g++)g&1?(s=a[g],s=s*h&Si|s*p&jo,s=s<<15|s>>>17,s=s*f&Si|s*m&jo,c^=s,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[g],l=l*h&Si|l*p&jo,l=l<<15|l>>>17,l=l*f&Si|l*m&jo,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(s=0,o){case 3:s^=n[i*4+2]<<16;case 2:s^=n[i*4+1]<<8;case 1:s^=n[i*4],s=s*h&Si|s*p&jo,s=s<<15|s>>>17,s=s*f&Si|s*m&jo,i&1?c^=s:u^=s}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Si|e*36045&jo,n=n*4283543511&Si|((n<<16|e>>>16)*2950163797&Si)>>>16,e^=n>>>1,e=e*444984403&Si|e*60499&jo,n=n*3301882366&Si|((n<<16|e>>>16)*3120437893&Si)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const EC=Object.freeze({map:null,hash:"",transfer:void 0});var tu,nu,Fa,$n,nw,Q3;class ST{constructor(){T(this,nw);T(this,tu,!1);T(this,nu,null);T(this,Fa,null);T(this,$n,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=d(this,$n).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return d(this,$n).get(e)}remove(e){const n=d(this,$n).get(e);if(n!==void 0&&(n instanceof kt&&d(this,Fa).delete(n.annotationElementId),d(this,$n).delete(e),d(this,$n).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of d(this,$n).values())if(r instanceof kt)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=d(this,$n).get(e);let i=!1;if(r!==void 0)for(const[o,a]of Object.entries(n))r[o]!==a&&(i=!0,r[o]=a);else i=!0,d(this,$n).set(e,n);i&&k(this,nw,Q3).call(this),n instanceof kt&&((d(this,Fa)||C(this,Fa,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return d(this,$n).has(e)}get size(){return d(this,$n).size}resetModified(){d(this,tu)&&(C(this,tu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new e5(this)}get serializable(){if(d(this,$n).size===0)return EC;const e=new Map,n=new Z3,r=[],i=Object.create(null);let o=!1;for(const[a,s]of d(this,$n)){const l=s instanceof kt?s.serialize(!1,i):s;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),o||(o=!!l.bitmap))}if(o)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:EC}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const o of d(this,$n).values()){if(!(o instanceof kt)){o.popup&&(o.popup.deleted?i+=1:r+=1);continue}o.isCommentDeleted?i+=1:o.hasEditedComment&&(r+=1);const a=o.telemetryFinalData;if(!a)continue;const{type:s}=a;n.has(s)||n.set(s,Object.getPrototypeOf(o).constructor),e||(e=Object.create(null));const l=e[s]||(e[s]=new Map);for(const[c,u]of Object.entries(a)){if(c==="type")continue;let h=l.get(c);h||(h=new Map,l.set(c,h));const f=h.get(u)??0;h.set(u,f+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[o,a]of n)e[o]=a.computeTelemetryFinalData(e[o]);return e}resetModifiedIds(){C(this,nu,null)}updateEditor(e,n){var i;const r=(i=d(this,Fa))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=d(this,Fa))==null?void 0:n.get(e))||null}get modifiedIds(){if(d(this,nu))return d(this,nu);const e=[];if(d(this,Fa))for(const n of d(this,Fa).values())n.serialize()&&e.push(n.annotationElementId);return C(this,nu,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return d(this,$n).entries()}}tu=new WeakMap,nu=new WeakMap,Fa=new WeakMap,$n=new WeakMap,nw=new WeakSet,Q3=function(){d(this,tu)||(C(this,tu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var my;class e5 extends ST{constructor(n){super();T(this,my);const{map:r,hash:i,transfer:o}=n.serializable,a=structuredClone(r,o?{transfer:o}:null);C(this,my,{map:a,hash:i,transfer:o})}get print(){St("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,my)}get modifiedIds(){return Be(this,"modifiedIds",{ids:new Set,hash:""})}}my=new WeakMap;var kd;class zxe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){T(this,kd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),d(this,kd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||d(this,kd).has(e.loadedName))){if(Xe(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:o,style:a}=e,s=new FontFace(i,o,a);this.addNativeFontFace(s);try{await s.load(),d(this,kd).add(i),r==null||r(e)}catch{Me(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}St("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Me(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Be(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Be(this,"isSyncFontLoadingSupported",hr||Nn.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(Xe(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const o=r.shift();setTimeout(o.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Be(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(E,A){return E.charCodeAt(A)<<24|E.charCodeAt(A+1)<<16|E.charCodeAt(A+2)<<8|E.charCodeAt(A+3)&255}function i(E,A,S,_){const O=E.substring(0,A),M=E.substring(A+S);return O+_+M}let o,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const l=s.getContext("2d");let c=0;function u(E,A){if(++c>30){Me("Load test font never loaded."),A();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(u.bind(null,E,A))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const m=16,g=1482184792;let y=r(f,m);for(o=0,a=h.length-3;o<a;o+=4)y=y-g+r(h,o)|0;o<h.length&&(y=y-g+r(h+"XXX",o)|0),f=i(f,m,4,Txe(y));const b=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${b}}`;this.insertRule(w);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const E of[e.loadedName,h]){const A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=E,x.append(A)}this._document.body.append(x),u(h,()=>{x.remove(),n.complete()})}}kd=new WeakMap;var dt;class Uxe{constructor(e,n=null,r,i){T(this,dt);this.compiledGlyphs=Object.create(null),C(this,dt,e),this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${g3(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){Me(`getPathGenerator - ignoring character: "${a}".`)}const o=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=o}get black(){return d(this,dt).black}get bold(){return d(this,dt).bold}get disableFontFace(){return d(this,dt).disableFontFace??!1}get fontExtraProperties(){return d(this,dt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return d(this,dt).isInvalidPDFjsFont}get isType3Font(){return d(this,dt).isType3Font}get italic(){return d(this,dt).italic}get missingFile(){return d(this,dt).missingFile}get remeasure(){return d(this,dt).remeasure}get vertical(){return d(this,dt).vertical}get ascent(){return d(this,dt).ascent}get defaultWidth(){return d(this,dt).defaultWidth}get descent(){return d(this,dt).descent}get bbox(){return d(this,dt).bbox}get fontMatrix(){return d(this,dt).fontMatrix}get fallbackName(){return d(this,dt).fallbackName}get loadedName(){return d(this,dt).loadedName}get mimetype(){return d(this,dt).mimetype}get name(){return d(this,dt).name}get data(){return d(this,dt).data}clearData(){d(this,dt).clearData()}get cssFontInfo(){return d(this,dt).cssFontInfo}get systemFontInfo(){return d(this,dt).systemFontInfo}get defaultVMetrics(){return d(this,dt).defaultVMetrics}}dt=new WeakMap;function Hxe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(hr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Vxe(t){if(hr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return zv(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Ab(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const CC=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,Wxe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",t5=Mxe.bind(null,CC,Wxe);var Ba,rw;class Gxe{constructor(){T(this,Ba,new Map);T(this,rw,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};d(this,rw).then(()=>{for(const[i]of d(this,Ba))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:o}=r;if(o.aborted){Me("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>o.removeEventListener("abort",a),o.addEventListener("abort",a)}d(this,Ba).set(n,i)}removeEventListener(e,n){const r=d(this,Ba).get(n);r==null||r(),d(this,Ba).delete(n)}terminate(){for(const[,e]of d(this,Ba))e==null||e();d(this,Ba).clear()}}Ba=new WeakMap,rw=new WeakMap;const Sb={DATA:1,ERROR:2},an={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function vR(){}function wr(t){if(t instanceof Ps||t instanceof R0||t instanceof uR||t instanceof Ng||t instanceof FA)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||St('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Ps(t.message);case"InvalidPDFException":return new R0(t.message);case"PasswordException":return new uR(t.message,t.code);case"ResponseException":return new Ng(t.message,t.status,t.missing);case"UnknownErrorException":return new FA(t.message,t.details)}return new FA(t.message,t.toString())}var Od,Hi,n5,r5,i5,qb;class bm{constructor(e,n,r){T(this,Hi);T(this,Od,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",k(this,Hi,n5).bind(this),{signal:d(this,Od).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){o.reject(a)}return o.promise}sendWithStream(e,n,r,i){const o=this.streamId++,a=this.sourceName,s=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[o]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:s,action:e,streamId:o,data:n,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[o].pullCall=u,l.postMessage({sourceName:a,targetName:s,stream:an.PULL,streamId:o,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Xe(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[o].cancelCall=u,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:a,targetName:s,stream:an.CANCEL,streamId:o,reason:wr(c)}),u.promise}},r)}destroy(){var e;(e=d(this,Od))==null||e.abort(),C(this,Od,null)}}Od=new WeakMap,Hi=new WeakSet,n5=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,Hi,i5).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Sb.DATA)i.resolve(e.data);else if(e.callback===Sb.ERROR)i.reject(wr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,o=this.comObj;Promise.try(n,e.data).then(function(a){o.postMessage({sourceName:r,targetName:i,callback:Sb.DATA,callbackId:e.callbackId,data:a})},function(a){o.postMessage({sourceName:r,targetName:i,callback:Sb.ERROR,callbackId:e.callbackId,reason:wr(a)})});return}if(e.streamId){k(this,Hi,r5).call(this,e);return}n(e.data)},r5=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,a=this,s=this.actionHandler[e.action],l={enqueue(c,u=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:an.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:an.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){Xe(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:an.ERROR,streamId:n,reason:wr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(s,e.data,l).then(function(){o.postMessage({sourceName:r,targetName:i,stream:an.START_COMPLETE,streamId:n,success:!0})},function(c){o.postMessage({sourceName:r,targetName:i,stream:an.START_COMPLETE,streamId:n,reason:wr(c)})})},i5=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,a=this.streamControllers[n],s=this.streamSinks[n];switch(e.stream){case an.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(wr(e.reason));break;case an.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(wr(e.reason));break;case an.PULL:if(!s){o.postMessage({sourceName:r,targetName:i,stream:an.PULL_COMPLETE,streamId:n,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,Promise.try(s.onPull||vR).then(function(){o.postMessage({sourceName:r,targetName:i,stream:an.PULL_COMPLETE,streamId:n,success:!0})},function(c){o.postMessage({sourceName:r,targetName:i,stream:an.PULL_COMPLETE,streamId:n,reason:wr(c)})});break;case an.ENQUEUE:if(Xe(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case an.CLOSE:if(Xe(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),k(this,Hi,qb).call(this,a,n);break;case an.ERROR:Xe(a,"error should have stream controller"),a.controller.error(wr(e.reason)),k(this,Hi,qb).call(this,a,n);break;case an.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(wr(e.reason)),k(this,Hi,qb).call(this,a,n);break;case an.CANCEL:if(!s)break;const l=wr(e.reason);Promise.try(s.onCancel||vR,l).then(function(){o.postMessage({sourceName:r,targetName:i,stream:an.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){o.postMessage({sourceName:r,targetName:i,stream:an.CANCEL_COMPLETE,streamId:n,reason:wr(c)})}),s.sinkCapability.reject(l),s.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},qb=async function(e,n){var r,i,o;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[n]};var gy;class o5{constructor({enableHWA:e=!1}){T(this,gy,!1);C(this,gy,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!d(this,gy)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){St("Abstract method `_createCanvas` called.")}}gy=new WeakMap;class qxe extends o5{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class a5{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){St("Abstract method `_fetch` called.")}}class bR extends a5{async _fetch(e){const n=await Fp(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):zv(n)}}class s5{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,o){return"none"}destroy(e=!1){}}var ru,jd,za,Ua,Kn,iu,ou,he,Wn,xm,Dh,Kb,Lh,l5,_C,$h,wm,Am,PC,Sm;class Kxe extends s5{constructor({docId:n,ownerDocument:r=globalThis.document}){super();T(this,he);T(this,ru);T(this,jd);T(this,za);T(this,Ua);T(this,Kn);T(this,iu);T(this,ou,0);C(this,Ua,n),C(this,Kn,r)}addFilter(n){if(!n)return"none";let r=d(this,he,Wn).get(n);if(r)return r;const[i,o,a]=k(this,he,Kb).call(this,n),s=n.length===1?i:`${i}${o}${a}`;if(r=d(this,he,Wn).get(s),r)return d(this,he,Wn).set(n,r),r;const l=`g_${d(this,Ua)}_transfer_map_${fn(this,ou)._++}`,c=k(this,he,Lh).call(this,l);d(this,he,Wn).set(n,c),d(this,he,Wn).set(s,c);const u=k(this,he,$h).call(this,l);return k(this,he,Am).call(this,i,o,a,u),c}addHCMFilter(n,r){var m;const i=`${n}-${r}`,o="base";let a=d(this,he,xm).get(o);if((a==null?void 0:a.key)===i||(a?((m=a.filter)==null||m.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},d(this,he,xm).set(o,a)),!n||!r))return a.url;const s=k(this,he,Sm).call(this,n);n=fe.makeHexColor(...s);const l=k(this,he,Sm).call(this,r);if(r=fe.makeHexColor(...l),d(this,he,Dh).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return a.url;const c=new Array(256);for(let g=0;g<=255;g++){const y=g/255;c[g]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const u=c.join(","),h=`g_${d(this,Ua)}_hcm_filter`,f=a.filter=k(this,he,$h).call(this,h);k(this,he,Am).call(this,u,u,u,f),k(this,he,_C).call(this,f);const p=(g,y)=>{const b=s[g]/255,w=l[g]/255,x=new Array(y+1);for(let E=0;E<=y;E++)x[E]=b+E/y*(w-b);return x.join(",")};return k(this,he,Am).call(this,p(0,5),p(1,5),p(2,5),f),a.url=k(this,he,Lh).call(this,h),a.url}addAlphaFilter(n){let r=d(this,he,Wn).get(n);if(r)return r;const[i]=k(this,he,Kb).call(this,[n]),o=`alpha_${i}`;if(r=d(this,he,Wn).get(o),r)return d(this,he,Wn).set(n,r),r;const a=`g_${d(this,Ua)}_alpha_map_${fn(this,ou)._++}`,s=k(this,he,Lh).call(this,a);d(this,he,Wn).set(n,s),d(this,he,Wn).set(o,s);const l=k(this,he,$h).call(this,a);return k(this,he,PC).call(this,i,l),s}addLuminosityFilter(n){let r=d(this,he,Wn).get(n||"luminosity");if(r)return r;let i,o;if(n?([i]=k(this,he,Kb).call(this,[n]),o=`luminosity_${i}`):o="luminosity",r=d(this,he,Wn).get(o),r)return d(this,he,Wn).set(n,r),r;const a=`g_${d(this,Ua)}_luminosity_map_${fn(this,ou)._++}`,s=k(this,he,Lh).call(this,a);d(this,he,Wn).set(n,s),d(this,he,Wn).set(o,s);const l=k(this,he,$h).call(this,a);return k(this,he,l5).call(this,l),n&&k(this,he,PC).call(this,i,l),s}addHighlightHCMFilter(n,r,i,o,a){var w;const s=`${r}-${i}-${o}-${a}`;let l=d(this,he,xm).get(n);if((l==null?void 0:l.key)===s||(l?((w=l.filter)==null||w.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},d(this,he,xm).set(n,l)),!r||!i))return l.url;const[c,u]=[r,i].map(k(this,he,Sm).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,m]=[o,a].map(k(this,he,Sm).bind(this));f<h&&([h,f,p,m]=[f,h,m,p]),d(this,he,Dh).style.color="";const g=(x,E,A)=>{const S=new Array(256),_=(f-h)/A,O=x/255,M=(E-x)/(255*A);let j=0;for(let N=0;N<=A;N++){const R=Math.round(h+N*_),F=O+N*M;for(let $=j;$<=R;$++)S[$]=F;j=R+1}for(let N=j;N<256;N++)S[N]=S[j-1];return S.join(",")},y=`g_${d(this,Ua)}_hcm_${n}_filter`,b=l.filter=k(this,he,$h).call(this,y);return k(this,he,_C).call(this,b),k(this,he,Am).call(this,g(p[0],m[0],5),g(p[1],m[1],5),g(p[2],m[2],5),b),l.url=k(this,he,Lh).call(this,y),l.url}destroy(n=!1){var r,i,o,a;n&&((r=d(this,iu))!=null&&r.size)||((i=d(this,za))==null||i.parentNode.parentNode.remove(),C(this,za,null),(o=d(this,jd))==null||o.clear(),C(this,jd,null),(a=d(this,iu))==null||a.clear(),C(this,iu,null),C(this,ou,0))}}ru=new WeakMap,jd=new WeakMap,za=new WeakMap,Ua=new WeakMap,Kn=new WeakMap,iu=new WeakMap,ou=new WeakMap,he=new WeakSet,Wn=function(){return d(this,jd)||C(this,jd,new Map)},xm=function(){return d(this,iu)||C(this,iu,new Map)},Dh=function(){if(!d(this,za)){const n=d(this,Kn).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=d(this,Kn).createElementNS(Sa,"svg");i.setAttribute("width",0),i.setAttribute("height",0),C(this,za,d(this,Kn).createElementNS(Sa,"defs")),n.append(i),i.append(d(this,za)),d(this,Kn).body.append(n)}return d(this,za)},Kb=function(n){if(n.length===1){const c=n[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const h=u.join(",");return[h,h,h]}const[r,i,o]=n,a=new Array(256),s=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=r[c]/255,s[c]=i[c]/255,l[c]=o[c]/255;return[a.join(","),s.join(","),l.join(",")]},Lh=function(n){if(d(this,ru)===void 0){C(this,ru,"");const r=d(this,Kn).URL;r!==d(this,Kn).baseURI&&(Hv(r)?Me('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,ru,vT(r,"")))}return`url(${d(this,ru)}#${n})`},l5=function(n){const r=d(this,Kn).createElementNS(Sa,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},_C=function(n){const r=d(this,Kn).createElementNS(Sa,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},$h=function(n){const r=d(this,Kn).createElementNS(Sa,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),d(this,he,Dh).append(r),r},wm=function(n,r,i){const o=d(this,Kn).createElementNS(Sa,r);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),n.append(o)},Am=function(n,r,i,o){const a=d(this,Kn).createElementNS(Sa,"feComponentTransfer");o.append(a),k(this,he,wm).call(this,a,"feFuncR",n),k(this,he,wm).call(this,a,"feFuncG",r),k(this,he,wm).call(this,a,"feFuncB",i)},PC=function(n,r){const i=d(this,Kn).createElementNS(Sa,"feComponentTransfer");r.append(i),k(this,he,wm).call(this,i,"feFuncA",n)},Sm=function(n){return d(this,he,Dh).style.color=n,Bp(getComputedStyle(d(this,he,Dh)).getPropertyValue("color"))};class c5{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){St("Abstract method `_fetch` called.")}}class xR extends c5{async _fetch(e){const n=await Fp(e,"arraybuffer");return new Uint8Array(n)}}class u5{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){St("Abstract method `_fetch` called.")}}class wR extends u5{async _fetch(e){const n=await Fp(e,"arraybuffer");return new Uint8Array(n)}}hr&&Me("Please use the `legacy` build in Node.js environments.");async function ET(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class Xxe extends s5{}class Yxe extends o5{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class Jxe extends a5{async _fetch(e){return ET(e)}}class Zxe extends c5{async _fetch(e){return ET(e)}}class Qxe extends u5{async _fetch(e){return ET(e)}}const kh="__forcedDependency",{floor:AR,ceil:SR}=Math;function Eb(t,e,n,r,i,o){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],o)}const TC=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Md,ul;class e0e{constructor(e,n){T(this,Md);T(this,ul);C(this,Md,e),C(this,ul,n)}get length(){return d(this,Md).length}isEmpty(e){return d(this,Md)[e]===TC}minX(e){return d(this,ul)[e*4+0]/256}minY(e){return d(this,ul)[e*4+1]/256}maxX(e){return(d(this,ul)[e*4+2]+1)/256}maxY(e){return(d(this,ul)[e*4+3]+1)/256}}Md=new WeakMap,ul=new WeakMap;const Cb=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var Er,Cr,au,io,su,Ha,ut,ft,Va,_r,yy,Nd,lu,cu,Wa,Xn,Vo,vy,kC;class t0e{constructor(e,n,r=!1){T(this,vy);T(this,Er,{__proto__:null});T(this,Cr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[kh]:[]});T(this,au,new Map);T(this,io,[]);T(this,su,[]);T(this,Ha,[[1,0,0,1,0,0]]);T(this,ut,[-1/0,-1/0,1/0,1/0]);T(this,ft,new Float64Array([1/0,1/0,-1/0,-1/0]));T(this,Va,-1);T(this,_r,new Set);T(this,yy,new Map);T(this,Nd,new Map);T(this,lu);T(this,cu);T(this,Wa);T(this,Xn);T(this,Vo);C(this,lu,e.width),C(this,cu,e.height),k(this,vy,kC).call(this,n),r&&C(this,Vo,new Map)}growOperationsCount(e){e>=d(this,Xn).length&&k(this,vy,kC).call(this,e,d(this,Xn))}save(e){return C(this,Er,{__proto__:d(this,Er)}),C(this,Cr,{__proto__:d(this,Cr),transform:{__proto__:d(this,Cr).transform},moveText:{__proto__:d(this,Cr).moveText},sameLineText:{__proto__:d(this,Cr).sameLineText},[kh]:{__proto__:d(this,Cr)[kh]}}),C(this,ut,{__proto__:d(this,ut)}),d(this,io).push(e),this}restore(e){var i;const n=Object.getPrototypeOf(d(this,Er));if(n===null)return this;C(this,Er,n),C(this,Cr,Object.getPrototypeOf(d(this,Cr))),C(this,ut,Object.getPrototypeOf(d(this,ut)));const r=d(this,io).pop();return r!==void 0&&((i=Cb(d(this,Vo),e))==null||i.dependencies.add(r),d(this,Xn)[e]=d(this,Xn)[r]),this}recordOpenMarker(e){return d(this,io).push(e),this}getOpenMarker(){return d(this,io).length===0?null:d(this,io).at(-1)}recordCloseMarker(e){var r;const n=d(this,io).pop();return n!==void 0&&((r=Cb(d(this,Vo),e))==null||r.dependencies.add(n),d(this,Xn)[e]=d(this,Xn)[n]),this}beginMarkedContent(e){return d(this,su).push(e),this}endMarkedContent(e){var r;const n=d(this,su).pop();return n!==void 0&&((r=Cb(d(this,Vo),e))==null||r.dependencies.add(n),d(this,Xn)[e]=d(this,Xn)[n]),this}pushBaseTransform(e){return d(this,Ha).push(fe.multiplyByDOMMatrix(d(this,Ha).at(-1),e.getTransform())),this}popBaseTransform(){return d(this,Ha).length>1&&d(this,Ha).pop(),this}recordSimpleData(e,n){return d(this,Er)[e]=n,this}recordIncrementalData(e,n){return d(this,Cr)[e].push(n),this}resetIncrementalData(e,n){return d(this,Cr)[e].length=0,this}recordNamedData(e,n){return d(this,au).set(e,n),this}recordSimpleDataFromNamed(e,n,r){d(this,Er)[e]=d(this,au).get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(kh,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in d(this,Er)&&this.recordFutureForcedDependency(n,d(this,Er)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of d(this,_r))this.recordFutureForcedDependency(kh,e);return this}resetBBox(e){return d(this,Va)!==e&&(C(this,Va,e),d(this,ft)[0]=1/0,d(this,ft)[1]=1/0,d(this,ft)[2]=-1/0,d(this,ft)[3]=-1/0),this}recordClipBox(e,n,r,i,o,a){const s=fe.multiplyByDOMMatrix(d(this,Ha).at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];fe.axialAlignedBoundingBox([r,o,i,a],s,l);const c=fe.intersect(d(this,ut),l);return c?(d(this,ut)[0]=c[0],d(this,ut)[1]=c[1],d(this,ut)[2]=c[2],d(this,ut)[3]=c[3]):(d(this,ut)[0]=d(this,ut)[1]=1/0,d(this,ut)[2]=d(this,ut)[3]=-1/0),this}recordBBox(e,n,r,i,o,a){const s=d(this,ut);if(s[0]===1/0)return this;const l=fe.multiplyByDOMMatrix(d(this,Ha).at(-1),n.getTransform());if(s[0]===-1/0)return fe.axialAlignedBoundingBox([r,o,i,a],l,d(this,ft)),this;const c=[1/0,1/0,-1/0,-1/0];return fe.axialAlignedBoundingBox([r,o,i,a],l,c),d(this,ft)[0]=Math.min(d(this,ft)[0],Math.max(c[0],s[0])),d(this,ft)[1]=Math.min(d(this,ft)[1],Math.max(c[1],s[1])),d(this,ft)[2]=Math.max(d(this,ft)[2],Math.min(c[2],s[2])),d(this,ft)[3]=Math.max(d(this,ft)[3],Math.min(c[3],s[3])),this}recordCharacterBBox(e,n,r,i=1,o=0,a=0,s){const l=r.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&d(this,Nd).get(r),c!==!1&&(u=[0,0,0,0],fe.axialAlignedBoundingBox(l,r.fontMatrix,u),(i!==1||o!==0||a!==0)&&fe.scaleMinMax([i,0,0,-i,o,a],u),c)))return this.recordBBox(e,n,u[0],u[2],u[1],u[3]);if(!s)return this.recordFullPageBBox(e);const h=s();return l&&u&&c===void 0&&(c=u[0]<=o-h.actualBoundingBoxLeft&&u[2]>=o+h.actualBoundingBoxRight&&u[1]<=a-h.actualBoundingBoxAscent&&u[3]>=a+h.actualBoundingBoxDescent,d(this,Nd).set(r,c),c)?this.recordBBox(e,n,u[0],u[2],u[1],u[3]):this.recordBBox(e,n,o-h.actualBoundingBoxLeft,o+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return d(this,ft)[0]=Math.max(0,d(this,ut)[0]),d(this,ft)[1]=Math.max(0,d(this,ut)[1]),d(this,ft)[2]=Math.min(d(this,lu),d(this,ut)[2]),d(this,ft)[3]=Math.min(d(this,cu),d(this,ut)[3]),this}getSimpleIndex(e){return d(this,Er)[e]}recordDependencies(e,n){const r=d(this,_r),i=d(this,Er),o=d(this,Cr);for(const a of n)a in d(this,Er)?r.add(i[a]):a in o&&o[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return d(this,au).has(n)&&d(this,_r).add(d(this,au).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[kh]),d(this,Vo)){const r=Cb(d(this,Vo),e),{dependencies:i}=r;d(this,_r).forEach(i.add,i),d(this,io).forEach(i.add,i),d(this,su).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(d(this,Va)===e){const r=AR(d(this,ft)[0]*256/d(this,lu)),i=AR(d(this,ft)[1]*256/d(this,cu)),o=SR(d(this,ft)[2]*256/d(this,lu)),a=SR(d(this,ft)[3]*256/d(this,cu));Eb(d(this,Wa),e,r,i,o,a);for(const s of d(this,_r))s!==e&&Eb(d(this,Wa),s,r,i,o,a);for(const s of d(this,io))s!==e&&Eb(d(this,Wa),s,r,i,o,a);for(const s of d(this,su))s!==e&&Eb(d(this,Wa),s,r,i,o,a);n||(d(this,_r).clear(),C(this,Va,-1))}return this}recordShowTextOperation(e,n=!1){const r=Array.from(d(this,_r));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return d(this,Va)===e&&(C(this,Va,-1),d(this,ut)[0]=Math.max(d(this,ut)[0],d(this,ft)[0]),d(this,ut)[1]=Math.max(d(this,ut)[1],d(this,ft)[1]),d(this,ut)[2]=Math.min(d(this,ut)[2],d(this,ft)[2]),d(this,ut)[3]=Math.min(d(this,ut)[3],d(this,ft)[3]),n||d(this,_r).clear()),this}_takePendingDependencies(){const e=d(this,_r);return C(this,_r,new Set),e}_extractOperation(e){const n=d(this,yy).get(e);return d(this,yy).delete(e),n}_pushPendingDependencies(e){for(const n of e)d(this,_r).add(n)}take(){return d(this,Nd).clear(),new e0e(d(this,Xn),d(this,Wa))}takeDebugMetadata(){return d(this,Vo)}}Er=new WeakMap,Cr=new WeakMap,au=new WeakMap,io=new WeakMap,su=new WeakMap,Ha=new WeakMap,ut=new WeakMap,ft=new WeakMap,Va=new WeakMap,_r=new WeakMap,yy=new WeakMap,Nd=new WeakMap,lu=new WeakMap,cu=new WeakMap,Wa=new WeakMap,Xn=new WeakMap,Vo=new WeakMap,vy=new WeakSet,kC=function(e,n){const r=new ArrayBuffer(e*4);C(this,Wa,new Uint8ClampedArray(r)),C(this,Xn,new Uint32Array(r)),n&&n.length>0?(d(this,Xn).set(n),d(this,Xn).fill(TC,n.length)):d(this,Xn).fill(TC)};var xt,Kt,oo,Rd,Id;const ek=class ek{constructor(e,n,r){T(this,xt);T(this,Kt);T(this,oo);T(this,Rd,0);T(this,Id,0);if(e instanceof ek&&d(e,oo)===!!r)return e;C(this,xt,e),C(this,Kt,n),C(this,oo,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return fn(this,Id)._++,d(this,xt).save(d(this,Kt)),this}restore(e){return d(this,Id)>0&&(d(this,xt).restore(d(this,Kt)),fn(this,Id)._--),this}recordOpenMarker(e){return fn(this,Rd)._++,this}getOpenMarker(){return d(this,Rd)>0?d(this,Kt):d(this,xt).getOpenMarker()}recordCloseMarker(e){return fn(this,Rd)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return d(this,xt).pushBaseTransform(e),this}popBaseTransform(){return d(this,xt).popBaseTransform(),this}recordSimpleData(e,n){return d(this,xt).recordSimpleData(e,d(this,Kt)),this}recordIncrementalData(e,n){return d(this,xt).recordIncrementalData(e,d(this,Kt)),this}resetIncrementalData(e,n){return d(this,xt).resetIncrementalData(e,d(this,Kt)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return d(this,xt).recordSimpleDataFromNamed(e,n,d(this,Kt)),this}recordFutureForcedDependency(e,n){return d(this,xt).recordFutureForcedDependency(e,d(this,Kt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return d(this,xt).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return d(this,xt).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return d(this,oo)||d(this,xt).resetBBox(d(this,Kt)),this}recordClipBox(e,n,r,i,o,a){return d(this,oo)||d(this,xt).recordClipBox(d(this,Kt),n,r,i,o,a),this}recordBBox(e,n,r,i,o,a){return d(this,oo)||d(this,xt).recordBBox(d(this,Kt),n,r,i,o,a),this}recordCharacterBBox(e,n,r,i,o,a,s){return d(this,oo)||d(this,xt).recordCharacterBBox(d(this,Kt),n,r,i,o,a,s),this}recordFullPageBBox(e){return d(this,oo)||d(this,xt).recordFullPageBBox(d(this,Kt)),this}getSimpleIndex(e){return d(this,xt).getSimpleIndex(e)}recordDependencies(e,n){return d(this,xt).recordDependencies(d(this,Kt),n),this}recordNamedDependency(e,n){return d(this,xt).recordNamedDependency(d(this,Kt),n),this}recordOperation(e){return d(this,xt).recordOperation(d(this,Kt),!0),this}recordShowTextOperation(e){return d(this,xt).recordShowTextOperation(d(this,Kt),!0),this}bboxToClipBoxDropOperation(e){return d(this,oo)||d(this,xt).bboxToClipBoxDropOperation(d(this,Kt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};xt=new WeakMap,Kt=new WeakMap,oo=new WeakMap,Rd=new WeakMap,Id=new WeakMap;let L0=ek;const Ei={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Un={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function OC(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class CT{isModifyingCurrentTransform(){return!1}getPattern(){St("Abstract method `getPattern` called.")}}class n0e extends CT{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let o;if(i===Un.STROKE||i===Un.FILL){const a=n.current.getClippedPathBoundingBox(i,Ut(e))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",s,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),r=fe.transform(r,[1,0,0,1,a[0],a[1]]),u.transform(...n.baseTransform),this.matrix&&u.transform(...this.matrix),OC(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),o=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);o.setTransform(h)}else OC(e,this._bbox),o=this._createGradient(e);return o}}function UA(t,e,n,r,i,o,a,s){const l=e.coords,c=e.colors,u=t.data,h=t.width*4;let f;l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=o,o=a,a=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=a,a=s,s=f),l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=o,o=a,a=f);const p=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(m>=w)return;const x=c[o],E=c[o+1],A=c[o+2],S=c[a],_=c[a+1],O=c[a+2],M=c[s],j=c[s+1],N=c[s+2],R=Math.round(m),F=Math.round(w);let $,z,L,U,H,V,I,Y;for(let q=R;q<=F;q++){if(q<y){const Z=q<m?0:(m-q)/(m-y);$=p-(p-g)*Z,z=x-(x-S)*Z,L=E-(E-_)*Z,U=A-(A-O)*Z}else{let Z;q>w?Z=1:y===w?Z=0:Z=(y-q)/(y-w),$=g-(g-b)*Z,z=S-(S-M)*Z,L=_-(_-j)*Z,U=O-(O-N)*Z}let D;q<m?D=0:q>w?D=1:D=(m-q)/(m-w),H=p-(p-b)*D,V=x-(x-M)*D,I=E-(E-j)*D,Y=A-(A-N)*D;const oe=Math.round(Math.min($,H)),ve=Math.round(Math.max($,H));let be=h*q+oe*4;for(let Z=oe;Z<=ve;Z++)D=($-Z)/($-H),D<0?D=0:D>1&&(D=1),u[be++]=z-(z-V)*D|0,u[be++]=L-(L-I)*D|0,u[be++]=U-(U-Y)*D|0,u[be++]=255}}function r0e(t,e,n){const r=e.coords,i=e.colors;let o,a;switch(e.type){case"lattice":const s=e.verticesPerRow,l=Math.floor(r.length/s)-1,c=s-1;for(o=0;o<l;o++){let u=o*s;for(let h=0;h<c;h++,u++)UA(t,n,r[u],r[u+1],r[u+s],i[u],i[u+1],i[u+s]),UA(t,n,r[u+s+1],r[u+1],r[u+s],i[u+s+1],i[u+1],i[u+s])}break;case"triangles":for(o=0,a=r.length;o<a;o+=3)UA(t,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class i0e extends CT{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const s=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-s,u=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=c/h,m=u/f,g={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-l,scaleX:1/p,scaleY:1/m},y=h+2*2,b=f+2*2,w=r.getCanvas("mesh",y,b),x=w.context,E=x.createImageData(h,f);if(n){const S=E.data;for(let _=0,O=S.length;_<O;_+=4)S[_]=n[0],S[_+1]=n[1],S[_+2]=n[2],S[_+3]=255}for(const S of this._figures)r0e(E,S,g);return x.putImageData(E,2,2),{canvas:w.canvas,offsetX:s-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){OC(e,this._bbox);const o=new Float32Array(2);if(i===Un.SHADING)fe.singularValueDecompose2dScale(Ut(e),o);else if(this.matrix){fe.singularValueDecompose2dScale(this.matrix,o);const[s,l]=o;fe.singularValueDecompose2dScale(n.baseTransform,o),o[0]*=s,o[1]*=l}else fe.singularValueDecompose2dScale(n.baseTransform,o);const a=this._createMeshCanvas(o,i===Un.SHADING?null:this._background,n.cachedCanvases);return i!==Un.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class o0e extends CT{getPattern(){return"hotpink"}}function a0e(t){switch(t[0]){case"RadialAxial":return new n0e(t);case"Mesh":return new i0e(t);case"Dummy":return new o0e}throw new Error(`Unknown IR type: ${t[0]}`)}const ER={COLORED:1,UNCOLORED:2},iw=class iw{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){var V,I;const{bbox:r,operatorList:i,paintType:o,tilingType:a,color:s,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),k1("TilingType: "+a);const h=r[0],f=r[1],p=r[2],m=r[3],g=p-h,y=m-f,b=new Float32Array(2);fe.singularValueDecompose2dScale(this.matrix,b);const[w,x]=b;fe.singularValueDecompose2dScale(this.baseTransform,b);const E=w*b[0],A=x*b[1];let S=g,_=y,O=!1,M=!1;const j=Math.ceil(c*E),N=Math.ceil(u*A),R=Math.ceil(g*E),F=Math.ceil(y*A);j>=R?S=c:O=!0,N>=F?_=u:M=!0;const $=this.getSizeAndScale(S,this.ctx.canvas.width,E),z=this.getSizeAndScale(_,this.ctx.canvas.height,A),L=e.cachedCanvases.getCanvas("pattern",$.size,z.size),U=L.context,H=l.createCanvasGraphics(U,n);if(H.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(H,o,s),U.translate(-$.scale*h,-z.scale*f),H.transform(0,$.scale,0,0,z.scale,0,0),U.save(),(V=H.dependencyTracker)==null||V.save(),this.clipBbox(H,h,f,p,m),H.baseTransform=Ut(H.ctx),H.executeOperatorList(i),H.endDrawing(),(I=H.dependencyTracker)==null||I.restore(),U.restore(),O||M){const Y=L.canvas;O&&(S=c),M&&(_=u);const q=this.getSizeAndScale(S,this.ctx.canvas.width,E),D=this.getSizeAndScale(_,this.ctx.canvas.height,A),oe=q.size,ve=D.size,be=e.cachedCanvases.getCanvas("pattern-workaround",oe,ve),Z=be.context,ae=O?Math.floor(g/c):0,J=M?Math.floor(y/u):0;for(let Q=0;Q<=ae;Q++)for(let ie=0;ie<=J;ie++)Z.drawImage(Y,oe*Q,ve*ie,oe,ve,0,0,oe,ve);return{canvas:be.canvas,scaleX:q.scale,scaleY:D.scale,offsetX:h,offsetY:f}}return{canvas:L.canvas,scaleX:$.scale,scaleY:z.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,n,r){const i=Math.max(iw.MAX_PATTERN_SIZE,n);let o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}clipBbox(e,n,r,i,o){const a=i-n,s=o-r;e.ctx.rect(n,r,a,s),fe.axialAlignedBoundingBox([n,r,i,o],Ut(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,o=e.current;switch(n){case ER.COLORED:const{fillStyle:a,strokeStyle:s}=this.ctx;i.fillStyle=o.fillColor=a,i.strokeStyle=o.strokeColor=s;break;case ER.UNCOLORED:i.fillStyle=i.strokeStyle=r,o.fillColor=o.strokeColor=r;break;default:throw new Pxe(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,o){let a=r;i!==Un.SHADING&&(a=fe.transform(a,n.baseTransform),this.matrix&&(a=fe.transform(a,this.matrix)));const s=this.createPatternCanvas(n,o);let l=new DOMMatrix(a);l=l.translate(s.offsetX,s.offsetY),l=l.scale(1/s.scaleX,1/s.scaleY);const c=e.createPattern(s.canvas,"repeat");return c.setTransform(l),c}};ee(iw,"MAX_PATTERN_SIZE",3e3);let jC=iw;function s0e({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:o=4294967295,inverseDecode:a=!1}){const s=Nn.isLittleEndian?4278190080:255,[l,c]=a?[o,s]:[s,o],u=r>>3,h=r&7,f=t.length;n=new Uint32Array(n.buffer);let p=0;for(let m=0;m<i;m++){for(const y=e+u;e<y;e++){const b=e<f?t[e]:255;n[p++]=b&128?c:l,n[p++]=b&64?c:l,n[p++]=b&32?c:l,n[p++]=b&16?c:l,n[p++]=b&8?c:l,n[p++]=b&4?c:l,n[p++]=b&2?c:l,n[p++]=b&1?c:l}if(h===0)continue;const g=e<f?t[e++]:255;for(let y=0;y<h;y++)n[p++]=g&1<<7-y?c:l}return{srcPos:e,destPos:p}}const CR=16,_R=100,l0e=15,PR=10,Or=16,HA=new DOMMatrix,li=new Float32Array(2),Kh=new Float32Array([1/0,1/0,-1/0,-1/0]);function c0e(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,o,a,s){e.transform(n,r,i,o,a,s),this.__originalTransform(n,r,i,o,a,s)},t.setTransform=function(n,r,i,o,a,s){e.setTransform(n,r,i,o,a,s),this.__originalSetTransform(n,r,i,o,a,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,o,a,s){e.bezierCurveTo(n,r,i,o,a,s),this.__originalBezierCurveTo(n,r,i,o,a,s)},t.rect=function(n,r,i,o){e.rect(n,r,i,o),this.__originalRect(n,r,i,o)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class u0e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function _b(t,e,n,r,i,o,a,s,l,c){const[u,h,f,p,m,g]=Ut(t);if(h===0&&f===0){const w=a*u+m,x=Math.round(w),E=s*p+g,A=Math.round(E),S=(a+l)*u+m,_=Math.abs(Math.round(S)-x)||1,O=(s+c)*p+g,M=Math.abs(Math.round(O)-A)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(p),x,A),t.drawImage(e,n,r,i,o,0,0,_,M),t.setTransform(u,h,f,p,m,g),[_,M]}if(u===0&&p===0){const w=s*f+m,x=Math.round(w),E=a*h+g,A=Math.round(E),S=(s+c)*f+m,_=Math.abs(Math.round(S)-x)||1,O=(a+l)*h+g,M=Math.abs(Math.round(O)-A)||1;return t.setTransform(0,Math.sign(h),Math.sign(f),0,x,A),t.drawImage(e,n,r,i,o,0,0,M,_),t.setTransform(u,h,f,p,m,g),[M,_]}t.drawImage(e,n,r,i,o,a,s,l,c);const y=Math.hypot(u,h),b=Math.hypot(f,p);return[y*l,b*c]}class TR{constructor(e,n,r){ee(this,"alphaIsShape",!1);ee(this,"fontSize",0);ee(this,"fontSizeScale",1);ee(this,"textMatrix",null);ee(this,"textMatrixScale",1);ee(this,"fontMatrix",rC);ee(this,"leading",0);ee(this,"x",0);ee(this,"y",0);ee(this,"lineX",0);ee(this,"lineY",0);ee(this,"charSpacing",0);ee(this,"wordSpacing",0);ee(this,"textHScale",1);ee(this,"textRenderingMode",In.FILL);ee(this,"textRise",0);ee(this,"fillColor","#000000");ee(this,"strokeColor","#000000");ee(this,"patternFill",!1);ee(this,"patternStroke",!1);ee(this,"fillAlpha",1);ee(this,"strokeAlpha",1);ee(this,"lineWidth",1);ee(this,"activeSMask",null);ee(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=Kh.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Un.FILL,n=null){const r=this.minMax.slice();if(e===Un.STROKE){n||St("Stroke bounding box must include transform."),fe.singularValueDecompose2dScale(n,li);const i=li[0]*this.lineWidth/2,o=li[1]*this.lineWidth/2;r[0]-=i,r[1]-=o,r[2]+=i,r[3]+=o}return r}updateClipFromPath(){const e=fe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Kh,0)}getClippedPathBoundingBox(e=Un.FILL,n=null){return fe.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function kR(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Or,o=(n-i)/Or,a=i===0?o:o+1,s=t.createImageData(r,Or);let l=0,c;const u=e.data,h=s.data;let f,p,m,g;if(e.kind===Hm.GRAYSCALE_1BPP){const y=u.byteLength,b=new Uint32Array(h.buffer,0,h.byteLength>>2),w=b.length,x=r+7>>3,E=4294967295,A=Nn.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(m=f<o?Or:i,c=0,p=0;p<m;p++){const S=y-l;let _=0;const O=S>x?r:S*8-7,M=O&-8;let j=0,N=0;for(;_<M;_+=8)N=u[l++],b[c++]=N&128?E:A,b[c++]=N&64?E:A,b[c++]=N&32?E:A,b[c++]=N&16?E:A,b[c++]=N&8?E:A,b[c++]=N&4?E:A,b[c++]=N&2?E:A,b[c++]=N&1?E:A;for(;_<O;_++)j===0&&(N=u[l++],j=128),b[c++]=N&j?E:A,j>>=1}for(;c<w;)b[c++]=0;t.putImageData(s,0,f*Or)}}else if(e.kind===Hm.RGBA_32BPP){for(p=0,g=r*Or*4,f=0;f<o;f++)h.set(u.subarray(l,l+g)),l+=g,t.putImageData(s,0,p),p+=Or;f<a&&(g=r*i*4,h.set(u.subarray(l,l+g)),t.putImageData(s,0,p))}else if(e.kind===Hm.RGB_24BPP)for(m=Or,g=r*m,f=0;f<a;f++){for(f>=o&&(m=i,g=r*m),c=0,p=g;p--;)h[c++]=u[l++],h[c++]=u[l++],h[c++]=u[l++],h[c++]=255;t.putImageData(s,0,f*Or)}else throw new Error(`bad image kind: ${e.kind}`)}function OR(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Or,o=(n-i)/Or,a=i===0?o:o+1,s=t.createImageData(r,Or);let l=0;const c=e.data,u=s.data;for(let h=0;h<a;h++){const f=h<o?Or:i;({srcPos:l}=s0e({src:c,srcPos:l,dest:u,width:r,height:f,nonBlackColor:0})),t.putImageData(s,0,h*Or)}}function om(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Pb(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function jR(t,e){if(e)return!0;fe.singularValueDecompose2dScale(t,li);const n=Math.fround(So.pixelRatio*Ts.PDF_TO_CSS_UNITS);return li[0]<=n&&li[1]<=n}const h0e=["butt","round","square"],d0e=["miter","round","bevel"],f0e={},MR={};var Eo,MC,NC,RC;const tk=class tk{constructor(e,n,r,i,o,{optionalContentConfig:a,markedContentStack:s=null},l,c,u){T(this,Eo);this.ctx=e,this.current=new TR(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=a,this.cachedCanvases=new u0e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,n,r=null){var i;return typeof n=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const o=this.ctx.canvas.width,a=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,a),this.ctx.fillStyle=s,r){const l=this.cachedCanvases.getCanvas("transparent",o,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ut(this.compositeCtx))}this.ctx.save(),Pb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Ut(this.ctx)}executeOperatorList(e,n,r,i,o){var b;const a=e.argsArray,s=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const u=c-l>PR&&typeof r=="function",h=u?Date.now()+l0e:0;let f=0;const p=this.commonObjs,m=this.objs;let g,y;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!o||o(l))if(g=s[l],y=a[l]??null,g!==pp.dependency)y===null?this[g](l):this[g](l,...y);else for(const w of y){(b=this.dependencyTracker)==null||b.recordNamedData(w,l);const x=w.startsWith("g_")?p:m;if(!x.has(w))return x.get(w,r),l}if(l++,l===c)return l;if(u&&++f>PR){if(Date.now()>h)return r(),l;f=0}}}endDrawing(){k(this,Eo,MC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,Eo,NC).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let o=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),s=r,l=i,c="prescale1",u,h;for(;o>2&&s>1||a>2&&l>1;){let f=s,p=l;o>2&&s>1&&(f=s>=16384?Math.floor(s/2)-1||1:Math.ceil(s/2),o/=s/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),u=this.cachedCanvases.getCanvas(c,f,p),h=u.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,s,l,0,0,f,p),e=u.canvas,s=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:s,paintHeight:l}}_createMaskCanvas(e,n){var j,N;const r=this.ctx,{width:i,height:o}=n,a=this.current.fillColor,s=this.current.patternFill,l=Ut(r);let c,u,h,f;if((n.bitmap||n.data)&&n.count>1){const R=n.bitmap||n.data.buffer;u=JSON.stringify(s?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(R),c||(c=new Map,this._cachedBitmapsMap.set(R,c));const F=c.get(u);if(F&&!s){const $=Math.round(Math.min(l[0],l[2])+l[4]),z=Math.round(Math.min(l[1],l[3])+l[5]);return(j=this.dependencyTracker)==null||j.recordDependencies(e,Ei.transformAndFill),{canvas:F,offsetX:$,offsetY:z}}h=F}h||(f=this.cachedCanvases.getCanvas("maskCanvas",i,o),OR(f.context,n));let p=fe.transform(l,[1/i,0,0,-1/o,0,0]);p=fe.transform(p,[1,0,0,1,0,-o]);const m=Kh.slice();fe.axialAlignedBoundingBox([0,0,i,o],p,m);const[g,y,b,w]=m,x=Math.round(b-g)||1,E=Math.round(w-y)||1,A=this.cachedCanvases.getCanvas("fillCanvas",x,E),S=A.context,_=g,O=y;S.translate(-_,-O),S.transform(...p),h||(h=this._scaleImage(f.canvas,Oo(S)),h=h.img,c&&s&&c.set(u,h)),S.imageSmoothingEnabled=jR(Ut(S),n.interpolate),_b(S,h,0,0,h.width,h.height,0,0,i,o),S.globalCompositeOperation="source-in";const M=fe.transform(Oo(S),[1,0,0,1,-_,-O]);return S.fillStyle=s?a.getPattern(r,this,M,Un.FILL,e):a,S.fillRect(0,0,i,o),c&&!s&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,A.canvas)),(N=this.dependencyTracker)==null||N.recordDependencies(e,Ei.transformAndFill),{canvas:A.canvas,offsetX:Math.round(_),offsetY:Math.round(O)}}setLineWidth(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=h0e[n]}setLineJoin(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=d0e[n]}setMiterLimit(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){var o;(o=this.dependencyTracker)==null||o.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var r,i,o,a,s;for(const[l,c]of n)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(o=this.dependencyTracker)==null||o.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(s=this.dependencyTracker)==null||s.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=o.context;a.setTransform(this.suspendedCtx.getTransform()),om(this.suspendedCtx,a),c0e(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),om(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const o=i[0],a=i[1],s=i[2]-o,l=i[3]-a;s===0||l===0||(this.genericComposeSMask(n.context,r,s,l,n.subtype,n.backdrop,n.transferMap,o,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,o,a,s,l,c,u,h){let f=e.canvas,p=l-u,m=c-h;if(a)if(p<0||m<0||p+r>f.width||m+i>f.height){const y=this.cachedCanvases.getCanvas("maskExtension",r,i),b=y.context;b.drawImage(f,-p,-m),b.globalCompositeOperation="destination-atop",b.fillStyle=a,b.fillRect(0,0,r,i),b.globalCompositeOperation="source-over",f=y.canvas,p=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(p,m,r,i),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,m,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),o==="Alpha"&&s?n.filter=this.filterFactory.addAlphaFilter(s):o==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(s));const g=new Path2D;g.rect(l,c,r,i),n.clip(g),n.globalCompositeOperation="destination-in",n.drawImage(f,p,m,r,i,l,c,r,i),n.restore()}save(e){var r;this.inSMaskMode&&om(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&om(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,o,a,s){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,o,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[o]=r;if(!i){o||(o=r[0]=new Path2D),this[n](e,o);return}if(this.dependencyTracker!==null){const a=n===pp.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}if(!(o instanceof Path2D)){const a=r[0]=new Path2D;for(let s=0,l=o.length;s<l;)switch(o[s++]){case xb.moveTo:a.moveTo(o[s++],o[s++]);break;case xb.lineTo:a.lineTo(o[s++],o[s++]);break;case xb.curveTo:a.bezierCurveTo(o[s++],o[s++],o[s++],o[s++],o[s++],o[s++]);break;case xb.closePath:a.closePath();break;default:Me(`Unrecognized drawing path operator: ${o[s-1]}`);break}o=a}fe.axialAlignedBoundingBox(i,Ut(this.ctx),this.current.minMax),this[n](e,o),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){var a;const i=this.ctx,o=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&(o!=null&&o.getPattern)){const s=o.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=o.getPattern(i,this,Oo(i),Un.STROKE,e),s){const l=new Path2D;l.addPath(n,i.getTransform().invertSelf().multiplySelf(s)),n=l}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Ei.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Un.STROKE,Ut(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){var c,u,h;const i=this.ctx,o=this.current.fillColor,a=this.current.patternFill;let s=!1;if(a){const f=o.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=o.getPattern(i,this,Oo(i),Un.FILL,e),f){const p=new Path2D;p.addPath(n,i.getTransform().invertSelf().multiplySelf(f)),n=p}s=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),(u=this.dependencyTracker)==null||u.recordDependencies(e,Ei.fill),s&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var r;this.ctx.fill(n),(r=this.dependencyTracker)==null||r.recordDependencies(e,Ei.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=f0e}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=MR}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,o=r.getTransform().invertSelf();for(const{transform:a,x:s,y:l,fontSize:c,path:u}of n)u&&i.addPath(u,new DOMMatrix(a).preMultiplySelf(o).translate(s,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),o=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(o.fontMatrix=i.fontMatrix||rC,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Me("Invalid font matrix for font "+n),r<0?(r=-r,o.fontDirection=-1):o.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",s=((f=i.systemFontInfo)==null?void 0:f.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=r;r<CR?u=CR:r>_R&&(u=_R),this.current.fontSizeScale=r/u,this.ctx.font=`${c} ${l} ${u}px ${s}`}setTextRenderingMode(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,r,i,o,a){var b,w,x,E;const s=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,f=u&In.FILL_STROKE_MASK,p=!!(u&In.ADD_TO_PATH_FLAG),m=l.patternFill&&!c.missingFile,g=l.patternStroke&&!c.missingFile;let y;if((c.disableFontFace||p||m||g)&&!c.missingFile&&(y=c.getPathGenerator(this.commonObjs,n)),y&&(c.disableFontFace||m||g)){s.save(),s.translate(r,i),s.scale(h,-h),(b=this.dependencyTracker)==null||b.recordCharacterBBox(e,s,c);let A;if(f===In.FILL||f===In.FILL_STROKE)if(o){A=s.getTransform(),s.setTransform(...o);const S=k(this,Eo,RC).call(this,y,A,o);s.fill(S)}else s.fill(y);if(f===In.STROKE||f===In.FILL_STROKE)if(a){A||(A=s.getTransform()),s.setTransform(...a);const{a:S,b:_,c:O,d:M}=A,j=fe.inverseTransform(a),N=fe.transform([S,_,O,M,0,0],j);fe.singularValueDecompose2dScale(N,li),s.lineWidth*=Math.max(li[0],li[1])/h,s.stroke(k(this,Eo,RC).call(this,y,A,a))}else s.lineWidth/=h,s.stroke(y);s.restore()}else(f===In.FILL||f===In.FILL_STROKE)&&(s.fillText(n,r,i),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,s,c,h,r,i,()=>s.measureText(n))),(f===In.STROKE||f===In.FILL_STROKE)&&(this.dependencyTracker&&((x=this.dependencyTracker)==null||x.recordCharacterBBox(e,s,c,h,r,i,()=>s.measureText(n)).recordDependencies(e,Ei.stroke)),s.strokeText(n,r,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ut(s),x:r,y:i,fontSize:h,path:y}),(E=this.dependencyTracker)==null||E.recordCharacterBBox(e,s,c,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Be(this,"isFontSubpixelAAEnabled",r)}showText(e,n){var O,M,j,N;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ei.showText).resetBBox(e),this.current.textRenderingMode&In.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),(O=this.dependencyTracker)==null||O.recordShowTextOperation(e);return}const o=r.fontSize;if(o===0){(M=this.dependencyTracker)==null||M.recordOperation(e);return}const a=this.ctx,s=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,u=r.fontDirection,h=r.textHScale*u,f=n.length,p=i.vertical,m=p?1:-1,g=i.defaultVMetrics,y=o*r.fontMatrix[0],b=r.textRenderingMode===In.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),u>0?a.scale(h,-1):a.scale(h,1);let w,x;if(r.patternFill){a.save();const R=r.fillColor.getPattern(a,this,Oo(a),Un.FILL,e);w=Ut(a),a.restore(),a.fillStyle=R}if(r.patternStroke){a.save();const R=r.strokeColor.getPattern(a,this,Oo(a),Un.STROKE,e);x=Ut(a),a.restore(),a.strokeStyle=R}let E=r.lineWidth;const A=r.textMatrixScale;if(A===0||E===0){const R=r.textRenderingMode&In.FILL_STROKE_MASK;(R===In.STROKE||R===In.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=A;if(s!==1&&(a.scale(s,s),E/=s),a.lineWidth=E,i.isInvalidPDFjsFont){const R=[];let F=0;for(const z of n)R.push(z.unicode),F+=z.width;const $=R.join("");if(a.fillText($,0,0),this.dependencyTracker!==null){const z=a.measureText($);this.dependencyTracker.recordBBox(e,this.ctx,-z.actualBoundingBoxLeft,z.actualBoundingBoxRight,-z.actualBoundingBoxAscent,z.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=F*y*h,a.restore(),this.compose();return}let S=0,_;for(_=0;_<f;++_){const R=n[_];if(typeof R=="number"){S+=m*R*o/1e3;continue}let F=!1;const $=(R.isSpace?c:0)+l,z=R.fontChar,L=R.accent;let U,H,V=R.width;if(p){const q=R.vmetric||g,D=-(R.vmetric?q[1]:V*.5)*y,oe=q[2]*y;V=q?-q[0]:V,U=D/s,H=(S+oe)/s}else U=S/s,H=0;let I;if(i.remeasure&&V>0){I=a.measureText(z);const q=I.width*1e3/o*s;if(V<q&&this.isFontSubpixelAAEnabled){const D=V/q;F=!0,a.save(),a.scale(D,1),U/=D}else V!==q&&(U+=(V-q)/2e3*o/s)}if(this.contentVisible&&(R.isInFont||i.missingFile)){if(b&&!L)a.fillText(z,U,H),(j=this.dependencyTracker)==null||j.recordCharacterBBox(e,a,I?{bbox:null}:i,o/s,U,H,()=>I??a.measureText(z));else if(this.paintChar(e,z,U,H,w,x),L){const q=U+o*L.offset.x/s,D=H-o*L.offset.y/s;this.paintChar(e,L.fontChar,q,D,w,x)}}const Y=p?V*y-$*u:V*y+$*u;S+=Y,F&&a.restore()}p?r.y-=S:r.x+=S*h,a.restore(),this.compose(),(N=this.dependencyTracker)==null||N.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,o=i.font,a=i.fontSize,s=i.fontDirection,l=o.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,h=i.textHScale*s,f=i.fontMatrix||rC,p=n.length,m=i.textRenderingMode===In.INVISIBLE;let g,y,b,w;if(m||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,s);const x=this.dependencyTracker;for(this.dependencyTracker=x?new L0(x,e):null,g=0;g<p;++g){if(y=n[g],typeof y=="number"){w=l*y*a/1e3,this.ctx.translate(w,0),i.x+=w*h;continue}const E=(y.isSpace?u:0)+c,A=o.charProcOperatorList[y.operatorListId];A?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...f),this.executeOperatorList(A),this.restore()):Me(`Type3 character "${y.operatorListId}" is not available.`);const S=[y.width,0];fe.applyTransform(S,f),b=S[0]*a+E,r.translate(b,0),i.x+=b*h}r.restore(),x&&(this.dependencyTracker=x)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,o,a,s){var c;const l=new Path2D;l.rect(i,o,a-i,s-o),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,o,s).recordClipBox(e,this.ctx,i,a,o,s),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||Ut(this.ctx),o={createCanvasGraphics:(a,s)=>new tk(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new L0(this.dependencyTracker,s,!0):null)};r=new jC(n,this.ctx,o,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=a0e(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,Oo(r),Un.SHADING,e);const o=Oo(r);if(o){const{width:s,height:l}=r.canvas,c=Kh.slice();fe.axialAlignedBoundingBox([0,0,s,l],o,c);const[u,h,f,p]=c;this.ctx.fillRect(u,h,f-u,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ei.transform).recordDependencies(e,Ei.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){St("Should not call beginInlineImage")}beginImageData(){St("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=Ut(this.ctx),r)){fe.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[o,a,s,l]=r,c=new Path2D;c.rect(o,a,s-o,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,o,s,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var x;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||k1("TODO: Support non-isolated groups."),n.knockout&&Me("Knockout groups not supported.");const i=Ut(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let o=Kh.slice();fe.axialAlignedBoundingBox(n.bbox,Ut(r),o);const a=[0,0,r.canvas.width,r.canvas.height];o=fe.intersect(o,a)||[0,0,0,0];const s=Math.floor(o[0]),l=Math.floor(o[1]),c=Math.max(Math.ceil(o[2])-s,1),u=Math.max(Math.ceil(o[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,c,u),p=f.context;p.translate(-s,-l),p.transform(...i);let m=new Path2D;const[g,y,b,w]=n.bbox;if(m.rect(g,y,b-g,w-y),n.matrix){const E=new Path2D;E.addPath(m,new DOMMatrix(n.matrix)),m=E}p.clip(m),n.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:s,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(s,l),r.save()),om(r,p),this.ctx=p,(x=this.dependencyTracker)==null||x.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){var o;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(o=this.dependencyTracker)==null||o.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Ut(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const s=Kh.slice();fe.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,s),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,r,i,o,a){if(k(this,Eo,MC).call(this),Pb(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const s=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=s,r[3]=l,fe.singularValueDecompose2dScale(Ut(this.ctx),li);const{viewportScale:c}=this,u=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(n,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(li[0],0,0,-li[1],0,l*li[1]),Pb(this.ctx)}else{Pb(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],s,l),this.ctx.clip(c)}}this.current=new TR(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...o)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),k(this,Eo,NC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var s;if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,o=this._createMaskCanvas(e,n),a=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,o.offsetX,o.offsetY),(s=this.dependencyTracker)==null||s.resetBBox(e).recordBBox(e,this.ctx,o.offsetX,o.offsetX+a.width,o.offsetY,o.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,o=0,a,s){var h,f,p;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=Ut(l);l.transform(r,i,o,a,0,0);const u=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let m=0,g=s.length;m<g;m+=2){const y=fe.transform(c,[r,i,o,a,s[m],s[m+1]]);l.drawImage(u.canvas,y[4],y[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,y[4],y[4]+u.canvas.width,y[5],y[5]+u.canvas.height)}l.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var a,s,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,o=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Ei.transformAndFill);for(const c of n){const{data:u,width:h,height:f,transform:p}=c,m=this.cachedCanvases.getCanvas("maskCanvas",h,f),g=m.context;g.save();const y=this.getObject(e,u,c);OR(g,y),g.globalCompositeOperation="source-in",g.fillStyle=o?i.getPattern(g,this,Oo(r),Un.FILL,e):i,g.fillRect(0,0,h,f),g.restore(),r.save(),r.transform(...p),r.scale(1,-1),_b(r,m.canvas,0,0,h,f,0,-1,1,1),(s=this.dependencyTracker)==null||s.recordBBox(e,r,0,h,0,f),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){Me("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,o){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){Me("Dependent image isn't ready yet");return}const s=a.width,l=a.height,c=[];for(let u=0,h=o.length;u<h;u+=2)c.push({transform:[r,0,0,i,o[u],o[u+1]],x:0,y:0,w:s,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,o=this.cachedCanvases.getCanvas("inlineImage",r,i),a=o.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",o.canvas}paintInlineImageXObject(e,n){var c;if(!this.contentVisible)return;const r=n.width,i=n.height,o=this.ctx;this.save(e);const{filter:a}=o;a!=="none"&&a!==""&&(o.filter="none"),o.scale(1/r,-1/i);let s;if(n.bitmap)s=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)s=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;kR(h,n),s=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(s,Oo(o));o.imageSmoothingEnabled=jR(Ut(o),n.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,o,0,r,-i,0).recordDependencies(e,Ei.imageXObject).recordOperation(e),_b(o,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){var a,s,l;if(!this.contentVisible)return;const i=this.ctx;let o;if(n.bitmap)o=n.bitmap;else{const c=n.width,u=n.height,f=this.cachedCanvases.getCanvas("inlineImage",c,u).context;kR(f,n),o=this.applyTransferMapsToCanvas(f)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),_b(i,o,c.x,c.y,c.w,c.h,0,-1,1,1),(s=this.dependencyTracker)==null||s.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ei.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){var a,s;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const o=this.ctx;this.pendingClip?(i||(this.pendingClip===MR?o.clip(n,"evenodd"):o.clip(n)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(s=this.dependencyTracker)==null||s.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ut(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:o}=this.ctx.getTransform();let a,s;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(o);if(l===c)if(e===0)a=s=1/l;else{const u=l*e;a=s=u<1?1/u:1}else if(e===0)a=1/l,s=1/c;else{const u=l*e,h=c*e;a=u<1?1/u:1,s=h<1?1/h:1}}else{const l=Math.abs(n*o-r*i),c=Math.hypot(n,r),u=Math.hypot(i,o);if(e===0)a=u/l,s=c/l;else{const h=e*l;a=u>h?u/h:1,s=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[o,a]=this.getScaleForStroking();if(o===a){r.lineWidth=(i||1)*o,r.stroke(e);return}const s=r.getLineDash();n&&r.save(),r.scale(o,a),HA.a=1/o,HA.d=1/a;const l=new Path2D;if(l.addPath(e,HA),s.length>0){const c=Math.max(o,a);r.setLineDash(s.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Eo=new WeakSet,MC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},NC=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},RC=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let od=tk;for(const t in pp)od.prototype[t]!==void 0&&(od.prototype[pp[t]]=od.prototype[t]);var Dd,Ld,by,$d,Xb;const Yh=class Yh{constructor(e){T(this,$d);T(this,Dd);T(this,Ld);T(this,by);C(this,Dd,e),C(this,Ld,new DataView(d(this,Dd))),C(this,by,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const c of Yh.strings){const u=n.encode(e[c]);r[c]=u,i+=4+u.length}const o=new ArrayBuffer(i),a=new Uint8Array(o),s=new DataView(o);let l=0;for(const c of Yh.strings){const u=r[c],h=u.length;s.setUint32(l,h),a.set(u,l+4),l+=4+h}return Xe(l===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}get fontFamily(){return k(this,$d,Xb).call(this,0)}get fontWeight(){return k(this,$d,Xb).call(this,1)}get italicAngle(){return k(this,$d,Xb).call(this,2)}};Dd=new WeakMap,Ld=new WeakMap,by=new WeakMap,$d=new WeakSet,Xb=function(e){Xe(e<Yh.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=d(this,Ld).getUint32(n)+4;const r=d(this,Ld).getUint32(n);return d(this,by).decode(new Uint8Array(d(this,Dd),n+4,r))},ee(Yh,"strings",["fontFamily","fontWeight","italicAngle"]);let $0=Yh;var hl,Wo,uu,hu,Em;const Jh=class Jh{constructor(e){T(this,hu);T(this,hl);T(this,Wo);T(this,uu);C(this,hl,e),C(this,Wo,new DataView(d(this,hl))),C(this,uu,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const f of Jh.strings){const p=n.encode(e[f]);r[f]=p,i+=4+p.length}i+=4;let o,a,s=1+i;e.style&&(o=n.encode(e.style.style),a=n.encode(e.style.weight),s+=4+o.length+4+a.length);const l=new ArrayBuffer(s),c=new Uint8Array(l),u=new DataView(l);let h=0;u.setUint8(h++,e.guessFallback?1:0),u.setUint32(h,0),h+=4,i=0;for(const f of Jh.strings){const p=r[f],m=p.length;i+=4+m,u.setUint32(h,m),c.set(p,h+4),h+=4+m}return u.setUint32(h-i-4,i),e.style&&(u.setUint32(h,o.length),c.set(o,h+4),h+=4+o.length,u.setUint32(h,a.length),c.set(a,h+4),h+=4+a.length),Xe(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return d(this,Wo).getUint8(0)!==0}get css(){return k(this,hu,Em).call(this,0)}get loadedName(){return k(this,hu,Em).call(this,1)}get baseFontName(){return k(this,hu,Em).call(this,2)}get src(){return k(this,hu,Em).call(this,3)}get style(){let e=1;e+=4+d(this,Wo).getUint32(e);const n=d(this,Wo).getUint32(e),r=d(this,uu).decode(new Uint8Array(d(this,hl),e+4,n));e+=4+n;const i=d(this,Wo).getUint32(e),o=d(this,uu).decode(new Uint8Array(d(this,hl),e+4,i));return{style:r,weight:o}}};hl=new WeakMap,Wo=new WeakMap,uu=new WeakMap,hu=new WeakSet,Em=function(e){Xe(e<Jh.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=d(this,Wo).getUint32(n)+4;const r=d(this,Wo).getUint32(n);return d(this,uu).decode(new Uint8Array(d(this,hl),n+4,r))},ee(Jh,"strings",["css","loadedName","baseFontName","src"]);let F0=Jh;var Fd,Bd,zd,Ud,Gr,Go,xy,pt,Jt,Zi,Yb,Cm;const Re=class Re{constructor({data:e,extra:n}){T(this,Jt);T(this,Go);T(this,xy);T(this,pt);C(this,Go,e),C(this,xy,new TextDecoder),C(this,pt,new DataView(d(this,Go))),n&&Object.assign(this,n)}get black(){return k(this,Jt,Zi).call(this,0)}get bold(){return k(this,Jt,Zi).call(this,1)}get disableFontFace(){return k(this,Jt,Zi).call(this,2)}get fontExtraProperties(){return k(this,Jt,Zi).call(this,3)}get isInvalidPDFjsFont(){return k(this,Jt,Zi).call(this,4)}get isType3Font(){return k(this,Jt,Zi).call(this,5)}get italic(){return k(this,Jt,Zi).call(this,6)}get missingFile(){return k(this,Jt,Zi).call(this,7)}get remeasure(){return k(this,Jt,Zi).call(this,8)}get vertical(){return k(this,Jt,Zi).call(this,9)}get ascent(){return k(this,Jt,Yb).call(this,0)}get defaultWidth(){return k(this,Jt,Yb).call(this,1)}get descent(){return k(this,Jt,Yb).call(this,2)}get bbox(){let e=d(Re,Bd);if(d(this,pt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(d(this,pt).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=d(Re,zd);if(d(this,pt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(d(this,pt).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=d(Re,Ud);if(d(this,pt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(d(this,pt).getInt16(e,!0)),e+=2;return r}get fallbackName(){return k(this,Jt,Cm).call(this,0)}get loadedName(){return k(this,Jt,Cm).call(this,1)}get mimetype(){return k(this,Jt,Cm).call(this,2)}get name(){return k(this,Jt,Cm).call(this,3)}get data(){let e=d(Re,Gr);const n=d(this,pt).getUint32(e);e+=4+n;const r=d(this,pt).getUint32(e);e+=4+r;const i=d(this,pt).getUint32(e);e+=4+i;const o=d(this,pt).getUint32(e);if(o!==0)return new Uint8Array(d(this,Go),e+4,o)}clearData(){let e=d(Re,Gr);const n=d(this,pt).getUint32(e);e+=4+n;const r=d(this,pt).getUint32(e);e+=4+r;const i=d(this,pt).getUint32(e);e+=4+i;const o=d(this,pt).getUint32(e);new Uint8Array(d(this,Go),e+4,o).fill(0),d(this,pt).setUint32(e,0)}get cssFontInfo(){let e=d(Re,Gr);const n=d(this,pt).getUint32(e);e+=4+n;const r=d(this,pt).getUint32(e);e+=4+r;const i=d(this,pt).getUint32(e);if(i===0)return null;const o=new Uint8Array(i);return o.set(new Uint8Array(d(this,Go),e+4,i)),new $0(o.buffer)}get systemFontInfo(){let e=d(Re,Gr);const n=d(this,pt).getUint32(e);e+=4+n;const r=d(this,pt).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(d(this,Go),e+4,r)),new F0(i.buffer)}static write(e){const n=e.systemFontInfo?F0.write(e.systemFontInfo):null,r=e.cssFontInfo?$0.write(e.cssFontInfo):null,i=new TextEncoder,o={};let a=0;for(const g of Re.strings)o[g]=i.encode(e[g]),a+=4+o[g].length;const s=d(Re,Gr)+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(s),c=new Uint8Array(l),u=new DataView(l);let h=0;const f=Re.bools.length;let p=0,m=0;for(let g=0;g<f;g++){const y=e[Re.bools[g]];p|=(y===void 0?0:y?2:1)<<m,m+=2,(m===8||g===f-1)&&(u.setUint8(h++,p),p=0,m=0)}Xe(h===d(Re,Fd),"FontInfo.write: Boolean properties offset mismatch");for(const g of Re.numbers)u.setFloat64(h,e[g]),h+=8;if(Xe(h===d(Re,Bd),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(h++,4);for(const g of e.bbox)u.setInt16(h,g,!0),h+=2}else u.setUint8(h++,0),h+=2*4;if(Xe(h===d(Re,zd),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(h++,6);for(const g of e.fontMatrix)u.setFloat64(h,g,!0),h+=8}else u.setUint8(h++,0),h+=8*6;if(Xe(h===d(Re,Ud),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(h++,1);for(const g of e.defaultVMetrics)u.setInt16(h,g,!0),h+=2}else u.setUint8(h++,0),h+=3*2;Xe(h===d(Re,Gr),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(d(Re,Gr),0),h+=4;for(const g of Re.strings){const y=o[g],b=y.length;u.setUint32(h,b),c.set(y,h+4),h+=4+b}if(u.setUint32(d(Re,Gr),h-d(Re,Gr)-4),!n)u.setUint32(h,0),h+=4;else{const g=n.byteLength;u.setUint32(h,g),Xe(h+4+g<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),h+4),h+=4+g}if(!r)u.setUint32(h,0),h+=4;else{const g=r.byteLength;u.setUint32(h,g),Xe(h+4+g<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),h+4),h+=4+g}return e.data===void 0?(u.setUint32(h,0),h+=4):(u.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),Xe(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};Fd=new WeakMap,Bd=new WeakMap,zd=new WeakMap,Ud=new WeakMap,Gr=new WeakMap,Go=new WeakMap,xy=new WeakMap,pt=new WeakMap,Jt=new WeakSet,Zi=function(e){Xe(e<Re.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=d(this,pt).getUint8(n)>>r&3;return i===0?void 0:i===2},Yb=function(e){return Xe(e<Re.numbers.length,"Invalid number index"),d(this,pt).getFloat64(d(Re,Fd)+e*8)},Cm=function(e){Xe(e<Re.strings.length,"Invalid string index");let n=d(Re,Gr)+4;for(let o=0;o<e;o++)n+=d(this,pt).getUint32(n)+4;const r=d(this,pt).getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(d(this,Go),n+4,r)),d(this,xy).decode(i)},ee(Re,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),ee(Re,"numbers",["ascent","defaultWidth","descent"]),ee(Re,"strings",["fallbackName","loadedName","mimetype","name"]),T(Re,Fd,Math.ceil(Re.bools.length*2/8)),T(Re,Bd,d(Re,Fd)+Re.numbers.length*8),T(Re,zd,d(Re,Bd)+1+2*4),T(Re,Ud,d(Re,zd)+1+8*6),T(Re,Gr,d(Re,Ud)+1+2*3);let IC=Re;var wy,Ay;class Bi{static get workerPort(){return d(this,wy)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");C(this,wy,e)}static get workerSrc(){return d(this,Ay)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");C(this,Ay,e)}}wy=new WeakMap,Ay=new WeakMap,T(Bi,wy,null),T(Bi,Ay,"");var Hd,Sy;class p0e{constructor({parsedData:e,rawData:n}){T(this,Hd);T(this,Sy);C(this,Hd,e),C(this,Sy,n)}getRaw(){return d(this,Sy)}get(e){return d(this,Hd).get(e)??null}[Symbol.iterator](){return d(this,Hd).entries()}}Hd=new WeakMap,Sy=new WeakMap;const Fh=Symbol("INTERNAL");var Ey,Cy,_y,Vd;class m0e{constructor(e,{name:n,intent:r,usage:i,rbGroups:o}){T(this,Ey,!1);T(this,Cy,!1);T(this,_y,!1);T(this,Vd,!0);C(this,Ey,!!(e&ai.DISPLAY)),C(this,Cy,!!(e&ai.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=o}get visible(){if(d(this,_y))return d(this,Vd);if(!d(this,Vd))return!1;const{print:e,view:n}=this.usage;return d(this,Ey)?(n==null?void 0:n.viewState)!=="OFF":d(this,Cy)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Fh&&St("Internal method `_setVisible` called."),C(this,_y,r),C(this,Vd,n)}}Ey=new WeakMap,Cy=new WeakMap,_y=new WeakMap,Vd=new WeakMap;var dl,mt,Wd,Gd,Py,DC;class g0e{constructor(e,n=ai.DISPLAY){T(this,Py);T(this,dl,null);T(this,mt,new Map);T(this,Wd,null);T(this,Gd,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,C(this,Gd,e.order);for(const r of e.groups)d(this,mt).set(r.id,new m0e(n,r));if(e.baseState==="OFF")for(const r of d(this,mt).values())r._setVisible(Fh,!1);for(const r of e.on)d(this,mt).get(r)._setVisible(Fh,!0);for(const r of e.off)d(this,mt).get(r)._setVisible(Fh,!1);C(this,Wd,this.getHash())}}isVisible(e){if(d(this,mt).size===0)return!0;if(!e)return k1("Optional content group not defined."),!0;if(e.type==="OCG")return d(this,mt).has(e.id)?d(this,mt).get(e.id).visible:(Me(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,Py,DC).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!d(this,mt).has(n))return Me(`Optional content group not found: ${n}`),!0;if(d(this,mt).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!d(this,mt).has(n))return Me(`Optional content group not found: ${n}`),!0;if(!d(this,mt).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!d(this,mt).has(n))return Me(`Optional content group not found: ${n}`),!0;if(!d(this,mt).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!d(this,mt).has(n))return Me(`Optional content group not found: ${n}`),!0;if(d(this,mt).get(n).visible)return!1}return!0}return Me(`Unknown optional content policy ${e.policy}.`),!0}return Me(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var o;const i=d(this,mt).get(e);if(!i){Me(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const s of a)s!==e&&((o=d(this,mt).get(s))==null||o._setVisible(Fh,!1,!0));i._setVisible(Fh,!!n,!0),C(this,dl,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const o=d(this,mt).get(i);if(o)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!o.visible,n);break}}C(this,dl,null)}get hasInitialVisibility(){return d(this,Wd)===null||this.getHash()===d(this,Wd)}getOrder(){return d(this,mt).size?d(this,Gd)?d(this,Gd).slice():[...d(this,mt).keys()]:null}getGroup(e){return d(this,mt).get(e)||null}getHash(){if(d(this,dl)!==null)return d(this,dl);const e=new Z3;for(const[n,r]of d(this,mt))e.update(`${n}:${r.visible}`);return C(this,dl,e.hexdigest())}[Symbol.iterator](){return d(this,mt).entries()}}dl=new WeakMap,mt=new WeakMap,Wd=new WeakMap,Gd=new WeakMap,Py=new WeakSet,DC=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const o=e[i];let a;if(Array.isArray(o))a=k(this,Py,DC).call(this,o);else if(d(this,mt).has(o))a=d(this,mt).get(o).visible;else return Me(`Optional content group not found: ${o}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class y0e{constructor(e,{disableRange:n=!1,disableStream:r=!1}){Xe(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:o,progressiveDone:a,contentDispositionFilename:s}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=s,(o==null?void 0:o.length)>0){const l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(r),!0)});Xe(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,o;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(o=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||o.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Xe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new v0e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new b0e(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class v0e{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=j1(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b0e{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function x0e(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let u=s(n);return u=unescape(u),u=l(u),u=c(u),o(u)}if(n=a(t),n){const u=c(n);return o(u)}if(n=r("filename","i").exec(t),n){n=n[1];let u=s(n);return u=c(u),o(u)}function r(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(u,{fatal:!0}),p=zv(h);h=f.decode(p),e=!1}catch{}}return h}function o(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,g,y,b]=f;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[y,b]}const m=[];for(let g=0;g<h.length&&g in h;++g){let[y,b]=h[g];b=s(b),y&&(b=unescape(b),g===0&&(b=l(b))),m.push(b)}return m.join("")}function s(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function l(u){const h=u.indexOf("'");if(h===-1)return u;const f=u.slice(0,h),m=u.slice(h+1).replace(/^[^']*'/,"");return i(f,m)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,y){return String.fromCharCode(parseInt(y,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function h5(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function M1(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function d5({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t.get("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function f5(t){const e=t.get("Content-Disposition");if(e){let n=x0e(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(j1(n))return n}return null}function Wv(t,e){return new Ng(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function p5(t){return t===200||t===206}function m5(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function g5(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Me(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class w0e{constructor(e){ee(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=h5(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Xe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new A0e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new S0e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class A0e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,m5(r,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=M1(o.url),!p5(o.status))throw Wv(o.status,i);this._reader=o.body.getReader(),this._headersCapability.resolve();const a=o.headers,{allowRangeRequests:s,suggestedLength:l}=d5({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=l||this._contentLength,this._filename=f5(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ps("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:g5(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class S0e{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,m5(o,this._withCredentials,this._abortController)).then(s=>{const l=M1(s.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!p5(s.status))throw Wv(s.status,a);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:g5(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const VA=200,WA=206;function E0e(t){const e=t.response;return typeof e!="string"?e:zv(e).buffer}class C0e{constructor({url:e,httpHeaders:n,withCredentials:r}){ee(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=h5(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[o,a]of this.headers)n.setRequestHeader(o,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=WA):i.expectedStatus=VA,n.responseType="arraybuffer",Xe(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const o=i.status||VA;if(!(o===VA&&r.expectedStatus===WA)&&o!==r.expectedStatus){r.onError(i.status);return}const s=E0e(i);if(o===WA){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:s}):(Me('Missing or invalid "Content-Range" header.'),r.onError(0))}else s?r.onDone({begin:0,chunk:s}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class _0e{constructor(e){this._source=e,this._manager=new C0e(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Xe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P0e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new T0e(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class P0e{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=M1(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(s=>{const[l,...c]=s.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:a}=d5({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=f5(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Wv(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class T0e{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=M1((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Wv(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const k0e=/^[a-z][a-z0-9\-+.]+:/i;function O0e(t){if(k0e.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class j0e{constructor(e){this.source=e,this.url=O0e(e.url),Xe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Xe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new M0e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new N0e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class M0e{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Wv(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ps("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class N0e{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const am=Symbol("INITIAL_DATA");var qr,Ty,LC;class y5{constructor(){T(this,Ty);T(this,qr,Object.create(null))}get(e,n=null){if(n){const i=k(this,Ty,LC).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=d(this,qr)[e];if(!r||r.data===am)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=d(this,qr)[e];return!!n&&n.data!==am}delete(e){const n=d(this,qr)[e];return!n||n.data===am?!1:(delete d(this,qr)[e],!0)}resolve(e,n=null){const r=k(this,Ty,LC).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in d(this,qr)){const{data:r}=d(this,qr)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}C(this,qr,Object.create(null))}*[Symbol.iterator](){for(const e in d(this,qr)){const{data:n}=d(this,qr)[e];n!==am&&(yield[e,n])}}}qr=new WeakMap,Ty=new WeakSet,LC=function(e){var n;return(n=d(this,qr))[e]||(n[e]={...Promise.withResolvers(),data:am})};const R0e=1e5,NR=30;var z2,fl,Pr,ky,Oy,du,Ga,jy,My,fu,qd,Kd,pl,Xd,Ny,Yd,pu,Ry,Iy,Yt,Jd,mu,Dy,ml,Zd,Os,v5,b5,$C,mi,Jb,FC,x5,w5;let Lg=(Yt=class{constructor({textContentSource:e,container:n,viewport:r}){T(this,Os);T(this,fl,Promise.withResolvers());T(this,Pr,null);T(this,ky,!1);T(this,Oy,!!((z2=globalThis.FontInspector)!=null&&z2.enabled));T(this,du,null);T(this,Ga,null);T(this,jy,0);T(this,My,0);T(this,fu,null);T(this,qd,null);T(this,Kd,0);T(this,pl,0);T(this,Xd,Object.create(null));T(this,Ny,[]);T(this,Yd,null);T(this,pu,[]);T(this,Ry,new WeakMap);T(this,Iy,null);var l;if(e instanceof ReadableStream)C(this,Yd,e);else if(typeof e=="object")C(this,Yd,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,Pr,C(this,qd,n)),C(this,pl,r.scale*So.pixelRatio),C(this,Kd,r.rotation),C(this,Ga,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:o,pageX:a,pageY:s}=r.rawDims;C(this,Iy,[1,0,0,-1,-a,s+o]),C(this,My,i),C(this,jy,o),k(l=Yt,mi,x5).call(l),Zl(n,r),d(this,fl).promise.finally(()=>{d(Yt,Zd).delete(this),C(this,Ga,null),C(this,Xd,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Nn.platform;return Be(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{d(this,fu).read().then(({value:n,done:r})=>{if(r){d(this,fl).resolve();return}d(this,du)??C(this,du,n.lang),Object.assign(d(this,Xd),n.styles),k(this,Os,v5).call(this,n.items),e()},d(this,fl).reject)};return C(this,fu,d(this,Yd).getReader()),d(Yt,Zd).add(this),e(),d(this,fl).promise}update({viewport:e,onBefore:n=null}){var o;const r=e.scale*So.pixelRatio,i=e.rotation;if(i!==d(this,Kd)&&(n==null||n(),C(this,Kd,i),Zl(d(this,qd),{rotation:i})),r!==d(this,pl)){n==null||n(),C(this,pl,r);const a={div:null,properties:null,ctx:k(o=Yt,mi,Jb).call(o,d(this,du))};for(const s of d(this,pu))a.properties=d(this,Ry).get(s),a.div=s,k(this,Os,$C).call(this,a)}}cancel(){var n;const e=new Ps("TextLayer task cancelled.");(n=d(this,fu))==null||n.cancel(e).catch(()=>{}),C(this,fu,null),d(this,fl).reject(e)}get textDivs(){return d(this,pu)}get textContentItemsStr(){return d(this,Ny)}static cleanup(){if(!(d(this,Zd).size>0)){d(this,Jd).clear();for(const{canvas:e}of d(this,mu).values())e.remove();d(this,mu).clear()}}},fl=new WeakMap,Pr=new WeakMap,ky=new WeakMap,Oy=new WeakMap,du=new WeakMap,Ga=new WeakMap,jy=new WeakMap,My=new WeakMap,fu=new WeakMap,qd=new WeakMap,Kd=new WeakMap,pl=new WeakMap,Xd=new WeakMap,Ny=new WeakMap,Yd=new WeakMap,pu=new WeakMap,Ry=new WeakMap,Iy=new WeakMap,Jd=new WeakMap,mu=new WeakMap,Dy=new WeakMap,ml=new WeakMap,Zd=new WeakMap,Os=new WeakSet,v5=function(e){var i,o;if(d(this,ky))return;(o=d(this,Ga)).ctx??(o.ctx=k(i=Yt,mi,Jb).call(i,d(this,du)));const n=d(this,pu),r=d(this,Ny);for(const a of e){if(n.length>R0e){Me("Ignoring additional textDivs for performance reasons."),C(this,ky,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const s=d(this,Pr);C(this,Pr,document.createElement("span")),d(this,Pr).classList.add("markedContent"),a.id&&d(this,Pr).setAttribute("id",`${a.id}`),s.append(d(this,Pr))}else a.type==="endMarkedContent"&&C(this,Pr,d(this,Pr).parentNode);continue}r.push(a.str),k(this,Os,b5).call(this,a)}},b5=function(e){var g;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};d(this,pu).push(n);const i=fe.transform(d(this,Iy),e.transform);let o=Math.atan2(i[1],i[0]);const a=d(this,Xd)[e.fontName];a.vertical&&(o+=Math.PI/2);let s=d(this,Oy)&&a.fontSubstitution||a.fontFamily;s=Yt.fontFamilyMap.get(s)||s;const l=Math.hypot(i[2],i[3]),c=l*k(g=Yt,mi,w5).call(g,s,a,d(this,du));let u,h;o===0?(u=i[4],h=i[5]-c):(u=i[4]+c*Math.sin(o),h=i[5]-c*Math.cos(o));const f="calc(var(--total-scale-factor) *",p=n.style;d(this,Pr)===d(this,qd)?(p.left=`${(100*u/d(this,My)).toFixed(2)}%`,p.top=`${(100*h/d(this,jy)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(d(Yt,ml)*l).toFixed(2)}px)`,p.fontFamily=s,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,d(this,Oy)&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),o!==0&&(r.angle=o*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);y!==b&&Math.max(y,b)/Math.min(y,b)>1.5&&(m=!0)}if(m&&(r.canvasWidth=a.vertical?e.height:e.width),d(this,Ry).set(n,r),d(this,Ga).div=n,d(this,Ga).properties=r,k(this,Os,$C).call(this,d(this,Ga)),r.hasText&&d(this,Pr).append(n),r.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),d(this,Pr).append(y)}},$C=function(e){var s;const{div:n,properties:r,ctx:i}=e,{style:o}=n;let a="";if(d(Yt,ml)>1&&(a=`scale(${1/d(Yt,ml)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=o,{canvasWidth:c,fontSize:u}=r;k(s=Yt,mi,FC).call(s,i,u*d(this,pl),l);const{width:h}=i.measureText(n.textContent);h>0&&(a=`scaleX(${c*d(this,pl)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(o.transform=a)},mi=new WeakSet,Jb=function(e=null){let n=d(this,mu).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,mu).set(e,n),d(this,Dy).set(n,{size:0,family:""})}return n},FC=function(e,n,r){const i=d(this,Dy).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},x5=function(){if(d(this,ml)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),C(this,ml,e.getBoundingClientRect().height),e.remove()},w5=function(e,n,r){const i=d(this,Jd).get(e);if(i)return i;const o=k(this,mi,Jb).call(this,r);o.canvas.width=o.canvas.height=NR,k(this,mi,FC).call(this,o,NR,e);const a=o.measureText(""),s=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let c=.8;return s?c=s/(s+l):(Nn.platform.isFirefox&&Me("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),d(this,Jd).set(e,c),c},T(Yt,mi),T(Yt,Jd,new Map),T(Yt,mu,new Map),T(Yt,Dy,new WeakMap),T(Yt,ml,null),T(Yt,Zd,new Set),Yt);const I0e=100;function _T(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new BC,{docId:n}=e,r=t.url?Hxe(t.url):null,i=t.data?Vxe(t.data):null,o=t.httpHeaders||null,a=t.withCredentials===!0,s=t.password??null,l=t.range instanceof PT?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let u=t.worker instanceof mp?t.worker:null;const h=t.verbosity,f=typeof t.docBaseUrl=="string"&&!Hv(t.docBaseUrl)?t.docBaseUrl:null,p=Ab(t.cMapUrl),m=t.cMapPacked!==!1,g=t.CMapReaderFactory||(hr?Jxe:bR),y=Ab(t.iccUrl),b=Ab(t.standardFontDataUrl),w=t.StandardFontDataFactory||(hr?Zxe:xR),x=Ab(t.wasmUrl),E=t.WasmFactory||(hr?Qxe:wR),A=t.stopAtErrors!==!0,S=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,_=t.isEvalSupported!==!1,O=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!hr,M=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!hr&&(Nn.platform.isFirefox||!globalThis.chrome),j=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,N=typeof t.disableFontFace=="boolean"?t.disableFontFace:hr,R=t.fontExtraProperties===!0,F=t.enableXfa===!0,$=t.ownerDocument||globalThis.document,z=t.disableRange===!0,L=t.disableStream===!0,U=t.disableAutoFetch===!0,H=t.pdfBug===!0,V=t.CanvasFactory||(hr?Yxe:qxe),I=t.FilterFactory||(hr?Xxe:Kxe),Y=t.enableHWA===!0,q=t.useWasm!==!1,D=l?l.length:t.length??NaN,oe=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!hr&&!N,ve=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(g===bR&&w===xR&&E===wR&&p&&b&&x&&fm(p,document.baseURI)&&fm(b,document.baseURI)&&fm(x,document.baseURI)),be=null;Exe(h);const Z={canvasFactory:new V({ownerDocument:$,enableHWA:Y}),filterFactory:new I({docId:n,ownerDocument:$}),cMapReaderFactory:ve?null:new g({baseUrl:p,isCompressed:m}),standardFontDataFactory:ve?null:new w({baseUrl:b}),wasmFactory:ve?null:new E({baseUrl:x})};u||(u=mp.create({verbosity:h,port:Bi.workerPort}),e._worker=u);const ae={docId:n,apiVersion:"5.4.296",data:i,password:s,disableAutoFetch:U,rangeChunkSize:c,length:D,docBaseUrl:f,enableXfa:F,evaluatorOptions:{maxImageSize:S,disableFontFace:N,ignoreErrors:A,isEvalSupported:_,isOffscreenCanvasSupported:O,isImageDecoderSupported:M,canvasMaxAreaInBytes:j,fontExtraProperties:R,useSystemFonts:oe,useWasm:q,useWorkerFetch:ve,cMapUrl:p,iccUrl:y,standardFontDataUrl:b,wasmUrl:x}},J={ownerDocument:$,pdfBug:H,styleElement:be,loadingParams:{disableAutoFetch:U,enableXfa:F}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Q=u.messageHandler.sendWithPromise("GetDocRequest",ae,i?[i.buffer]:null);let ie;if(l)ie=new y0e(l,{disableRange:z,disableStream:L});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const G=fm(r)?w0e:hr?j0e:_0e;ie=new G({url:r,length:D,httpHeaders:o,withCredentials:a,rangeChunkSize:c,disableRange:z,disableStream:L})}return Q.then(G=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ue=new bm(n,G,u.port),ce=new $0e(ue,e,ie,J,Z,Y);e._transport=ce,ue.send("Ready",null)})}).catch(e._capability.reject),e}var ow;const aw=class aw{constructor(){ee(this,"_capability",Promise.withResolvers());ee(this,"_transport",null);ee(this,"_worker",null);ee(this,"docId",`d${fn(aw,ow)._++}`);ee(this,"destroyed",!1);ee(this,"onPassword",null);ee(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(o){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,o}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};ow=new WeakMap,T(aw,ow,0);let BC=aw;var gu,Ly,$y,Fy,By,U2;let PT=(U2=class{constructor(e,n,r=!1,i=null){T(this,gu,Promise.withResolvers());T(this,Ly,[]);T(this,$y,[]);T(this,Fy,[]);T(this,By,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){d(this,By).push(e)}addProgressListener(e){d(this,Fy).push(e)}addProgressiveReadListener(e){d(this,$y).push(e)}addProgressiveDoneListener(e){d(this,Ly).push(e)}onDataRange(e,n){for(const r of d(this,By))r(e,n)}onDataProgress(e,n){d(this,gu).promise.then(()=>{for(const r of d(this,Fy))r(e,n)})}onDataProgressiveRead(e){d(this,gu).promise.then(()=>{for(const n of d(this,$y))n(e)})}onDataProgressiveDone(){d(this,gu).promise.then(()=>{for(const e of d(this,Ly))e()})}transportReady(){d(this,gu).resolve()}requestDataRange(e,n){St("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},gu=new WeakMap,Ly=new WeakMap,$y=new WeakMap,Fy=new WeakMap,By=new WeakMap,U2);class D0e{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Be(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var qa,yu,_m;class L0e{constructor(e,n,r,i=!1){T(this,yu);T(this,qa,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new dR:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new y5,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}={}){return new Uv({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Be(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:o=ia.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:m=null}){var M,j,N;(M=this._stats)==null||M.time("Overall");const g=this._transport.getRenderingIntent(i,o,h,f),{renderingIntent:y,cacheKey:b}=g;C(this,qa,!1),l||(l=this._transport.getOptionalContentConfig(y));let w=this._intentStates.get(b);w||(w=Object.create(null),this._intentStates.set(b,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const x=!!(y&ai.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(g));const E=!!(this._pdfBug&&((N=globalThis.StepperManager)!=null&&N.enabled)),A=!this.recordedBBoxes&&(p||E),S=R=>{var F,$;if(w.renderTasks.delete(_),A){const z=(F=_.gfx)==null?void 0:F.dependencyTracker.take();z&&(_.stepper&&_.stepper.setOperatorBBoxes(z,_.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=z))}x&&C(this,qa,!0),k(this,yu,_m).call(this),R?(_.capability.reject(R),this._abortOperatorList({intentState:w,reason:R instanceof Error?R:new Error(R)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),($=globalThis.Stats)!=null&&$.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new zC({callback:S,params:{canvas:n,canvasContext:e,dependencyTracker:A?new t0e(n,w.operatorList.length,E):null,viewport:r,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:m});(w.renderTasks||(w.renderTasks=new Set)).add(_);const O=_.task;return Promise.all([w.displayReadyCapability.promise,l]).then(([R,F])=>{var $;if(this.destroyed){S();return}if(($=this._stats)==null||$.time("Rendering"),!(F.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:R,optionalContentConfig:F}),_.operatorListChanged()}).catch(S),O}getOperatorList({intent:e="display",annotationMode:n=ia.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function o(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let s=this._intentStates.get(a.cacheKey);s||(s=Object.create(null),this._intentStates.set(a.cacheKey,s));let l;return s.opListReadCapability||(l=Object.create(null),l.operatorListChanged=o,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||(s.renderTasks=new Set)).add(l),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Rg.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function o(){a.read().then(function({value:l,done:c}){if(c){r(s);return}s.lang??(s.lang=l.lang),Object.assign(s.styles,l.styles),s.items.push(...l.items),o()},i)}const a=n.getReader(),s={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),C(this,qa,!1),Promise.all(e)}cleanup(e=!1){C(this,qa,!0);const n=k(this,yu,_m).call(this);return e&&n&&this._stats&&(this._stats=new dR),n}_startRenderPage(e,n){var i,o;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(o=r.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&k(this,yu,_m).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:o,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:o,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const u=()=>{l.read().then(({value:h,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),u())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();k(this,yu,_m).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof O1){let i=I0e;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Ps(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,o]of this._intentStates)if(o===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}qa=new WeakMap,yu=new WeakSet,_m=function(){if(!d(this,qa)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,qa,!1),!0};var gl,ao,Ka,vu,sw,bu,xu,gr,Zb,A5,S5,Pm,Qd,Qb;const Lt=class Lt{constructor({name:e=null,port:n=null,verbosity:r=Cxe()}={}){T(this,gr);T(this,gl,Promise.withResolvers());T(this,ao,null);T(this,Ka,null);T(this,vu,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(d(Lt,xu).has(n))throw new Error("Cannot use more than one PDFWorker per port.");d(Lt,xu).set(n,this),k(this,gr,A5).call(this,n)}else k(this,gr,S5).call(this)}get promise(){return d(this,gl).promise}get port(){return d(this,Ka)}get messageHandler(){return d(this,ao)}destroy(){var e,n;this.destroyed=!0,(e=d(this,vu))==null||e.terminate(),C(this,vu,null),d(Lt,xu).delete(d(this,Ka)),C(this,Ka,null),(n=d(this,ao))==null||n.destroy(),C(this,ao,null)}static create(e){const n=d(this,xu).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Lt(e)}static get workerSrc(){if(Bi.workerSrc)return Bi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Be(this,"_setupFakeWorkerGlobal",(async()=>d(this,Qd,Qb)?d(this,Qd,Qb):(await import(this.workerSrc)).WorkerMessageHandler)())}};gl=new WeakMap,ao=new WeakMap,Ka=new WeakMap,vu=new WeakMap,sw=new WeakMap,bu=new WeakMap,xu=new WeakMap,gr=new WeakSet,Zb=function(){d(this,gl).resolve(),d(this,ao).send("configure",{verbosity:this.verbosity})},A5=function(e){C(this,Ka,e),C(this,ao,new bm("main","worker",e)),d(this,ao).on("ready",()=>{}),k(this,gr,Zb).call(this)},S5=function(){if(d(Lt,bu)||d(Lt,Qd,Qb)){k(this,gr,Pm).call(this);return}let{workerSrc:e}=Lt;try{Lt._isSameOrigin(window.location,e)||(e=Lt._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new bm("main","worker",n),i=()=>{o.abort(),r.destroy(),n.terminate(),this.destroyed?d(this,gl).reject(new Error("Worker was destroyed")):k(this,gr,Pm).call(this)},o=new AbortController;n.addEventListener("error",()=>{d(this,vu)||i()},{signal:o.signal}),r.on("test",s=>{if(o.abort(),this.destroyed||!s){i();return}C(this,ao,r),C(this,Ka,n),C(this,vu,n),k(this,gr,Zb).call(this)}),r.on("ready",s=>{if(o.abort(),this.destroyed){i();return}try{a()}catch{k(this,gr,Pm).call(this)}});const a=()=>{const s=new Uint8Array;r.send("test",s,[s.buffer])};a();return}catch{k1("The worker has been disabled.")}k(this,gr,Pm).call(this)},Pm=function(){d(Lt,bu)||(Me("Setting up fake worker."),C(Lt,bu,!0)),Lt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){d(this,gl).reject(new Error("Worker was destroyed"));return}const n=new Gxe;C(this,Ka,n);const r=`fake${fn(Lt,sw)._++}`,i=new bm(r+"_worker",r,n);e.setup(i,n),C(this,ao,new bm(r,r+"_worker",n)),k(this,gr,Zb).call(this)}).catch(e=>{d(this,gl).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Qd=new WeakSet,Qb=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},T(Lt,Qd),T(Lt,sw,0),T(Lt,bu,!1),T(Lt,xu,new WeakMap),hr&&(C(Lt,bu,!0),Bi.workerSrc||(Bi.workerSrc="./pdf.worker.mjs")),Lt._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},Lt._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Lt.fromPort=e=>{if(Rxe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Lt.create(e)};let mp=Lt;var Xa,qo,ef,tf,Ya,wu,Tm;class $0e{constructor(e,n,r,i,o,a){T(this,wu);T(this,Xa,new Map);T(this,qo,new Map);T(this,ef,new Map);T(this,tf,new Map);T(this,Ya,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new y5,this.fontLoader=new zxe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Be(this,"annotationStorage",new ST)}getRenderingIntent(e,n=ia.ENABLE,r=null,i=!1,o=!1){let a=ai.DISPLAY,s=EC;switch(e){case"any":a=ai.ANY;break;case"display":break;case"print":a=ai.PRINT;break;default:Me(`getRenderingIntent - invalid intent: ${e}`)}const l=a&ai.PRINT&&r instanceof e5?r:this.annotationStorage;switch(n){case ia.DISABLE:a+=ai.ANNOTATIONS_DISABLE;break;case ia.ENABLE:break;case ia.ENABLE_FORMS:a+=ai.ANNOTATIONS_FORMS;break;case ia.ENABLE_STORAGE:a+=ai.ANNOTATIONS_STORAGE,s=l.serializable;break;default:Me(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=ai.IS_EDITING),o&&(a+=ai.OPLIST);const{ids:c,hash:u}=l.modifiedIds,h=[a,s.hash,u];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:s,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=d(this,Ya))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of d(this,qo).values())e.push(i._destroy());d(this,qo).clear(),d(this,ef).clear(),d(this,tf).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,o;this.commonObjs.clear(),this.fontLoader.clear(),d(this,Xa).clear(),this.filterFactory.destroy(),Lg.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ps("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{Xe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:a}){if(a){i.close();return}Xe(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var s;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:o,contentLength:a}=this._fullReader;return(!i||!o)&&(this._lastProgress&&((s=n.onProgress)==null||s.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:o,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Xe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(r.begin,r.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:a,done:s}){if(s){i.close();return}Xe(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{o.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new D0e(r,this))}),e.on("DocException",r=>{n._capability.reject(wr(r))}),e.on("PasswordRequest",r=>{C(this,Ya,Promise.withResolvers());try{if(!n.onPassword)throw wr(r);const i=o=>{o instanceof Error?d(this,Ya).reject(o):d(this,Ya).resolve({password:o})};n.onPassword(i,r.code)}catch(i){d(this,Ya).reject(i)}return d(this,Ya).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;d(this,qo).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,o])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in o){const h=o.error;Me(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const s=new IC(o),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,c=new Uxe(s,l,o.extra,o.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:u}=o;Xe(u,"The imageRef must be defined.");for(const h of d(this,qo).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===u)return f.dataLen?(this.commonObjs.resolve(r,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,o,a])=>{var l;if(this.destroyed)return;const s=d(this,qo).get(i);if(!s.objs.has(r)){if(s._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(o){case"Image":case"Pattern":s.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Me("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=d(this,ef).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&d(this,tf).set(o.refStr,e);const a=new L0e(n,o,this,this._params.pdfBug);return d(this,qo).set(n,a),a});return d(this,ef).set(n,i),i}getPageIndex(e){return CC(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return k(this,wu,Tm).call(this,"GetFieldObjects")}hasJSActions(){return k(this,wu,Tm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return k(this,wu,Tm).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,wu,Tm).call(this,"GetOptionalContentConfig").then(n=>new g0e(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=d(this,Xa).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var o,a;return{info:i[0],metadata:i[1]?new p0e(i[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return d(this,Xa).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of d(this,qo).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),d(this,Xa).clear(),this.filterFactory.destroy(!0),Lg.cleanup()}}cachedPageNumber(e){if(!CC(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return d(this,tf).get(n)??null}}Xa=new WeakMap,qo=new WeakMap,ef=new WeakMap,tf=new WeakMap,Ya=new WeakMap,wu=new WeakSet,Tm=function(e,n=null){const r=d(this,Xa).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return d(this,Xa).set(e,i),i};var yl;class F0e{constructor(e){T(this,yl,null);ee(this,"onContinue",null);ee(this,"onError",null);C(this,yl,e)}get promise(){return d(this,yl).capability.promise}cancel(e=0){d(this,yl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=d(this,yl).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=d(this,yl);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}yl=new WeakMap;var vl,Au;const Oc=class Oc{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:a,pageIndex:s,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:m=null}){T(this,vl,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=s,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new F0e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=m}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var l,c;if(this.cancelled)return;if(this._canvas){if(d(Oc,Au).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(Oc,Au).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:o,dependencyTracker:a}=this.params,s=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new od(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,i,o;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),d(this,vl)&&(window.cancelAnimationFrame(d(this,vl)),C(this,vl,null)),d(Oc,Au).delete(this._canvas),e||(e=new O1(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(o=(i=this.task).onError)==null||o.call(i,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,vl,window.requestAnimationFrame(()=>{C(this,vl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(Oc,Au).delete(this._canvas),this.callback())))}};vl=new WeakMap,Au=new WeakMap,T(Oc,Au,new WeakSet);let zC=Oc;const E5="5.4.296",C5="f56dc8601";var Kr,Su,nf,vn,zy,rf,Ja,Uy,bl,so,Hy,yt,UC,HC,VC,Ec,_5,Hs;const Ar=class Ar{constructor({editor:e=null,uiManager:n=null}){T(this,yt);T(this,Kr,null);T(this,Su,null);T(this,nf);T(this,vn,null);T(this,zy,!1);T(this,rf,!1);T(this,Ja,null);T(this,Uy);T(this,bl,null);T(this,so,null);var r,i;e?(C(this,rf,!1),C(this,Ja,e)):C(this,rf,!0),C(this,so,(e==null?void 0:e._uiManager)||n),C(this,Uy,d(this,so)._eventBus),C(this,nf,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=d(this,so))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),d(Ar,Hy)||C(Ar,Hy,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Be(this,"_keyboardManager",new Vv([[["Escape","mac+Escape"],Ar.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ar.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ar.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ar.prototype._moveToPrevious],[["Home","mac+Home"],Ar.prototype._moveToBeginning],[["End","mac+End"],Ar.prototype._moveToEnd]]))}renderButton(){const e=C(this,Kr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",d(this,Ja)&&(e.ariaControls=`${d(this,Ja).id}_colorpicker_dropdown`);const n=d(this,so)._signal;e.addEventListener("click",k(this,yt,Ec).bind(this),{signal:n}),e.addEventListener("keydown",k(this,yt,VC).bind(this),{signal:n});const r=C(this,Su,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=d(this,nf),e.append(r),e}renderMainDropdown(){const e=C(this,vn,k(this,yt,UC).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===d(this,Kr)){k(this,yt,Ec).call(this,e);return}const n=e.target.getAttribute("data-color");n&&k(this,yt,HC).call(this,n,e)}_moveToNext(e){var n,r;if(!d(this,yt,Hs)){k(this,yt,Ec).call(this,e);return}if(e.target===d(this,Kr)){(n=d(this,vn).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=d(this,vn))==null?void 0:n.firstChild)||e.target===d(this,Kr)){d(this,yt,Hs)&&this._hideDropdownFromKeyboard();return}d(this,yt,Hs)||k(this,yt,Ec).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!d(this,yt,Hs)){k(this,yt,Ec).call(this,e);return}(n=d(this,vn).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!d(this,yt,Hs)){k(this,yt,Ec).call(this,e);return}(n=d(this,vn).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=d(this,vn))==null||e.classList.add("hidden"),d(this,Kr).ariaExpanded="false",(n=d(this,bl))==null||n.abort(),C(this,bl,null)}_hideDropdownFromKeyboard(){var e;if(!d(this,rf)){if(!d(this,yt,Hs)){(e=d(this,Ja))==null||e.unselect();return}this.hideDropdown(),d(this,Kr).focus({preventScroll:!0,focusVisible:d(this,zy)})}}updateColor(e){if(d(this,Su)&&(d(this,Su).style.backgroundColor=e),!d(this,vn))return;const n=d(this,so).highlightColors.values();for(const r of d(this,vn).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=d(this,Kr))==null||e.remove(),C(this,Kr,null),C(this,Su,null),(n=d(this,vn))==null||n.remove(),C(this,vn,null)}};Kr=new WeakMap,Su=new WeakMap,nf=new WeakMap,vn=new WeakMap,zy=new WeakMap,rf=new WeakMap,Ja=new WeakMap,Uy=new WeakMap,bl=new WeakMap,so=new WeakMap,Hy=new WeakMap,yt=new WeakSet,UC=function(){const e=document.createElement("div"),n=d(this,so)._signal;e.addEventListener("contextmenu",yi,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),d(this,Ja)&&(e.id=`${d(this,Ja).id}_colorpicker_dropdown`);for(const[r,i]of d(this,so).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=r,o.setAttribute("data-l10n-id",d(Ar,Hy)[r]);const a=document.createElement("span");o.append(a),a.className="swatch",a.style.backgroundColor=i,o.ariaSelected=i===d(this,nf),o.addEventListener("click",k(this,yt,HC).bind(this,i),{signal:n}),e.append(o)}return e.addEventListener("keydown",k(this,yt,VC).bind(this),{signal:n}),e},HC=function(e,n){n.stopPropagation(),d(this,Uy).dispatch("switchannotationeditorparams",{source:this,type:Ge.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},VC=function(e){Ar._keyboardManager.exec(this,e)},Ec=function(e){if(d(this,yt,Hs)){this.hideDropdown();return}if(C(this,zy,e.detail===0),d(this,bl)||(C(this,bl,new AbortController),window.addEventListener("pointerdown",k(this,yt,_5).bind(this),{signal:d(this,so).combinedSignal(d(this,bl))})),d(this,Kr).ariaExpanded="true",d(this,vn)){d(this,vn).classList.remove("hidden");return}const n=C(this,vn,k(this,yt,UC).call(this));d(this,Kr).append(n)},_5=function(e){var n;(n=d(this,vn))!=null&&n.contains(e.target)||this.hideDropdown()},Hs=function(){return d(this,vn)&&!d(this,vn).classList.contains("hidden")},T(Ar,Hy,null);let $g=Ar;var Ko,Vy,of,Wy;const jc=class jc{constructor(e){T(this,Ko,null);T(this,Vy,null);T(this,of,null);C(this,Vy,e),C(this,of,e._uiManager),d(jc,Wy)||C(jc,Wy,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(d(this,Ko))return d(this,Ko);const{editorType:e,colorType:n,colorValue:r}=d(this,Vy),i=C(this,Ko,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",d(jc,Wy)[e]),i.addEventListener("input",()=>{d(this,of).updateParams(n,i.value)},{signal:d(this,of)._signal}),i}update(e){d(this,Ko)&&(d(this,Ko).value=e)}destroy(){var e;(e=d(this,Ko))==null||e.remove(),C(this,Ko,null)}hideDropdown(){}};Ko=new WeakMap,Vy=new WeakMap,of=new WeakMap,Wy=new WeakMap,T(jc,Wy,null);let B0=jc;function RR(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function sm(t){return Math.max(0,Math.min(255,255*t))}class IR{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=sm(e),[e,e,e]}static G_HTML([e]){const n=RR(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(sm)}static RGB_HTML(e){return`#${e.map(RR).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[sm(1-Math.min(1,e+i)),sm(1-Math.min(1,r+i)),sm(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,o=1-n,a=1-r,s=Math.min(i,o,a);return["CMYK",i,o,a,s]}}class B0e{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){St("Abstract method `_createSVG` called.")}}class Fg extends B0e{_createSVG(e){return document.createElementNS(Sa,e)}}const z0e=9,ch=new WeakSet,U0e=new Date().getTimezoneOffset()*60*1e3;class DR{static create(e){switch(e.data.annotationType){case tn.LINK:return new TT(e);case tn.TEXT:return new V0e(e);case tn.WIDGET:switch(e.data.fieldType){case"Tx":return new W0e(e);case"Btn":return e.data.radioButton?new k5(e):e.data.checkBox?new q0e(e):new K0e(e);case"Ch":return new X0e(e);case"Sig":return new G0e(e)}return new yh(e);case tn.POPUP:return new GC(e);case tn.FREETEXT:return new R5(e);case tn.LINE:return new J0e(e);case tn.SQUARE:return new Z0e(e);case tn.CIRCLE:return new Q0e(e);case tn.POLYLINE:return new I5(e);case tn.CARET:return new twe(e);case tn.INK:return new kT(e);case tn.POLYGON:return new ewe(e);case tn.HIGHLIGHT:return new D5(e);case tn.UNDERLINE:return new nwe(e);case tn.SQUIGGLY:return new rwe(e);case tn.STRIKEOUT:return new iwe(e);case tn.STAMP:return new L5(e);case tn.FILEATTACHMENT:return new owe(e);default:return new Gt(e)}}}var Eu,af,Ii,Gy,WC;const nk=class nk{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){T(this,Gy);T(this,Eu,null);T(this,af,!1);T(this,Ii,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return nk._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,n=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var s;const e=(s=this.annotationStorage)==null?void 0:s.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let o=-1/0,a=-1/0;if((n==null?void 0:n.length)>=8){for(let l=0;l<n.length;l+=8)n[l+1]>a?(a=n[l+1],o=n[l+2]):n[l+1]===a&&(o=Math.max(o,n[l+2]));return[o,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>a?(a=l[c+1],o=l[c]):l[c+1]===a&&(o=Math.max(o,l[c]));if(o!==1/0)return[o,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-o)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var n,r,i;const{data:e}=this;return((r=(n=this.annotationStorage.getRawValue(`${Mg}${e.id}`))==null?void 0:n.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Mg}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=d(this,Ii))==null?void 0:e.popup)||this.popup)==null||n.remove(),C(this,Ii,this.popup=null)}updateEdited(e){var o;if(!this.container)return;e.rect&&(d(this,Eu)||C(this,Eu,{rect:this.data.rect.slice(0)}));const{rect:n,popup:r}=e;n&&k(this,Gy,WC).call(this,n);let i=((o=d(this,Ii))==null?void 0:o.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=d(this,Ii).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),C(this,Ii,null),this.popup=null))}resetEdited(){var e;d(this,Eu)&&(k(this,Gy,WC).call(this,d(this,Eu).rect),(e=d(this,Ii))==null||e.popup.resetEdited(),C(this,Eu,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",n.id),!(this instanceof yh)&&!(this instanceof TT)&&(o.tabIndex=0);const{style:a}=o;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(o.title=n.alternativeText),n.noRotate&&o.classList.add("norotate"),!n.rect||this instanceof GC){const{rotation:g}=n;return!n.hasOwnCanvas&&g!==0&&this.setRotation(g,o),o}const{width:s,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const g=n.borderStyle.horizontalCornerRadius,y=n.borderStyle.verticalCornerRadius;if(g>0||y>0){const w=`calc(${g}px * var(--total-scale-factor)) / calc(${y}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof k5){const w=`calc(${s}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=w}switch(n.borderStyle.style){case Rh.SOLID:a.borderStyle="solid";break;case Rh.DASHED:a.borderStyle="dashed";break;case Rh.BEVELED:Me("Unimplemented border style: beveled");break;case Rh.INSET:Me("Unimplemented border style: inset");break;case Rh.UNDERLINE:a.borderBottomStyle="solid";break}const b=n.borderColor||null;b?(C(this,af,!0),a.borderColor=fe.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):a.borderWidth=0}const c=fe.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:h,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(c[0]-f)/u}%`,a.top=`${100*(c[1]-p)/h}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(a.width=`${100*s/u}%`,a.height=`${100*l/h}%`):this.setRotation(m,o),o}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:o,height:a}=this;e%180!==0&&([o,a]=[a,o]),n.style.width=`${100*o/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const o=i.detail[n],a=o[0],s=o.slice(1);i.target.style[r]=IR[`${a}_HTML`](s),this.annotationStorage.setValue(this.data.id,{[r]:IR[`${a}_rgb`](s)})};return Be(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const o=e[i]||r[i];o==null||o(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,o]of Object.entries(n)){const a=r[i];if(a){const s={detail:{[i]:o},target:e};a(s),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,o]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,y,b,w]=e.subarray(2,6);if(i===g&&o===y&&n===b&&r===w)return}const{style:a}=this.container;let s;if(d(this,af)){const{borderColor:g,borderWidth:y}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const l=i-n,c=o-r,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=u.createElement("defs");h.append(f);const p=u.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,y=e.length;g<y;g+=8){const b=e[g],w=e[g+1],x=e[g+2],E=e[g+3],A=u.createElement("rect"),S=(x-n)/l,_=(o-w)/c,O=(b-x)/l,M=(w-E)/c;A.setAttribute("x",S),A.setAttribute("y",_),A.setAttribute("width",O),A.setAttribute("height",M),p.append(A),s==null||s.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${_}" width="${O}" height="${M}"/>`)}d(this,af)&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate);const o=C(this,Ii,new GC({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(d(this,Ii)||this.popup||this.data.popupRef)}get extraPopupElement(){return d(this,Ii)}render(){St("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:o,id:a,exportValues:s}of i){if(o===-1||a===n)continue;const l=typeof s=="string"?s:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!ch.has(c)){Me(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:o}=i,a=i.getAttribute("data-element-id");a!==n&&ch.has(i)&&r.push({id:a,exportValue:o,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Eu=new WeakMap,af=new WeakMap,Ii=new WeakMap,Gy=new WeakSet,WC=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:a,pageX:s,pageY:l}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-s)/o}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/o}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Gt=nk;class H0e extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var ui,Cc,P5,T5;class TT extends Gt{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});T(this,ui);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let o=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),o=!0):n.action?(this._bindNamedAction(i,n.action,n.overlaidText),o=!0):n.attachment?(k(this,ui,P5).call(this,i,n.attachment,n.overlaidText,n.attachmentDest),o=!0):n.setOCGState?(k(this,ui,T5).call(this,i,n.setOCGState,n.overlaidText),o=!0):n.dest?(this._bindLink(i,n.dest,n.overlaidText),o=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),o=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(i),this.container}_bindLink(n,r,i=""){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&k(this,ui,Cc).call(this),i&&(n.title=i)}_bindNamedAction(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(n.title=i),k(this,ui,Cc).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(r.actions)){const a=i.get(o);a&&(n[a]=()=>{var s;return(s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:o}}),!1})}r.overlaidText&&(n.title=r.overlaidText),n.onclick||(n.onclick=()=>!1),k(this,ui,Cc).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),k(this,ui,Cc).call(this),!this._fieldObjects){Me('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var h;i==null||i();const{fields:o,refs:a,include:s}=r,l=[];if(o.length!==0||a.length!==0){const f=new Set(a);for(const p of o){const m=this._fieldObjects[p]||[];for(const{id:g}of m)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===s&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,u=[];for(const f of l){const{id:p}=f;switch(u.push(p),f.type){case"text":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;c.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!ch.has(m)){Me(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}ui=new WeakSet,Cc=function(){this.container.setAttribute("data-internal-link","")},P5=function(n,r,i="",o=null){n.href=this.linkService.getAnchorUrl(""),r.description?n.title=r.description:i&&(n.title=i),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,o),!1},k(this,ui,Cc).call(this)},T5=function(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(n.title=i),k(this,ui,Cc).call(this)};class V0e extends Gt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class yh extends Gt{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Nn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,o){r.includes("mouse")?e.addEventListener(r,a=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var s;if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}o&&((s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(a)}}))})}_setEventListeners(e,n,r,i){var o,a,s;for(const[l,c]of r)(c==="Action"||(o=this.data.actions)!=null&&o[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((s=this.data.actions)!=null&&s.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":fe.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||z0e,o=e.style;let a;const s=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-s),u=Math.round(c/($A*i))||1,h=c/u;a=Math.min(i,l(h/$A))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-s);a=Math.min(i,l(c/$A))}o.fontSize=`calc(${a}px * var(--total-scale-factor))`,o.color=fe.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(o.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class W0e extends yh{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const o=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),o.setValue(a.id,{[i]:r})}render(){var i,o;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(n,{value:this.data.fieldValue});let s=a.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&s.length>l&&(s=s.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),ch.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,m=!!f&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",y=>{e.setValue(n,{value:y.target.value}),this.setPropertyOnSiblings(r,"value",y.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",y=>{const b=this.data.defaultFieldValue??"";r.value=u.userValue=b,u.formattedValue=null});let g=y=>{const{formattedValue:b}=u;b!=null&&(y.target.value=b),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",b=>{var x;if(u.focused)return;const{target:w}=b;if(m&&(w.type=f,p&&(w.step=p)),u.userValue){const E=u.userValue;if(m)if(f==="time"){const A=new Date(E),S=[A.getHours(),A.getMinutes(),A.getSeconds()];w.value=S.map(_=>_.toString().padStart(2,"0")).join(":")}else w.value=new Date(E-U0e).toISOString().split(f==="date"?"T":".",1)[0];else w.value=E}u.lastCommittedValue=w.value,u.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const w={value(x){u.userValue=x.detail.value??"",m||e.setValue(n,{value:u.userValue.toString()}),x.target.value=u.userValue},formattedValue(x){const{formattedValue:E}=x.detail;u.formattedValue=E,E!=null&&x.target!==document.activeElement&&(x.target.value=E);const A={formattedValue:E};m&&(A.value=E),e.setValue(n,A)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var _;const{charLimit:E}=x.detail,{target:A}=x;if(E===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",E);let S=u.userValue;!S||S.length<=E||(S=S.slice(0,E),A.value=u.userValue=S,e.setValue(n,{value:S}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(w,b)}),r.addEventListener("keydown",b=>{var E;u.commitKey=1;let w=-1;if(b.key==="Escape"?w=0:b.key==="Enter"&&!this.data.multiLine?w=2:b.key==="Tab"&&(u.commitKey=3),w===-1)return;const{value:x}=b.target;u.lastCommittedValue!==x&&(u.lastCommittedValue=x,u.userValue=x,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:w,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const y=g;g=null,r.addEventListener("blur",b=>{var E,A;if(!u.focused||!b.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(u.focused=!1);const{target:w}=b;let{value:x}=w;if(m){if(x&&f==="time"){const S=x.split(":").map(_=>parseInt(_,10));x=new Date(2e3,0,1,S[0],S[1],S[2]||0).valueOf(),w.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();w.type="text"}u.userValue=x,u.lastCommittedValue!==x&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:u.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}})),y(b)}),(o=this.data.actions)!=null&&o.Keystroke&&r.addEventListener("beforeinput",b=>{var M;u.lastCommittedValue=null;const{data:w,target:x}=b,{value:E,selectionStart:A,selectionEnd:S}=x;let _=A,O=S;switch(b.inputType){case"deleteWordBackward":{const j=E.substring(0,A).match(/\w*[^\w]*$/);j&&(_-=j[0].length);break}case"deleteWordForward":{const j=E.substring(A).match(/^[^\w]*\w*/);j&&(O+=j[0].length);break}case"deleteContentBackward":A===S&&(_-=1);break;case"deleteContentForward":A===S&&(O+=1);break}b.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,change:w||"",willCommit:!1,selStart:_,selEnd:O}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class G0e extends yh{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class q0e extends yh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ch.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",n.exportValue),o.tabIndex=0,o.addEventListener("change",a=>{const{name:s,checked:l}=a.target;for(const c of this._getElementsByName(s,r)){const u=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),o.addEventListener("resetform",a=>{const s=n.defaultFieldValue||"Off";a.target.checked=s===n.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",a=>{const s={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(s,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class k5 extends yh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const o=document.createElement("input");if(ch.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",a=>{const{name:s,checked:l}=a.target;for(const c of this._getElementsByName(s,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),o.addEventListener("resetform",a=>{const s=n.defaultFieldValue;a.target.checked=s!=null&&s===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;o.addEventListener("updatefromsandbox",s=>{const l={value:c=>{const u=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const f=u&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class K0e extends TT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class X0e extends yh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");ch.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,r.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),o=!1),i.append(h)}let a=null;if(o){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const s=u=>{const h=u?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=s(!1);const c=u=>{const h=u.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const h={value(f){a==null||a();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const g of i.options)g.selected=m.has(g.value);e.setValue(n,{value:s(!0)}),l=s(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,y=>y.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:s(!0),items:c(f)}),l=s(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=s(!1)},insert(f){const{index:p,displayValue:m,exportValue:g}=f.detail.insert,y=i.children[p],b=document.createElement("option");b.textContent=m,b.value=g,y?y.before(b):i.append(b),e.setValue(n,{value:s(!0),items:c(f)}),l=s(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:g,exportValue:y}=m,b=document.createElement("option");b.textContent=g,b.value=y,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:s(!0),items:c(f)}),l=s(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(n,{value:s(!0)}),l=s(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,u)}),i.addEventListener("input",u=>{var p;const h=s(!0),f=s(!1);e.setValue(n,{value:h}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(n,{value:s(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var qy,qC;class GC extends Gt{constructor(n){const{data:r,elements:i,parent:o}=n,a=!!o._commentManager;super(n,{isRenderable:!a&&Gt._hasPopupData(r)});T(this,qy);if(this.elements=i,a&&Gt._hasPopupData(r)){const s=this.popup=k(this,qy,qC).call(this);for(const l of i)l.popup=s}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const r=this.popup=k(this,qy,qC).call(this),i=[];for(const o of this.elements)o.popup=r,o.container.ariaHasPopup="dialog",i.push(o.data.id),o.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(o=>`${xT}${o}`).join(",")),this.container}}qy=new WeakSet,qC=function(){return new Y0e({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Xr,xl,lw,cw,sf,lf,Xt,Xo,wl,Cu,cf,uf,Yo,Yr,Za,Qa,En,es,Al,Ky,ts,hf,_u,Sl,Yn,El,Ue,ex,KC,XC,YC,tx,JC,O5,j5,M5,N5,nx,rx,ZC;class Y0e{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:o,contentsObj:a,richText:s,parent:l,rect:c,parentRect:u,open:h,commentManager:f=null}){T(this,Ue);T(this,Xr,null);T(this,xl,k(this,Ue,M5).bind(this));T(this,lw,k(this,Ue,ZC).bind(this));T(this,cw,k(this,Ue,rx).bind(this));T(this,sf,k(this,Ue,nx).bind(this));T(this,lf,null);T(this,Xt,null);T(this,Xo,null);T(this,wl,null);T(this,Cu,null);T(this,cf,null);T(this,uf,null);T(this,Yo,!1);T(this,Yr,null);T(this,Za,null);T(this,Qa,null);T(this,En,null);T(this,es,null);T(this,Al,null);T(this,Ky,null);T(this,ts,null);T(this,hf,null);T(this,_u,null);T(this,Sl,!1);T(this,Yn,null);T(this,El,null);C(this,Xt,e),C(this,hf,i),C(this,Xo,a),C(this,ts,s),C(this,cf,l),C(this,lf,n),C(this,Ky,c),C(this,uf,u),C(this,Cu,r),C(this,Xr,f),C(this,Yn,r[0]),C(this,wl,Ig.toDateObject(o)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),f?this.renderCommentButton():(k(this,Ue,ex).call(this),d(this,Xt).hidden=!0,h&&k(this,Ue,nx).call(this))}renderCommentButton(){if(d(this,En)||(d(this,es)||k(this,Ue,KC).call(this),!d(this,es)))return;const{signal:e}=C(this,Za,new AbortController),n=!!d(this,Yn).extraPopupElement,r=()=>{d(this,Xr).toggleCommentPopup(this,!0,void 0,!n)},i=()=>{d(this,Xr).toggleCommentPopup(this,!1,!0,!n)},o=()=>{d(this,Xr).toggleCommentPopup(this,!1,!1)};if(n){C(this,En,d(this,Yn).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",d(this,xl),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",o,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=C(this,En,document.createElement("button"));a.className="annotationCommentButton";const s=d(this,Yn).container;a.style.zIndex=s.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),k(this,Ue,YC).call(this),k(this,Ue,XC).call(this),a.addEventListener("keydown",d(this,xl),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",o,{signal:e}),s.after(a)}}get commentButtonColor(){const{color:e,opacity:n}=d(this,Yn).commentData;return e?d(this,cf)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=d(this,En))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:o}=d(this,Yn).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:o}}get elementBeforePopup(){return d(this,En)}get comment(){return d(this,El)||C(this,El,d(this,Yn).commentText),d(this,El)}set comment(e){e!==this.comment&&(d(this,Yn).commentText=C(this,El,e))}get parentBoundingClientRect(){return d(this,Yn).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){d(this,En)&&(d(this,En).classList.toggle("selected",e),d(this,En).ariaExpanded=n)}setSelectedCommentButton(e){d(this,En).classList.toggle("selected",e)}get commentPopupPosition(){if(d(this,Al))return d(this,Al);const{x:e,y:n,height:r}=d(this,En).getBoundingClientRect(),{x:i,y:o,width:a,height:s}=d(this,Yn).layer.getBoundingClientRect();return[(e-i)/a,(n+r-o)/s]}set commentPopupPosition(e){C(this,Al,e)}hasDefaultPopupPosition(){return d(this,Al)===null}get commentButtonPosition(){return d(this,es)}get commentButtonWidth(){return d(this,En).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=d(this,Al)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:o,y:a,width:s,height:l}=i;d(this,Xr).showDialog(null,this,o+n*s,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(d(this,Yr))return;const e=C(this,Yr,document.createElement("div"));if(e.className="popup",d(this,lf)){const o=e.style.outlineColor=fe.makeHexColor(...d(this,lf));e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const n=document.createElement("span");if(n.className="header",(r=d(this,hf))!=null&&r.str){const o=document.createElement("span");o.className="title",n.append(o),{dir:o.dir,str:o.textContent}=d(this,hf)}if(e.append(n),d(this,wl)){const o=document.createElement("time");o.className="popupDate",o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,wl).valueOf()})),o.dateTime=d(this,wl).toISOString(),n.append(o)}AT({html:d(this,Ue,tx)||d(this,Xo).str,dir:(i=d(this,Xo))==null?void 0:i.dir,className:"popupContent"},e),d(this,Xt).append(e)}updateEdited({rect:e,popup:n,deleted:r}){var i;if(d(this,Xr)){r?(this.remove(),C(this,El,null)):n&&(n.deleted?this.remove():(k(this,Ue,YC).call(this),C(this,El,n.text))),e&&(C(this,es,null),k(this,Ue,KC).call(this),k(this,Ue,XC).call(this));return}if(r||n!=null&&n.deleted){this.remove();return}k(this,Ue,ex).call(this),d(this,_u)||C(this,_u,{contentsObj:d(this,Xo),richText:d(this,ts)}),e&&C(this,Qa,null),n&&n.text&&(C(this,ts,k(this,Ue,j5).call(this,n.text)),C(this,wl,Ig.toDateObject(n.date)),C(this,Xo,null)),(i=d(this,Yr))==null||i.remove(),C(this,Yr,null)}resetEdited(){var e;d(this,_u)&&({contentsObj:fn(this,Xo)._,richText:fn(this,ts)._}=d(this,_u),C(this,_u,null),(e=d(this,Yr))==null||e.remove(),C(this,Yr,null),C(this,Qa,null))}remove(){var e,n,r;if((e=d(this,Za))==null||e.abort(),C(this,Za,null),(n=d(this,Yr))==null||n.remove(),C(this,Yr,null),C(this,Sl,!1),C(this,Yo,!1),(r=d(this,En))==null||r.remove(),C(this,En,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){C(this,Sl,this.isVisible),d(this,Sl)&&(d(this,Xt).hidden=!0)}maybeShow(){d(this,Xr)||(k(this,Ue,ex).call(this),d(this,Sl)&&(d(this,Yr)||k(this,Ue,rx).call(this),C(this,Sl,!1),d(this,Xt).hidden=!1))}get isVisible(){return d(this,Xr)?!1:d(this,Xt).hidden===!1}}Xr=new WeakMap,xl=new WeakMap,lw=new WeakMap,cw=new WeakMap,sf=new WeakMap,lf=new WeakMap,Xt=new WeakMap,Xo=new WeakMap,wl=new WeakMap,Cu=new WeakMap,cf=new WeakMap,uf=new WeakMap,Yo=new WeakMap,Yr=new WeakMap,Za=new WeakMap,Qa=new WeakMap,En=new WeakMap,es=new WeakMap,Al=new WeakMap,Ky=new WeakMap,ts=new WeakMap,hf=new WeakMap,_u=new WeakMap,Sl=new WeakMap,Yn=new WeakMap,El=new WeakMap,Ue=new WeakSet,ex=function(){var n;if(d(this,Za))return;C(this,Za,new AbortController);const{signal:e}=d(this,Za);for(const r of this.trigger)r.addEventListener("click",d(this,sf),{signal:e}),r.addEventListener("pointerenter",d(this,cw),{signal:e}),r.addEventListener("pointerleave",d(this,lw),{signal:e}),r.classList.add("popupTriggerArea");for(const r of d(this,Cu))(n=r.container)==null||n.addEventListener("keydown",d(this,xl),{signal:e})},KC=function(){const e=d(this,Cu).find(n=>n.hasCommentButton);e&&C(this,es,e._normalizePoint(e.commentButtonPosition))},XC=function(){if(d(this,Yn).extraPopupElement&&!d(this,Yn).editor)return;this.renderCommentButton();const[e,n]=d(this,es),{style:r}=d(this,En);r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`},YC=function(){d(this,Yn).extraPopupElement||(this.renderCommentButton(),d(this,En).style.backgroundColor=this.commentButtonColor||"")},tx=function(){const e=d(this,ts),n=d(this,Xo);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&d(this,ts).html||null},JC=function(){var e,n,r;return((r=(n=(e=d(this,Ue,tx))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},O5=function(){var e,n,r;return((r=(n=(e=d(this,Ue,tx))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},j5=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:d(this,Ue,O5),fontSize:d(this,Ue,JC)?`calc(${d(this,Ue,JC)}px * var(--total-scale-factor))`:""}};for(const o of e.split(`
`))n.push({name:"span",value:o,attributes:i});return r},M5=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&d(this,Yo))&&k(this,Ue,nx).call(this)},N5=function(){if(d(this,Qa)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:o}}}=d(this,cf);let a=!!d(this,uf),s=a?d(this,uf):d(this,Ky);for(const m of d(this,Cu))if(!s||fe.intersect(m.data.rect,s)!==null){s=m.data.rect,a=!0;break}const l=fe.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),u=a?s[2]-s[0]+5:0,h=l[0]+u,f=l[1];C(this,Qa,[100*(h-i)/n,100*(f-o)/r]);const{style:p}=d(this,Xt);p.left=`${d(this,Qa)[0]}%`,p.top=`${d(this,Qa)[1]}%`},nx=function(){if(d(this,Xr)){d(this,Xr).toggleCommentPopup(this,!1);return}C(this,Yo,!d(this,Yo)),d(this,Yo)?(k(this,Ue,rx).call(this),d(this,Xt).addEventListener("click",d(this,sf)),d(this,Xt).addEventListener("keydown",d(this,xl))):(k(this,Ue,ZC).call(this),d(this,Xt).removeEventListener("click",d(this,sf)),d(this,Xt).removeEventListener("keydown",d(this,xl)))},rx=function(){d(this,Yr)||this.render(),this.isVisible?d(this,Yo)&&d(this,Xt).classList.add("focused"):(k(this,Ue,N5).call(this),d(this,Xt).hidden=!1,d(this,Xt).style.zIndex=parseInt(d(this,Xt).style.zIndex)+1e3)},ZC=function(){d(this,Xt).classList.remove("focused"),!(d(this,Yo)||!this.isVisible)&&(d(this,Xt).hidden=!0,d(this,Xt).style.zIndex=parseInt(d(this,Xt).style.zIndex)-1e3)};class R5 extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=je.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Xy;class J0e extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,Xy,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,o=this.svgFactory.create(r,i,!0),a=C(this,Xy,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),a.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),a.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),a.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),a.setAttribute("stroke-width",n.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Xy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xy=new WeakMap;var Yy;class Z0e extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,Yy,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,o=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,s=C(this,Yy,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",a/2),s.setAttribute("y",a/2),s.setAttribute("width",r-a),s.setAttribute("height",i-a),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Yy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yy=new WeakMap;var Jy;class Q0e extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,Jy,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,o=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,s=C(this,Jy,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",r/2),s.setAttribute("cy",i/2),s.setAttribute("rx",r/2-a/2),s.setAttribute("ry",i/2-a/2),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Jy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jy=new WeakMap;var Zy;class I5 extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,Zy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:o},width:a,height:s}=this;if(!r)return this.container;const l=this.svgFactory.create(a,s,!0);let c=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-n[0],m=n[3]-r[h+1];c.push(`${p},${m}`)}c=c.join(" ");const u=C(this,Zy,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Zy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zy=new WeakMap;class ewe extends I5{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class twe extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Qy,Pu,ev,QC;class kT extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});T(this,ev);T(this,Qy,null);T(this,Pu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?je.HIGHLIGHT:je.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:o,popupRef:a}}=this,{transform:s,width:l,height:c}=k(this,ev,QC).call(this,r,n),u=this.svgFactory.create(l,c,!0),h=C(this,Qy,this.svgFactory.createElement("svg:g"));u.append(h),h.setAttribute("stroke-width",o.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",s);for(let f=0,p=i.length;f<p;f++){const m=this.svgFactory.createElement(this.svgElementName);d(this,Pu).push(m),m.setAttribute("points",i[f].join(",")),h.append(m)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:o}=n,a=d(this,Qy);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let s=0,l=d(this,Pu).length;s<l;s++)d(this,Pu)[s].setAttribute("points",i[s].join(","));if(o){const{transform:s,width:l,height:c}=k(this,ev,QC).call(this,this.data.rotation,o);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",s)}}getElementsToTriggerPopup(){return d(this,Pu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qy=new WeakMap,Pu=new WeakMap,ev=new WeakSet,QC=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class D5 extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=je.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class nwe extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class rwe extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class iwe extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class L5 extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=je.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var tv,nv,e_;class owe extends Gt{constructor(n){var i;super(n,{isRenderable:!0});T(this,nv);T(this,tv,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",k(this,nv,e_).bind(this)),C(this,tv,i);const{isMac:o}=Nn.platform;return n.addEventListener("keydown",a=>{a.key==="Enter"&&(o?a.metaKey:a.ctrlKey)&&k(this,nv,e_).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return d(this,tv)}addHighlightArea(){this.container.classList.add("highlightArea")}}tv=new WeakMap,nv=new WeakSet,e_=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var df,Tu,ff,Cl,rv,ku,tc,t_,n_,pf;let OT=(pf=class{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:o,viewport:a,structTreeLayer:s,commentManager:l,linkService:c,annotationStorage:u}){T(this,tc);T(this,df,null);T(this,Tu,null);T(this,ff,null);T(this,Cl,new Map);T(this,rv,null);T(this,ku,null);this.div=e,C(this,df,n),C(this,Tu,r),C(this,rv,s||null),C(this,ku,c||null),C(this,ff,u||new ST),this.page=o,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return d(this,Cl).size>0}async render(e){var a,s,l;const{annotations:n}=e,r=this.div;Zl(r,this.viewport);const i=new Map,o={data:null,layer:r,linkService:d(this,ku),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Fg,annotationStorage:d(this,ff),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of n){if(c.noHTML)continue;const u=c.annotationType===tn.POPUP;if(u){const p=i.get(c.id);if(!p)continue;o.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const h=DR.create(o);if(!h.isRenderable)continue;if(!u&&c.popupRef){const p=i.get(c.popupRef);p?p.push(h):i.set(c.popupRef,[h])}const f=h.render();c.hidden&&(f.style.visibility="hidden"),await k(this,tc,t_).call(this,f,c.id,o.elements),(s=(a=h.extraPopupElement)==null?void 0:a.popup)==null||s.renderCommentButton(),h._isEditable&&(d(this,Cl).set(h.data.id,h),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(h))}k(this,tc,n_).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:d(this,ku),svgFactory:new Fg,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=pf._defaultBorderStyle),n.data=r;const i=DR.create(n);if(!i.isRenderable)continue;const o=i.render();await k(this,tc,t_).call(this,o,r.id,null)}}update({viewport:e}){const n=this.div;this.viewport=e,Zl(n,{rotation:e.rotation}),k(this,tc,n_).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(d(this,Cl).values())}getEditableAnnotation(e){return d(this,Cl).get(e)}addFakeAnnotation(e){var s;const{div:n}=this,{id:r,rotation:i}=e,o=new H0e({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:d(this,ku),annotationStorage:d(this,ff)}),a=o.render();return n.append(a),(s=d(this,df))==null||s.moveElementInDOM(n,a,a,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Be(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Rh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},df=new WeakMap,Tu=new WeakMap,ff=new WeakMap,Cl=new WeakMap,rv=new WeakMap,ku=new WeakMap,tc=new WeakSet,t_=async function(e,n,r){var s,l;const i=e.firstChild||e,o=i.id=`${xT}${n}`,a=await((s=d(this,rv))==null?void 0:s.getAriaAttributes(o));if(a)for(const[c,u]of a)i.setAttribute(c,u);r?r.at(-1).container.after(e):(this.div.append(e),(l=d(this,df))==null||l.moveElementInDOM(this.div,e,i,!1))},n_=function(){var n;if(!d(this,Tu))return;const e=this.div;for(const[r,i]of d(this,Tu)){const o=e.querySelector(`[data-annotation-id="${r}"]`);if(!o)continue;i.className="annotationContent";const{firstChild:a}=o;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):o.append(i);const s=d(this,Cl).get(r);s&&(s._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,o.id,i),s._hasNoCanvas=!1):s.canvas=i)}d(this,Tu).clear()},pf);const Tb=/\r\n?|\n/g;var Jr,iv,Ou,Zr,hn,$5,F5,B5,ix,gs,ox,ax,z5,i_,U5;const Nt=class Nt extends kt{constructor(n){super({...n,name:"freeTextEditor"});T(this,hn);T(this,Jr,"");T(this,iv,`${this.id}-editor`);T(this,Ou,null);T(this,Zr);ee(this,"_colorPicker",null);this.color=n.color||Nt._defaultColor||kt._defaultLineColor,C(this,Zr,n.fontSize||Nt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const n=Nt.prototype,r=a=>a.isEmpty(),i=Ql.TRANSLATE_SMALL,o=Ql.TRANSLATE_BIG;return Be(this,"_keyboardManager",new Vv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[o,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,o],checker:r}]]))}static initialize(n,r){kt.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Ge.FREETEXT_SIZE:Nt._defaultFontSize=r;break;case Ge.FREETEXT_COLOR:Nt._defaultColor=r;break}}updateParams(n,r){switch(n){case Ge.FREETEXT_SIZE:k(this,hn,$5).call(this,r);break;case Ge.FREETEXT_COLOR:k(this,hn,F5).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ge.FREETEXT_SIZE,Nt._defaultFontSize],[Ge.FREETEXT_COLOR,Nt._defaultColor||kt._defaultLineColor]]}get propertiesToUpdate(){return[[Ge.FREETEXT_SIZE,d(this,Zr)],[Ge.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new B0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ge.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-Nt._internalPadding*n,-(Nt._internalPadding+d(this,Zr))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,Ou,new AbortController);const n=this._uiManager.combinedSignal(d(this,Ou));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,iv)),this._isDraggable=!0,(n=d(this,Ou))==null||n.abort(),C(this,Ou,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=d(this,Jr),r=C(this,Jr,k(this,hn,B5).call(this).trimEnd());if(n===r)return;const i=o=>{if(C(this,Jr,o),!o){this.remove();return}k(this,hn,ax).call(this),this._uiManager.rebuild(this),k(this,hn,ix).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),k(this,hn,ix).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Nt._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,iv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${d(this,Zr)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[o,a]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,h]=this.pageDimensions,[f,p]=this.pageTranslation;let m,g;switch(this.rotation){case 0:m=n+(s[0]-f)/u,g=r+this.height-(s[1]-p)/h;break;case 90:m=n+(s[0]-f)/u,g=r-(s[1]-p)/h,[l,c]=[c,-l];break;case 180:m=n-this.width+(s[0]-f)/u,g=r-(s[1]-p)/h,[l,c]=[-l,-c];break;case 270:m=n+(s[0]-f-this.height*h)/u,g=r+(s[1]-p-this.width*u)/h,[l,c]=[-c,l];break}this.setAt(m*o,g*a,l,c)}else this._moveAfterPaste(n,r);k(this,hn,ax).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,g,y;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const o=k(m=Nt,gs,i_).call(m,r.getData("text")||"").replaceAll(Tb,`
`);if(!o)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const s=a.getRangeAt(0);if(!o.includes(`
`)){s.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=s,u=[],h=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(Tb,"")),b!==this.editorDiv){let w=u;for(const x of this.editorDiv.childNodes){if(x===b){w=h;continue}w.push(k(g=Nt,gs,ox).call(g,x))}}u.push(l.nodeValue.slice(0,c).replaceAll(Tb,""))}else if(l===this.editorDiv){let b=u,w=0;for(const x of this.editorDiv.childNodes)w++===c&&(b=h),b.push(k(y=Nt,gs,ox).call(y,x))}C(this,Jr,`${u.join(`
`)}${o}${h.join(`
`)}`),k(this,hn,ax).call(this);const f=new Range;let p=Math.sumPrecise(u.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const w=b.nodeValue.length;if(p<=w){f.setStart(b,p),f.setEnd(b,p);break}p-=w}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=Nt._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,r,i){var s;let o=null;if(n instanceof R5){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:h,id:f,popupRef:p,richText:m,contentsObj:g,creationDate:y,modificationDate:b},textContent:w,textPosition:x,parent:{page:{pageNumber:E}}}=n;if(!w||w.length===0)return null;o=n={annotationType:je.FREETEXT,color:Array.from(c),fontSize:l,value:w.join(`
`),position:x,pageIndex:E-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(g==null?void 0:g.str)||null,richText:m,creationDate:y,modificationDate:b}}const a=await super.deserialize(n,r,i);return C(a,Zr,n.fontSize),a.color=fe.makeHexColor(...n.color),C(a,Jr,k(s=Nt,gs,i_).call(s,n.value)),a._initialData=o,n.comment&&a.setCommentData(n),a}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=kt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(n),{color:r,fontSize:d(this,Zr),value:k(this,hn,z5).call(this)});return this.addComment(i),n?(i.isCopy=!0,i):this.annotationElementId&&!k(this,hn,U5).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${d(this,Zr)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const o of d(this,Jr).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:d(this,Jr)}}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Jr=new WeakMap,iv=new WeakMap,Ou=new WeakMap,Zr=new WeakMap,hn=new WeakSet,$5=function(n){const r=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-d(this,Zr))*this.parentScale),C(this,Zr,o),k(this,hn,ix).call(this)},i=d(this,Zr);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},F5=function(n){const r=o=>{this.color=o,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},B5=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const o of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(n.push(k(i=Nt,gs,ox).call(i,o)),r=o);return n.join(`
`)},ix=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:o,div:a}=this,s=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",o.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=s,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},gs=new WeakSet,ox=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(Tb,"")},ax=function(){if(this.editorDiv.replaceChildren(),!!d(this,Jr))for(const n of d(this,Jr).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},z5=function(){return d(this,Jr).replaceAll("Â "," ")},i_=function(n){return n.replaceAll(" ","Â ")},U5=function(n){const{value:r,fontSize:i,color:o,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((s,l)=>s!==o[l])||n.pageIndex!==a},T(Nt,gs),ee(Nt,"_freeTextDefaultContent",""),ee(Nt,"_internalPadding",0),ee(Nt,"_defaultColor",null),ee(Nt,"_defaultFontSize",10),ee(Nt,"_type","freetext"),ee(Nt,"_editorType",je.FREETEXT);let r_=Nt;class de{toSVGPath(){St("Abstract method `toSVGPath` must be implemented.")}get box(){St("Abstract getter `box` must be implemented.")}serialize(e,n){St("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,o,a){a||(a=new Float32Array(e.length));for(let s=0,l=e.length;s<l;s+=2)a[s]=n+e[s]*i,a[s+1]=r+e[s+1]*o;return a}static _rescaleAndSwap(e,n,r,i,o,a){a||(a=new Float32Array(e.length));for(let s=0,l=e.length;s<l;s+=2)a[s]=n+e[s+1]*i,a[s+1]=r+e[s]*o;return a}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let o=0,a=e.length;o<a;o+=2)i[o]=n+e[o],i[o+1]=r+e[o+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,o){switch(o){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,o,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+o)/6,(5*i+a)/6,(r+o)/2,(i+a)/2]}}ee(de,"PRECISION",1e-4);var Qr,lo,mf,gf,Jo,He,ju,Mu,ov,av,yf,vf,_l,sv,uw,hw,xn,km,H5,V5,W5,G5,q5,K5;const Ta=class Ta{constructor({x:e,y:n},r,i,o,a,s=0){T(this,xn);T(this,Qr);T(this,lo,[]);T(this,mf);T(this,gf);T(this,Jo,[]);T(this,He,new Float32Array(18));T(this,ju);T(this,Mu);T(this,ov);T(this,av);T(this,yf);T(this,vf);T(this,_l,[]);C(this,Qr,r),C(this,vf,o*i),C(this,gf,a),d(this,He).set([NaN,NaN,NaN,NaN,e,n],6),C(this,mf,s),C(this,av,d(Ta,sv)*i),C(this,ov,d(Ta,hw)*i),C(this,yf,i),d(this,_l).push(e,n)}isEmpty(){return isNaN(d(this,He)[8])}add({x:e,y:n}){var M;C(this,ju,e),C(this,Mu,n);const[r,i,o,a]=d(this,Qr);let[s,l,c,u]=d(this,He).subarray(8,12);const h=e-c,f=n-u,p=Math.hypot(h,f);if(p<d(this,ov))return!1;const m=p-d(this,av),g=m/p,y=g*h,b=g*f;let w=s,x=l;s=c,l=u,c+=y,u+=b,(M=d(this,_l))==null||M.push(e,n);const E=-b/m,A=y/m,S=E*d(this,vf),_=A*d(this,vf);return d(this,He).set(d(this,He).subarray(2,8),0),d(this,He).set([c+S,u+_],4),d(this,He).set(d(this,He).subarray(14,18),12),d(this,He).set([c-S,u-_],16),isNaN(d(this,He)[6])?(d(this,Jo).length===0&&(d(this,He).set([s+S,l+_],2),d(this,Jo).push(NaN,NaN,NaN,NaN,(s+S-r)/o,(l+_-i)/a),d(this,He).set([s-S,l-_],14),d(this,lo).push(NaN,NaN,NaN,NaN,(s-S-r)/o,(l-_-i)/a)),d(this,He).set([w,x,s,l,c,u],6),!this.isEmpty()):(d(this,He).set([w,x,s,l,c,u],6),Math.abs(Math.atan2(x-l,w-s)-Math.atan2(b,y))<Math.PI/2?([s,l,c,u]=d(this,He).subarray(2,6),d(this,Jo).push(NaN,NaN,NaN,NaN,((s+c)/2-r)/o,((l+u)/2-i)/a),[s,l,w,x]=d(this,He).subarray(14,18),d(this,lo).push(NaN,NaN,NaN,NaN,((w+s)/2-r)/o,((x+l)/2-i)/a),!0):([w,x,s,l,c,u]=d(this,He).subarray(0,6),d(this,Jo).push(((w+5*s)/6-r)/o,((x+5*l)/6-i)/a,((5*s+c)/6-r)/o,((5*l+u)/6-i)/a,((s+c)/2-r)/o,((l+u)/2-i)/a),[c,u,s,l,w,x]=d(this,He).subarray(12,18),d(this,lo).push(((w+5*s)/6-r)/o,((x+5*l)/6-i)/a,((5*s+c)/6-r)/o,((5*l+u)/6-i)/a,((s+c)/2-r)/o,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=d(this,Jo),n=d(this,lo);if(isNaN(d(this,He)[6])&&!this.isEmpty())return k(this,xn,H5).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);k(this,xn,W5).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return k(this,xn,V5).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,o,a){return new X5(e,n,r,i,o,a)}getOutlines(){var h;const e=d(this,Jo),n=d(this,lo),r=d(this,He),[i,o,a,s]=d(this,Qr),l=new Float32Array((((h=d(this,_l))==null?void 0:h.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(d(this,_l)[f]-i)/a,l[f+1]=(d(this,_l)[f+1]-o)/s;if(l[l.length-2]=(d(this,ju)-i)/a,l[l.length-1]=(d(this,Mu)-o)/s,isNaN(r[6])&&!this.isEmpty())return k(this,xn,G5).call(this,l);const c=new Float32Array(d(this,Jo).length+24+d(this,lo).length);let u=e.length;for(let f=0;f<u;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}u=k(this,xn,K5).call(this,c,u);for(let f=n.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(n[f+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=n[f+p],c[u+1]=n[f+p+1],u+=2}return k(this,xn,q5).call(this,c,u),this.newFreeDrawOutline(c,l,d(this,Qr),d(this,yf),d(this,mf),d(this,gf))}};Qr=new WeakMap,lo=new WeakMap,mf=new WeakMap,gf=new WeakMap,Jo=new WeakMap,He=new WeakMap,ju=new WeakMap,Mu=new WeakMap,ov=new WeakMap,av=new WeakMap,yf=new WeakMap,vf=new WeakMap,_l=new WeakMap,sv=new WeakMap,uw=new WeakMap,hw=new WeakMap,xn=new WeakSet,km=function(){const e=d(this,He).subarray(4,6),n=d(this,He).subarray(16,18),[r,i,o,a]=d(this,Qr);return[(d(this,ju)+(e[0]-n[0])/2-r)/o,(d(this,Mu)+(e[1]-n[1])/2-i)/a,(d(this,ju)+(n[0]-e[0])/2-r)/o,(d(this,Mu)+(n[1]-e[1])/2-i)/a]},H5=function(){const[e,n,r,i]=d(this,Qr),[o,a,s,l]=k(this,xn,km).call(this);return`M${(d(this,He)[2]-e)/r} ${(d(this,He)[3]-n)/i} L${(d(this,He)[4]-e)/r} ${(d(this,He)[5]-n)/i} L${o} ${a} L${s} ${l} L${(d(this,He)[16]-e)/r} ${(d(this,He)[17]-n)/i} L${(d(this,He)[14]-e)/r} ${(d(this,He)[15]-n)/i} Z`},V5=function(e){const n=d(this,lo);e.push(`L${n[4]} ${n[5]} Z`)},W5=function(e){const[n,r,i,o]=d(this,Qr),a=d(this,He).subarray(4,6),s=d(this,He).subarray(16,18),[l,c,u,h]=k(this,xn,km).call(this);e.push(`L${(a[0]-n)/i} ${(a[1]-r)/o} L${l} ${c} L${u} ${h} L${(s[0]-n)/i} ${(s[1]-r)/o}`)},G5=function(e){const n=d(this,He),[r,i,o,a]=d(this,Qr),[s,l,c,u]=k(this,xn,km).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/o,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/o,(n[5]-i)/a,NaN,NaN,NaN,NaN,s,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(n[16]-r)/o,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/o,(n[15]-i)/a],0),this.newFreeDrawOutline(h,e,d(this,Qr),d(this,yf),d(this,mf),d(this,gf))},q5=function(e,n){const r=d(this,lo);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},K5=function(e,n){const r=d(this,He).subarray(4,6),i=d(this,He).subarray(16,18),[o,a,s,l]=d(this,Qr),[c,u,h,f]=k(this,xn,km).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-o)/s,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-o)/s,(i[1]-a)/l],n),n+=24},T(Ta,sv,8),T(Ta,uw,2),T(Ta,hw,d(Ta,sv)+d(Ta,uw));let z0=Ta;var bf,Nu,ns,lv,ei,cv,rn,dw,Y5;class X5 extends de{constructor(n,r,i,o,a,s){super();T(this,dw);T(this,bf);T(this,Nu,new Float32Array(4));T(this,ns);T(this,lv);T(this,ei);T(this,cv);T(this,rn);C(this,rn,n),C(this,ei,r),C(this,bf,i),C(this,cv,o),C(this,ns,a),C(this,lv,s),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],k(this,dw,Y5).call(this,s);const[l,c,u,h]=d(this,Nu);for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/u,n[f+1]=(n[f+1]-c)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/u,r[f+1]=(r[f+1]-c)/h}toSVGPath(){const n=[`M${d(this,rn)[4]} ${d(this,rn)[5]}`];for(let r=6,i=d(this,rn).length;r<i;r+=6){if(isNaN(d(this,rn)[r])){n.push(`L${d(this,rn)[r+4]} ${d(this,rn)[r+5]}`);continue}n.push(`C${d(this,rn)[r]} ${d(this,rn)[r+1]} ${d(this,rn)[r+2]} ${d(this,rn)[r+3]} ${d(this,rn)[r+4]} ${d(this,rn)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,o],a){const s=i-n,l=o-r;let c,u;switch(a){case 0:c=de._rescale(d(this,rn),n,o,s,-l),u=de._rescale(d(this,ei),n,o,s,-l);break;case 90:c=de._rescaleAndSwap(d(this,rn),n,r,s,l),u=de._rescaleAndSwap(d(this,ei),n,r,s,l);break;case 180:c=de._rescale(d(this,rn),i,r,-s,l),u=de._rescale(d(this,ei),i,r,-s,l);break;case 270:c=de._rescaleAndSwap(d(this,rn),i,o,-s,-l),u=de._rescaleAndSwap(d(this,ei),i,o,-s,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return d(this,Nu)}newOutliner(n,r,i,o,a,s=0){return new z0(n,r,i,o,a,s)}getNewOutline(n,r){const[i,o,a,s]=d(this,Nu),[l,c,u,h]=d(this,bf),f=a*u,p=s*h,m=i*u+l,g=o*h+c,y=this.newOutliner({x:d(this,ei)[0]*f+m,y:d(this,ei)[1]*p+g},d(this,bf),d(this,cv),n,d(this,lv),r??d(this,ns));for(let b=2;b<d(this,ei).length;b+=2)y.add({x:d(this,ei)[b]*f+m,y:d(this,ei)[b+1]*p+g});return y.getOutlines()}}bf=new WeakMap,Nu=new WeakMap,ns=new WeakMap,lv=new WeakMap,ei=new WeakMap,cv=new WeakMap,rn=new WeakMap,dw=new WeakSet,Y5=function(n){const r=d(this,rn);let i=r[4],o=r[5];const a=[i,o,i,o];let s=i,l=o,c=i,u=o;const h=n?Math.max:Math.min,f=new Float32Array(4);for(let m=6,g=r.length;m<g;m+=6){const y=r[m+4],b=r[m+5];isNaN(r[m])?(fe.pointBoundingBox(y,b,a),l>b?(s=y,l=b):l===b&&(s=h(s,y)),u<b?(c=y,u=b):u===b&&(c=h(c,y))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,fe.bezierBoundingBox(i,o,...r.slice(m,m+6),f),fe.rectBoundingBox(f[0],f[1],f[2],f[3],a),l>f[1]?(s=f[0],l=f[1]):l===f[1]&&(s=h(s,f[0])),u<f[3]?(c=f[2],u=f[3]):u===f[3]&&(c=h(c,f[2]))),i=y,o=b}const p=d(this,Nu);p[0]=a[0]-d(this,ns),p[1]=a[1]-d(this,ns),p[2]=a[2]-a[0]+2*d(this,ns),p[3]=a[3]-a[1]+2*d(this,ns),this.firstPoint=[s,l],this.lastPoint=[c,u]};var uv,hv,dv,Pl,co,br,J5,sx,Z5,Q5,a_;class o_{constructor(e,n=0,r=0,i=!0){T(this,br);T(this,uv);T(this,hv);T(this,dv);T(this,Pl,[]);T(this,co,[]);const o=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:g,y,width:b,height:w}of e){const x=Math.floor((g-n)/a)*a,E=Math.ceil((g+b+n)/a)*a,A=Math.floor((y-n)/a)*a,S=Math.ceil((y+w+n)/a)*a,_=[x,A,S,!0],O=[E,A,S,!1];d(this,Pl).push(_,O),fe.rectBoundingBox(x,A,E,S,o)}const s=o[2]-o[0]+2*r,l=o[3]-o[1]+2*r,c=o[0]-r,u=o[1]-r;let h=i?-1/0:1/0,f=1/0;const p=d(this,Pl).at(i?-1:-2),m=[p[0],p[2]];for(const g of d(this,Pl)){const[y,b,w,x]=g;!x&&i?b<f?(f=b,h=y):b===f&&(h=Math.max(h,y)):x&&!i&&(b<f?(f=b,h=y):b===f&&(h=Math.min(h,y))),g[0]=(y-c)/s,g[1]=(b-u)/l,g[2]=(w-u)/l}C(this,uv,new Float32Array([c,u,s,l])),C(this,hv,[h,f]),C(this,dv,m)}getOutlines(){d(this,Pl).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of d(this,Pl))n[3]?(e.push(...k(this,br,a_).call(this,n)),k(this,br,Z5).call(this,n)):(k(this,br,Q5).call(this,n),e.push(...k(this,br,a_).call(this,n)));return k(this,br,J5).call(this,e)}}uv=new WeakMap,hv=new WeakMap,dv=new WeakMap,Pl=new WeakMap,co=new WeakMap,br=new WeakSet,J5=function(e){const n=[],r=new Set;for(const a of e){const[s,l,c]=a;n.push([s,l,a],[s,c,a])}n.sort((a,s)=>a[1]-s[1]||a[0]-s[0]);for(let a=0,s=n.length;a<s;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let o;for(;r.size>0;){const a=r.values().next().value;let[s,l,c,u,h]=a;r.delete(a);let f=s,p=l;for(o=[s,c],i.push(o);;){let m;if(r.has(u))m=u;else if(r.has(h))m=h;else break;r.delete(m),[s,l,c,u,h]=m,f!==s&&(o.push(f,p,s,p===l?l:c),f=s),p=p===l?c:l}o.push(f,p)}return new awe(i,d(this,uv),d(this,hv),d(this,dv))},sx=function(e){const n=d(this,co);let r=0,i=n.length-1;for(;r<=i;){const o=r+i>>1,a=n[o][0];if(a===e)return o;a<e?r=o+1:i=o-1}return i+1},Z5=function([,e,n]){const r=k(this,br,sx).call(this,e);d(this,co).splice(r,0,[e,n])},Q5=function([,e,n]){const r=k(this,br,sx).call(this,e);for(let i=r;i<d(this,co).length;i++){const[o,a]=d(this,co)[i];if(o!==e)break;if(o===e&&a===n){d(this,co).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[o,a]=d(this,co)[i];if(o!==e)break;if(o===e&&a===n){d(this,co).splice(i,1);return}}},a_=function(e){const[n,r,i]=e,o=[[n,r,i]],a=k(this,br,sx).call(this,i);for(let s=0;s<a;s++){const[l,c]=d(this,co)[s];for(let u=0,h=o.length;u<h;u++){const[,f,p]=o[u];if(!(c<=f||p<=l)){if(f>=l){if(p>c)o[u][1]=c;else{if(h===1)return[];o.splice(u,1),u--,h--}continue}o[u][2]=l,p>c&&o.push([n,c,p])}}}return o};var fv,xf;class awe extends de{constructor(n,r,i,o){super();T(this,fv);T(this,xf);C(this,xf,n),C(this,fv,r),this.firstPoint=i,this.lastPoint=o}toSVGPath(){const n=[];for(const r of d(this,xf)){let[i,o]=r;n.push(`M${i} ${o}`);for(let a=2;a<r.length;a+=2){const s=r[a],l=r[a+1];s===i?(n.push(`V${l}`),o=l):l===o&&(n.push(`H${s}`),i=s)}n.push("Z")}return n.join(" ")}serialize([n,r,i,o],a){const s=[],l=i-n,c=o-r;for(const u of d(this,xf)){const h=new Array(u.length);for(let f=0;f<u.length;f+=2)h[f]=n+u[f]*l,h[f+1]=o-u[f+1]*c;s.push(h)}return s}get box(){return d(this,fv)}get classNamesForOutlining(){return["highlightOutline"]}}fv=new WeakMap,xf=new WeakMap;class s_ extends z0{newFreeDrawOutline(e,n,r,i,o,a){return new swe(e,n,r,i,o,a)}}class swe extends X5{newOutliner(e,n,r,i,o,a=0){return new s_(e,n,r,i,o,a)}}var wf,pv,rs,Ru,mv,Tr,gv,yv,Iu,ti,ni,Fn,Af,Sf,Jn,Ef,Di,vv,ze,l_,lx,e4,t4,n4,c_,_c,zi,Bh,r4,cx,ux,i4,o4,a4,s4,l4;const ot=class ot extends kt{constructor(n){super({...n,name:"highlightEditor"});T(this,ze);T(this,wf,null);T(this,pv,0);T(this,rs);T(this,Ru,null);T(this,mv,null);T(this,Tr,null);T(this,gv,null);T(this,yv,0);T(this,Iu,null);T(this,ti,null);T(this,ni,null);T(this,Fn,!1);T(this,Af,null);T(this,Sf,null);T(this,Jn,null);T(this,Ef,"");T(this,Di);T(this,vv,"");this.color=n.color||ot._defaultColor,C(this,Di,n.thickness||ot._defaultThickness),this.opacity=n.opacity||ot._defaultOpacity,C(this,rs,n.boxes||null),C(this,vv,n.methodOfCreation||""),C(this,Ef,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(C(this,Fn,!0),k(this,ze,lx).call(this,n),k(this,ze,_c).call(this)):d(this,rs)&&(C(this,wf,n.anchorNode),C(this,pv,n.anchorOffset),C(this,gv,n.focusNode),C(this,yv,n.focusOffset),k(this,ze,l_).call(this),k(this,ze,_c).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=ot.prototype;return Be(this,"_keyboardManager",new Vv([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,Fn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:d(this,Di),methodOfCreation:d(this,vv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;kt.initialize(n,r),ot._defaultColor||(ot._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Ge.HIGHLIGHT_COLOR:ot._defaultColor=r;break;case Ge.HIGHLIGHT_THICKNESS:ot._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return d(this,Sf)}get commentButtonPosition(){return d(this,Af)}updateParams(n,r){switch(n){case Ge.HIGHLIGHT_COLOR:k(this,ze,e4).call(this,r);break;case Ge.HIGHLIGHT_THICKNESS:k(this,ze,t4).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Ge.HIGHLIGHT_COLOR,ot._defaultColor],[Ge.HIGHLIGHT_THICKNESS,ot._defaultThickness]]}get propertiesToUpdate(){return[[Ge.HIGHLIGHT_COLOR,this.color||ot._defaultColor],[Ge.HIGHLIGHT_THICKNESS,d(this,Di)||ot._defaultThickness],[Ge.HIGHLIGHT_FREE,d(this,Fn)]]}onUpdatedColor(){var n,r;(n=this.parent)==null||n.drawLayer.updateProperties(d(this,ni),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=d(this,mv))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",C(this,mv,new $g({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,ze,ux).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,k(this,ze,ux).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){k(this,ze,c_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,ze,_c).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?k(this,ze,c_).call(this):n&&(k(this,ze,_c).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var o,a,s;const{drawLayer:r}=this.parent;let i;d(this,Fn)?(n=(n-this.rotation+360)%360,i=k(o=ot,zi,Bh).call(o,d(this,ti).box,n)):i=k(a=ot,zi,Bh).call(a,[this.x,this.y,this.width,this.height],n),r.updateProperties(d(this,ni),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(d(this,Jn),{bbox:k(s=ot,zi,Bh).call(s,d(this,Tr).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();d(this,Ef)&&(n.setAttribute("aria-label",d(this,Ef)),n.setAttribute("role","mark")),d(this,Fn)?n.classList.add("free"):this.div.addEventListener("keydown",k(this,ze,r4).bind(this),{signal:this._uiManager._signal});const r=C(this,Iu,document.createElement("div"));return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=d(this,Ru),this.setDims(this.width,this.height),T3(this,d(this,Iu),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(d(this,Jn),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(d(this,Jn),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:k(this,ze,cx).call(this,!0);break;case 1:case 3:k(this,ze,cx).call(this,!1);break}}select(){var n;super.select(),d(this,Jn)&&((n=this.parent)==null||n.drawLayer.updateProperties(d(this,Jn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),d(this,Jn)&&((n=this.parent)==null||n.drawLayer.updateProperties(d(this,Jn),{rootClass:{selected:!1}}),d(this,Fn)||k(this,ze,cx).call(this,!1))}get _mustFixPosition(){return!d(this,Fn)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(d(this,ni),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(d(this,Jn),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:o,y:a}){const{x:s,y:l,width:c,height:u}=i.getBoundingClientRect(),h=new AbortController,f=n.combinedSignal(h),p=m=>{h.abort(),k(this,zi,s4).call(this,n,m)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",Ht,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",yi,{signal:f}),i.addEventListener("pointermove",k(this,zi,a4).bind(this,n),{signal:f}),this._freeHighlight=new s_({x:o,y:a},[s,l,c,u],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var g,y,b,w;let o=null;if(n instanceof D5){const{data:{quadPoints:x,rect:E,rotation:A,id:S,color:_,opacity:O,popupRef:M,richText:j,contentsObj:N,creationDate:R,modificationDate:F},parent:{page:{pageNumber:$}}}=n;o=n={annotationType:je.HIGHLIGHT,color:Array.from(_),opacity:O,quadPoints:x,boxes:null,pageIndex:$-1,rect:E.slice(0),rotation:A,annotationElementId:S,id:S,deleted:!1,popupRef:M,richText:j,comment:(N==null?void 0:N.str)||null,creationDate:R,modificationDate:F}}else if(n instanceof kT){const{data:{inkLists:x,rect:E,rotation:A,id:S,color:_,borderStyle:{rawWidth:O},popupRef:M,richText:j,contentsObj:N,creationDate:R,modificationDate:F},parent:{page:{pageNumber:$}}}=n;o=n={annotationType:je.HIGHLIGHT,color:Array.from(_),thickness:O,inkLists:x,boxes:null,pageIndex:$-1,rect:E.slice(0),rotation:A,annotationElementId:S,id:S,deleted:!1,popupRef:M,richText:j,comment:(N==null?void 0:N.str)||null,creationDate:R,modificationDate:F}}const{color:a,quadPoints:s,inkLists:l,opacity:c}=n,u=await super.deserialize(n,r,i);u.color=fe.makeHexColor(...a),u.opacity=c||1,l&&C(u,Di,n.thickness),u._initialData=o,n.comment&&u.setCommentData(n);const[h,f]=u.pageDimensions,[p,m]=u.pageTranslation;if(s){const x=C(u,rs,[]);for(let E=0;E<s.length;E+=8)x.push({x:(s[E]-p)/h,y:1-(s[E+1]-m)/f,width:(s[E+2]-s[E])/h,height:(s[E+1]-s[E+5])/f});k(g=u,ze,l_).call(g),k(y=u,ze,_c).call(y),u.rotate(u.rotation)}else if(l){C(u,Fn,!0);const x=l[0],E={x:x[0]-p,y:f-(x[1]-m)},A=new s_(E,[0,0,h,f],1,d(u,Di)/2,!0,.001);for(let O=0,M=x.length;O<M;O+=2)E.x=x[O]-p,E.y=f-(x[O+1]-m),A.add(E);const{id:S,clipPathId:_}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);k(b=u,ze,lx).call(b,{highlightOutlines:A.getOutlines(),highlightId:S,clipPathId:_}),k(w=u,ze,_c).call(w),u.rotate(u.parentRotation)}return u}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=kt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(n);return Object.assign(i,{color:r,opacity:this.opacity,thickness:d(this,Di),quadPoints:k(this,ze,i4).call(this),outlines:k(this,ze,o4).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!k(this,ze,l4).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};wf=new WeakMap,pv=new WeakMap,rs=new WeakMap,Ru=new WeakMap,mv=new WeakMap,Tr=new WeakMap,gv=new WeakMap,yv=new WeakMap,Iu=new WeakMap,ti=new WeakMap,ni=new WeakMap,Fn=new WeakMap,Af=new WeakMap,Sf=new WeakMap,Jn=new WeakMap,Ef=new WeakMap,Di=new WeakMap,vv=new WeakMap,ze=new WeakSet,l_=function(){const n=new o_(d(this,rs),.001);C(this,ti,n.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,ti).box;const r=new o_(d(this,rs),.0025,.001,this._uiManager.direction==="ltr");C(this,Tr,r.getOutlines());const{firstPoint:i}=d(this,ti);C(this,Af,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:o}=d(this,Tr);C(this,Sf,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},lx=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var f,p;if(C(this,ti,n),C(this,Tr,n.getNewOutline(d(this,Di)/2+1.5,.0025)),r>=0)C(this,ni,r),C(this,Ru,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),C(this,Jn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,Tr).box,path:{d:d(this,Tr).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,ni),{bbox:k(f=ot,zi,Bh).call(f,d(this,ti).box,(m-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,Jn),{bbox:k(p=ot,zi,Bh).call(p,d(this,Tr).box,m),path:{d:d(this,Tr).toSVGPath()}})}const[a,s,l,c]=n.box;switch(this.rotation){case 0:this.x=a,this.y=s,this.width=l,this.height=c;break;case 90:{const[m,g]=this.parentDimensions;this.x=s,this.y=1-a,this.width=l*g/m,this.height=c*m/g;break}case 180:this.x=1-a,this.y=1-s,this.width=l,this.height=c;break;case 270:{const[m,g]=this.parentDimensions;this.x=1-s,this.y=a,this.width=l*g/m,this.height=c*m/g;break}}const{firstPoint:u}=n;C(this,Af,[(u[0]-a)/l,(u[1]-s)/c]);const{lastPoint:h}=d(this,Tr);C(this,Sf,[(h[0]-a)/l,(h[1]-s)/c])},e4=function(n){const r=(a,s)=>{this.color=a,this.opacity=s,this.onUpdatedColor()},i=this.color,o=this.opacity;this.addCommands({cmd:r.bind(this,n,ot._defaultOpacity),undo:r.bind(this,i,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},t4=function(n){const r=d(this,Di),i=o=>{C(this,Di,o),k(this,ze,n4).call(this,o)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},n4=function(n){d(this,Fn)&&(k(this,ze,lx).call(this,{highlightOutlines:d(this,ti).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},c_=function(){d(this,ni)===null||!this.parent||(this.parent.drawLayer.remove(d(this,ni)),C(this,ni,null),this.parent.drawLayer.remove(d(this,Jn)),C(this,Jn,null))},_c=function(n=this.parent){d(this,ni)===null&&({id:fn(this,ni)._,clipPathId:fn(this,Ru)._}=n.drawLayer.draw({bbox:d(this,ti).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:d(this,Fn)},path:{d:d(this,ti).toSVGPath()}},!1,!0),C(this,Jn,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,Fn)},bbox:d(this,Tr).box,path:{d:d(this,Tr).toSVGPath()}},d(this,Fn))),d(this,Iu)&&(d(this,Iu).style.clipPath=d(this,Ru)))},zi=new WeakSet,Bh=function([n,r,i,o],a){switch(a){case 90:return[1-r-o,n,o,i];case 180:return[1-n-i,1-r-o,i,o];case 270:return[r,1-n-i,o,i]}return[n,r,i,o]},r4=function(n){ot._keyboardManager.exec(this,n)},cx=function(n){if(!d(this,wf))return;const r=window.getSelection();n?r.setPosition(d(this,wf),d(this,pv)):r.setPosition(d(this,gv),d(this,yv))},ux=function(){return d(this,Fn)?this.rotation:0},i4=function(){if(d(this,Fn))return null;const[n,r]=this.pageDimensions,[i,o]=this.pageTranslation,a=d(this,rs),s=new Float32Array(a.length*8);let l=0;for(const{x:c,y:u,width:h,height:f}of a){const p=c*n+i,m=(1-u)*r+o;s[l]=s[l+4]=p,s[l+1]=s[l+3]=m,s[l+2]=s[l+6]=p+h*n,s[l+5]=s[l+7]=m-f*r,l+=8}return s},o4=function(n){return d(this,ti).serialize(n,k(this,ze,ux).call(this))},a4=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},s4=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},l4=function(n){const{color:r}=this._initialData;return this.hasEditedComment||n.color.some((i,o)=>i!==r[o])},T(ot,zi),ee(ot,"_defaultColor",null),ee(ot,"_defaultOpacity",1),ee(ot,"_defaultThickness",12),ee(ot,"_type","highlight"),ee(ot,"_editorType",je.HIGHLIGHT),ee(ot,"_freeHighlightId",-1),ee(ot,"_freeHighlight",null),ee(ot,"_freeHighlightClipId","");let U0=ot;var Du;class c4{constructor(){T(this,Du,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){d(this,Du)[e]=n}toSVGProperties(){const e=d(this,Du);return C(this,Du,Object.create(null)),{root:e}}reset(){C(this,Du,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){St("Not implemented")}}Du=new WeakMap;var ri,Cf,Cn,Lu,$u,Tl,kl,Ol,Fu,nt,u_,h_,d_,Om,u4,hx,jm,zh;const me=class me extends kt{constructor(n){super(n);T(this,nt);T(this,ri,null);T(this,Cf);ee(this,"_colorPicker",null);ee(this,"_drawId",null);C(this,Cf,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(k(this,nt,u_).call(this,n),k(this,nt,Om).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[o,a]of Object.entries(r))i.has(o)?Object.assign(n[o],a):n[o]=a;return n}static getDefaultDrawingOptions(n){St("Not implemented")}static get typesMap(){St("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(d(me,Cn).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,o]of this.typesMap)n.push([i,r[o]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,o]of this.constructor.typesMap)n.push([i,r[o]]);return n}_updateProperty(n,r,i){const o=this._drawingOptions,a=o[r],s=l=>{var u;o.updateProperty(r,l);const c=d(this,ri).updateProperty(r,l);c&&k(this,nt,jm).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,o.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:s.bind(this,i),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,me._mergeSVGProperties(d(this,ri).getPathResizingSVGProperties(k(this,nt,hx).call(this)),{bbox:k(this,nt,zh).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,me._mergeSVGProperties(d(this,ri).getPathResizedSVGProperties(k(this,nt,hx).call(this)),{bbox:k(this,nt,zh).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:k(this,nt,zh).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,me._mergeSVGProperties(d(this,ri).getPathTranslatedSVGProperties(k(this,nt,hx).call(this),this.parentDimensions),{bbox:k(this,nt,zh).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,Cf)&&(C(this,Cf,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){k(this,nt,d_).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,nt,Om).call(this),k(this,nt,jm).call(this,d(this,ri).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),k(this,nt,d_).call(this)):n&&(this._uiManager.addShouldRescale(this),k(this,nt,Om).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,me._mergeSVGProperties({bbox:k(this,nt,zh).call(this)},d(this,ri).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&k(this,nt,jm).call(this,d(this,ri).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const o=document.createElement("div");return i.append(o),o.setAttribute("aria-hidden","true"),o.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,o,a){St("Not implemented")}static startDrawing(n,r,i,o){var y;const{target:a,offsetX:s,offsetY:l,pointerId:c,pointerType:u}=o;if(d(me,kl)&&d(me,kl)!==u)return;const{viewport:{rotation:h}}=n,{width:f,height:p}=a.getBoundingClientRect(),m=C(me,Lu,new AbortController),g=n.combinedSignal(m);if(d(me,Tl)||C(me,Tl,c),d(me,kl)??C(me,kl,u),window.addEventListener("pointerup",b=>{var w;d(me,Tl)===b.pointerId?this._endDraw(b):(w=d(me,Ol))==null||w.delete(b.pointerId)},{signal:g}),window.addEventListener("pointercancel",b=>{var w;d(me,Tl)===b.pointerId?this._currentParent.endDrawingSession():(w=d(me,Ol))==null||w.delete(b.pointerId)},{signal:g}),window.addEventListener("pointerdown",b=>{d(me,kl)===b.pointerType&&((d(me,Ol)||C(me,Ol,new Set)).add(b.pointerId),d(me,Cn).isCancellable()&&(d(me,Cn).removeLastElement(),d(me,Cn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",yi,{signal:g}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),a.addEventListener("touchmove",b=>{b.timeStamp===d(me,Fu)&&Ht(b)},{signal:g}),n.toggleDrawing(),(y=r._editorUndoBar)==null||y.hide(),d(me,Cn)){n.drawLayer.updateProperties(this._currentDrawId,d(me,Cn).startNew(s,l,f,p,h));return}r.updateUIForDefaultProperties(this),C(me,Cn,this.createDrawerInstance(s,l,f,p,h)),C(me,$u,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(d(me,$u).toSVGProperties(),d(me,Cn).defaultSVGProperties),!0,!1)}static _drawMove(n){var a;if(C(me,Fu,-1),!d(me,Cn))return;const{offsetX:r,offsetY:i,pointerId:o}=n;if(d(me,Tl)===o){if(((a=d(me,Ol))==null?void 0:a.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(me,Cn).add(r,i)),C(me,Fu,n.timeStamp),Ht(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,C(me,Cn,null),C(me,$u,null),C(me,kl,null),C(me,Fu,NaN)),d(me,Lu)&&(d(me,Lu).abort(),C(me,Lu,null),C(me,Tl,NaN),C(me,Ol,null))}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,d(me,Cn).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=d(me,Cn),o=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(o,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(o,i.removeLastElement())},mustExec:!1,type:Ge.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Ge.DRAW_STEP),!d(me,Cn).isEmpty()){const{pageDimensions:[i,o],scale:a}=r,s=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(me,Cn).getOutlines(i*a,o*a,a,this._INNER_MARGIN),drawingOptions:d(me,$u),mustBeCommitted:!n});return this._cleanup(!0),s}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,o,a,s){St("Not implemented")}static async deserialize(n,r,i){var h,f;const{rawDims:{pageWidth:o,pageHeight:a,pageX:s,pageY:l}}=r.viewport,c=this.deserializeDraw(s,l,o,a,this._INNER_MARGIN,n),u=await super.deserialize(n,r,i);return u.createDrawingOptions(n),k(h=u,nt,u_).call(h,{drawOutlines:c}),k(f=u,nt,Om).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(n){const[r,i]=this.pageTranslation,[o,a]=this.pageDimensions;return d(this,ri).serialize([r,i,o,a],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};ri=new WeakMap,Cf=new WeakMap,Cn=new WeakMap,Lu=new WeakMap,$u=new WeakMap,Tl=new WeakMap,kl=new WeakMap,Ol=new WeakMap,Fu=new WeakMap,nt=new WeakSet,u_=function({drawOutlines:n,drawId:r,drawingOptions:i}){C(this,ri,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=k(this,nt,h_).call(this,n,this.parent),k(this,nt,jm).call(this,n.box)},h_=function(n,r){const{id:i}=r.drawLayer.draw(me._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},d_=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Om=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=k(this,nt,h_).call(this,d(this,ri),n)}},u4=function([n,r,i,o]){const{parentDimensions:[a,s],rotation:l}=this;switch(l){case 90:return[r,1-n,i*(s/a),o*(a/s)];case 180:return[1-n,1-r,i,o];case 270:return[1-r,n,i*(s/a),o*(a/s)];default:return[n,r,i,o]}},hx=function(){const{x:n,y:r,width:i,height:o,parentDimensions:[a,s],rotation:l}=this;switch(l){case 90:return[1-r,n,i*(a/s),o*(s/a)];case 180:return[1-n,1-r,i,o];case 270:return[r,1-n,i*(a/s),o*(s/a)];default:return[n,r,i,o]}},jm=function(n){[this.x,this.y,this.width,this.height]=k(this,nt,u4).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},zh=function(){const{x:n,y:r,width:i,height:o,rotation:a,parentRotation:s,parentDimensions:[l,c]}=this;switch((a*4+s)/90){case 1:return[1-r-o,n,o,i];case 2:return[1-n-i,1-r-o,i,o];case 3:return[r,1-n-i,o,i];case 4:return[n,r-i*(l/c),o*(c/l),i*(l/c)];case 5:return[1-r,n,i*(l/c),o*(c/l)];case 6:return[1-n-o*(c/l),1-r,o*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-n-o*(c/l),i*(l/c),o*(c/l)];case 8:return[n-i,r-o,i,o];case 9:return[1-r,n-i,o,i];case 10:return[1-n,1-r,i,o];case 11:return[r-o,1-n,o,i];case 12:return[n-o*(c/l),r,o*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),n-o*(c/l),i*(l/c),o*(c/l)];case 14:return[1-n,1-r-i*(l/c),o*(c/l),i*(l/c)];case 15:return[r,1-n,i*(l/c),o*(c/l)];default:return[n,r,i,o]}},ee(me,"_currentDrawId",-1),ee(me,"_currentParent",null),T(me,Cn,null),T(me,Lu,null),T(me,$u,null),T(me,Tl,NaN),T(me,kl,null),T(me,Ol,null),T(me,Fu,NaN),ee(me,"_INNER_MARGIN",3);let H0=me;var Zo,_n,Pn,Bu,_f,lr,Bn,Li,zu,Uu,Hu,Pf,dx;class lwe{constructor(e,n,r,i,o,a){T(this,Pf);T(this,Zo,new Float64Array(6));T(this,_n);T(this,Pn);T(this,Bu);T(this,_f);T(this,lr);T(this,Bn,"");T(this,Li,0);T(this,zu,new Gv);T(this,Uu);T(this,Hu);C(this,Uu,r),C(this,Hu,i),C(this,Bu,o),C(this,_f,a),[e,n]=k(this,Pf,dx).call(this,e,n);const s=C(this,_n,[NaN,NaN,NaN,NaN,e,n]);C(this,lr,[e,n]),C(this,Pn,[{line:s,points:d(this,lr)}]),d(this,Zo).set(s,0)}updateProperty(e,n){e==="stroke-width"&&C(this,_f,n)}isEmpty(){return!d(this,Pn)||d(this,Pn).length===0}isCancellable(){return d(this,lr).length<=10}add(e,n){[e,n]=k(this,Pf,dx).call(this,e,n);const[r,i,o,a]=d(this,Zo).subarray(2,6),s=e-o,l=n-a;return Math.hypot(d(this,Uu)*s,d(this,Hu)*l)<=2?null:(d(this,lr).push(e,n),isNaN(r)?(d(this,Zo).set([o,a,e,n],2),d(this,_n).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(d(this,Zo)[0])&&d(this,_n).splice(6,6),d(this,Zo).set([r,i,o,a,e,n],0),d(this,_n).push(...de.createBezierPoints(r,i,o,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(d(this,lr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,o){C(this,Uu,r),C(this,Hu,i),C(this,Bu,o),[e,n]=k(this,Pf,dx).call(this,e,n);const a=C(this,_n,[NaN,NaN,NaN,NaN,e,n]);C(this,lr,[e,n]);const s=d(this,Pn).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),d(this,Pn).push({line:a,points:d(this,lr)}),d(this,Zo).set(a,0),C(this,Li,0),this.toSVGPath(),null}getLastElement(){return d(this,Pn).at(-1)}setLastElement(e){return d(this,Pn)?(d(this,Pn).push(e),C(this,_n,e.line),C(this,lr,e.points),C(this,Li,0),{path:{d:this.toSVGPath()}}):d(this,zu).setLastElement(e)}removeLastElement(){if(!d(this,Pn))return d(this,zu).removeLastElement();d(this,Pn).pop(),C(this,Bn,"");for(let e=0,n=d(this,Pn).length;e<n;e++){const{line:r,points:i}=d(this,Pn)[e];C(this,_n,r),C(this,lr,i),C(this,Li,0),this.toSVGPath()}return{path:{d:d(this,Bn)}}}toSVGPath(){const e=de.svgRound(d(this,_n)[4]),n=de.svgRound(d(this,_n)[5]);if(d(this,lr).length===2)return C(this,Bn,`${d(this,Bn)} M ${e} ${n} Z`),d(this,Bn);if(d(this,lr).length<=6){const i=d(this,Bn).lastIndexOf("M");C(this,Bn,`${d(this,Bn).slice(0,i)} M ${e} ${n}`),C(this,Li,6)}if(d(this,lr).length===4){const i=de.svgRound(d(this,_n)[10]),o=de.svgRound(d(this,_n)[11]);return C(this,Bn,`${d(this,Bn)} L ${i} ${o}`),C(this,Li,12),d(this,Bn)}const r=[];d(this,Li)===0&&(r.push(`M ${e} ${n}`),C(this,Li,6));for(let i=d(this,Li),o=d(this,_n).length;i<o;i+=6){const[a,s,l,c,u,h]=d(this,_n).slice(i,i+6).map(de.svgRound);r.push(`C${a} ${s} ${l} ${c} ${u} ${h}`)}return C(this,Bn,d(this,Bn)+r.join(" ")),C(this,Li,d(this,_n).length),d(this,Bn)}getOutlines(e,n,r,i){const o=d(this,Pn).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),d(this,zu).build(d(this,Pn),e,n,r,d(this,Bu),d(this,_f),i),C(this,Zo,null),C(this,_n,null),C(this,Pn,null),C(this,Bn,null),d(this,zu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Zo=new WeakMap,_n=new WeakMap,Pn=new WeakMap,Bu=new WeakMap,_f=new WeakMap,lr=new WeakMap,Bn=new WeakMap,Li=new WeakMap,zu=new WeakMap,Uu=new WeakMap,Hu=new WeakMap,Pf=new WeakSet,dx=function(e,n){return de._normalizePoint(e,n,d(this,Uu),d(this,Hu),d(this,Bu))};var cr,bv,xv,ii,Qo,ea,Tf,kf,Vu,Hn,Ca,h4,d4,f4;class Gv extends de{constructor(){super(...arguments);T(this,Hn);T(this,cr);T(this,bv,0);T(this,xv);T(this,ii);T(this,Qo);T(this,ea);T(this,Tf);T(this,kf);T(this,Vu)}build(n,r,i,o,a,s,l){C(this,Qo,r),C(this,ea,i),C(this,Tf,o),C(this,kf,a),C(this,Vu,s),C(this,xv,l??0),C(this,ii,n),k(this,Hn,d4).call(this)}get thickness(){return d(this,Vu)}setLastElement(n){return d(this,ii).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,ii).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of d(this,ii)){if(n.push(`M${de.svgRound(r[4])} ${de.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${de.svgRound(r[10])} ${de.svgRound(r[11])}`);continue}for(let i=6,o=r.length;i<o;i+=6){const[a,s,l,c,u,h]=r.subarray(i,i+6).map(de.svgRound);n.push(`C${a} ${s} ${l} ${c} ${u} ${h}`)}}return n.join("")}serialize([n,r,i,o],a){const s=[],l=[],[c,u,h,f]=k(this,Hn,h4).call(this);let p,m,g,y,b,w,x,E,A;switch(d(this,kf)){case 0:A=de._rescale,p=n,m=r+o,g=i,y=-o,b=n+c*i,w=r+(1-u-f)*o,x=n+(c+h)*i,E=r+(1-u)*o;break;case 90:A=de._rescaleAndSwap,p=n,m=r,g=i,y=o,b=n+u*i,w=r+c*o,x=n+(u+f)*i,E=r+(c+h)*o;break;case 180:A=de._rescale,p=n+i,m=r,g=-i,y=o,b=n+(1-c-h)*i,w=r+u*o,x=n+(1-c)*i,E=r+(u+f)*o;break;case 270:A=de._rescaleAndSwap,p=n+i,m=r+o,g=-i,y=-o,b=n+(1-u-f)*i,w=r+(1-c-h)*o,x=n+(1-u)*i,E=r+(1-c)*o;break}for(const{line:S,points:_}of d(this,ii))s.push(A(S,p,m,g,y,a?new Array(S.length):null)),l.push(A(_,p,m,g,y,a?new Array(_.length):null));return{lines:s,points:l,rect:[b,w,x,E]}}static deserialize(n,r,i,o,a,{paths:{lines:s,points:l},rotation:c,thickness:u}){const h=[];let f,p,m,g,y;switch(c){case 0:y=de._rescale,f=-n/i,p=r/o+1,m=1/i,g=-1/o;break;case 90:y=de._rescaleAndSwap,f=-r/o,p=-n/i,m=1/o,g=1/i;break;case 180:y=de._rescale,f=n/i+1,p=-r/o,m=-1/i,g=1/o;break;case 270:y=de._rescaleAndSwap,f=r/o+1,p=n/i+1,m=-1/o,g=-1/i;break}if(!s){s=[];for(const w of l){const x=w.length;if(x===2){s.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(x===4){s.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const E=new Float32Array(3*(x-2));s.push(E);let[A,S,_,O]=w.subarray(0,4);E.set([NaN,NaN,NaN,NaN,A,S],0);for(let M=4;M<x;M+=2){const j=w[M],N=w[M+1];E.set(de.createBezierPoints(A,S,_,O,j,N),(M-2)*3),[A,S,_,O]=[_,O,j,N]}}}for(let w=0,x=s.length;w<x;w++)h.push({line:y(s[w].map(E=>E??NaN),f,p,m,g),points:y(l[w].map(E=>E??NaN),f,p,m,g)});const b=new this.prototype.constructor;return b.build(h,i,o,1,c,u,a),b}get box(){return d(this,cr)}updateProperty(n,r){return n==="stroke-width"?k(this,Hn,f4).call(this,r):null}updateParentDimensions([n,r],i){const[o,a]=k(this,Hn,Ca).call(this);C(this,Qo,n),C(this,ea,r),C(this,Tf,i);const[s,l]=k(this,Hn,Ca).call(this),c=s-o,u=l-a,h=d(this,cr);return h[0]-=c,h[1]-=u,h[2]+=2*c,h[3]+=2*u,h}updateRotation(n){return C(this,bv,n),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,cr).map(de.svgRound).join(" ")}get defaultProperties(){const[n,r]=d(this,cr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=d(this,cr);let i=0,o=0,a=0,s=0,l=0,c=0;switch(d(this,bv)){case 90:o=r/n,a=-n/r,l=n;break;case 180:i=-1,s=-1,l=n,c=r;break;case 270:o=-r/n,a=n/r,c=r;break;default:return""}return`matrix(${i} ${o} ${a} ${s} ${de.svgRound(l)} ${de.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,o]){const[a,s]=k(this,Hn,Ca).call(this),[l,c,u,h]=d(this,cr);if(Math.abs(u-a)<=de.PRECISION||Math.abs(h-s)<=de.PRECISION){const y=n+i/2-(l+u/2),b=r+o/2-(c+h/2);return{path:{"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`,transform:`${this.rotationTransform} translate(${y} ${b})`}}}const f=(i-2*a)/(u-2*a),p=(o-2*s)/(h-2*s),m=u/i,g=h/o;return{path:{"transform-origin":`${de.svgRound(l)} ${de.svgRound(c)}`,transform:`${this.rotationTransform} scale(${m} ${g}) translate(${de.svgRound(a)} ${de.svgRound(s)}) scale(${f} ${p}) translate(${de.svgRound(-a)} ${de.svgRound(-s)})`}}}getPathResizedSVGProperties([n,r,i,o]){const[a,s]=k(this,Hn,Ca).call(this),l=d(this,cr),[c,u,h,f]=l;if(l[0]=n,l[1]=r,l[2]=i,l[3]=o,Math.abs(h-a)<=de.PRECISION||Math.abs(f-s)<=de.PRECISION){const b=n+i/2-(c+h/2),w=r+o/2-(u+f/2);for(const{line:x,points:E}of d(this,ii))de._translate(x,b,w,x),de._translate(E,b,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(h-2*a),m=(o-2*s)/(f-2*s),g=-p*(c+a)+n+a,y=-m*(u+s)+r+s;if(p!==1||m!==1||g!==0||y!==0)for(const{line:b,points:w}of d(this,ii))de._rescale(b,g,y,p,m,b),de._rescale(w,g,y,p,m,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[o,a]=i,s=d(this,cr),l=n-s[0],c=r-s[1];if(d(this,Qo)===o&&d(this,ea)===a)for(const{line:u,points:h}of d(this,ii))de._translate(u,l,c,u),de._translate(h,l,c,h);else{const u=d(this,Qo)/o,h=d(this,ea)/a;C(this,Qo,o),C(this,ea,a);for(const{line:f,points:p}of d(this,ii))de._rescale(f,l,c,u,h,f),de._rescale(p,l,c,u,h,p);s[2]*=u,s[3]*=h}return s[0]=n,s[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`}}}get defaultSVGProperties(){const n=d(this,cr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(n[0])} ${de.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}cr=new WeakMap,bv=new WeakMap,xv=new WeakMap,ii=new WeakMap,Qo=new WeakMap,ea=new WeakMap,Tf=new WeakMap,kf=new WeakMap,Vu=new WeakMap,Hn=new WeakSet,Ca=function(n=d(this,Vu)){const r=d(this,xv)+n/2*d(this,Tf);return d(this,kf)%180===0?[r/d(this,Qo),r/d(this,ea)]:[r/d(this,ea),r/d(this,Qo)]},h4=function(){const[n,r,i,o]=d(this,cr),[a,s]=k(this,Hn,Ca).call(this,0);return[n+a,r+s,i-2*a,o-2*s]},d4=function(){const n=C(this,cr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of d(this,ii)){if(o.length<=12){for(let l=4,c=o.length;l<c;l+=6)fe.pointBoundingBox(o[l],o[l+1],n);continue}let a=o[4],s=o[5];for(let l=6,c=o.length;l<c;l+=6){const[u,h,f,p,m,g]=o.subarray(l,l+6);fe.bezierBoundingBox(a,s,u,h,f,p,m,g,n),a=m,s=g}}const[r,i]=k(this,Hn,Ca).call(this);n[0]=Qn(n[0]-r,0,1),n[1]=Qn(n[1]-i,0,1),n[2]=Qn(n[2]+r,0,1),n[3]=Qn(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},f4=function(n){const[r,i]=k(this,Hn,Ca).call(this);C(this,Vu,n);const[o,a]=k(this,Hn,Ca).call(this),[s,l]=[o-r,a-i],c=d(this,cr);return c[0]-=s,c[1]-=l,c[2]+=2*s,c[3]+=2*l,c};class N1 extends c4{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:kt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new N1(this._viewParameters);return e.updateAll(this),e}}var fw,p4;const Zh=class Zh extends H0{constructor(n){super({...n,name:"inkEditor"});T(this,fw);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){kt.initialize(n,r),this._defaultDrawingOptions=new N1(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Be(this,"typesMap",new Map([[Ge.INK_THICKNESS,"stroke-width"],[Ge.INK_COLOR,"stroke"],[Ge.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,o,a){return new lwe(n,r,i,o,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,o,a,s){return Gv.deserialize(n,r,i,o,a,s)}static async deserialize(n,r,i){let o=null;if(n instanceof kT){const{data:{inkLists:s,rect:l,rotation:c,id:u,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:m,richText:g,contentsObj:y,creationDate:b,modificationDate:w},parent:{page:{pageNumber:x}}}=n;o=n={annotationType:je.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:s},boxes:null,pageIndex:x-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:m,richText:g,comment:(y==null?void 0:y.str)||null,creationDate:b,modificationDate:w}}const a=await super.deserialize(n,r,i);return a._initialData=o,n.comment&&a.setCommentData(n),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new B0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ge.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=Zh.getDefaultDrawingOptions({stroke:fe.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":s}}=this,l=Object.assign(super.serialize(n),{color:kt._colorManager.convert(o),opacity:a,thickness:s,paths:{lines:r,points:i}});return this.addComment(l),n?(l.isCopy=!0,l):this.annotationElementId&&!k(this,fw,p4).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};fw=new WeakSet,p4=function(n){const{color:r,thickness:i,opacity:o,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((s,l)=>s!==r[l])||n.thickness!==i||n.opacity!==o||n.pageIndex!==a},ee(Zh,"_type","ink"),ee(Zh,"_editorType",je.INK),ee(Zh,"_defaultDrawingOptions",null);let f_=Zh;class p_ extends Gv{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const kb=8,lm=3;var Wu,lt,m_,uo,m4,g4,g_,fx,y4,v4,b4,y_,v_,x4;class oa{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},o,a,s,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const h=200,f=u.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:m,actualBoundingBoxAscent:g,actualBoundingBoxDescent:y,fontBoundingBoxAscent:b,fontBoundingBoxDescent:w,width:x}=u.measureText(e),E=1.5,A=Math.ceil(Math.max(Math.abs(p)+Math.abs(m)||0,x)*E),S=Math.ceil(Math.max(Math.abs(g)+Math.abs(y)||h,Math.abs(b)+Math.abs(w)||h)*E);c=new OffscreenCanvas(A,S),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=f,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,A,S),u.fillStyle="black",u.fillText(e,A*(E-1)/2,S*(3-E)/2);const _=k(this,lt,y_).call(this,u.getImageData(0,0,A,S).data),O=k(this,lt,b4).call(this,_),M=k(this,lt,v_).call(this,O),j=k(this,lt,g_).call(this,_,A,S,M);return this.processDrawnLines({lines:{curves:j,width:A,height:S},pageWidth:o,pageHeight:a,rotation:s,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,o){const[a,s,l]=k(this,lt,x4).call(this,e),[c,u]=k(this,lt,v4).call(this,a,s,l,Math.hypot(s,l)*d(this,Wu).sigmaSFactor,d(this,Wu).sigmaR,d(this,Wu).kernelSize),h=k(this,lt,v_).call(this,u),f=k(this,lt,g_).call(this,c,s,l,h);return this.processDrawnLines({lines:{curves:f,width:s,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:o,mustSmooth:a,areContours:s}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:u}=e,h=e.thickness??0,f=[],p=Math.min(n/c,r/u),m=p/n,g=p/r,y=[];for(const{points:w}of l){const x=a?k(this,lt,y4).call(this,w):w;if(!x)continue;y.push(x);const E=x.length,A=new Float32Array(E),S=new Float32Array(3*(E===2?2:E-2));if(f.push({line:S,points:A}),E===2){A[0]=x[0]*m,A[1]=x[1]*g,S.set([NaN,NaN,NaN,NaN,A[0],A[1]],0);continue}let[_,O,M,j]=x;_*=m,O*=g,M*=m,j*=g,A.set([_,O,M,j],0),S.set([NaN,NaN,NaN,NaN,_,O],0);for(let N=4;N<E;N+=2){const R=A[N]=x[N]*m,F=A[N+1]=x[N+1]*g;S.set(de.createBezierPoints(_,O,M,j,R,F),(N-2)*3),[_,O,M,j]=[M,j,R,F]}}if(f.length===0)return null;const b=s?new p_:new Gv;return b.build(f,n,r,1,i,s?0:h,o),{outline:b,newCurves:y,areContours:s,thickness:h,width:c,height:u}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:o}){let a=1/0,s=-1/0,l=0;for(const x of e){l+=x.length;for(let E=2,A=x.length;E<A;E++){const S=x[E]-x[E-2];a=Math.min(a,S),s=Math.max(s,S)}}let c;a>=-128&&s<=127?c=Int8Array:a>=-32768&&s<=32767?c=Int16Array:c=Int32Array;const u=e.length,h=kb+lm*u,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=o,f[p++]=n?0:1,f[p++]=Math.max(0,Math.floor(r??0)),f[p++]=u,f[p++]=c.BYTES_PER_ELEMENT;for(const x of e)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const m=new CompressionStream("deflate-raw"),g=m.writable.getWriter();await g.ready,g.write(f);const y=c.prototype.constructor;for(const x of e){const E=new y(x.length-2);for(let A=2,S=x.length;A<S;A++)E[A-2]=x[A]-x[A-2];g.write(E)}g.close();const b=await new Response(m.readable).arrayBuffer(),w=new Uint8Array(b);return g3(w)}static async decompressSignature(e){try{const n=Nxe(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),o=i.getWriter();await o.ready,o.write(n).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let a=null,s=0;for await(const x of r)a||(a=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),a.set(x,s),s+=x.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],h=l[3],f=l[4]===0,p=l[5],m=l[6],g=l[7],y=[],b=(kb+lm*m)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(g){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,b);break}s=0;for(let x=0;x<m;x++){const E=l[lm*x+kb],A=new Float32Array(E+2);y.push(A);for(let S=0;S<lm-1;S++)A[S]=l[lm*x+kb+S+1];for(let S=0;S<E;S++)A[S+2]=A[S]+w[s++]}return{areContours:f,thickness:p,outlines:y,width:u,height:h}}catch(n){return Me(`decompressSignature: ${n}`),null}}}Wu=new WeakMap,lt=new WeakSet,m_=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},uo=new WeakMap,m4=function(e,n,r,i,o,a,s){const l=k(this,lt,m_).call(this,r,i,o,a);for(let c=0;c<8;c++){const u=(-c+l-s+16)%8,h=d(this,uo)[2*u],f=d(this,uo)[2*u+1];if(e[(r+h)*n+(i+f)]!==0)return u}return-1},g4=function(e,n,r,i,o,a,s){const l=k(this,lt,m_).call(this,r,i,o,a);for(let c=0;c<8;c++){const u=(c+l+s+16)%8,h=d(this,uo)[2*u],f=d(this,uo)[2*u+1];if(e[(r+h)*n+(i+f)]!==0)return u}return-1},g_=function(e,n,r,i){const o=e.length,a=new Int32Array(o);for(let u=0;u<o;u++)a[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)a[u*n]=a[u*n+n-1]=0;for(let u=0;u<n;u++)a[u]=a[n*r-1-u]=0;let s=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let h=1;h<n-1;h++){const f=u*n+h,p=a[f];if(p===0)continue;let m=u,g=h;if(p===1&&a[f-1]===0)s+=1,g-=1;else if(p>=1&&a[f+1]===0)s+=1,g+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const y=[h,u],b=g===h+1,w={isHole:b,points:y,id:s,parent:0};c.push(w);let x;for(const N of c)if(N.id===l){x=N;break}x?x.isHole?w.parent=b?x.parent:l:w.parent=b?l:x.parent:w.parent=b?l:0;const E=k(this,lt,m4).call(this,a,n,u,h,m,g,0);if(E===-1){a[f]=-s,a[f]!==1&&(l=Math.abs(a[f]));continue}let A=d(this,uo)[2*E],S=d(this,uo)[2*E+1];const _=u+A,O=h+S;m=_,g=O;let M=u,j=h;for(;;){const N=k(this,lt,g4).call(this,a,n,M,j,m,g,1);A=d(this,uo)[2*N],S=d(this,uo)[2*N+1];const R=M+A,F=j+S;y.push(F,R);const $=M*n+j;if(a[$+1]===0?a[$]=-s:a[$]===1&&(a[$]=s),R===u&&F===h&&M===_&&j===O){a[f]!==1&&(l=Math.abs(a[f]));break}else m=M,g=j,M=R,j=F}}}return c},fx=function(e,n,r,i){if(r-n<=4){for(let _=n;_<r-2;_+=2)i.push(e[_],e[_+1]);return}const o=e[n],a=e[n+1],s=e[r-4]-o,l=e[r-3]-a,c=Math.hypot(s,l),u=s/c,h=l/c,f=u*a-h*o,p=l/s,m=1/c,g=Math.atan(p),y=Math.cos(g),b=Math.sin(g),w=m*(Math.abs(y)+Math.abs(b)),x=m*(1-w+w**2),E=Math.max(Math.atan(Math.abs(b+y)*x),Math.atan(Math.abs(b-y)*x));let A=0,S=n;for(let _=n+2;_<r-2;_+=2){const O=Math.abs(f-u*e[_+1]+h*e[_]);O>A&&(S=_,A=O)}A>(c*E)**2?(k(this,lt,fx).call(this,e,n,S+2,i),k(this,lt,fx).call(this,e,S,r,i)):i.push(o,a)},y4=function(e){const n=[],r=e.length;return k(this,lt,fx).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},v4=function(e,n,r,i,o,a){const s=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let g=0;g<a;g++){const y=(g-c)**2;for(let b=0;b<a;b++)s[g*a+b]=Math.exp((y+(b-c)**2)/l)}const u=new Float32Array(256),h=-2*o**2;for(let g=0;g<256;g++)u[g]=Math.exp(g**2/h);const f=e.length,p=new Uint8Array(f),m=new Uint32Array(256);for(let g=0;g<r;g++)for(let y=0;y<n;y++){const b=g*n+y,w=e[b];let x=0,E=0;for(let S=0;S<a;S++){const _=g+S-c;if(!(_<0||_>=r))for(let O=0;O<a;O++){const M=y+O-c;if(M<0||M>=n)continue;const j=e[_*n+M],N=s[S*a+O]*u[Math.abs(j-w)];x+=j*N,E+=N}}const A=p[b]=Math.round(x/E);m[A]++}return[p,m]},b4=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},y_=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,o=1/0;for(let s=0,l=r.length;s<l;s++){const c=r[s]=e[s<<2];i=Math.max(i,c),o=Math.min(o,c)}const a=255/(i-o);for(let s=0,l=r.length;s<l;s++)r[s]=(r[s]-o)*a;return r},v_=function(e){let n,r=-1/0,i=-1/0;const o=e.findIndex(l=>l!==0);let a=o,s=o;for(n=o;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,s=n-1),r=l,a=n)}for(n=s-1;n>=0&&!(e[n]>e[n+1]);n--);return n},x4=function(e){const n=e,{width:r,height:i}=e,{maxDim:o}=d(this,Wu);let a=r,s=i;if(r>o||i>o){let f=r,p=i,m=Math.log2(Math.max(r,i)/o);const g=Math.floor(m);m=m===g?g-1:g;for(let b=0;b<m;b++){a=Math.ceil(f/2),s=Math.ceil(p/2);const w=new OffscreenCanvas(a,s);w.getContext("2d").drawImage(e,0,0,f,p,0,0,a,s),f=a,p=s,e!==n&&e.close(),e=w.transferToImageBitmap()}const y=Math.min(o/a,o/s);a=Math.round(a*y),s=Math.round(s*y)}const c=new OffscreenCanvas(a,s).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,s),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,s);const u=c.getImageData(0,0,a,s).data;return[k(this,lt,y_).call(this,u),a,s]},T(oa,lt),T(oa,Wu,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),T(oa,uo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class jT extends c4{constructor(){super(),super.updateProperties({fill:kt._defaultLineColor,"stroke-width":0})}clone(){const e=new jT;return e.updateAll(this),e}}class MT extends N1{constructor(e){super(e),super.updateProperties({stroke:kt._defaultLineColor,"stroke-width":1})}clone(){const e=new MT(this._viewParameters);return e.updateAll(this),e}}var jl,ta,Ml,Gu;const zr=class zr extends H0{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});T(this,jl,!1);T(this,ta,null);T(this,Ml,null);T(this,Gu,null);this._willKeepAspectRatio=!0,C(this,Ml,n.signatureData||null),C(this,ta,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){kt.initialize(n,r),this._defaultDrawingOptions=new jT,this._defaultDrawnSignatureOptions=new MT(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Be(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!d(this,ta)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(d(this,Ml)){const{lines:o,mustSmooth:a,areContours:s,description:l,uuid:c,heightInPage:u}=d(this,Ml),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,m=oa.processDrawnLines({lines:o,pageWidth:h,pageHeight:f,rotation:p,innerMargin:zr._INNER_MARGIN,mustSmooth:a,areContours:s});this.addSignature(m,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:d(this,ta)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){C(this,Gu,n),this.addEditToolbar()}getUuid(){return d(this,Gu)}get description(){return d(this,ta)}set description(n){C(this,ta,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:o,height:a}=d(this,Ml),s=Math.max(o,a),l=oa.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:o,height:a},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,i,o){const{x:a,y:s}=this,{outline:l}=C(this,Ml,n);C(this,jl,l instanceof p_),this.description=i;let c;d(this,jl)?c=zr.getDefaultDrawingOptions():(c=zr._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let h=r/u;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:o}=this.parent.viewport;return oa.process(n,r,i,o,zr._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:o},rotation:a}=this.parent.viewport;return oa.extractContoursFromText(n,r,i,o,a,zr._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:o}=this.parent.viewport;return oa.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:o,innerMargin:zr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=zr.getDefaultDrawingOptions():(this._drawingOptions=zr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":o}}=this,a=Object.assign(super.serialize(n),{isSignature:!0,areContours:d(this,jl),color:[0,0,0],thickness:d(this,jl)?0:o});return this.addComment(a),n?(a.paths={lines:r,points:i},a.uuid=d(this,Gu),a.isCopy=!0):a.lines=r,d(this,ta)&&(a.accessibilityData={type:"Figure",alt:d(this,ta)}),a}static deserializeDraw(n,r,i,o,a,s){return s.areContours?p_.deserialize(n,r,i,o,a,s):Gv.deserialize(n,r,i,o,a,s)}static async deserialize(n,r,i){var a;const o=await super.deserialize(n,r,i);return C(o,jl,n.areContours),o.description=((a=n.accessibilityData)==null?void 0:a.alt)||"",C(o,Gu,n.uuid),o}};jl=new WeakMap,ta=new WeakMap,Ml=new WeakMap,Gu=new WeakMap,ee(zr,"_type","signature"),ee(zr,"_editorType",je.SIGNATURE),ee(zr,"_defaultDrawingOptions",null);let b_=zr;var Ft,Tn,Nl,is,Rl,Of,os,qu,na,oi,jf,rt,Mm,Nm,px,mx,gx,w_,yx,w4;class x_ extends kt{constructor(n){super({...n,name:"stampEditor"});T(this,rt);T(this,Ft,null);T(this,Tn,null);T(this,Nl,null);T(this,is,null);T(this,Rl,null);T(this,Of,"");T(this,os,null);T(this,qu,!1);T(this,na,null);T(this,oi,!1);T(this,jf,!1);C(this,is,n.bitmapUrl),C(this,Rl,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){kt.initialize(n,r)}static isHandlingMimeForPasting(n){return I0.includes(n)}static paste(n,r){r.pasteEditor({mode:je.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:a,height:s}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:o,width:a,height:s,channels:o.length/(a*s)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;d(this,Tn)&&(C(this,Ft,null),this._uiManager.imageManager.deleteId(d(this,Tn)),(n=d(this,os))==null||n.remove(),C(this,os,null),d(this,na)&&(clearTimeout(d(this,na)),C(this,na,null))),super.remove()}rebuild(){if(!this.parent){d(this,Tn)&&k(this,rt,px).call(this);return}super.rebuild(),this.div!==null&&(d(this,Tn)&&d(this,os)===null&&k(this,rt,px).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(d(this,Nl)||d(this,Ft)||d(this,is)||d(this,Rl)||d(this,Tn)||d(this,qu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),d(this,qu)||(d(this,Ft)?k(this,rt,mx).call(this):k(this,rt,px).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:o}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(C(this,Tn,i),o&&C(this,Ft,o),C(this,qu,!1),k(this,rt,mx).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,na)!==null&&clearTimeout(d(this,na)),C(this,na,setTimeout(()=>{C(this,na,null),k(this,rt,w_).call(this)},200))}copyCanvas(n,r,i=!1){n||(n=224);const{width:o,height:a}=d(this,Ft),s=new So;let l=d(this,Ft),c=o,u=a,h=null;if(r){if(o>r||a>r){const _=Math.min(r/o,r/a);c=Math.floor(o*_),u=Math.floor(a*_)}h=document.createElement("canvas");const p=h.width=Math.ceil(c*s.sx),m=h.height=Math.ceil(u*s.sy);d(this,oi)||(l=k(this,rt,gx).call(this,p,m));const g=h.getContext("2d");g.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":Dxe.isDarkMode&&(y="#8f8f9d",b="#42414d");const w=15,x=w*s.sx,E=w*s.sy,A=new OffscreenCanvas(x*2,E*2),S=A.getContext("2d");S.fillStyle=y,S.fillRect(0,0,x*2,E*2),S.fillStyle=b,S.fillRect(0,0,x,E),S.fillRect(x,E,x,E),g.fillStyle=g.createPattern(A,"repeat"),g.fillRect(0,0,p,m),g.drawImage(l,0,0,l.width,l.height,0,0,p,m)}let f=null;if(i){let p,m;if(s.symmetric&&l.width<n&&l.height<n)p=l.width,m=l.height;else if(l=d(this,Ft),o>n||a>n){const b=Math.min(n/o,n/a);p=Math.floor(o*b),m=Math.floor(a*b),d(this,oi)||(l=k(this,rt,gx).call(this,p,m))}const y=new OffscreenCanvas(p,m).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,p,m),f={width:p,height:m,data:y.getImageData(0,0,p,m).data}}return{canvas:h,width:c,height:u,imageData:f}}static async deserialize(n,r,i){var y;let o=null,a=!1;if(n instanceof L5){const{data:{rect:b,rotation:w,id:x,structParent:E,popupRef:A,richText:S,contentsObj:_,creationDate:O,modificationDate:M},container:j,parent:{page:{pageNumber:N}},canvas:R}=n;let F,$;R?(delete n.canvas,{id:F,bitmap:$}=i.imageManager.getFromCanvas(j.id,R),R.remove()):(a=!0,n._hasNoCanvas=!0);const z=((y=await r._structTree.getAriaAttributes(`${xT}${x}`))==null?void 0:y.get("aria-label"))||"";o=n={annotationType:je.STAMP,bitmapId:F,bitmap:$,pageIndex:N-1,rect:b.slice(0),rotation:w,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:z},isSvg:!1,structParent:E,popupRef:A,richText:S,comment:(_==null?void 0:_.str)||null,creationDate:O,modificationDate:M}}const s=await super.deserialize(n,r,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:h,isSvg:f,accessibilityData:p}=n;a?(i.addMissingCanvas(n.id,s),C(s,qu,!0)):h&&i.imageManager.isValidId(h)?(C(s,Tn,h),c&&C(s,Ft,c)):C(s,is,u),C(s,oi,f);const[m,g]=s.pageDimensions;return s.width=(l[2]-l[0])/m,s.height=(l[3]-l[1])/g,p&&(s.altTextData=p),s._initialData=o,n.comment&&s.setCommentData(n),C(s,jf,!!o),s}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(n),{bitmapId:d(this,Tn),isSvg:d(this,oi)});if(this.addComment(i),n)return i.bitmapUrl=k(this,rt,yx).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:o,altText:a}=this.serializeAltText(!1);if(!o&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=k(this,rt,w4).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const s=d(this,oi)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(d(this,Tn)))r.stamps.set(d(this,Tn),{area:s,serialized:i}),i.bitmap=k(this,rt,yx).call(this,!1);else if(d(this,oi)){const l=r.stamps.get(d(this,Tn));s>l.area&&(l.area=s,l.serialized.bitmap.close(),l.serialized.bitmap=k(this,rt,yx).call(this,!1))}return i}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Ft=new WeakMap,Tn=new WeakMap,Nl=new WeakMap,is=new WeakMap,Rl=new WeakMap,Of=new WeakMap,os=new WeakMap,qu=new WeakMap,na=new WeakMap,oi=new WeakMap,jf=new WeakMap,rt=new WeakSet,Mm=function(n,r=!1){if(!n){this.remove();return}C(this,Ft,n.bitmap),r||(C(this,Tn,n.id),C(this,oi,n.isSvg)),n.file&&C(this,Of,n.file.name),k(this,rt,mx).call(this)},Nm=function(){if(C(this,Nl,null),this._uiManager.enableWaiting(!1),!!d(this,os)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Ft)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Ft)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},px=function(){if(d(this,Tn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,Tn)).then(i=>k(this,rt,Mm).call(this,i,!0)).finally(()=>k(this,rt,Nm).call(this));return}if(d(this,is)){const i=d(this,is);C(this,is,null),this._uiManager.enableWaiting(!0),C(this,Nl,this._uiManager.imageManager.getFromUrl(i).then(o=>k(this,rt,Mm).call(this,o)).finally(()=>k(this,rt,Nm).call(this)));return}if(d(this,Rl)){const i=d(this,Rl);C(this,Rl,null),this._uiManager.enableWaiting(!0),C(this,Nl,this._uiManager.imageManager.getFromFile(i).then(o=>k(this,rt,Mm).call(this,o)).finally(()=>k(this,rt,Nm).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=I0.join(",");const r=this._uiManager._signal;C(this,Nl,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,rt,Mm).call(this,o)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>k(this,rt,Nm).call(this))),n.click()},mx=function(){var c;const{div:n}=this;let{width:r,height:i}=d(this,Ft);const[o,a]=this.pageDimensions,s=.75;if(this.width)r=this.width*o,i=this.height*a;else if(r>s*o||i>s*a){const u=Math.min(s*o/r,s*a/i);r*=u,i*=u}this._uiManager.enableWaiting(!1);const l=C(this,os,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/o,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),k(this,rt,w_).call(this),d(this,jf)||(this.parent.addUndoableEditor(this),C(this,jf,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Of)&&this.div.setAttribute("aria-description",d(this,Of)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},gx=function(n,r){const{width:i,height:o}=d(this,Ft);let a=i,s=o,l=d(this,Ft);for(;a>2*n||s>2*r;){const c=a,u=s;a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),s>2*r&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const h=new OffscreenCanvas(a,s);h.getContext("2d").drawImage(l,0,0,c,u,0,0,a,s),l=h.transferToImageBitmap()}return l},w_=function(){const[n,r]=this.parentDimensions,{width:i,height:o}=this,a=new So,s=Math.ceil(i*n*a.sx),l=Math.ceil(o*r*a.sy),c=d(this,os);if(!c||c.width===s&&c.height===l)return;c.width=s,c.height=l;const u=d(this,oi)?d(this,Ft):k(this,rt,gx).call(this,s,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(u,0,0,u.width,u.height,0,0,s,l)},yx=function(n){if(n){if(d(this,oi)){const o=this._uiManager.imageManager.getSvgUrl(d(this,Tn));if(o)return o}const r=document.createElement("canvas");return{width:r.width,height:r.height}=d(this,Ft),r.getContext("2d").drawImage(d(this,Ft),0,0),r.toDataURL()}if(d(this,oi)){const[r,i]=this.pageDimensions,o=Math.round(this.width*r*Ts.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Ts.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(o,a);return s.getContext("2d").drawImage(d(this,Ft),0,0,d(this,Ft).width,d(this,Ft).height,0,0,o,a),s.transferToImageBitmap()}return structuredClone(d(this,Ft))},w4=function(n){var s;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,o=n.pageIndex===r,a=(((s=n.accessibilityData)==null?void 0:s.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&o&&a,isSameAltText:a}},ee(x_,"_type","stamp"),ee(x_,"_editorType",je.STAMP);var Ku,Mf,Il,Dl,as,kr,Ll,Nf,Rf,ho,ss,kn,ls,$l,If,ge,Fl,wt,A_,A4,Mo,S_,E_,vx;const eo=class eo{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:o,annotationLayer:a,drawLayer:s,textLayer:l,viewport:c,l10n:u}){T(this,wt);T(this,Ku);T(this,Mf,!1);T(this,Il,null);T(this,Dl,null);T(this,as,null);T(this,kr,new Map);T(this,Ll,!1);T(this,Nf,!1);T(this,Rf,!1);T(this,ho,null);T(this,ss,null);T(this,kn,null);T(this,ls,null);T(this,$l,null);T(this,If,-1);T(this,ge);const h=[...d(eo,Fl).values()];if(!eo._initialized){eo._initialized=!0;for(const f of h)f.initialize(u,e)}e.registerEditorTypes(h),C(this,ge,e),this.pageIndex=n,this.div=r,C(this,Ku,o),C(this,Il,a),this.viewport=c,C(this,kn,l),this.drawLayer=s,this._structTree=i,d(this,ge).addLayer(this)}get isEmpty(){return d(this,kr).size===0}get isInvisible(){return this.isEmpty&&d(this,ge).getMode()===je.NONE}updateToolbar(e){d(this,ge).updateToolbar(e)}updateMode(e=d(this,ge).getMode()){switch(k(this,wt,vx).call(this),e){case je.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case je.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case je.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===je.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of d(eo,Fl).values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=d(this,kn))==null?void 0:n.div)}setEditingState(e){d(this,ge).setEditingState(e)}addCommands(e){d(this,ge).addCommands(e)}cleanUndoStack(e){d(this,ge).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=d(this,Il))==null||n.div.classList.toggle("disabled",!e)}async enable(){var r;C(this,Rf,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=d(this,$l))==null||r.abort(),C(this,$l,null);const e=new Set;for(const i of d(this,wt,A_))i.enableEditing(),i.show(!0),i.annotationElementId&&(d(this,ge).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=d(this,Il);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),d(this,ge).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const o=await this.deserialize(i);o&&(this.addOrRebuild(o),o.enableEditing())}C(this,Rf,!1),d(this,ge)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(C(this,Nf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),d(this,kn)&&!d(this,$l)){C(this,$l,new AbortController);const i=d(this,ge).combinedSignal(d(this,$l));d(this,kn).div.addEventListener("pointerdown",o=>{const{clientX:s,clientY:l,timeStamp:c}=o,u=d(this,If);if(c-u>500){C(this,If,c);return}C(this,If,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(s,l);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const m=new RegExp(`^${Mg}[0-9]+$`);for(const y of f)if(m.test(y.id)){p=y.id;break}if(!p)return;const g=d(this,kr).get(p);(g==null?void 0:g.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),g.dblclick(o))},{signal:i,capture:!0})}const e=d(this,Il);if(e){const i=new Map,o=new Map;for(const s of d(this,wt,A_)){if(s.disableEditing(),!s.annotationElementId){s.updateFakeAnnotationElement(e);continue}if(s.serialize()!==null){i.set(s.annotationElementId,s);continue}else o.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}const a=e.getEditableAnnotations();for(const s of a){const{id:l}=s.data;if(d(this,ge).isDeletedAnnotationElement(l)){s.updateEdited({deleted:!0});continue}let c=o.get(l);if(c){c.resetAnnotationElement(s),c.show(!1),s.show();continue}c=i.get(l),c&&(d(this,ge).addChangedExistingAnnotation(c),c.renderAnnotationElement(s)&&c.show(!1)),s.show()}}k(this,wt,vx).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of d(eo,Fl).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,Nf,!1)}getEditableAnnotation(e){var n;return((n=d(this,Il))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){d(this,ge).getActive()!==e&&d(this,ge).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=d(this,kn))!=null&&e.div&&!d(this,ls)){C(this,ls,new AbortController);const n=d(this,ge).combinedSignal(d(this,ls));d(this,kn).div.addEventListener("pointerdown",k(this,wt,A4).bind(this),{signal:n}),d(this,kn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=d(this,kn))!=null&&e.div&&d(this,ls)&&(d(this,ls).abort(),C(this,ls,null),d(this,kn).div.classList.remove("highlighting"))}enableClick(){if(d(this,Dl))return;C(this,Dl,new AbortController);const e=d(this,ge).combinedSignal(d(this,Dl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=d(this,Dl))==null||e.abort(),C(this,Dl,null)}attach(e){d(this,kr).set(e.id,e);const{annotationElementId:n}=e;n&&d(this,ge).isDeletedAnnotationElement(n)&&d(this,ge).removeDeletedAnnotationElement(e)}detach(e){var n;d(this,kr).delete(e.id),(n=d(this,Ku))==null||n.removePointerInTextLayer(e.contentDiv),!d(this,Nf)&&e.annotationElementId&&d(this,ge).addDeletedAnnotationElement(e)}remove(e){this.detach(e),d(this,ge).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(d(this,ge).addDeletedAnnotationElement(e.annotationElementId),kt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),d(this,ge).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!d(this,Rf)),d(this,ge).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!d(this,as)&&(e._focusEventsAllowed=!1,C(this,as,setTimeout(()=>{C(this,as,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:d(this,ge)._signal}),n.focus())},0))),e._structTreeParentId=(r=d(this,Ku))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of d(this,kr).values())if(n.uid===e)return n;return null}getNextId(){return d(this,ge).getId()}combinedSignal(e){return d(this,ge).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=d(this,wt,Mo))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await d(this,ge).updateMode(e.mode);const{offsetX:r,offsetY:i}=k(this,wt,E_).call(this),o=this.getNextId(),a=k(this,wt,S_).call(this,{parent:this,id:o,x:r,y:i,uiManager:d(this,ge),isCentered:!0,...n});a&&this.add(a)}async deserialize(e){var n;return await((n=d(eo,Fl).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,d(this,ge)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),o=k(this,wt,S_).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:d(this,ge),isCentered:n,...r});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(k(this,wt,E_).call(this),!0,e)}setSelected(e){d(this,ge).setSelected(e)}toggleSelected(e){d(this,ge).toggleSelected(e)}unselect(e){d(this,ge).unselect(e)}pointerup(e){var i;const{isMac:n}=Nn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!d(this,Ll)||(C(this,Ll,!1),(i=d(this,wt,Mo))!=null&&i.isDrawer&&d(this,wt,Mo).supportMultipleDrawings))return;if(!d(this,Mf)){C(this,Mf,!0);return}const r=d(this,ge).getMode();if(r===je.STAMP||r===je.SIGNATURE){d(this,ge).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(d(this,ge).getMode()===je.HIGHLIGHT&&this.enableTextSelection(),d(this,Ll)){C(this,Ll,!1);return}const{isMac:n}=Nn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(C(this,Ll,!0),(i=d(this,wt,Mo))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=d(this,ge).getActive();C(this,Mf,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),d(this,ho)){d(this,wt,Mo).startDrawing(this,d(this,ge),!1,e);return}d(this,ge).setCurrentDrawingSession(this),C(this,ho,new AbortController);const n=d(this,ge).combinedSignal(d(this,ho));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(C(this,ss,null),this.commitOrRemove())},{signal:n}),d(this,wt,Mo).startDrawing(this,d(this,ge),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&C(this,ss,n);return}d(this,ss)&&setTimeout(()=>{var n;(n=d(this,ss))==null||n.focus(),C(this,ss,null)},0)}endDrawingSession(e=!1){return d(this,ho)?(d(this,ge).setCurrentDrawingSession(null),d(this,ho).abort(),C(this,ho,null),C(this,ss,null),d(this,wt,Mo).endDrawing(e)):null}findNewParent(e,n,r){const i=d(this,ge).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return d(this,ho)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,ho)&&d(this,wt,Mo).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=d(this,ge).getActive())==null?void 0:e.parent)===this&&(d(this,ge).commitOrRemove(),d(this,ge).setActiveEditor(null)),d(this,as)&&(clearTimeout(d(this,as)),C(this,as,null));for(const r of d(this,kr).values())(n=d(this,Ku))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,d(this,kr).clear(),d(this,ge).removeLayer(this)}render({viewport:e}){this.viewport=e,Zl(this.div,e);for(const n of d(this,ge).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){d(this,ge).commitOrRemove(),k(this,wt,vx).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Zl(this.div,{rotation:r}),n!==r)for(const i of d(this,kr).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return d(this,ge).viewParameters.realScale}};Ku=new WeakMap,Mf=new WeakMap,Il=new WeakMap,Dl=new WeakMap,as=new WeakMap,kr=new WeakMap,Ll=new WeakMap,Nf=new WeakMap,Rf=new WeakMap,ho=new WeakMap,ss=new WeakMap,kn=new WeakMap,ls=new WeakMap,$l=new WeakMap,If=new WeakMap,ge=new WeakMap,Fl=new WeakMap,wt=new WeakSet,A_=function(){return d(this,kr).size!==0?d(this,kr).values():d(this,ge).getEditors(this.pageIndex)},A4=function(e){d(this,ge).unselectAll();const{target:n}=e;if(n===d(this,kn).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&d(this,kn).div.contains(n)){const{isMac:r}=Nn.platform;if(e.button!==0||e.ctrlKey&&r)return;d(this,ge).showAllEditors("highlight",!0,!0),d(this,kn).div.classList.add("free"),this.toggleDrawing(),U0.startHighlighting(this,d(this,ge).direction==="ltr",{target:d(this,kn).div,x:e.x,y:e.y}),d(this,kn).div.addEventListener("pointerup",()=>{d(this,kn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,ge)._signal}),e.preventDefault()}},Mo=function(){return d(eo,Fl).get(d(this,ge).getMode())},S_=function(e){const n=d(this,wt,Mo);return n?new n.prototype.constructor(e):null},E_=function(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,o=Math.max(0,e),a=Math.max(0,n),s=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(o+s)/2-e,u=(a+l)/2-n,[h,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:h,offsetY:f}},vx=function(){for(const e of d(this,kr).values())e.isEmpty()&&e.remove()},ee(eo,"_initialized",!1),T(eo,Fl,new Map([r_,f_,x_,U0,b_].map(e=>[e._editorType,e])));let V0=eo;var fo,ur,Xu,wv,pw,S4,pa,C_,E4,__;const gn=class gn{constructor({pageIndex:e}){T(this,pa);T(this,fo,null);T(this,ur,new Map);T(this,Xu,new Map);this.pageIndex=e}setParent(e){if(!d(this,fo)){C(this,fo,e);return}if(d(this,fo)!==e){if(d(this,ur).size>0)for(const n of d(this,ur).values())n.remove(),e.append(n);C(this,fo,e)}}static get _svgFactory(){return Be(this,"_svgFactory",new Fg)}draw(e,n=!1,r=!1){const i=fn(gn,wv)._++,o=k(this,pa,C_).call(this),a=gn._svgFactory.createElement("defs");o.append(a);const s=gn._svgFactory.createElement("path");a.append(s);const l=`path_p${this.pageIndex}_${i}`;s.setAttribute("id",l),s.setAttribute("vector-effect","non-scaling-stroke"),n&&d(this,Xu).set(i,s);const c=r?k(this,pa,E4).call(this,a,l):null,u=gn._svgFactory.createElement("use");return o.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(o,e),d(this,ur).set(i,o),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=fn(gn,wv)._++,i=k(this,pa,C_).call(this),o=gn._svgFactory.createElement("defs");i.append(o);const a=gn._svgFactory.createElement("path");o.append(a);const s=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",s),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const h=gn._svgFactory.createElement("mask");o.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=gn._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=gn._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${s}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=gn._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${s}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),d(this,ur).set(r,i),r}finalizeDraw(e,n){d(this,Xu).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var l;if(!n)return;const{root:r,bbox:i,rootClass:o,path:a}=n,s=typeof e=="number"?d(this,ur).get(e):e;if(s){if(r&&k(this,pa,__).call(this,s,r),i&&k(l=gn,pw,S4).call(l,s,i),o){const{classList:c}=s;for(const[u,h]of Object.entries(o))c.toggle(u,h)}if(a){const u=s.firstChild.firstChild;k(this,pa,__).call(this,u,a)}}}updateParent(e,n){if(n===this)return;const r=d(this,ur).get(e);r&&(d(n,fo).append(r),d(this,ur).delete(e),d(n,ur).set(e,r))}remove(e){d(this,Xu).delete(e),d(this,fo)!==null&&(d(this,ur).get(e).remove(),d(this,ur).delete(e))}destroy(){C(this,fo,null);for(const e of d(this,ur).values())e.remove();d(this,ur).clear(),d(this,Xu).clear()}};fo=new WeakMap,ur=new WeakMap,Xu=new WeakMap,wv=new WeakMap,pw=new WeakSet,S4=function(e,[n,r,i,o]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*o}%`},pa=new WeakSet,C_=function(){const e=gn._svgFactory.create(1,1,!0);return d(this,fo).append(e),e.setAttribute("aria-hidden",!0),e},E4=function(e,n){const r=gn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const o=gn._svgFactory.createElement("use");return r.append(o),o.setAttribute("href",`#${n}`),o.classList.add("clip"),i},__=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},T(gn,pw),T(gn,wv,0);let W0=gn;globalThis._pdfjsTestingUtils={HighlightOutliner:o_};globalThis.pdfjsLib={AbortException:Ps,AnnotationEditorLayer:V0,AnnotationEditorParamsType:Ge,AnnotationEditorType:je,AnnotationEditorUIManager:Ql,AnnotationLayer:OT,AnnotationMode:ia,AnnotationType:tn,applyOpacity:w3,build:C5,ColorPicker:$g,createValidAbsoluteUrl:yT,CSSConstants:x3,DOMSVGFactory:Fg,DrawLayer:W0,FeatureTest:Nn,fetchData:Fp,findContrastColor:A3,getDocument:_T,getFilenameFromUrl:y3,getPdfFilenameFromUrl:v3,getRGB:Bp,getUuid:bT,getXfaPageViewport:b3,GlobalWorkerOptions:Bi,ImageKind:Hm,InvalidPDFException:R0,isDataScheme:Hv,isPdfFile:j1,isValidExplicitDest:t5,MathClamp:Qn,noContextMenu:yi,normalizeUnicode:m3,OPS:pp,OutputScale:So,PasswordResponses:f3,PDFDataRangeTransport:PT,PDFDateString:Ig,PDFWorker:mp,PermissionFlag:d3,PixelsPerInch:Ts,RenderingCancelledException:O1,renderRichText:AT,ResponseException:Ng,setLayerDimensions:Zl,shadow:Be,SignatureExtractor:oa,stopEvent:Ht,SupportedImageMimeTypes:I0,TextLayer:Lg,TouchManager:Dg,updateUrlHash:vT,Util:fe,VerbosityLevel:Bv,version:E5,XfaLayer:wT};const cwe=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ps,AnnotationEditorLayer:V0,AnnotationEditorParamsType:Ge,AnnotationEditorType:je,AnnotationEditorUIManager:Ql,AnnotationLayer:OT,AnnotationMode:ia,AnnotationType:tn,CSSConstants:x3,ColorPicker:$g,DOMSVGFactory:Fg,DrawLayer:W0,FeatureTest:Nn,GlobalWorkerOptions:Bi,ImageKind:Hm,InvalidPDFException:R0,MathClamp:Qn,OPS:pp,OutputScale:So,PDFDataRangeTransport:PT,PDFDateString:Ig,PDFWorker:mp,PasswordResponses:f3,PermissionFlag:d3,PixelsPerInch:Ts,RenderingCancelledException:O1,ResponseException:Ng,SignatureExtractor:oa,SupportedImageMimeTypes:I0,TextLayer:Lg,TouchManager:Dg,Util:fe,VerbosityLevel:Bv,XfaLayer:wT,applyOpacity:w3,build:C5,createValidAbsoluteUrl:yT,fetchData:Fp,findContrastColor:A3,getDocument:_T,getFilenameFromUrl:y3,getPdfFilenameFromUrl:v3,getRGB:Bp,getUuid:bT,getXfaPageViewport:b3,isDataScheme:Hv,isPdfFile:j1,isValidExplicitDest:t5,noContextMenu:yi,normalizeUnicode:m3,renderRichText:AT,setLayerDimensions:Zl,shadow:Be,stopEvent:Ht,updateUrlHash:vT,version:E5},Symbol.toStringTag,{value:"Module"}));var LR=Object.prototype.hasOwnProperty;function $R(t,e,n){for(n of t.keys())if(ad(n,e))return n}function ad(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&ad(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=$R(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=$R(e,i),!i)||!ad(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(LR.call(t,n)&&++r&&!LR.call(e,n)||!(n in e)||!ad(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function qv(t){let e=!1;return{promise:new Promise((r,i)=>{t.then(o=>!e&&r(o)).catch(o=>!e&&i(o))}),cancel(){e=!0}}}const uwe=["onCopy","onCut","onPaste"],hwe=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],dwe=["onFocus","onBlur"],fwe=["onInput","onInvalid","onReset","onSubmit"],pwe=["onLoad","onError"],mwe=["onKeyDown","onKeyPress","onKeyUp"],gwe=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],ywe=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],vwe=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],bwe=["onSelect"],xwe=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],wwe=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Awe=["onScroll"],Swe=["onWheel"],Ewe=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Cwe=["onTransitionEnd"],_we=["onToggle"],Pwe=["onChange"],Twe=[...uwe,...hwe,...dwe,...fwe,...pwe,...mwe,...gwe,...ywe,...vwe,...bwe,...xwe,...wwe,...Awe,...Swe,...Ewe,...Cwe,...Pwe,..._we];function C4(t,e){const n={};for(const r of Twe){const i=t[r];i&&(e?n[r]=o=>i(o,e(r)):n[r]=i)}return n}var kwe=function(){},Owe=kwe;const nr=at(Owe),_4=P.createContext(null),jwe="noopener noreferrer nofollow";class Mwe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ye(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ye(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||jwe,e.target=r?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(n=>{Ye(this.pdfDocument),Ye(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{Ye(Array.isArray(n));const r=n[0];new Promise(i=>{Ye(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(o=>{i(o)}).catch(()=>{Ye(!1)}):typeof r=="number"?i(r):Ye(!1)}).then(i=>{const o=i+1;Ye(this.pdfViewer),Ye(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:o})})})}goToPage(e){const n=e-1;Ye(this.pdfViewer),Ye(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function sd({children:t,type:e}){return v.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const FR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function Nwe(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function gp(){return P.useReducer(Nwe,{value:void 0,error:void 0})}const R1=typeof window<"u",P4=R1&&window.location.protocol==="file:";function Rwe(t){return typeof t<"u"}function pc(t){return Rwe(t)&&t!==null}function Iwe(t){return typeof t=="string"}function Dwe(t){return t instanceof ArrayBuffer}function Lwe(t){return Ye(R1),t instanceof Blob}function P_(t){return Iwe(t)&&/^data:/.test(t)}function BR(t){Ye(P_(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function $we(){return R1&&window.devicePixelRatio||1}const T4="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function zR(){nr(!P4,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${T4}`)}function Fwe(){nr(!P4,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${T4}`)}function uh(t){t!=null&&t.cancel&&t.cancel()}function T_(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function Bwe(t){return t.name==="RenderingCancelledException"}function zwe(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:o}=i.target;if(!o)return n(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}const{PDFDataRangeTransport:Uwe}=cwe,Hwe=(t,e)=>{switch(e){case FR.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case FR.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function UR(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const Vwe=P.forwardRef(function({children:e,className:n,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:o,file:a,inputRef:s,imageResourcesPath:l,loading:c="Loading PDFâ€¦",noData:u="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:p,onLoadSuccess:m,onPassword:g=Hwe,onSourceError:y,onSourceSuccess:b,options:w,renderMode:x,rotate:E,scale:A,...S},_){const[O,M]=gp(),{value:j,error:N}=O,[R,F]=gp(),{value:$,error:z}=R,L=P.useRef(new Mwe),U=P.useRef([]),H=P.useRef(void 0),V=P.useRef(void 0);a&&a!==H.current&&UR(a)&&(nr(!ad(a,H.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),H.current=a),w&&w!==V.current&&(nr(!ad(w,V.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),V.current=w);const I=P.useRef({scrollPageIntoView:ue=>{const{dest:ce,pageNumber:we,pageIndex:Pe=we-1}=ue;if(h){h({dest:ce,pageIndex:Pe,pageNumber:we});return}const Ze=U.current[Pe];if(Ze){Ze.scrollIntoView();return}nr(!1,`An internal link leading to page ${we} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});P.useImperativeHandle(_,()=>({linkService:L,pages:U,viewer:I}),[]);function Y(){b&&b()}function q(){N&&(nr(!1,N.toString()),y&&y(N))}function D(){M({type:"RESET"})}P.useEffect(D,[a,M]);const oe=P.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return P_(a)?{data:BR(a)}:(zR(),{url:a});if(a instanceof Uwe)return{range:a};if(Dwe(a))return{data:a};if(R1&&Lwe(a))return{data:await zwe(a)};if(Ye(typeof a=="object"),Ye(UR(a)),"url"in a&&typeof a.url=="string"){if(P_(a.url)){const{url:ue,...ce}=a;return{data:BR(ue),...ce}}zR()}return a},[a]);P.useEffect(()=>{const ue=qv(oe());return ue.promise.then(ce=>{M({type:"RESOLVE",value:ce})}).catch(ce=>{M({type:"REJECT",error:ce})}),()=>{uh(ue)}},[oe,M]),P.useEffect(()=>{if(!(typeof j>"u")){if(j===!1){q();return}Y()}},[j]);function ve(){$&&(m&&m($),U.current=new Array($.numPages),L.current.setDocument($))}function be(){z&&(nr(!1,z.toString()),f&&f(z))}P.useEffect(function(){F({type:"RESET"})},[F,j]),P.useEffect(function(){if(!j)return;const ce=w?{...j,...w}:j,we=_T(ce);p&&(we.onProgress=p),g&&(we.onPassword=g);const Pe=we,Ze=Pe.promise.then(Qt=>{F({type:"RESOLVE",value:Qt})}).catch(Qt=>{Pe.destroyed||F({type:"REJECT",error:Qt})});return()=>{Ze.finally(()=>Pe.destroy())}},[w,F,j]),P.useEffect(()=>{if(!(typeof $>"u")){if($===!1){be();return}ve()}},[$]),P.useEffect(function(){L.current.setViewer(I.current),L.current.setExternalLinkRel(i),L.current.setExternalLinkTarget(o)},[i,o]);const Z=P.useCallback((ue,ce)=>{U.current[ue]=ce},[]),ae=P.useCallback(ue=>{delete U.current[ue]},[]),J=P.useMemo(()=>({imageResourcesPath:l,linkService:L.current,onItemClick:h,pdf:$,registerPage:Z,renderMode:x,rotate:E,scale:A,unregisterPage:ae}),[l,h,$,Z,x,E,A,ae]),Q=P.useMemo(()=>C4(S,()=>$),[S,$]);function ie(){function ue(we){return!!(we!=null&&we.pdf)}if(!ue(J))throw new Error("pdf is undefined");const ce=typeof e=="function"?e(J):e;return v.jsx(_4.Provider,{value:J,children:ce})}function G(){return a?$==null?v.jsx(sd,{type:"loading",children:typeof c=="function"?c():c}):$===!1?v.jsx(sd,{type:"error",children:typeof r=="function"?r():r}):ie():v.jsx(sd,{type:"no-data",children:typeof u=="function"?u():u})}return v.jsx("div",{className:ke("react-pdf__Document",n),ref:s,...Q,children:G()})});function k4(){return P.useContext(_4)}function O4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(o){for(var a=0,s=n;a<s.length;a++){var l=s[a];typeof l=="function"?l(o):l&&(l.current=o)}}}const j4=P.createContext(null);function I1(){return P.useContext(j4)}function Wwe(){const t=k4(),e=I1();Ye(e);const n={...t,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:o,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:s,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:h,rotate:f,scale:p=1}=n;Ye(u),Ye(c),Ye(i);const[m,g]=gp(),{value:y,error:b}=m,w=P.useRef(null);nr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){y&&a&&a(y)}function E(){b&&(nr(!1,b.toString()),o&&o(b))}P.useEffect(function(){g({type:"RESET"})},[g,c]),P.useEffect(function(){if(!c)return;const M=qv(c.getAnnotations()),j=M;return M.promise.then(N=>{g({type:"RESOLVE",value:N})}).catch(N=>{g({type:"REJECT",error:N})}),()=>{uh(j)}},[g,c]),P.useEffect(()=>{if(y!==void 0){if(y===!1){E();return}x()}},[y]);function A(){l&&l()}function S(O){nr(!1,`${O}`),s&&s(O)}const _=P.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return P.useEffect(function(){if(!u||!c||!i||!y)return;const{current:M}=w;if(!M)return;const j=_.clone({dontFlip:!0}),N={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:u.annotationStorage,commentManager:null,div:M,l10n:null,linkService:i,page:c,structTreeLayer:null,viewport:j},R={annotations:y,annotationStorage:u.annotationStorage,div:M,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:j};M.innerHTML="";try{new OT(N).render(R),A()}catch(F){S(F)}return()=>{}},[y,r,i,c,u,h,_]),v.jsx("div",{className:ke("react-pdf__Page__annotations","annotationLayer"),ref:w})}const M4={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Gwe=/^H(\d+)$/;function qwe(t){return t in M4}function D1(t){return"children"in t}function N4(t){return D1(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function Kwe(t){const e={};if(D1(t)){const{role:n}=t,r=n.match(Gwe);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(qwe(n)){const i=M4[n];i&&(e.role=i)}}return e}function R4(t){const e={};if(D1(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),N4(t)){const[n]=t.children;if(n){const r=R4(n);return{...e,...r}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function Xwe(t){return t?{...Kwe(t),...R4(t)}:null}function I4({className:t,node:e}){const n=P.useMemo(()=>Xwe(e),[e]),r=P.useMemo(()=>!D1(e)||N4(e)?null:e.children.map((i,o)=>v.jsx(I4,{node:i},o)),[e]);return v.jsx("span",{className:t,...n,children:r})}function Ywe(){const t=I1();Ye(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,i]=gp(),{value:o,error:a}=r,{customTextRenderer:s,page:l}=t;function c(){o&&n&&n(o)}function u(){a&&(nr(!1,a.toString()),e&&e(a))}return P.useEffect(function(){i({type:"RESET"})},[i,l]),P.useEffect(function(){if(s||!l)return;const f=qv(l.getStructTree()),p=f;return f.promise.then(m=>{i({type:"RESOLVE",value:m})}).catch(m=>{i({type:"REJECT",error:m})}),()=>uh(p)},[s,l,i]),P.useEffect(()=>{if(o!==void 0){if(o===!1){u();return}c()}},[o]),o?v.jsx(I4,{className:"react-pdf__Page__structTree structTree",node:o}):null}const HR=ia;function Jwe(t){const e=I1();Ye(e);const n={...e,...t},{_className:r,canvasBackground:i,devicePixelRatio:o=$we(),onRenderError:a,onRenderSuccess:s,page:l,renderForms:c,renderTextLayer:u,rotate:h,scale:f}=n,{canvasRef:p}=t;Ye(l);const m=P.useRef(null);function g(){l&&s&&s(T_(l,f))}function y(E){Bwe(E)||(nr(!1,E.toString()),a&&a(E))}const b=P.useMemo(()=>l.getViewport({scale:f*o,rotation:h}),[o,l,h,f]),w=P.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);P.useEffect(function(){if(!l)return;l.cleanup();const{current:A}=m;if(!A)return;A.width=b.width,A.height=b.height,A.style.width=`${Math.floor(w.width)}px`,A.style.height=`${Math.floor(w.height)}px`,A.style.visibility="hidden";const S={annotationMode:c?HR.ENABLE_FORMS:HR.ENABLE,canvas:A,canvasContext:A.getContext("2d",{alpha:!1}),viewport:b};i&&(S.background=i);const _=l.render(S),O=_;return _.promise.then(()=>{A.style.visibility="",g()}).catch(y),()=>uh(O)},[i,l,c,b,w]);const x=P.useCallback(()=>{const{current:E}=m;E&&(E.width=0,E.height=0)},[]);return P.useEffect(()=>x,[x]),v.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:O4(p,m),style:{display:"block",userSelect:"none"},children:u?v.jsx(Ywe,{}):null})}function Zwe(t){return"str"in t}function Qwe(){const t=I1();Ye(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:o,page:a,pageIndex:s,pageNumber:l,rotate:c,scale:u}=t;Ye(a);const[h,f]=gp(),{value:p,error:m}=h,g=P.useRef(null);nr(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function y(){p&&r&&r(p)}function b(){m&&(nr(!1,m.toString()),n&&n(m))}P.useEffect(function(){f({type:"RESET"})},[a,f]),P.useEffect(function(){if(!a)return;const O=qv(a.getTextContent()),M=O;return O.promise.then(j=>{f({type:"RESOLVE",value:j})}).catch(j=>{f({type:"REJECT",error:j})}),()=>uh(M)},[a,f]),P.useEffect(()=>{if(p!==void 0){if(p===!1){b();return}y()}},[p]);const w=P.useCallback(()=>{o&&o()},[o]),x=P.useCallback(_=>{nr(!1,_.toString()),i&&i(_)},[i]);function E(){const _=g.current;_&&_.classList.add("selecting")}function A(){const _=g.current;_&&_.classList.remove("selecting")}const S=P.useMemo(()=>a.getViewport({scale:u,rotation:c}),[a,c,u]);return P.useLayoutEffect(function(){if(!a||!p)return;const{current:O}=g;if(!O)return;O.innerHTML="";const M=a.streamTextContent({includeMarkedContent:!0}),j={container:O,textContentSource:M,viewport:S},N=new Lg(j),R=N;return N.render().then(()=>{const F=document.createElement("div");F.className="endOfContent",O.append(F);const $=O.querySelectorAll('[role="presentation"]');if(e){let z=0;p.items.forEach((L,U)=>{if(!Zwe(L))return;const H=$[z];if(!H)return;const V=e({pageIndex:s,pageNumber:l,itemIndex:U,...L});H.innerHTML=V,z+=L.str&&L.hasEOL?2:1})}w()}).catch(x),()=>uh(R)},[e,x,w,a,s,l,p,S]),v.jsx("div",{className:ke("react-pdf__Page__textContent","textLayer"),onMouseUp:A,onMouseDown:E,ref:g})}const VR=1;function e1e(t){const n={...k4(),...t},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:o,canvasRef:a,children:s,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:m,loading:g="Loading pageâ€¦",noData:y="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:E,onGetTextError:A,onGetTextSuccess:S,onLoadError:_,onLoadSuccess:O,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:j,onRenderError:N,onRenderSuccess:R,onRenderTextLayerError:F,onRenderTextLayerSuccess:$,pageIndex:z,pageNumber:L,pdf:U,registerPage:H,renderAnnotationLayer:V=!0,renderForms:I=!1,renderMode:Y="canvas",renderTextLayer:q=!0,rotate:D,scale:oe=VR,unregisterPage:ve,width:be,...Z}=n,[ae,J]=gp(),{value:Q,error:ie}=ae,G=P.useRef(null);Ye(U);const ue=pc(L)?L-1:z??null,ce=L??(pc(z)?z+1:null),we=D??(Q?Q.rotate:null),Pe=P.useMemo(()=>{if(!Q)return null;let ne=1;const xe=oe??VR;if(be||p){const Ae=Q.getViewport({scale:1,rotation:we});be?ne=be/Ae.width:p&&(ne=p/Ae.height)}return xe*ne},[p,Q,we,oe,be]);P.useEffect(function(){return()=>{pc(ue)&&i&&ve&&ve(ue)}},[i,U,ue,ve]);function Ze(){if(O){if(!Q||!Pe)return;O(T_(Q,Pe))}if(i&&H){if(!pc(ue)||!G.current)return;H(ue,G.current)}}function Qt(){ie&&(nr(!1,ie.toString()),_&&_(ie))}P.useEffect(function(){J({type:"RESET"})},[J,U,ue]),P.useEffect(function(){if(!U||!ce)return;const xe=qv(U.getPage(ce)),Ae=xe;return xe.promise.then(Oe=>{J({type:"RESOLVE",value:Oe})}).catch(Oe=>{J({type:"REJECT",error:Oe})}),()=>uh(Ae)},[J,U,ce]),P.useEffect(()=>{if(Q!==void 0){if(Q===!1){Qt();return}Ze()}},[Q,Pe]);const en=P.useMemo(()=>pc(ue)&&ce&&pc(we)&&pc(Pe)?{_className:r,canvasBackground:o,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:b,onGetAnnotationsSuccess:w,onGetStructTreeError:x,onGetStructTreeSuccess:E,onGetTextError:A,onGetTextSuccess:S,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:j,onRenderError:N,onRenderSuccess:R,onRenderTextLayerError:F,onRenderTextLayerSuccess:$,page:Q,pageIndex:ue,pageNumber:ce,renderForms:I,renderTextLayer:q,rotate:we,scale:Pe}:null,[r,o,u,h,b,w,x,E,A,S,M,j,N,R,F,$,Q,ue,ce,I,q,we,Pe]),vi=P.useMemo(()=>C4(Z,()=>Q&&(Pe?T_(Q,Pe):void 0)),[Z,Q,Pe]),le=`${ue}@${Pe}/${we}`;function Qe(){switch(Y){case"custom":return Ye(c),v.jsx(c,{},`${le}_custom`);case"none":return null;case"canvas":default:return v.jsx(Jwe,{canvasRef:a},`${le}_canvas`)}}function An(){return q?v.jsx(Qwe,{},`${le}_text`):null}function Po(){return V?v.jsx(Wwe,{},`${le}_annotations`):null}function bi(){function ne(Ae){return!!(Ae!=null&&Ae.page)}if(!ne(en))throw new Error("page is undefined");const xe=typeof s=="function"?s(en):s;return v.jsxs(j4.Provider,{value:en,children:[Qe(),An(),Po(),xe]})}function K(){return ce?U===null||Q===void 0||Q===null?v.jsx(sd,{type:"loading",children:typeof g=="function"?g():g}):U===!1||Q===!1?v.jsx(sd,{type:"error",children:typeof f=="function"?f():f}):bi():v.jsx(sd,{type:"no-data",children:typeof y=="function"?y():y})}return v.jsx("div",{className:ke(r,l),"data-page-number":ce,ref:O4(m,G),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Pe}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...vi,children:K()})}Fwe();Bi.workerSrc="pdf.worker.mjs";Bi.workerSrc=`${window.location.origin}/pdf.worker.min.mjs`;function t1e({block:t}){const{title:e,url:n,page:r}=t,[i,o]=P.useState(0),[a,s]=P.useState(r||1),[l,c]=P.useState(!0),[u,h]=P.useState(null),f=n.startsWith("/Volumes/")||n.includes("/Volumes/");let p=n;f&&(p=`/api/explore/files/proxy?path=${encodeURIComponent(n)}`);function m({numPages:x}){o(x),c(!1),h(null)}function g(x){h(`Failed to load PDF: ${x.message}`),c(!1)}function y(x){s(E=>Math.max(1,Math.min(E+x,i)))}function b(){y(-1)}function w(){y(1)}return v.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",display:"flex",flexDirection:"column",height:"100%"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(H_,{className:"h-4 w-4",style:{color:"var(--color-accent)"}}),v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:e}),i>0&&v.jsxs("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:["Page ",a," of ",i]})]})]}),v.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1 text-xs rounded border transition-colors",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},onMouseEnter:x=>{x.currentTarget.style.borderColor="var(--color-accent)",x.currentTarget.style.color="var(--color-accent)"},onMouseLeave:x=>{x.currentTarget.style.borderColor="rgba(71, 85, 105, 0.8)",x.currentTarget.style.color="var(--color-text-secondary)"},children:[v.jsx(zl,{className:"h-3 w-3"}),"Open in New Tab"]})]}),v.jsxs("div",{className:"flex-1 overflow-auto flex flex-col items-center p-4",children:[l&&v.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mt-8",children:[v.jsx(Yu,{className:"h-5 w-5 animate-spin"}),v.jsx("span",{children:"Loading PDF..."})]}),u&&v.jsxs("div",{className:"text-red-400 mt-8 text-center",children:[v.jsx("p",{children:u}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Try opening in a new tab using the button above"})]}),v.jsx(Vwe,{file:p,onLoadSuccess:m,onLoadError:g,loading:"",children:v.jsx(e1e,{pageNumber:a,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})})]}),i>1&&!u&&v.jsxs("div",{className:"flex items-center justify-center gap-4 px-4 py-3 border-t",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[v.jsx("button",{onClick:b,disabled:a<=1,className:"p-2 rounded border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:v.jsx(oU,{className:"h-4 w-4"})}),v.jsxs("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:["Page ",a," / ",i]}),v.jsx("button",{onClick:w,disabled:a>=i,className:"p-2 rounded border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:v.jsx(W2,{className:"h-4 w-4"})})]})]})}function n1e({citation:t}){const{fileType:e,url:n,path:r,title:i}=t;switch(e){case"pdf":return v.jsx(t1e,{block:t});case"image":return v.jsx(h3,{block:{id:t.id,type:"image",url:n,alt:i}});case"text":return v.jsx(r1e,{url:n,title:i});case"data":return v.jsx(i1e,{url:n,title:i,path:r});case"word":case"excel":case"powerpoint":return v.jsx(o1e,{url:n,title:i,fileType:e});case"web":return v.jsx(a1e,{url:n,title:i});default:return v.jsx(s1e,{url:n,title:i,path:r})}}function r1e({url:t,title:e}){const[n,r]=P.useState(""),[i,o]=P.useState(!0),[a,s]=P.useState(null);return P.useState(()=>{fetch(t).then(l=>{if(!l.ok)throw new Error(`Failed to load: ${l.statusText}`);return l.text()}).then(l=>{r(l),o(!1)}).catch(l=>{s(l.message),o(!1)})}),v.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",display:"flex",flexDirection:"column",height:"100%"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(H_,{className:"h-4 w-4",style:{color:"var(--color-accent)"}}),v.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:e})]}),v.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1 text-xs rounded border transition-colors",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:[v.jsx(zl,{className:"h-3 w-3"}),"Open"]})]}),v.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[i&&v.jsx("div",{className:"text-gray-400",children:"Loading..."}),a&&v.jsxs("div",{className:"text-red-400",children:["Error: ",a]}),n&&v.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap",style:{color:"var(--color-text-primary)"},children:n})]})]})}function i1e({url:t,title:e,path:n}){const r=n.toLowerCase().endsWith(".csv"),i=n.toLowerCase().endsWith(".json");return v.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",display:"flex",flexDirection:"column",height:"100%"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(eh,{className:"h-4 w-4",style:{color:"var(--color-accent)"}}),v.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:e})]}),v.jsxs("a",{href:t,download:!0,className:"flex items-center gap-1 px-3 py-1 text-xs rounded border transition-colors",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:[v.jsx(ys,{className:"h-3 w-3"}),"Download"]})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:v.jsxs("div",{className:"text-center max-w-md",children:[v.jsx(eh,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),v.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--color-text-primary)"},children:r?"CSV Data File":i?"JSON Data File":"Data File"}),v.jsx("p",{className:"text-sm mb-4",style:{color:"var(--color-text-secondary)"},children:r?"CSV files can be opened in Excel or any spreadsheet application.":i?"JSON files contain structured data in JavaScript Object Notation format.":"This data file can be downloaded and opened with an appropriate application."}),v.jsxs("a",{href:t,download:!0,className:"inline-flex items-center gap-2 px-4 py-2 rounded transition-colors",style:{background:"var(--color-accent)",color:"white"},children:[v.jsx(ys,{className:"h-4 w-4"}),"Download File"]})]})})]})}function o1e({url:t,title:e,fileType:n}){const i={word:"Word Document",excel:"Excel Spreadsheet",powerpoint:"PowerPoint Presentation"}[n]||"Office Document";return v.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",display:"flex",flexDirection:"column",height:"100%"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(eh,{className:"h-4 w-4",style:{color:"var(--color-accent)"}}),v.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:e})]}),v.jsxs("a",{href:t,download:!0,className:"flex items-center gap-1 px-3 py-1 text-xs rounded border transition-colors",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:[v.jsx(ys,{className:"h-3 w-3"}),"Download"]})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:v.jsxs("div",{className:"text-center max-w-md",children:[v.jsx(eh,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),v.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--color-text-primary)"},children:i}),v.jsx("p",{className:"text-sm mb-4",style:{color:"var(--color-text-secondary)"},children:"This file requires Microsoft Office or a compatible application to view."}),v.jsxs("a",{href:t,download:!0,className:"inline-flex items-center gap-2 px-4 py-2 rounded transition-colors",style:{background:"var(--color-accent)",color:"white"},children:[v.jsx(ys,{className:"h-4 w-4"}),"Download to View"]})]})})]})}function a1e({url:t,title:e}){return v.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",display:"flex",flexDirection:"column",height:"100%"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(zl,{className:"h-4 w-4",style:{color:"var(--color-accent)"}}),v.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:e})]}),v.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1 text-xs rounded border transition-colors",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:[v.jsx(zl,{className:"h-3 w-3"}),"Open Link"]})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:v.jsxs("div",{className:"text-center max-w-md",children:[v.jsx(zl,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),v.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--color-text-primary)"},children:"Web Page"}),v.jsx("p",{className:"text-sm mb-4",style:{color:"var(--color-text-secondary)"},children:t}),v.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded transition-colors",style:{background:"var(--color-accent)",color:"white"},children:[v.jsx(zl,{className:"h-4 w-4"}),"Open in New Tab"]})]})})]})}function s1e({url:t,title:e,path:n}){return v.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.96)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--shadow-soft)",display:"flex",flexDirection:"column",height:"100%"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"rgba(30, 41, 59, 0.8)"},children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(eh,{className:"h-4 w-4",style:{color:"var(--color-accent)"}}),v.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:e})]}),v.jsxs("a",{href:t,download:!0,className:"flex items-center gap-1 px-3 py-1 text-xs rounded border transition-colors",style:{borderColor:"rgba(71, 85, 105, 0.8)",color:"var(--color-text-secondary)"},children:[v.jsx(ys,{className:"h-3 w-3"}),"Download"]})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:v.jsxs("div",{className:"text-center max-w-md",children:[v.jsx(qm,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),v.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--color-text-primary)"},children:"File Preview Not Available"}),v.jsx("p",{className:"text-sm mb-2",style:{color:"var(--color-text-secondary)"},children:n}),v.jsx("p",{className:"text-sm mb-4",style:{color:"var(--color-text-muted)"},children:"This file type cannot be previewed in the browser. Download it to view the contents."}),v.jsxs("a",{href:t,download:!0,className:"inline-flex items-center gap-2 px-4 py-2 rounded transition-colors",style:{background:"var(--color-accent)",color:"white"},children:[v.jsx(ys,{className:"h-4 w-4"}),"Download File"]})]})})]})}function l1e(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const c1e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,u1e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,h1e={};function WR(t,e){return(h1e.jsx?u1e:c1e).test(t)}const d1e=/[ \t\n\f\r]/g;function f1e(t){return typeof t=="object"?t.type==="text"?GR(t.value):!1:GR(t)}function GR(t){return t.replace(d1e,"")===""}class Kv{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Kv.prototype.normal={};Kv.prototype.property={};Kv.prototype.space=void 0;function D4(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Kv(n,r,e)}function k_(t){return t.toLowerCase()}class Dr{constructor(e,n){this.attribute=n,this.property=e}}Dr.prototype.attribute="";Dr.prototype.booleanish=!1;Dr.prototype.boolean=!1;Dr.prototype.commaOrSpaceSeparated=!1;Dr.prototype.commaSeparated=!1;Dr.prototype.defined=!1;Dr.prototype.mustUseProperty=!1;Dr.prototype.number=!1;Dr.prototype.overloadedBoolean=!1;Dr.prototype.property="";Dr.prototype.spaceSeparated=!1;Dr.prototype.space=void 0;let p1e=0;const Fe=vh(),cn=vh(),O_=vh(),re=vh(),_t=vh(),ld=vh(),Fr=vh();function vh(){return 2**++p1e}const j_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Fe,booleanish:cn,commaOrSpaceSeparated:Fr,commaSeparated:ld,number:re,overloadedBoolean:O_,spaceSeparated:_t},Symbol.toStringTag,{value:"Module"})),GA=Object.keys(j_);class NT extends Dr{constructor(e,n,r,i){let o=-1;if(super(e,n),qR(this,"space",i),typeof r=="number")for(;++o<GA.length;){const a=GA[o];qR(this,GA[o],(r&j_[a])===j_[a])}}}NT.prototype.defined=!0;function qR(t,e,n){n&&(t[e]=n)}function zp(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new NT(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[k_(r)]=r,n[k_(o.attribute)]=r}return new Kv(e,n,t.space)}const L4=zp({properties:{ariaActiveDescendant:null,ariaAtomic:cn,ariaAutoComplete:null,ariaBusy:cn,ariaChecked:cn,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:_t,ariaCurrent:null,ariaDescribedBy:_t,ariaDetails:null,ariaDisabled:cn,ariaDropEffect:_t,ariaErrorMessage:null,ariaExpanded:cn,ariaFlowTo:_t,ariaGrabbed:cn,ariaHasPopup:null,ariaHidden:cn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_t,ariaLevel:re,ariaLive:null,ariaModal:cn,ariaMultiLine:cn,ariaMultiSelectable:cn,ariaOrientation:null,ariaOwns:_t,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:cn,ariaReadOnly:cn,ariaRelevant:null,ariaRequired:cn,ariaRoleDescription:_t,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:cn,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function $4(t,e){return e in t?t[e]:e}function F4(t,e){return $4(t,e.toLowerCase())}const m1e=zp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ld,acceptCharset:_t,accessKey:_t,action:null,allow:null,allowFullScreen:Fe,allowPaymentRequest:Fe,allowUserMedia:Fe,alt:null,as:null,async:Fe,autoCapitalize:null,autoComplete:_t,autoFocus:Fe,autoPlay:Fe,blocking:_t,capture:null,charSet:null,checked:Fe,cite:null,className:_t,cols:re,colSpan:null,content:null,contentEditable:cn,controls:Fe,controlsList:_t,coords:re|ld,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Fe,defer:Fe,dir:null,dirName:null,disabled:Fe,download:O_,draggable:cn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Fe,formTarget:null,headers:_t,height:re,hidden:O_,high:re,href:null,hrefLang:null,htmlFor:_t,httpEquiv:_t,id:null,imageSizes:null,imageSrcSet:null,inert:Fe,inputMode:null,integrity:null,is:null,isMap:Fe,itemId:null,itemProp:_t,itemRef:_t,itemScope:Fe,itemType:_t,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Fe,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:Fe,muted:Fe,name:null,nonce:null,noModule:Fe,noValidate:Fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Fe,optimum:re,pattern:null,ping:_t,placeholder:null,playsInline:Fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Fe,referrerPolicy:null,rel:_t,required:Fe,reversed:Fe,rows:re,rowSpan:re,sandbox:_t,scope:null,scoped:Fe,seamless:Fe,selected:Fe,shadowRootClonable:Fe,shadowRootDelegatesFocus:Fe,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:cn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:Fe,useMap:null,value:cn,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_t,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Fe,declare:Fe,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:Fe,noHref:Fe,noShade:Fe,noWrap:Fe,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:cn,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Fe,disableRemotePlayback:Fe,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:F4}),g1e=zp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Fr,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:_t,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:Fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ld,g2:ld,glyphName:ld,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:Fr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_t,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Fr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Fr,rev:Fr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Fr,requiredFeatures:Fr,requiredFonts:Fr,requiredFormats:Fr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:Fr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Fr,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Fr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$4}),B4=zp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),z4=zp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:F4}),U4=zp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),y1e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},v1e=/[A-Z]/g,KR=/-[a-z]/g,b1e=/^data[-\w.:]+$/i;function x1e(t,e){const n=k_(e);let r=e,i=Dr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&b1e.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(KR,A1e);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!KR.test(o)){let a=o.replace(v1e,w1e);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=NT}return new i(r,e)}function w1e(t){return"-"+t.toLowerCase()}function A1e(t){return t.charAt(1).toUpperCase()}const S1e=D4([L4,m1e,B4,z4,U4],"html"),RT=D4([L4,g1e,B4,z4,U4],"svg");function E1e(t){return t.join(" ").trim()}var IT={},XR=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,C1e=/\n/g,_1e=/^\s*/,P1e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,T1e=/^:\s*/,k1e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,O1e=/^[;\s]*/,j1e=/^\s+|\s+$/g,M1e=`
`,YR="/",JR="*",Tc="",N1e="comment",R1e="declaration";function I1e(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var g=m.match(C1e);g&&(n+=g.length);var y=m.lastIndexOf(M1e);r=~y?m.length-y:r+m.length}function o(){var m={line:n,column:r};return function(g){return g.position=new a(m),c(),g}}function a(m){this.start=m,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function s(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(m){var g=m.exec(t);if(g){var y=g[0];return i(y),t=t.slice(y.length),g}}function c(){l(_1e)}function u(m){var g;for(m=m||[];g=h();)g!==!1&&m.push(g);return m}function h(){var m=o();if(!(YR!=t.charAt(0)||JR!=t.charAt(1))){for(var g=2;Tc!=t.charAt(g)&&(JR!=t.charAt(g)||YR!=t.charAt(g+1));)++g;if(g+=2,Tc===t.charAt(g-1))return s("End of comment missing");var y=t.slice(2,g-2);return r+=2,i(y),t=t.slice(g),r+=2,m({type:N1e,comment:y})}}function f(){var m=o(),g=l(P1e);if(g){if(h(),!l(T1e))return s("property missing ':'");var y=l(k1e),b=m({type:R1e,property:ZR(g[0].replace(XR,Tc)),value:y?ZR(y[0].replace(XR,Tc)):Tc});return l(O1e),b}}function p(){var m=[];u(m);for(var g;g=f();)g!==!1&&(m.push(g),u(m));return m}return c(),p()}function ZR(t){return t?t.replace(j1e,Tc):Tc}var D1e=I1e,L1e=Bl&&Bl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(IT,"__esModule",{value:!0});IT.default=F1e;const $1e=L1e(D1e);function F1e(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,$1e.default)(t),i=typeof e=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:a,value:s}=o;i?e(a,s,o):s&&(n=n||{},n[a]=s)}),n}var L1={};Object.defineProperty(L1,"__esModule",{value:!0});L1.camelCase=void 0;var B1e=/^--[a-zA-Z0-9_-]+$/,z1e=/-([a-z])/g,U1e=/^[^-]+$/,H1e=/^-(webkit|moz|ms|o|khtml)-/,V1e=/^-(ms)-/,W1e=function(t){return!t||U1e.test(t)||B1e.test(t)},G1e=function(t,e){return e.toUpperCase()},QR=function(t,e){return"".concat(e,"-")},q1e=function(t,e){return e===void 0&&(e={}),W1e(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(V1e,QR):t=t.replace(H1e,QR),t.replace(z1e,G1e))};L1.camelCase=q1e;var K1e=Bl&&Bl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},X1e=K1e(IT),Y1e=L1;function M_(t,e){var n={};return!t||typeof t!="string"||(0,X1e.default)(t,function(r,i){r&&i&&(n[(0,Y1e.camelCase)(r,e)]=i)}),n}M_.default=M_;var J1e=M_;const Z1e=at(J1e),H4=V4("end"),DT=V4("start");function V4(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Q1e(t){const e=DT(t),n=H4(t);if(e&&n)return{start:e,end:n}}function Vm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?e2(t.position):"start"in t||"end"in t?e2(t):"line"in t||"column"in t?N_(t):""}function N_(t){return t2(t&&t.line)+":"+t2(t&&t.column)}function e2(t){return N_(t&&t.start)+"-"+N_(t&&t.end)}function t2(t){return t&&typeof t=="number"?t:1}class or extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(a=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Vm(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}or.prototype.file="";or.prototype.name="";or.prototype.reason="";or.prototype.message="";or.prototype.stack="";or.prototype.column=void 0;or.prototype.line=void 0;or.prototype.ancestors=void 0;or.prototype.cause=void 0;or.prototype.fatal=void 0;or.prototype.place=void 0;or.prototype.ruleId=void 0;or.prototype.source=void 0;const LT={}.hasOwnProperty,eAe=new Map,tAe=/[A-Z]/g,nAe=new Set(["table","tbody","thead","tfoot","tr"]),rAe=new Set(["td","th"]),W4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function iAe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=dAe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=hAe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?RT:S1e,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=G4(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function G4(t,e,n){if(e.type==="element")return oAe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return aAe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return lAe(t,e,n);if(e.type==="mdxjsEsm")return sAe(t,e);if(e.type==="root")return cAe(t,e,n);if(e.type==="text")return uAe(t,e)}function oAe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=RT,t.schema=i),t.ancestors.push(e);const o=K4(t,e.tagName,!1),a=fAe(t,e);let s=FT(t,e);return nAe.has(e.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!f1e(l):!0})),q4(t,a,o,e),$T(a,s),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function aAe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Bg(t,e.position)}function sAe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Bg(t,e.position)}function lAe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=RT,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:K4(t,e.name,!0),a=pAe(t,e),s=FT(t,e);return q4(t,a,o,e),$T(a,s),t.ancestors.pop(),t.schema=r,t.create(e,o,a,n)}function cAe(t,e,n){const r={};return $T(r,FT(t,e)),t.create(e,t.Fragment,r,n)}function uAe(t,e){return e.value}function q4(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function $T(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function hAe(t,e,n){return r;function r(i,o,a,s){const c=Array.isArray(a.children)?n:e;return s?c(o,a,s):c(o,a)}}function dAe(t,e){return n;function n(r,i,o,a){const s=Array.isArray(o.children),l=DT(r);return e(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function fAe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&LT.call(e.properties,i)){const o=mAe(t,i,e.properties[i]);if(o){const[a,s]=o;t.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&rAe.has(e.tagName)?r=s:n[a]=s}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function pAe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(n,t.evaluater.evaluateExpression(s.argument))}else Bg(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const s=r.value.data.estree.body[0];s.type,o=t.evaluater.evaluateExpression(s.expression)}else Bg(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function FT(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:eAe;for(;++r<e.children.length;){const o=e.children[r];let a;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const s=G4(t,o,a);s!==void 0&&n.push(s)}return n}function mAe(t,e,n){const r=x1e(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?l1e(n):E1e(n)),r.property==="style"){let i=typeof n=="object"?n:gAe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=yAe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?y1e[r.property]||r.property:r.attribute,n]}}function gAe(t,e){try{return Z1e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new or("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=W4+"#cannot-parse-style-attribute",i}}function K4(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,a;for(;++o<i.length;){const s=WR(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=a}else r=WR(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return LT.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Bg(t)}function Bg(t,e){const n=new or("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=W4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function yAe(t){const e={};let n;for(n in t)LT.call(t,n)&&(e[vAe(n)]=t[n]);return e}function vAe(t){let e=t.replace(tAe,bAe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function bAe(t){return"-"+t.toLowerCase()}const qA={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xAe={};function BT(t,e){const n=xAe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return X4(t,r,i)}function X4(t,e,n){if(wAe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return n2(t.children,e,n)}return Array.isArray(t)?n2(t,e,n):""}function n2(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=X4(t[i],e,n);return r.join("")}function wAe(t){return!!(t&&typeof t=="object")}const r2=document.createElement("i");function zT(t){const e="&"+t+";";r2.innerHTML=e;const n=r2.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function pi(t,e,n,r){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function $i(t,e){return t.length>0?(pi(t,t.length,0,e),t):e}const i2={}.hasOwnProperty;function Y4(t){const e={};let n=-1;for(;++n<t.length;)AAe(e,t[n]);return e}function AAe(t,e){let n;for(n in e){const i=(i2.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;if(o)for(a in o){i2.call(i,a)||(i[a]=[]);const s=o[a];SAe(i[a],Array.isArray(s)?s:s?[s]:[])}}}function SAe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);pi(t,0,0,r)}function J4(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function xo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dr=cc(/[A-Za-z]/),rr=cc(/[\dA-Za-z]/),EAe=cc(/[#-'*+\--9=?A-Z^-~]/);function G0(t){return t!==null&&(t<32||t===127)}const R_=cc(/\d/),CAe=cc(/[\dA-Fa-f]/),_Ae=cc(/[!-/:-@[-`{-~]/);function Se(t){return t!==null&&t<-2}function Et(t){return t!==null&&(t<0||t===32)}function We(t){return t===-2||t===-1||t===32}const $1=cc(new RegExp("\\p{P}|\\p{S}","u")),hh=cc(/\s/);function cc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Up(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let a="";if(o===37&&rr(t.charCodeAt(n+1))&&rr(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a="ï¿½"}else a=String.fromCharCode(o);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Je(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return We(l)?(t.enter(n),s(l)):e(l)}function s(l){return We(l)&&o++<i?(t.consume(l),s):(t.exit(n),e(l))}}const PAe={tokenize:TAe};function TAe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Je(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),o(s)}function o(s){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return Se(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),a)}}const kAe={tokenize:OAe},o2={tokenize:jAe};function OAe(t){const e=this,n=[];let r=0,i,o,a;return s;function s(x){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,l,c)(x)}return c(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const E=e.events.length;let A=E,S;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){S=e.events[A][1].end;break}b(r);let _=E;for(;_<e.events.length;)e.events[_][1].end={...S},_++;return pi(e.events,A+1,0,e.events.slice(E)),e.events.length=_,c(x)}return s(x)}function c(x){if(r===n.length){if(!i)return f(x);if(i.currentConstruct&&i.currentConstruct.concrete)return m(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(o2,u,h)(x)}function u(x){return i&&w(),b(r),f(x)}function h(x){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,m(x)}function f(x){return e.containerState={},t.attempt(o2,p,m)(x)}function p(x){return r++,n.push([e.currentConstruct,e.containerState]),f(x)}function m(x){if(x===null){i&&w(),b(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),g(x)}function g(x){if(x===null){y(t.exit("chunkFlow"),!0),b(0),t.consume(x);return}return Se(x)?(t.consume(x),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(x),g)}function y(x,E){const A=e.sliceStream(x);if(E&&A.push(null),x.previous=o,o&&(o.next=x),o=x,i.defineSkip(x.start),i.write(A),e.parser.lazy[x.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<a&&(!i.events[S][1].end||i.events[S][1].end.offset>a))return;const _=e.events.length;let O=_,M,j;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){if(M){j=e.events[O][1].end;break}M=!0}for(b(r),S=_;S<e.events.length;)e.events[S][1].end={...j},S++;pi(e.events,O+1,0,e.events.slice(_)),e.events.length=S}}function b(x){let E=n.length;for(;E-- >x;){const A=n[E];e.containerState=A[1],A[0].exit.call(e,t)}n.length=x}function w(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function jAe(t,e,n){return Je(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yp(t){if(t===null||Et(t)||hh(t))return 1;if($1(t))return 2}function F1(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const I_={name:"attention",resolveAll:MAe,tokenize:NAe};function MAe(t,e){let n=-1,r,i,o,a,s,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},f={...t[n][1].start};a2(h,-l),a2(f,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},o={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},t[r][1].end={...a.start},t[n][1].start={...s.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=$i(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=$i(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),c=$i(c,F1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=$i(c,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=$i(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,pi(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function NAe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=yp(r);let o;return a;function a(l){return o=l,t.enter("attentionSequence"),s(l)}function s(l){if(l===o)return t.consume(l),s;const c=t.exit("attentionSequence"),u=yp(l),h=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(o===42?h:h&&(i||!f)),c._close=!!(o===42?f:f&&(u||!h)),e(l)}}function a2(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const RAe={name:"autolink",tokenize:IAe};function IAe(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(p){return dr(p)?(t.consume(p),a):p===64?n(p):c(p)}function a(p){return p===43||p===45||p===46||rr(p)?(r=1,s(p)):c(p)}function s(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||rr(p))&&r++<32?(t.consume(p),s):(r=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||G0(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),u):EAe(p)?(t.consume(p),c):n(p)}function u(p){return rr(p)?h(p):n(p)}function h(p){return p===46?(t.consume(p),r=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||rr(p))&&r++<63){const m=p===45?f:h;return t.consume(p),m}return n(p)}}const Xv={partial:!0,tokenize:DAe};function DAe(t,e,n){return r;function r(o){return We(o)?Je(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Se(o)?e(o):n(o)}}const Z4={continuation:{tokenize:$Ae},exit:FAe,name:"blockQuote",tokenize:LAe};function LAe(t,e,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return We(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function $Ae(t,e,n){const r=this;return i;function i(a){return We(a)?Je(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(Z4,e,n)(a)}}function FAe(t){t.exit("blockQuote")}const Q4={name:"characterEscape",tokenize:BAe};function BAe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return _Ae(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const ez={name:"characterReference",tokenize:zAe};function zAe(t,e,n){const r=this;let i=0,o,a;return s;function s(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,a=rr,u(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=CAe,u):(t.enter("characterReferenceValue"),o=7,a=R_,u(h))}function u(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return a===rr&&!zT(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(h)&&i++<o?(t.consume(h),u):n(h)}}const s2={partial:!0,tokenize:HAe},l2={concrete:!0,name:"codeFenced",tokenize:UAe};function UAe(t,e,n){const r=this,i={partial:!0,tokenize:A};let o=0,a=0,s;return l;function l(S){return c(S)}function c(S){const _=r.events[r.events.length-1];return o=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,s=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(S)}function u(S){return S===s?(a++,t.consume(S),u):a<3?n(S):(t.exit("codeFencedFenceSequence"),We(S)?Je(t,h,"whitespace")(S):h(S))}function h(S){return S===null||Se(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check(s2,g,E)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||Se(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(S)):We(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Je(t,p,"whitespace")(S)):S===96&&S===s?n(S):(t.consume(S),f)}function p(S){return S===null||Se(S)?h(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||Se(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(S)):S===96&&S===s?n(S):(t.consume(S),m)}function g(S){return t.attempt(i,E,y)(S)}function y(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),b}function b(S){return o>0&&We(S)?Je(t,w,"linePrefix",o+1)(S):w(S)}function w(S){return S===null||Se(S)?t.check(s2,g,E)(S):(t.enter("codeFlowValue"),x(S))}function x(S){return S===null||Se(S)?(t.exit("codeFlowValue"),w(S)):(t.consume(S),x)}function E(S){return t.exit("codeFenced"),e(S)}function A(S,_,O){let M=0;return j;function j(z){return S.enter("lineEnding"),S.consume(z),S.exit("lineEnding"),N}function N(z){return S.enter("codeFencedFence"),We(z)?Je(S,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):R(z)}function R(z){return z===s?(S.enter("codeFencedFenceSequence"),F(z)):O(z)}function F(z){return z===s?(M++,S.consume(z),F):M>=a?(S.exit("codeFencedFenceSequence"),We(z)?Je(S,$,"whitespace")(z):$(z)):O(z)}function $(z){return z===null||Se(z)?(S.exit("codeFencedFence"),_(z)):O(z)}}}function HAe(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const KA={name:"codeIndented",tokenize:WAe},VAe={partial:!0,tokenize:GAe};function WAe(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Je(t,o,"linePrefix",5)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):Se(c)?t.attempt(VAe,a,l)(c):(t.enter("codeFlowValue"),s(c))}function s(c){return c===null||Se(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),s)}function l(c){return t.exit("codeIndented"),e(c)}}function GAe(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Se(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Je(t,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):Se(a)?i(a):n(a)}}const qAe={name:"codeText",previous:XAe,resolve:KAe,tokenize:YAe};function KAe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function XAe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function YAe(t,e,n){let r=0,i,o;return a;function a(h){return t.enter("codeText"),t.enter("codeTextSequence"),s(h)}function s(h){return h===96?(t.consume(h),r++,s):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(o=t.enter("codeTextSequence"),i=0,u(h)):Se(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||Se(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function u(h){return h===96?(t.consume(h),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(o.type="codeTextData",c(h))}}class JAe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&cm(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),cm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),cm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);cm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);cm(this.left,n.reverse())}}}function cm(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function tz(t){const e={};let n=-1,r,i,o,a,s,l,c;const u=new JAe(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,ZAe(u,n)),n=e[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=u.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},s=u.slice(i,n),s.unshift(r),u.splice(i,n-i+1,s))}}return pi(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function ZAe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],c={};let u,h,f=-1,p=n,m=0,g=0;const y=[g];for(;p;){for(;t.get(++i)[1]!==p;);o.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),h&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<s.length;)s[f][0]==="exit"&&s[f-1][0]==="enter"&&s[f][1].type===s[f-1][1].type&&s[f][1].start.line!==s[f][1].end.line&&(g=f+1,y.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),f=y.length;f--;){const b=s.slice(y[f],y[f+1]),w=o.pop();l.push([w,w+b.length-1]),t.splice(w,2,b)}for(l.reverse(),f=-1;++f<l.length;)c[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return c}const QAe={resolve:tSe,tokenize:nSe},eSe={partial:!0,tokenize:rSe};function tSe(t){return tz(t),t}function nSe(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):Se(s)?t.check(eSe,a,o)(s):(t.consume(s),i)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function a(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function rSe(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Je(t,o,"linePrefix")}function o(a){if(a===null||Se(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function nz(t,e,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(b){return b===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(b),t.exit(o),f):b===null||b===32||b===41||G0(b)?n(b):(t.enter(r),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),g(b))}function f(b){return b===62?(t.enter(o),t.consume(b),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===62?(t.exit("chunkString"),t.exit(s),f(b)):b===null||b===60||Se(b)?n(b):(t.consume(b),b===92?m:p)}function m(b){return b===60||b===62||b===92?(t.consume(b),p):p(b)}function g(b){return!u&&(b===null||b===41||Et(b))?(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(b)):u<c&&b===40?(t.consume(b),u++,g):b===41?(t.consume(b),u--,g):b===null||b===32||b===40||G0(b)?n(b):(t.consume(b),b===92?y:g)}function y(b){return b===40||b===41||b===92?(t.consume(b),g):g(b)}}function rz(t,e,n,r,i,o){const a=this;let s=0,l;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(o),u}function u(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(t.exit(o),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):Se(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||Se(p)||s++>999?(t.exit("chunkString"),u(p)):(t.consume(p),l||(l=!We(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(t.consume(p),s++,h):h(p)}}function iz(t,e,n,r,i,o){let a;return s;function s(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),a=f===40?41:f,l):n(f)}function l(f){return f===a?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(o),c(f))}function c(f){return f===a?(t.exit(o),l(a)):f===null?n(f):Se(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Je(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===a||f===null||Se(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?h:u)}function h(f){return f===a||f===92?(t.consume(f),u):u(f)}}function Wm(t,e){let n;return r;function r(i){return Se(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):We(i)?Je(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const iSe={name:"definition",tokenize:aSe},oSe={partial:!0,tokenize:sSe};function aSe(t,e,n){const r=this;let i;return o;function o(p){return t.enter("definition"),a(p)}function a(p){return rz.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Et(p)?Wm(t,c)(p):c(p)}function c(p){return nz(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return t.attempt(oSe,h,h)(p)}function h(p){return We(p)?Je(t,f,"whitespace")(p):f(p)}function f(p){return p===null||Se(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function sSe(t,e,n){return r;function r(s){return Et(s)?Wm(t,i)(s):n(s)}function i(s){return iz(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return We(s)?Je(t,a,"whitespace")(s):a(s)}function a(s){return s===null||Se(s)?e(s):n(s)}}const lSe={name:"hardBreakEscape",tokenize:cSe};function cSe(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Se(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const uSe={name:"headingAtx",resolve:hSe,tokenize:dSe};function hSe(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},pi(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function dSe(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),o(u)}function o(u){return t.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&r++<6?(t.consume(u),a):u===null||Et(u)?(t.exit("atxHeadingSequence"),s(u)):n(u)}function s(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||Se(u)?(t.exit("atxHeading"),e(u)):We(u)?Je(t,s,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||Et(u)?(t.exit("atxHeadingText"),s(u)):(t.consume(u),c)}}const fSe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],c2=["pre","script","style","textarea"],pSe={concrete:!0,name:"htmlFlow",resolveTo:ySe,tokenize:vSe},mSe={partial:!0,tokenize:xSe},gSe={partial:!0,tokenize:bSe};function ySe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function vSe(t,e,n){const r=this;let i,o,a,s,l;return c;function c(D){return u(D)}function u(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),h}function h(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),o=!0,g):D===63?(t.consume(D),i=3,r.interrupt?e:I):dr(D)?(t.consume(D),a=String.fromCharCode(D),y):n(D)}function f(D){return D===45?(t.consume(D),i=2,p):D===91?(t.consume(D),i=5,s=0,m):dr(D)?(t.consume(D),i=4,r.interrupt?e:I):n(D)}function p(D){return D===45?(t.consume(D),r.interrupt?e:I):n(D)}function m(D){const oe="CDATA[";return D===oe.charCodeAt(s++)?(t.consume(D),s===oe.length?r.interrupt?e:R:m):n(D)}function g(D){return dr(D)?(t.consume(D),a=String.fromCharCode(D),y):n(D)}function y(D){if(D===null||D===47||D===62||Et(D)){const oe=D===47,ve=a.toLowerCase();return!oe&&!o&&c2.includes(ve)?(i=1,r.interrupt?e(D):R(D)):fSe.includes(a.toLowerCase())?(i=6,oe?(t.consume(D),b):r.interrupt?e(D):R(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):o?w(D):x(D))}return D===45||rr(D)?(t.consume(D),a+=String.fromCharCode(D),y):n(D)}function b(D){return D===62?(t.consume(D),r.interrupt?e:R):n(D)}function w(D){return We(D)?(t.consume(D),w):j(D)}function x(D){return D===47?(t.consume(D),j):D===58||D===95||dr(D)?(t.consume(D),E):We(D)?(t.consume(D),x):j(D)}function E(D){return D===45||D===46||D===58||D===95||rr(D)?(t.consume(D),E):A(D)}function A(D){return D===61?(t.consume(D),S):We(D)?(t.consume(D),A):x(D)}function S(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),l=D,_):We(D)?(t.consume(D),S):O(D)}function _(D){return D===l?(t.consume(D),l=null,M):D===null||Se(D)?n(D):(t.consume(D),_)}function O(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||Et(D)?A(D):(t.consume(D),O)}function M(D){return D===47||D===62||We(D)?x(D):n(D)}function j(D){return D===62?(t.consume(D),N):n(D)}function N(D){return D===null||Se(D)?R(D):We(D)?(t.consume(D),N):n(D)}function R(D){return D===45&&i===2?(t.consume(D),L):D===60&&i===1?(t.consume(D),U):D===62&&i===4?(t.consume(D),Y):D===63&&i===3?(t.consume(D),I):D===93&&i===5?(t.consume(D),V):Se(D)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(mSe,q,F)(D)):D===null||Se(D)?(t.exit("htmlFlowData"),F(D)):(t.consume(D),R)}function F(D){return t.check(gSe,$,q)(D)}function $(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),z}function z(D){return D===null||Se(D)?F(D):(t.enter("htmlFlowData"),R(D))}function L(D){return D===45?(t.consume(D),I):R(D)}function U(D){return D===47?(t.consume(D),a="",H):R(D)}function H(D){if(D===62){const oe=a.toLowerCase();return c2.includes(oe)?(t.consume(D),Y):R(D)}return dr(D)&&a.length<8?(t.consume(D),a+=String.fromCharCode(D),H):R(D)}function V(D){return D===93?(t.consume(D),I):R(D)}function I(D){return D===62?(t.consume(D),Y):D===45&&i===2?(t.consume(D),I):R(D)}function Y(D){return D===null||Se(D)?(t.exit("htmlFlowData"),q(D)):(t.consume(D),Y)}function q(D){return t.exit("htmlFlow"),e(D)}}function bSe(t,e,n){const r=this;return i;function i(a){return Se(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function xSe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Xv,e,n)}}const wSe={name:"htmlText",tokenize:ASe};function ASe(t,e,n){const r=this;let i,o,a;return s;function s(I){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(I),l}function l(I){return I===33?(t.consume(I),c):I===47?(t.consume(I),A):I===63?(t.consume(I),x):dr(I)?(t.consume(I),O):n(I)}function c(I){return I===45?(t.consume(I),u):I===91?(t.consume(I),o=0,m):dr(I)?(t.consume(I),w):n(I)}function u(I){return I===45?(t.consume(I),p):n(I)}function h(I){return I===null?n(I):I===45?(t.consume(I),f):Se(I)?(a=h,U(I)):(t.consume(I),h)}function f(I){return I===45?(t.consume(I),p):h(I)}function p(I){return I===62?L(I):I===45?f(I):h(I)}function m(I){const Y="CDATA[";return I===Y.charCodeAt(o++)?(t.consume(I),o===Y.length?g:m):n(I)}function g(I){return I===null?n(I):I===93?(t.consume(I),y):Se(I)?(a=g,U(I)):(t.consume(I),g)}function y(I){return I===93?(t.consume(I),b):g(I)}function b(I){return I===62?L(I):I===93?(t.consume(I),b):g(I)}function w(I){return I===null||I===62?L(I):Se(I)?(a=w,U(I)):(t.consume(I),w)}function x(I){return I===null?n(I):I===63?(t.consume(I),E):Se(I)?(a=x,U(I)):(t.consume(I),x)}function E(I){return I===62?L(I):x(I)}function A(I){return dr(I)?(t.consume(I),S):n(I)}function S(I){return I===45||rr(I)?(t.consume(I),S):_(I)}function _(I){return Se(I)?(a=_,U(I)):We(I)?(t.consume(I),_):L(I)}function O(I){return I===45||rr(I)?(t.consume(I),O):I===47||I===62||Et(I)?M(I):n(I)}function M(I){return I===47?(t.consume(I),L):I===58||I===95||dr(I)?(t.consume(I),j):Se(I)?(a=M,U(I)):We(I)?(t.consume(I),M):L(I)}function j(I){return I===45||I===46||I===58||I===95||rr(I)?(t.consume(I),j):N(I)}function N(I){return I===61?(t.consume(I),R):Se(I)?(a=N,U(I)):We(I)?(t.consume(I),N):M(I)}function R(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(t.consume(I),i=I,F):Se(I)?(a=R,U(I)):We(I)?(t.consume(I),R):(t.consume(I),$)}function F(I){return I===i?(t.consume(I),i=void 0,z):I===null?n(I):Se(I)?(a=F,U(I)):(t.consume(I),F)}function $(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||Et(I)?M(I):(t.consume(I),$)}function z(I){return I===47||I===62||Et(I)?M(I):n(I)}function L(I){return I===62?(t.consume(I),t.exit("htmlTextData"),t.exit("htmlText"),e):n(I)}function U(I){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),H}function H(I){return We(I)?Je(t,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):V(I)}function V(I){return t.enter("htmlTextData"),a(I)}}const UT={name:"labelEnd",resolveAll:_Se,resolveTo:PSe,tokenize:TSe},SSe={tokenize:kSe},ESe={tokenize:OSe},CSe={tokenize:jSe};function _Se(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&pi(t,0,t.length,n),t}function PSe(t,e){let n=t.length,r=0,i,o,a,s;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[o][1].start},end:{...t[a][1].end}},u={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[a-2][1].start}};return s=[["enter",l,e],["enter",c,e]],s=$i(s,t.slice(o+1,o+r+3)),s=$i(s,[["enter",u,e]]),s=$i(s,F1(e.parser.constructs.insideSpan.null,t.slice(o+r+4,a-3),e)),s=$i(s,[["exit",u,e],t[a-2],t[a-1],["exit",c,e]]),s=$i(s,t.slice(a+1)),s=$i(s,[["exit",l,e]]),pi(t,o,t.length,s),t}function TSe(t,e,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(f){return o?o._inactive?h(f):(a=r.parser.defined.includes(xo(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(SSe,u,a?u:h)(f):f===91?t.attempt(ESe,u,a?c:h)(f):a?u(f):h(f)}function c(f){return t.attempt(CSe,u,h)(f)}function u(f){return e(f)}function h(f){return o._balanced=!0,n(f)}}function kSe(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Et(h)?Wm(t,o)(h):o(h)}function o(h){return h===41?u(h):nz(t,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Et(h)?Wm(t,l)(h):u(h)}function s(h){return n(h)}function l(h){return h===34||h===39||h===40?iz(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return Et(h)?Wm(t,u)(h):u(h)}function u(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function OSe(t,e,n){const r=this;return i;function i(s){return rz.call(r,t,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function a(s){return n(s)}}function jSe(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const MSe={name:"labelStartImage",resolveAll:UT.resolveAll,tokenize:NSe};function NSe(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const RSe={name:"labelStartLink",resolveAll:UT.resolveAll,tokenize:ISe};function ISe(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const XA={name:"lineEnding",tokenize:DSe};function DSe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Je(t,e,"linePrefix")}}const bx={name:"thematicBreak",tokenize:LSe};function LSe(t,e,n){let r=0,i;return o;function o(c){return t.enter("thematicBreak"),a(c)}function a(c){return i=c,s(c)}function s(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Se(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),We(c)?Je(t,s,"whitespace")(c):s(c))}}const xr={continuation:{tokenize:zSe},exit:HSe,name:"list",tokenize:BSe},$Se={partial:!0,tokenize:VSe},FSe={partial:!0,tokenize:USe};function BSe(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:R_(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(bx,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return R_(p)&&++a<10?(t.consume(p),l):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Xv,r.interrupt?n:u,t.attempt($Se,f,h))}function u(p){return r.containerState.initialBlankLine=!0,o++,f(p)}function h(p){return We(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function zSe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Xv,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Je(t,e,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!We(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(FSe,e,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Je(t,t.attempt(xr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function USe(t,e,n){const r=this;return Je(t,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):n(o)}}function HSe(t){t.exit(this.containerState.type)}function VSe(t,e,n){const r=this;return Je(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!We(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const u2={name:"setextUnderline",resolveTo:WSe,tokenize:GSe};function WSe(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function GSe(t,e,n){const r=this;let i;return o;function o(c){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return t.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(t.consume(c),s):(t.exit("setextHeadingLineSequence"),We(c)?Je(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Se(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const qSe={tokenize:KSe};function KSe(t){const e=this,n=t.attempt(Xv,r,t.attempt(this.parser.constructs.flowInitial,i,Je(t,t.attempt(this.parser.constructs.flow,i,t.attempt(QAe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const XSe={resolveAll:az()},YSe=oz("string"),JSe=oz("text");function oz(t){return{resolveAll:az(t==="text"?ZSe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,a,s);return a;function a(u){return c(u)?o(u):s(u)}function s(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function az(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function ZSe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(c===-2)l=!0,s++;else if(c!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(s=0),s){const c={type:n===t.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const QSe={42:xr,43:xr,45:xr,48:xr,49:xr,50:xr,51:xr,52:xr,53:xr,54:xr,55:xr,56:xr,57:xr,62:Z4},eEe={91:iSe},tEe={[-2]:KA,[-1]:KA,32:KA},nEe={35:uSe,42:bx,45:[u2,bx],60:pSe,61:u2,95:bx,96:l2,126:l2},rEe={38:ez,92:Q4},iEe={[-5]:XA,[-4]:XA,[-3]:XA,33:MSe,38:ez,42:I_,60:[RAe,wSe],91:RSe,92:[lSe,Q4],93:UT,95:I_,96:qAe},oEe={null:[I_,XSe]},aEe={null:[42,95]},sEe={null:[]},lEe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aEe,contentInitial:eEe,disable:sEe,document:QSe,flow:nEe,flowInitial:tEe,insideSpan:oEe,string:rEe,text:iEe},Symbol.toStringTag,{value:"Module"}));function cEe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:_(A),check:_(S),consume:w,enter:x,exit:E,interrupt:_(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:h};let u=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function h(N){return a=$i(a,N),y(),a[a.length-1]!==null?[]:(O(e,0),c.events=F1(o,c.events,c),c.events)}function f(N,R){return hEe(p(N),R)}function p(N){return uEe(a,N)}function m(){const{_bufferIndex:N,_index:R,line:F,column:$,offset:z}=r;return{_bufferIndex:N,_index:R,line:F,column:$,offset:z}}function g(N){i[N.line]=N.column,j()}function y(){let N;for(;r._index<a.length;){const R=a[r._index];if(typeof R=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<R.length;)b(R.charCodeAt(r._bufferIndex));else b(R)}}function b(N){u=u(N)}function w(N){Se(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,j()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=N}function x(N,R){const F=R||{};return F.type=N,F.start=m(),c.events.push(["enter",F,c]),s.push(F),F}function E(N){const R=s.pop();return R.end=m(),c.events.push(["exit",R,c]),R}function A(N,R){O(N,R.from)}function S(N,R){R.restore()}function _(N,R){return F;function F($,z,L){let U,H,V,I;return Array.isArray($)?q($):"tokenize"in $?q([$]):Y($);function Y(be){return Z;function Z(ae){const J=ae!==null&&be[ae],Q=ae!==null&&be.null,ie=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(Q)?Q:Q?[Q]:[]];return q(ie)(ae)}}function q(be){return U=be,H=0,be.length===0?L:D(be[H])}function D(be){return Z;function Z(ae){return I=M(),V=be,be.partial||(c.currentConstruct=be),be.name&&c.parser.constructs.disable.null.includes(be.name)?ve():be.tokenize.call(R?Object.assign(Object.create(c),R):c,l,oe,ve)(ae)}}function oe(be){return N(V,I),z}function ve(be){return I.restore(),++H<U.length?D(U[H]):L}}}function O(N,R){N.resolveAll&&!o.includes(N)&&o.push(N),N.resolve&&pi(c.events,R,c.events.length-R,N.resolve(c.events.slice(R),c)),N.resolveTo&&(c.events=N.resolveTo(c.events,c))}function M(){const N=m(),R=c.previous,F=c.currentConstruct,$=c.events.length,z=Array.from(s);return{from:$,restore:L};function L(){r=N,c.previous=R,c.currentConstruct=F,c.events.length=$,s=z,j()}}function j(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function uEe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,o)];else{if(a=t.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function hEe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function dEe(t){const r={constructs:Y4([lEe,...(t||{}).extensions||[]]),content:i(PAe),defined:[],document:i(kAe),flow:i(qSe),lazy:{},string:i(YSe),text:i(JSe)};return r;function i(o){return a;function a(s){return cEe(r,o,s)}}}function fEe(t){for(;!tz(t););return t}const h2=/[\0\t\n\r]/g;function pEe(){let t=1,e="",n=!0,r;return i;function i(o,a,s){const l=[];let c,u,h,f,p;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),h=0,e="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(h2.lastIndex=h,c=h2.exec(o),f=c&&c.index!==void 0?c.index:o.length,p=o.charCodeAt(f),!c){e=o.slice(h);break}if(p===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(o.slice(h,f)),t+=f-h),p){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return s&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const mEe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gEe(t){return t.replace(mEe,yEe)}function yEe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return J4(n.slice(o?2:1),o?16:10)}return zT(n)||t}const sz={}.hasOwnProperty;function vEe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),bEe(n)(fEe(dEe(n).document().write(pEe()(t,e,!0))))}function bEe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(en),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(we),blockQuote:o(Q),characterEscape:M,characterReference:M,codeFenced:o(ie),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(ie,a),codeText:o(G,a),codeTextData:M,data:M,codeFlowValue:M,definition:o(ue),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(ce),hardBreakEscape:o(Pe),hardBreakTrailing:o(Pe),htmlFlow:o(Ze,a),htmlFlowData:M,htmlText:o(Ze,a),htmlTextData:M,image:o(Qt),label:a,link:o(en),listItem:o(le),listItemValue:f,listOrdered:o(vi,h),listUnordered:o(vi),paragraph:o(Qe),reference:D,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(we),strong:o(An),thematicBreak:o(bi)},exit:{atxHeading:l(),atxHeadingSequence:A,autolink:l(),autolinkEmail:J,autolinkProtocol:ae,blockQuote:l(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:be,characterReference:Z,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:j,codeIndented:l(b),codeText:l(z),codeTextData:j,data:j,definition:l(),definitionDestinationString:E,definitionLabelString:w,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(R),hardBreakTrailing:l(R),htmlFlow:l(F),htmlFlowData:j,htmlText:l($),htmlTextData:j,image:l(U),label:V,labelText:H,lineEnding:N,link:l(L),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:oe,resourceDestinationString:I,resourceTitleString:Y,resource:q,setextHeading:l(O),setextHeadingLineSequence:_,setextHeadingText:S,strong:l(),thematicBreak:l()}};lz(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(K){let ne={type:"root",children:[]};const xe={stack:[ne],tokenStack:[],config:e,enter:s,exit:c,buffer:a,resume:u,data:n},Ae=[];let Oe=-1;for(;++Oe<K.length;)if(K[Oe][1].type==="listOrdered"||K[Oe][1].type==="listUnordered")if(K[Oe][0]==="enter")Ae.push(Oe);else{const Yi=Ae.pop();Oe=i(K,Yi,Oe)}for(Oe=-1;++Oe<K.length;){const Yi=e[K[Oe][0]];sz.call(Yi,K[Oe][1].type)&&Yi[K[Oe][1].type].call(Object.assign({sliceSerialize:K[Oe][2].sliceSerialize},xe),K[Oe][1])}if(xe.tokenStack.length>0){const Yi=xe.tokenStack[xe.tokenStack.length-1];(Yi[1]||d2).call(xe,void 0,Yi[0])}for(ne.position={start:Bs(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Bs(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<e.transforms.length;)ne=e.transforms[Oe](ne)||ne;return ne}function i(K,ne,xe){let Ae=ne-1,Oe=-1,Yi=!1,uc,ba,Hp,Vp;for(;++Ae<=xe;){const Lr=K[Ae];switch(Lr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Lr[0]==="enter"?Oe++:Oe--,Vp=void 0;break}case"lineEndingBlank":{Lr[0]==="enter"&&(uc&&!Vp&&!Oe&&!Hp&&(Hp=Ae),Vp=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vp=void 0}if(!Oe&&Lr[0]==="enter"&&Lr[1].type==="listItemPrefix"||Oe===-1&&Lr[0]==="exit"&&(Lr[1].type==="listUnordered"||Lr[1].type==="listOrdered")){if(uc){let bh=Ae;for(ba=void 0;bh--;){const xa=K[bh];if(xa[1].type==="lineEnding"||xa[1].type==="lineEndingBlank"){if(xa[0]==="exit")continue;ba&&(K[ba][1].type="lineEndingBlank",Yi=!0),xa[1].type="lineEnding",ba=bh}else if(!(xa[1].type==="linePrefix"||xa[1].type==="blockQuotePrefix"||xa[1].type==="blockQuotePrefixWhitespace"||xa[1].type==="blockQuoteMarker"||xa[1].type==="listItemIndent"))break}Hp&&(!ba||Hp<ba)&&(uc._spread=!0),uc.end=Object.assign({},ba?K[ba][1].start:Lr[1].end),K.splice(ba||Ae,0,["exit",uc,Lr[2]]),Ae++,xe++}if(Lr[1].type==="listItemPrefix"){const bh={type:"listItem",_spread:!1,start:Object.assign({},Lr[1].start),end:void 0};uc=bh,K.splice(Ae,0,["enter",bh,Lr[2]]),Ae++,xe++,Hp=void 0,Vp=!0}}}return K[ne][1]._spread=Yi,xe}function o(K,ne){return xe;function xe(Ae){s.call(this,K(Ae),Ae),ne&&ne.call(this,Ae)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(K,ne,xe){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([ne,xe||void 0]),K.position={start:Bs(ne.start),end:void 0}}function l(K){return ne;function ne(xe){K&&K.call(this,xe),c.call(this,xe)}}function c(K,ne){const xe=this.stack.pop(),Ae=this.tokenStack.pop();if(Ae)Ae[0].type!==K.type&&(ne?ne.call(this,K,Ae[0]):(Ae[1]||d2).call(this,K,Ae[0]));else throw new Error("Cannot close `"+K.type+"` ("+Vm({start:K.start,end:K.end})+"): itâ€™s not open");xe.position.end=Bs(K.end)}function u(){return BT(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(K){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function p(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=K}function m(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=K}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K.replace(/(\r?\n|\r)$/g,"")}function w(K){const ne=this.resume(),xe=this.stack[this.stack.length-1];xe.label=ne,xe.identifier=xo(this.sliceSerialize(K)).toLowerCase()}function x(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.title=K}function E(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.url=K}function A(K){const ne=this.stack[this.stack.length-1];if(!ne.depth){const xe=this.sliceSerialize(K).length;ne.depth=xe}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function _(K){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function M(K){const xe=this.stack[this.stack.length-1].children;let Ae=xe[xe.length-1];(!Ae||Ae.type!=="text")&&(Ae=Po(),Ae.position={start:Bs(K.start),end:void 0},xe.push(Ae)),this.stack.push(Ae)}function j(K){const ne=this.stack.pop();ne.value+=this.sliceSerialize(K),ne.position.end=Bs(K.end)}function N(K){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=ne.children[ne.children.length-1];xe.position.end=Bs(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ne.type)&&(M.call(this,K),j.call(this,K))}function R(){this.data.atHardBreak=!0}function F(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K}function $(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K}function z(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.value=K}function L(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ne,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function U(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ne,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function H(K){const ne=this.sliceSerialize(K),xe=this.stack[this.stack.length-2];xe.label=gEe(ne),xe.identifier=xo(ne).toLowerCase()}function V(){const K=this.stack[this.stack.length-1],ne=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const Ae=K.children;xe.children=Ae}else xe.alt=ne}function I(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.url=K}function Y(){const K=this.resume(),ne=this.stack[this.stack.length-1];ne.title=K}function q(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function oe(K){const ne=this.resume(),xe=this.stack[this.stack.length-1];xe.label=ne,xe.identifier=xo(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function ve(K){this.data.characterReferenceType=K.type}function be(K){const ne=this.sliceSerialize(K),xe=this.data.characterReferenceType;let Ae;xe?(Ae=J4(ne,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ae=zT(ne);const Oe=this.stack[this.stack.length-1];Oe.value+=Ae}function Z(K){const ne=this.stack.pop();ne.position.end=Bs(K.end)}function ae(K){j.call(this,K);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(K)}function J(K){j.call(this,K);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(K)}function Q(){return{type:"blockquote",children:[]}}function ie(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ce(){return{type:"emphasis",children:[]}}function we(){return{type:"heading",depth:0,children:[]}}function Pe(){return{type:"break"}}function Ze(){return{type:"html",value:""}}function Qt(){return{type:"image",title:null,url:"",alt:null}}function en(){return{type:"link",title:null,url:"",children:[]}}function vi(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function le(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function Qe(){return{type:"paragraph",children:[]}}function An(){return{type:"strong",children:[]}}function Po(){return{type:"text",value:""}}function bi(){return{type:"thematicBreak"}}}function Bs(t){return{line:t.line,column:t.column,offset:t.offset}}function lz(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?lz(t,r):xEe(t,r)}}function xEe(t,e){let n;for(n in e)if(sz.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function d2(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Vm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Vm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Vm({start:e.start,end:e.end})+") is still open")}function wEe(t){const e=this;e.parser=n;function n(r){return vEe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function AEe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function SEe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function EEe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function CEe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _Ee(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function PEe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Up(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let a,s=t.footnoteCounts.get(r);s===void 0?(s=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=o+1,s+=1,t.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function TEe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function kEe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function cz(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function OEe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return cz(t,e);const i={src:Up(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function jEe(t,e){const n={src:Up(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function MEe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function NEe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return cz(t,e);const i={href:Up(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function REe(t,e){const n={href:Up(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function IEe(t,e,n){const r=t.all(e),i=n?DEe(n):uz(e),o={},a=[];if(typeof e.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?a.push(...u.children):a.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,c),t.applyData(e,c)}function DEe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=uz(n[r])}return e}function uz(t){const e=t.spread;return e??t.children.length>1}function LEe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function $Ee(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function FEe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function BEe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zEe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=DT(e.children[1]),l=H4(e.children[e.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function UEe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<s;){const h=e.children[l],f={},p=a?a[l]:void 0;p&&(f.align=p);let m={type:"element",tagName:o,properties:f,children:[]};h&&(m.children=t.all(h),t.patch(h,m),m=t.applyData(h,m)),c.push(m)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function HEe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const f2=9,p2=32;function VEe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(m2(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(m2(e.slice(i),i>0,!1)),o.join("")}function m2(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===f2||o===p2;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===f2||o===p2;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function WEe(t,e){const n={type:"text",value:VEe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function GEe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const qEe={blockquote:AEe,break:SEe,code:EEe,delete:CEe,emphasis:_Ee,footnoteReference:PEe,heading:TEe,html:kEe,imageReference:OEe,image:jEe,inlineCode:MEe,linkReference:NEe,link:REe,listItem:IEe,list:LEe,paragraph:$Ee,root:FEe,strong:BEe,table:zEe,tableCell:HEe,tableRow:UEe,text:WEe,thematicBreak:GEe,toml:Ob,yaml:Ob,definition:Ob,footnoteDefinition:Ob};function Ob(){}const hz=-1,B1=0,Gm=1,q0=2,HT=3,VT=4,WT=5,GT=6,dz=7,fz=8,g2=typeof self=="object"?self:globalThis,KEe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,a]=e[i];switch(o){case B1:case hz:return n(a,i);case Gm:{const s=n([],i);for(const l of a)s.push(r(l));return s}case q0:{const s=n({},i);for(const[l,c]of a)s[r(l)]=r(c);return s}case HT:return n(new Date(a),i);case VT:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case WT:{const s=n(new Map,i);for(const[l,c]of a)s.set(r(l),r(c));return s}case GT:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case dz:{const{name:s,message:l}=a;return n(new g2[s](l),i)}case fz:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new g2[o](a),i)};return r},y2=t=>KEe(new Map,t)(0),Oh="",{toString:XEe}={},{keys:YEe}=Object,um=t=>{const e=typeof t;if(e!=="object"||!t)return[B1,e];const n=XEe.call(t).slice(8,-1);switch(n){case"Array":return[Gm,Oh];case"Object":return[q0,Oh];case"Date":return[HT,Oh];case"RegExp":return[VT,Oh];case"Map":return[WT,Oh];case"Set":return[GT,Oh];case"DataView":return[Gm,n]}return n.includes("Array")?[Gm,n]:n.includes("Error")?[dz,n]:[q0,n]},jb=([t,e])=>t===B1&&(e==="function"||e==="symbol"),JEe=(t,e,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=um(a);switch(s){case B1:{let u=a;switch(l){case"bigint":s=fz,u=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([hz],a)}return i([s,u],a)}case Gm:{if(l){let f=a;return l==="DataView"?f=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(a)),i([l,[...f]],a)}const u=[],h=i([s,u],a);for(const f of a)u.push(o(f));return h}case q0:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return o(a.toJSON());const u=[],h=i([s,u],a);for(const f of YEe(a))(t||!jb(um(a[f])))&&u.push([o(f),o(a[f])]);return h}case HT:return i([s,a.toISOString()],a);case VT:{const{source:u,flags:h}=a;return i([s,{source:u,flags:h}],a)}case WT:{const u=[],h=i([s,u],a);for(const[f,p]of a)(t||!(jb(um(f))||jb(um(p))))&&u.push([o(f),o(p)]);return h}case GT:{const u=[],h=i([s,u],a);for(const f of a)(t||!jb(um(f)))&&u.push(o(f));return h}}const{message:c}=a;return i([s,{name:l,message:c}],a)};return o},v2=(t,{json:e,lossy:n}={})=>{const r=[];return JEe(!(e||n),!!e,new Map,r)(t),r},K0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?y2(v2(t,e)):structuredClone(t):(t,e)=>y2(v2(t,e));function ZEe(t,e){const n=[{type:"text",value:"â†©"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function QEe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function eCe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||ZEe,r=t.options.footnoteBackLabel||QEe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),h=String(c.identifier).toUpperCase(),f=Up(h.toLowerCase());let p=0;const m=[],g=t.footnoteCounts.get(h);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,p);typeof w=="string"&&(w={type:"text",value:w}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const w=y.children[y.children.length-1];w&&w.type==="text"?w.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...m)}else u.push(...m);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(u,!0)};t.patch(c,b),s.push(b)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...K0(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const z1=function(t){if(t==null)return iCe;if(typeof t=="function")return U1(t);if(typeof t=="object")return Array.isArray(t)?tCe(t):nCe(t);if(typeof t=="string")return rCe(t);throw new Error("Expected function, string, or object as test")};function tCe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=z1(t[n]);return U1(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function nCe(t){const e=t;return U1(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function rCe(t){return U1(e);function e(n){return n&&n.type===t}}function U1(t){return e;function e(n,r,i){return!!(oCe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function iCe(){return!0}function oCe(t){return t!==null&&typeof t=="object"&&"type"in t}const pz=[],aCe=!0,D_=!1,sCe="skip";function mz(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=z1(i),a=r?-1:1;s(t,void 0,[])();function s(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=pz,m,g,y;if((!e||o(l,c,u[u.length-1]||void 0))&&(p=lCe(n(l,u)),p[0]===D_))return p;if("children"in l&&l.children){const b=l;if(b.children&&p[0]!==sCe)for(g=(r?b.children.length:-1)+a,y=u.concat(b);g>-1&&g<b.children.length;){const w=b.children[g];if(m=s(w,g,y)(),m[0]===D_)return m;g=typeof m[1]=="number"?m[1]:g+a}}return p}}}function lCe(t){return Array.isArray(t)?t:typeof t=="number"?[aCe,t]:t==null?pz:[t]}function qT(t,e,n,r){let i,o,a;typeof e=="function"&&typeof n!="function"?(o=void 0,a=e,i=n):(o=e,a=n,i=r),mz(t,o,s,i);function s(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return a(l,h,u)}}const L_={}.hasOwnProperty,cCe={};function uCe(t,e){const n=e||cCe,r=new Map,i=new Map,o=new Map,a={...qEe,...n.handlers},s={all:c,applyData:dCe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:hCe,wrap:pCe};return qT(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?r:i,f=String(u.identifier).toUpperCase();h.has(f)||h.set(f,u)}}),s;function l(u,h){const f=u.type,p=s.handlers[f];if(L_.call(s.handlers,f)&&p)return p(s,u,h);if(s.options.passThrough&&s.options.passThrough.includes(f)){if("children"in u){const{children:g,...y}=u,b=K0(y);return b.children=s.all(u),b}return K0(u)}return(s.options.unknownHandler||fCe)(s,u,h)}function c(u){const h=[];if("children"in u){const f=u.children;let p=-1;for(;++p<f.length;){const m=s.one(f[p],u);if(m){if(p&&f[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=b2(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=b2(g.value))}Array.isArray(m)?h.push(...m):h.push(m)}}}return h}}function hCe(t,e){t.position&&(e.position=Q1e(t))}function dCe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,K0(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function fCe(t,e){const n=e.data||{},r="value"in e&&!(L_.call(n,"hProperties")||L_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function pCe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function b2(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function x2(t,e){const n=uCe(t,e),r=n.one(t,void 0),i=eCe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function mCe(t,e){return t&&"run"in t?async function(n,r){const i=x2(n,{file:r,...e});await t.run(i,r)}:function(n,r){return x2(n,{file:r,...t||e})}}function w2(t){if(t)throw t}var xx=Object.prototype.hasOwnProperty,gz=Object.prototype.toString,A2=Object.defineProperty,S2=Object.getOwnPropertyDescriptor,E2=function(e){return typeof Array.isArray=="function"?Array.isArray(e):gz.call(e)==="[object Array]"},C2=function(e){if(!e||gz.call(e)!=="[object Object]")return!1;var n=xx.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&xx.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||xx.call(e,i)},_2=function(e,n){A2&&n.name==="__proto__"?A2(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},P2=function(e,n){if(n==="__proto__")if(xx.call(e,n)){if(S2)return S2(e,n).value}else return;return e[n]},gCe=function t(){var e,n,r,i,o,a,s=arguments[0],l=1,c=arguments.length,u=!1;for(typeof s=="boolean"&&(u=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=P2(s,n),i=P2(e,n),s!==i&&(u&&i&&(C2(i)||(o=E2(i)))?(o?(o=!1,a=r&&E2(r)?r:[]):a=r&&C2(r)?r:{},_2(s,{name:n,newValue:t(u,a,i)})):typeof i<"u"&&_2(s,{name:n,newValue:i}));return s};const YA=at(gCe);function $_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function yCe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...c){const u=t[++o];let h=-1;if(l){a(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,u?vCe(u,s)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function vCe(t,e){let n;return r;function r(...a){const s=t.length>a.length;let l;s&&a.push(i);try{l=t.apply(this,a)}catch(c){const u=c;if(s&&n)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,e(a,...s))}function o(a){i(null,a)}}const No={basename:bCe,dirname:xCe,extname:wCe,join:ACe,sep:"/"};function bCe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Yv(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function xCe(t){if(Yv(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function wCe(t){Yv(t);let e=t.length,n=-1,r=0,i=-1,o=0,a;for(;e--;){const s=t.codePointAt(e);if(s===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),s===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function ACe(...t){let e=-1,n;for(;++e<t.length;)Yv(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":SCe(n)}function SCe(t){Yv(t);const e=t.codePointAt(0)===47;let n=ECe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function ECe(t,e){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=t.length;){if(a<t.length)s=t.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function Yv(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const CCe={cwd:_Ce};function _Ce(){return"/"}function F_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function PCe(t){if(typeof t=="string")t=new URL(t);else if(!F_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return TCe(t)}function TCe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const JA=["history","path","basename","stem","extname","dirname"];class yz{constructor(e){let n;e?F_(e)?n={path:e}:typeof e=="string"||kCe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":CCe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<JA.length;){const o=JA[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)JA.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?No.basename(this.path):void 0}set basename(e){QA(e,"basename"),ZA(e,"basename"),this.path=No.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?No.dirname(this.path):void 0}set dirname(e){T2(this.basename,"dirname"),this.path=No.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?No.extname(this.path):void 0}set extname(e){if(ZA(e,"extname"),T2(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=No.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){F_(e)&&(e=PCe(e)),QA(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?No.basename(this.path,this.extname):void 0}set stem(e){QA(e,"stem"),ZA(e,"stem"),this.path=No.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new or(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ZA(t,e){if(t&&t.includes(No.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+No.sep+"`")}function QA(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function T2(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function kCe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const OCe=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},jCe={}.hasOwnProperty;class KT extends OCe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yCe()}copy(){const e=new KT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(YA(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(nS("data",this.frozen),this.namespace[e]=n,this):jCe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(nS("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Mb(e),r=this.parser||this.Parser;return eS("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),eS("process",this.parser||this.Parser),tS("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=Mb(e),l=r.parse(s);r.run(l,s,function(u,h,f){if(u||!h||!f)return c(u);const p=h,m=r.stringify(p,f);RCe(m)?f.value=m:f.result=m,c(u,f)});function c(u,h){u||!h?a(u):o?o(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),eS("processSync",this.parser||this.Parser),tS("processSync",this.compiler||this.Compiler),this.process(e,i),O2("processSync","process",n),r;function i(o,a){n=!0,w2(o),r=a}}run(e,n,r){k2(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=Mb(n);i.run(e,l,c);function c(u,h,f){const p=h||e;u?s(u):a?a(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),O2("runSync","run",r),i;function o(a,s){w2(a),i=s,r=!0}}stringify(e,n){this.freeze();const r=Mb(n),i=this.compiler||this.Compiler;return tS("stringify",i),k2(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(nS("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=YA(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const h=c[u];o(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===c){f=h;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[p,...m]=u;const g=r[f][1];$_(g)&&$_(p)&&(p=YA(!0,g,p)),r[f]=[c,p,...m]}}}}const MCe=new KT().freeze();function eS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function tS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function nS(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function k2(t){if(!$_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function O2(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Mb(t){return NCe(t)?t:new yz(t)}function NCe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function RCe(t){return typeof t=="string"||ICe(t)}function ICe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const DCe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",j2=[],M2={allowDangerousHtml:!0},LCe=/^(https?|ircs?|mailto|xmpp)$/i,$Ce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function FCe(t){const e=BCe(t),n=zCe(t);return UCe(e.runSync(e.parse(n),n),t)}function BCe(t){const e=t.rehypePlugins||j2,n=t.remarkPlugins||j2,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...M2}:M2;return MCe().use(wEe).use(n).use(mCe,r).use(e)}function zCe(t){const e=t.children||"",n=new yz;return typeof e=="string"&&(n.value=e),n}function UCe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,a=e.skipHtml,s=e.unwrapDisallowed,l=e.urlTransform||HCe;for(const u of $Ce)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+DCe+u.id,void 0);return qT(t,c),iAe(t,{Fragment:v.Fragment,components:i,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function c(u,h,f){if(u.type==="raw"&&f&&typeof h=="number")return a?f.children.splice(h,1):f.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let p;for(p in qA)if(Object.hasOwn(qA,p)&&Object.hasOwn(u.properties,p)){const m=u.properties[p],g=qA[p];(g===null||g.includes(u.tagName))&&(u.properties[p]=l(String(m||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):o?o.includes(u.tagName):!1;if(!p&&r&&typeof h=="number"&&(p=!r(u,h,f)),p&&f&&typeof h=="number")return s&&u.children?f.children.splice(h,1,...u.children):f.children.splice(h,1),h}}}function HCe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||LCe.test(t.slice(0,e))?t:""}function N2(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function VCe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function WCe(t,e,n){const i=z1((n||{}).ignore||[]),o=GCe(e);let a=-1;for(;++a<o.length;)mz(t,"text",s);function s(c,u){let h=-1,f;for(;++h<u.length;){const p=u[h],m=f?f.children:void 0;if(i(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return l(c,u)}function l(c,u){const h=u[u.length-1],f=o[a][0],p=o[a][1];let m=0;const y=h.children.indexOf(c);let b=!1,w=[];f.lastIndex=0;let x=f.exec(c.value);for(;x;){const E=x.index,A={index:x.index,input:x.input,stack:[...u,c]};let S=p(...x,A);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=E+1:(m!==E&&w.push({type:"text",value:c.value.slice(m,E)}),Array.isArray(S)?w.push(...S):S&&w.push(S),m=E+x[0].length,b=!0),!f.global)break;x=f.exec(c.value)}return b?(m<c.value.length&&w.push({type:"text",value:c.value.slice(m)}),h.children.splice(y,1,...w)):w=[c],y+w.length}}function GCe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([qCe(i[0]),KCe(i[1])])}return e}function qCe(t){return typeof t=="string"?new RegExp(VCe(t),"g"):t}function KCe(t){return typeof t=="function"?t:function(){return t}}const rS="phrasing",iS=["autolink","link","image","label"];function XCe(){return{transforms:[n_e],enter:{literalAutolink:JCe,literalAutolinkEmail:oS,literalAutolinkHttp:oS,literalAutolinkWww:oS},exit:{literalAutolink:t_e,literalAutolinkEmail:e_e,literalAutolinkHttp:ZCe,literalAutolinkWww:QCe}}}function YCe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:rS,notInConstruct:iS},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:rS,notInConstruct:iS},{character:":",before:"[ps]",after:"\\/",inConstruct:rS,notInConstruct:iS}]}}function JCe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function oS(t){this.config.enter.autolinkProtocol.call(this,t)}function ZCe(t){this.config.exit.autolinkProtocol.call(this,t)}function QCe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function e_e(t){this.config.exit.autolinkEmail.call(this,t)}function t_e(t){this.exit(t)}function n_e(t){WCe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,r_e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),i_e]],{ignore:["link","linkReference"]})}function r_e(t,e,n,r,i){let o="";if(!vz(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!o_e(n)))return!1;const a=a_e(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function i_e(t,e,n,r){return!vz(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function o_e(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function a_e(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=N2(t,"(");let o=N2(t,")");for(;r!==-1&&i>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function vz(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||hh(n)||$1(n))&&(!e||n!==47)}bz.peek=m_e;function s_e(){this.buffer()}function l_e(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function c_e(){this.buffer()}function u_e(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function h_e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function d_e(t){this.exit(t)}function f_e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function p_e(t){this.exit(t)}function m_e(){return"["}function bz(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{after:"]",before:o})),s(),a(),o+=i.move("]"),o}function g_e(){return{enter:{gfmFootnoteCallString:s_e,gfmFootnoteCall:l_e,gfmFootnoteDefinitionLabelString:c_e,gfmFootnoteDefinition:u_e},exit:{gfmFootnoteCallString:h_e,gfmFootnoteCall:d_e,gfmFootnoteDefinitionLabelString:f_e,gfmFootnoteDefinition:p_e}}}function y_e(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:bz},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,a){const s=o.createTracker(a);let l=s.move("[^");const c=o.enter("footnoteDefinition"),u=o.enter("label");return l+=s.move(o.safe(o.associationId(r),{before:l,after:"]"})),u(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,s.current()),e?xz:v_e))),c(),l}}function v_e(t,e,n){return e===0?t:xz(t,e,n)}function xz(t,e,n){return(n?"":"    ")+t}const b_e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];wz.peek=E_e;function x_e(){return{canContainEols:["delete"],enter:{strikethrough:A_e},exit:{strikethrough:S_e}}}function w_e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:b_e}],handlers:{delete:wz}}}function A_e(t){this.enter({type:"delete",children:[]},t)}function S_e(t){this.exit(t)}function wz(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function E_e(){return"~"}function C_e(t){return t.length}function __e(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||C_e,o=[],a=[],s=[],l=[];let c=0,u=-1;for(;++u<t.length;){const g=[],y=[];let b=-1;for(t[u].length>c&&(c=t[u].length);++b<t[u].length;){const w=P_e(t[u][b]);if(n.alignDelimiters!==!1){const x=i(w);y[b]=x,(l[b]===void 0||x>l[b])&&(l[b]=x)}g.push(w)}a[u]=g,s[u]=y}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<c;)o[h]=R2(r[h]);else{const g=R2(r);for(;++h<c;)o[h]=g}h=-1;const f=[],p=[];for(;++h<c;){const g=o[h];let y="",b="";g===99?(y=":",b=":"):g===108?y=":":g===114&&(b=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[h]-y.length-b.length);const x=y+"-".repeat(w)+b;n.alignDelimiters!==!1&&(w=y.length+w+b.length,w>l[h]&&(l[h]=w),p[h]=w),f[h]=x}a.splice(1,0,f),s.splice(1,0,p),u=-1;const m=[];for(;++u<a.length;){const g=a[u],y=s[u];h=-1;const b=[];for(;++h<c;){const w=g[h]||"";let x="",E="";if(n.alignDelimiters!==!1){const A=l[h]-(y[h]||0),S=o[h];S===114?x=" ".repeat(A):S===99?A%2?(x=" ".repeat(A/2+.5),E=" ".repeat(A/2-.5)):(x=" ".repeat(A/2),E=x):E=" ".repeat(A)}n.delimiterStart!==!1&&!h&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||h)&&b.push(" "),n.alignDelimiters!==!1&&b.push(x),b.push(w),n.alignDelimiters!==!1&&b.push(E),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||h!==c-1)&&b.push("|")}m.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return m.join(`
`)}function P_e(t){return t==null?"":String(t)}function R2(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function T_e(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(t,o.current()),k_e);return i(),a}function k_e(t,e,n){return">"+(n?"":" ")+t}function O_e(t,e){return I2(t,e.inConstruct,!0)&&!I2(t,e.notInConstruct,!1)}function I2(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function D2(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&O_e(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function j_e(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+e.length,r=n.indexOf(e,i);return a}function M_e(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function N_e(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function R_e(t,e,n,r){const i=N_e(n),o=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(M_e(t,n)){const h=n.enter("codeIndented"),f=n.indentLines(o,I_e);return h(),f}const s=n.createTracker(r),l=i.repeat(Math.max(j_e(o,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(t.lang){const h=n.enter(`codeFencedLang${a}`);u+=s.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...s.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${a}`);u+=s.move(" "),u+=s.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...s.current()})),h()}return u+=s.move(`
`),o&&(u+=s.move(o+`
`)),u+=s.move(l),c(),u}function I_e(t,e,n){return(n?"":"    ")+t}function XT(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function D_e(t,e,n,r){const i=XT(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),s(),t.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),a(),c}function L_e(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function zg(t){return"&#x"+t.toString(16).toUpperCase()+";"}function X0(t,e,n){const r=yp(t),i=yp(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Az.peek=$_e;function Az(t,e,n,r){const i=L_e(n),o=n.enter("emphasis"),a=n.createTracker(r),s=a.move(i);let l=a.move(n.containerPhrasing(t,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),u=X0(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=zg(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=X0(r.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+zg(h));const p=a.move(i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+l+p}function $_e(t,e,n){return n.options.emphasis||"*"}function F_e(t,e){let n=!1;return qT(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,D_}),!!((!t.depth||t.depth<3)&&BT(t)&&(e.options.setext||n))}function B_e(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(F_e(t,n)){const u=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return h(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c=zg(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c}Sz.peek=z_e;function Sz(t){return t.value||""}function z_e(){return"<"}Ez.peek=U_e;function Ez(t,e,n,r){const i=XT(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),s(),t.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),a(),c}function U_e(){return"!"}Cz.peek=H_e;function Cz(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(t.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),i==="full"||!c||c!==h?l+=s.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function H_e(){return"!"}_z.peek=V_e;function _z(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function V_e(){return"`"}function Pz(t,e){const n=BT(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Tz.peek=W_e;function Tz(t,e,n,r){const i=XT(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(Pz(t,n)){const u=n.stack;n.stack=[],s=n.enter("autolink");let h=a.move("<");return h+=a.move(n.containerPhrasing(t,{before:h,after:">",...a.current()})),h+=a.move(">"),s(),n.stack=u,h}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(t,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(t.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(t.url,{before:c,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${o}`),c+=a.move(" "+i),c+=a.move(n.safe(t.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),s(),c}function W_e(t,e,n){return Pz(t,n)?"<":"["}kz.peek=G_e;function kz(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),i==="full"||!c||c!==h?l+=s.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function G_e(){return"["}function YT(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function q_e(t){const e=YT(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function K_e(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Oz(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function X_e(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=t.ordered?K_e(n):YT(n);const s=t.ordered?a==="."?")":".":q_e(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Oz(n)===a&&u){let h=-1;for(;++h<t.children.length;){const f=t.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),c}function Y_e(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function J_e(t,e,n,r){const i=Y_e(n);let o=n.bulletCurrent||YT(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,s.current()),u);return l(),c;function u(h,f,p){return f?(p?"":" ".repeat(a))+h:(p?o:o+" ".repeat(a-o.length))+h}}function Z_e(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(t,r);return o(),i(),a}const Q_e=z1(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ePe(t,e,n,r){return(t.children.some(function(a){return Q_e(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function tPe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}jz.peek=nPe;function jz(t,e,n,r){const i=tPe(n),o=n.enter("strong"),a=n.createTracker(r),s=a.move(i+i);let l=a.move(n.containerPhrasing(t,{after:i,before:s,...a.current()}));const c=l.charCodeAt(0),u=X0(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=zg(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=X0(r.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+zg(h));const p=a.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+l+p}function nPe(t,e,n){return n.options.strong||"*"}function rPe(t,e,n,r){return n.safe(t.value,r)}function iPe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function oPe(t,e,n){const r=(Oz(n)+(n.options.ruleSpaces?" ":"")).repeat(iPe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Mz={blockquote:T_e,break:D2,code:R_e,definition:D_e,emphasis:Az,hardBreak:D2,heading:B_e,html:Sz,image:Ez,imageReference:Cz,inlineCode:_z,link:Tz,linkReference:kz,list:X_e,listItem:J_e,paragraph:Z_e,root:ePe,strong:jz,text:rPe,thematicBreak:oPe};function aPe(){return{enter:{table:sPe,tableData:L2,tableHeader:L2,tableRow:cPe},exit:{codeText:uPe,table:lPe,tableData:aS,tableHeader:aS,tableRow:aS}}}function sPe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function lPe(t){this.exit(t),this.data.inTable=void 0}function cPe(t){this.enter({type:"tableRow",children:[]},t)}function aS(t){this.exit(t)}function L2(t){this.enter({type:"tableCell",children:[]},t)}function uPe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,hPe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function hPe(t,e){return e==="|"?e:t}function dPe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:l,tableRow:s}};function a(p,m,g,y){return c(u(p,g,y),p.align)}function s(p,m,g,y){const b=h(p,g,y),w=c([b]);return w.slice(0,w.indexOf(`
`))}function l(p,m,g,y){const b=g.enter("tableCell"),w=g.enter("phrasing"),x=g.containerPhrasing(p,{...y,before:o,after:o});return w(),b(),x}function c(p,m){return __e(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function u(p,m,g){const y=p.children;let b=-1;const w=[],x=m.enter("table");for(;++b<y.length;)w[b]=h(y[b],m,g);return x(),w}function h(p,m,g){const y=p.children;let b=-1;const w=[],x=m.enter("tableRow");for(;++b<y.length;)w[b]=l(y[b],p,m,g);return x(),w}function f(p,m,g){let y=Mz.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function fPe(){return{exit:{taskListCheckValueChecked:$2,taskListCheckValueUnchecked:$2,paragraph:mPe}}}function pPe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:gPe}}}function $2(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function mPe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,a;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){a=s;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function gPe(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=Mz.listItem(t,e,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+a}}function yPe(){return[XCe(),g_e(),x_e(),aPe(),fPe()]}function vPe(t){return{extensions:[YCe(),y_e(t),w_e(),dPe(t),pPe()]}}const bPe={tokenize:CPe,partial:!0},Nz={tokenize:_Pe,partial:!0},Rz={tokenize:PPe,partial:!0},Iz={tokenize:TPe,partial:!0},xPe={tokenize:kPe,partial:!0},Dz={name:"wwwAutolink",tokenize:SPe,previous:$z},Lz={name:"protocolAutolink",tokenize:EPe,previous:Fz},Ds={name:"emailAutolink",tokenize:APe,previous:Bz},va={};function wPe(){return{text:va}}let mc=48;for(;mc<123;)va[mc]=Ds,mc++,mc===58?mc=65:mc===91&&(mc=97);va[43]=Ds;va[45]=Ds;va[46]=Ds;va[95]=Ds;va[72]=[Ds,Lz];va[104]=[Ds,Lz];va[87]=[Ds,Dz];va[119]=[Ds,Dz];function APe(t,e,n){const r=this;let i,o;return a;function a(h){return!B_(h)||!Bz.call(r,r.previous)||JT(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),s(h))}function s(h){return B_(h)?(t.consume(h),s):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(xPe,u,c)(h):h===45||h===95||rr(h)?(o=!0,t.consume(h),l):u(h)}function c(h){return t.consume(h),i=!0,l}function u(h){return o&&i&&dr(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function SPe(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!$z.call(r,r.previous)||JT(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(bPe,t.attempt(Nz,t.attempt(Rz,o),n),n)(a))}function o(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function EPe(t,e,n){const r=this;let i="",o=!1;return a;function a(h){return(h===72||h===104)&&Fz.call(r,r.previous)&&!JT(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),s):n(h)}function s(h){if(dr(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),s;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),o?c:(o=!0,l)):n(h)}function c(h){return h===null||G0(h)||Et(h)||hh(h)||$1(h)?n(h):t.attempt(Nz,t.attempt(Rz,u),n)(h)}function u(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function CPe(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),o):n(a)}function o(a){return a===null?n(a):e(a)}}function _Pe(t,e,n){let r,i,o;return a;function a(c){return c===46||c===95?t.check(Iz,l,s)(c):c===null||Et(c)||hh(c)||c!==45&&$1(c)?l(c):(o=!0,t.consume(c),a)}function s(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),a}function l(c){return i||r||!o?n(c):e(c)}}function PPe(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(Iz,e,o)(a):a===null||Et(a)||hh(a)?e(a):(t.consume(a),i)}function o(a){return a===41&&r++,t.consume(a),i}}function TPe(t,e,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(t.consume(s),r):s===38?(t.consume(s),o):s===93?(t.consume(s),i):s===60||s===null||Et(s)||hh(s)?e(s):n(s)}function i(s){return s===null||s===40||s===91||Et(s)||hh(s)?e(s):r(s)}function o(s){return dr(s)?a(s):n(s)}function a(s){return s===59?(t.consume(s),r):dr(s)?(t.consume(s),a):n(s)}}function kPe(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return rr(o)?n(o):e(o)}}function $z(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Et(t)}function Fz(t){return!dr(t)}function Bz(t){return!(t===47||B_(t))}function B_(t){return t===43||t===45||t===46||t===95||rr(t)}function JT(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const OPe={tokenize:$Pe,partial:!0};function jPe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:IPe,continuation:{tokenize:DPe},exit:LPe}},text:{91:{name:"gfmFootnoteCall",tokenize:RPe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:MPe,resolveTo:NPe}}}}function MPe(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!a||!a._balanced)return n(l);const c=xo(r.sliceSerialize({start:a.end,end:r.now()}));return c.codePointAt(0)!==94||!o.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function NPe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...s),t}function RPe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,a;return s;function s(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(h){if(o>999||h===93&&!a||h===null||h===91||Et(h))return n(h);if(h===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(xo(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return Et(h)||(a=!0),o++,t.consume(h),h===92?u:c}function u(h){return h===91||h===92||h===93?(t.consume(h),o++,c):c(h)}}function IPe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0,s;return l;function l(m){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(m)}function u(m){if(a>999||m===93&&!s||m===null||m===91||Et(m))return n(m);if(m===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return o=xo(r.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(m),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Et(m)||(s=!0),a++,t.consume(m),m===92?h:u}function h(m){return m===91||m===92||m===93?(t.consume(m),a++,u):u(m)}function f(m){return m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),i.includes(o)||i.push(o),Je(t,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return e(m)}}function DPe(t,e,n){return t.check(Xv,e,t.attempt(OPe,e,n))}function LPe(t){t.exit("gfmFootnoteDefinition")}function $Pe(t,e,n){const r=this;return Je(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(o):n(o)}}function FPe(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,s){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},h={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},f=[["enter",u,s],["enter",a[c][1],s],["exit",a[c][1],s],["enter",h,s]],p=s.parser.constructs.insideSpan.null;p&&pi(f,f.length,0,F1(p,a.slice(c+1,l),s)),pi(f,f.length,0,[["exit",h,s],["enter",a[l][1],s],["exit",a[l][1],s],["exit",u,s]]),pi(a,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function o(a,s,l){const c=this.previous,u=this.events;let h=0;return f;function f(m){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(m):(a.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=yp(c);if(m===126)return h>1?l(m):(a.consume(m),h++,p);if(h<2&&!n)return l(m);const y=a.exit("strikethroughSequenceTemporary"),b=yp(m);return y._open=!b||b===2&&!!g,y._close=!g||g===2&&!!b,s(m)}}}class BPe{constructor(){this.map=[]}add(e,n,r){zPe(this,e,n,r)}consume(e){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const o of i)e.push(o);i=r.pop()}this.map.length=0}}function zPe(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function UPe(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function HPe(){return{flow:{null:{name:"table",tokenize:VPe,resolveAll:WPe}}}}function VPe(t,e,n){const r=this;let i=0,o=0,a;return s;function s(j){let N=r.events.length-1;for(;N>-1;){const $=r.events[N][1].type;if($==="lineEnding"||$==="linePrefix")N--;else break}const R=N>-1?r.events[N][1].type:null,F=R==="tableHead"||R==="tableRow"?S:l;return F===S&&r.parser.lazy[r.now().line]?n(j):F(j)}function l(j){return t.enter("tableHead"),t.enter("tableRow"),c(j)}function c(j){return j===124||(a=!0,o+=1),u(j)}function u(j){return j===null?n(j):Se(j)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),p):n(j):We(j)?Je(t,u,"whitespace")(j):(o+=1,a&&(a=!1,i+=1),j===124?(t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),a=!0,u):(t.enter("data"),h(j)))}function h(j){return j===null||j===124||Et(j)?(t.exit("data"),u(j)):(t.consume(j),j===92?f:h)}function f(j){return j===92||j===124?(t.consume(j),h):h(j)}function p(j){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(j):(t.enter("tableDelimiterRow"),a=!1,We(j)?Je(t,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):m(j))}function m(j){return j===45||j===58?y(j):j===124?(a=!0,t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),g):A(j)}function g(j){return We(j)?Je(t,y,"whitespace")(j):y(j)}function y(j){return j===58?(o+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(j),t.exit("tableDelimiterMarker"),b):j===45?(o+=1,b(j)):j===null||Se(j)?E(j):A(j)}function b(j){return j===45?(t.enter("tableDelimiterFiller"),w(j)):A(j)}function w(j){return j===45?(t.consume(j),w):j===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(j),t.exit("tableDelimiterMarker"),x):(t.exit("tableDelimiterFiller"),x(j))}function x(j){return We(j)?Je(t,E,"whitespace")(j):E(j)}function E(j){return j===124?m(j):j===null||Se(j)?!a||i!==o?A(j):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(j)):A(j)}function A(j){return n(j)}function S(j){return t.enter("tableRow"),_(j)}function _(j){return j===124?(t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),_):j===null||Se(j)?(t.exit("tableRow"),e(j)):We(j)?Je(t,_,"whitespace")(j):(t.enter("data"),O(j))}function O(j){return j===null||j===124||Et(j)?(t.exit("data"),_(j)):(t.consume(j),j===92?M:O)}function M(j){return j===92||j===124?(t.consume(j),O):O(j)}}function WPe(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],s=!1,l=0,c,u,h;const f=new BPe;for(;++n<t.length;){const p=t[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(s=!1,l!==0&&(F2(f,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",c,e]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,h=void 0,o=[0,0,0,0],a=[0,n+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",u,e]])),i=m.type==="tableDelimiterRow"?2:u?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],h=Nb(f,e,o,i,void 0,h),o=[0,0,0,0]),a[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(a[0]=a[1],h=Nb(f,e,o,i,void 0,h)),o=a,a=[o[1],n,0,0])):m.type==="tableHead"?(s=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,o[1]!==0?(a[0]=a[1],h=Nb(f,e,o,i,n,h)):a[1]!==0&&(h=Nb(f,e,a,i,n,h)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&F2(f,e,l,c,u),f.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=UPe(e.events,n))}return t}function Nb(t,e,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},Uh(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const l=Uh(e.events,n[1]);if(o={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const c=Uh(e.events,n[2]),u=Uh(e.events,n[3]),h={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const f=e.events[n[2]],p=e.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;t.add(m,g,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(o.end=Object.assign({},Uh(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function F2(t,e,n,r,i){const o=[],a=Uh(e.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,e])),r.end=Object.assign({},a),o.push(["exit",r,e]),t.add(n+1,0,o)}function Uh(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const GPe={name:"tasklistCheck",tokenize:KPe};function qPe(){return{text:{91:GPe}}}function KPe(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),o)}function o(l){return Et(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),s):n(l)}function s(l){return Se(l)?e(l):We(l)?t.check({tokenize:XPe},e,n)(l):n(l)}}function XPe(t,e,n){return Je(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function YPe(t){return Y4([wPe(),jPe(),FPe(t),HPe(),qPe()])}const JPe={};function ZPe(t){const e=this,n=t||JPe,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(YPe(n)),o.push(yPe()),a.push(vPe(n))}function zz({children:t}){return v.jsx("div",{className:"prose prose-invert prose-sm max-w-none",style:{color:"var(--color-text-primary)"},children:v.jsx(FCe,{remarkPlugins:[ZPe],components:{h1:({node:e,...n})=>v.jsx("h1",{style:{color:"var(--color-text-primary)",marginBottom:"0.5em"},...n}),h2:({node:e,...n})=>v.jsx("h2",{style:{color:"var(--color-text-primary)",marginBottom:"0.5em"},...n}),h3:({node:e,...n})=>v.jsx("h3",{style:{color:"var(--color-text-primary)",marginBottom:"0.5em"},...n}),code:({node:e,className:n,children:r,...i})=>/language-(\w+)/.exec(n||"")?v.jsx("pre",{style:{background:"rgba(15, 23, 42, 0.8)",border:"1px solid rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-sm)",padding:"1em",overflow:"auto"},children:v.jsx("code",{className:n,...i,children:r})}):v.jsx("code",{style:{background:"rgba(0, 100, 145, 0.15)",color:"var(--color-accent)",padding:"0.1em 0.3em",borderRadius:"3px",fontSize:"0.9em"},...i,children:r}),a:({node:e,...n})=>v.jsx("a",{style:{color:"var(--color-accent)",textDecoration:"underline"},target:"_blank",rel:"noopener noreferrer",...n}),ul:({node:e,...n})=>v.jsx("ul",{style:{color:"var(--color-text-primary)"},...n}),ol:({node:e,...n})=>v.jsx("ol",{style:{color:"var(--color-text-primary)"},...n}),p:({node:e,...n})=>v.jsx("p",{style:{color:"var(--color-text-primary)",marginBottom:"0.75em"},...n})},children:t})})}function QPe({messages:t,activeBlock:e,onBlockChange:n}){const r=B.useMemo(()=>{var l;if(!e)return null;const o=t.find(c=>c.id===e.messageId);if(!o)return null;const a=o.blocks.find(c=>c.id===e.blockId);return a||(((l=o.citations)==null?void 0:l.find(c=>c.id===e.blockId))??null)},[t,e]),i=o=>{var a;switch(o.type){case"chart":return o.title||"Chart";case"table":return((a=o.meta)==null?void 0:a.title)||"Table";case"image":return o.alt||"Image";case"citation":return o.title||"Document";case"text":return"Text";default:return"Content"}};return v.jsxs("div",{className:"flex flex-col h-full text-[var(--color-text-primary)]",style:{background:"var(--color-bg-app)"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"var(--color-border-subtle)"},children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.18em]",style:{color:"var(--color-text-secondary)"},children:"Result"}),v.jsx("span",{className:"text-sm",style:{color:"var(--color-text-primary)"},children:r?i(r):"Select a chart, table, or image"})]}),r&&v.jsx("button",{className:"text-xs hover:underline",style:{color:"var(--color-text-secondary)"},onMouseEnter:o=>{o.currentTarget.style.color="var(--color-text-primary)"},onMouseLeave:o=>{o.currentTarget.style.color="var(--color-text-secondary)"},onClick:()=>n(null),children:"Clear"})]}),v.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[!r&&v.jsx("div",{className:"h-full w-full flex items-center justify-center text-sm",style:{color:"var(--color-text-muted)"},children:"Click a chart, table, citation, or image in the chat to view it here."}),r&&r.type==="chart"&&v.jsx(bxe,{block:r}),r&&r.type==="table"&&v.jsx(Sxe,{block:r}),r&&r.type==="citation"&&v.jsx(n1e,{citation:r}),r&&r.type==="image"&&v.jsx(h3,{block:r}),r&&r.type==="text"&&v.jsx("div",{className:"max-w-3xl",children:v.jsx(zz,{children:r.markdown})})]})]})}function eTe({block:t,isActive:e,onClick:n}){return v.jsxs("button",{onClick:n,className:"w-full text-left transition-all cursor-pointer",style:{background:e?"rgba(0, 100, 145, 0.15)":"rgba(15, 23, 42, 0.6)",border:e?"2px solid var(--color-accent)":"1px solid rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-md)",padding:"0.75rem",marginTop:"0.5rem"},onMouseEnter:r=>{e||(r.currentTarget.style.borderColor="rgba(0, 100, 145, 0.5)")},onMouseLeave:r=>{e||(r.currentTarget.style.borderColor="rgba(30, 41, 59, 0.8)")},children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(z_,{className:"h-4 w-4",style:{color:e?"var(--color-accent)":"var(--color-text-secondary)"}}),v.jsx("span",{className:"text-xs font-medium",style:{color:e?"var(--color-accent)":"var(--color-text-primary)"},children:t.title||"Chart"}),e&&v.jsx(U_,{className:"h-3 w-3 ml-auto",style:{color:"var(--color-accent)"}})]}),t.subtitle&&v.jsx("p",{className:"text-[10px]",style:{color:"var(--color-text-secondary)"},children:t.subtitle}),!e&&v.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--color-text-muted)"},children:"Click to view â†’"})]})}function tTe({block:t,isActive:e,onClick:n}){var r;return v.jsxs("button",{onClick:n,className:"w-full text-left transition-all cursor-pointer",style:{background:e?"rgba(0, 100, 145, 0.15)":"rgba(15, 23, 42, 0.6)",border:e?"2px solid var(--color-accent)":"1px solid rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-md)",padding:"0.75rem",marginTop:"0.5rem"},onMouseEnter:i=>{e||(i.currentTarget.style.borderColor="rgba(0, 100, 145, 0.5)")},onMouseLeave:i=>{e||(i.currentTarget.style.borderColor="rgba(30, 41, 59, 0.8)")},children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(mw,{className:"h-4 w-4",style:{color:e?"var(--color-accent)":"var(--color-text-secondary)"}}),v.jsx("span",{className:"text-xs font-medium",style:{color:e?"var(--color-accent)":"var(--color-text-primary)"},children:((r=t.meta)==null?void 0:r.title)||"Table"}),e&&v.jsx(U_,{className:"h-3 w-3 ml-auto",style:{color:"var(--color-accent)"}})]}),v.jsxs("p",{className:"text-[10px]",style:{color:"var(--color-text-secondary)"},children:[t.rows.length," rows Ã— ",t.columns.length," columns"]}),!e&&v.jsx("p",{className:"text-[10px] mt-1",style:{color:"var(--color-text-muted)"},children:"Click to view â†’"})]})}function nTe({block:t,isActive:e,onClick:n}){return v.jsxs("button",{onClick:n,className:"w-full text-left transition-all cursor-pointer overflow-hidden",style:{background:e?"rgba(0, 100, 145, 0.15)":"rgba(15, 23, 42, 0.6)",border:e?"2px solid var(--color-accent)":"1px solid rgba(30, 41, 59, 0.8)",borderRadius:"var(--radius-md)",padding:"0.75rem",marginTop:"0.5rem"},onMouseEnter:r=>{e||(r.currentTarget.style.borderColor="rgba(0, 100, 145, 0.5)")},onMouseLeave:r=>{e||(r.currentTarget.style.borderColor="rgba(30, 41, 59, 0.8)")},children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(G2,{className:"h-4 w-4",style:{color:e?"var(--color-accent)":"var(--color-text-secondary)"}}),v.jsx("span",{className:"text-xs font-medium",style:{color:e?"var(--color-accent)":"var(--color-text-primary)"},children:t.alt||"Image"}),e&&v.jsx(U_,{className:"h-3 w-3 ml-auto",style:{color:"var(--color-accent)"}})]}),v.jsx("img",{src:t.url,alt:t.alt??"",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"var(--radius-sm)"}}),!e&&v.jsx("p",{className:"text-[10px] mt-2",style:{color:"var(--color-text-muted)"},children:"Click to enlarge â†’"})]})}function rTe(t){switch(t){case"pdf":return{Icon:H_,color:"#EF4444"};case"word":return{Icon:eh,color:"#3B82F6"};case"excel":case"data":return{Icon:mw,color:"#10B981"};case"powerpoint":return{Icon:fU,color:"#F59E0B"};case"text":return{Icon:sU,color:"#8B5CF6"};case"image":return{Icon:G2,color:"#EC4899"};case"web":return{Icon:cU,color:"#6366F1"};default:return{Icon:eh,color:"#9CA3AF"}}}function iTe({citation:t,onClick:e}){const{Icon:n,color:r}=rTe(t.fileType);let i=t.title;return t.page&&(i+=`, page ${t.page}`),t.score&&(i+=` (relevance: ${(t.score*100).toFixed(0)}%)`),t.snippet&&(i+=`

"${t.snippet}"`),v.jsxs("button",{onClick:e,className:"inline-flex items-center gap-1.5 px-2.5 py-1 mx-0.5 text-[10px] font-medium rounded border transition-all",style:{borderColor:r,color:r,background:`${r}15`},onMouseEnter:o=>{o.currentTarget.style.background=`${r}25`,o.currentTarget.style.transform="translateY(-1px)",o.currentTarget.style.boxShadow=`0 2px 8px ${r}40`},onMouseLeave:o=>{o.currentTarget.style.background=`${r}15`,o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.boxShadow="none"},title:i,children:[v.jsx(n,{className:"h-3 w-3"}),v.jsxs("span",{className:"font-semibold",children:[t.refNumber?`[${t.refNumber}]`:t.label.slice(0,20),t.label.length>20?"â€¦":""]}),t.page&&v.jsxs("span",{className:"opacity-70",children:["p.",t.page]}),t.score&&v.jsxs("span",{className:"text-[9px] px-1 py-0.5 rounded font-bold",style:{background:`${r}30`,color:r},children:[(t.score*100).toFixed(0),"%"]})]})}function oTe(t,e=null,n={}){const{includeSnippets:r=!0,snippetLength:i=100,volumePrefixes:o=["/Volumes/","/dbfs/","s3://","abfss://","gs://"]}=n,a=[],s=new Set,l=g=>{s.has(g.path)||(s.add(g.path),a.push({...g,id:`cite-${a.length}`}))},c=/\[([^\]]+)\]\(([^)]+\.(?:pdf|docx?|xlsx?|pptx?|txt|md|csv|json|xml|html?|png|jpe?g|gif|webp|svg))\)/gi;let u;for(;(u=c.exec(t))!==null;)l({label:u[1].replace(/^Source:\s*/i,""),path:yc(u[2]),type:gc(u[2]),page:B2(u[1])||B2(u[2]),snippet:r?Mh(t,u.index,i):null});const h=/\((?:Source|See|Ref|Reference|From|Citation):\s*([^,)]+\.(?:pdf|docx?|xlsx?|pptx?|txt|md|csv|json|xml|html?|png|jpe?g|gif|webp|svg))(?:[,\s]+(?:p\.?|page\.?\s*)(\d+))?\)/gi;for(;(u=h.exec(t))!==null;)l({label:jh(u[1]),path:yc(u[1].trim()),type:gc(u[1]),page:u[2]?parseInt(u[2]):null,snippet:r?Mh(t,u.index,i):null});const f=/\^?\[(\d+)\]:?\s*([^\s\n(]+\.(?:pdf|docx?|xlsx?|pptx?|txt|md|csv|json|xml|html?|png|jpe?g|gif|webp|svg))(?:\s*\(?(?:p\.?|page\.?\s*)(\d+)\)?)?/gi;for(;(u=f.exec(t))!==null;)l({label:`[${u[1]}] ${jh(u[2])}`,path:yc(u[2]),type:gc(u[2]),page:u[3]?parseInt(u[3]):null,refNumber:parseInt(u[1]),snippet:r?Mh(t,u.index,i):null});const p=/<(?:source|citation|ref|document)\s+(?:[^>]*?)(?:path|file|src|uri)="([^"]+)"(?:[^>]*?)(?:page="(\d+)")?(?:[^>]*?)(?:title="([^"]+)")?[^>]*\/?>/gi;for(;(u=p.exec(t))!==null;)l({label:u[3]||jh(u[1]),path:yc(u[1]),type:gc(u[1]),page:u[2]?parseInt(u[2]):null,snippet:r?Mh(t,u.index,i):null});for(const g of o){const y=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),b=new RegExp(`${y}[a-zA-Z0-9_\\-./]+\\.(?:pdf|docx?|xlsx?|pptx?|txt|md|csv|json|xml|html?|png|jpe?g|gif|webp|svg)`,"gi");for(;(u=b.exec(t))!==null;)l({label:jh(u[0]),path:yc(u[0]),type:gc(u[0]),page:null,snippet:r?Mh(t,u.index,i):null})}const m=/["'`]([a-zA-Z0-9_\-./]+\.(?:pdf|docx?|xlsx?|pptx?|txt|md|csv|json|xml|html?|png|jpe?g|gif|webp|svg))["'`]/gi;for(;(u=m.exec(t))!==null;)(u[1].includes("/")||/^\w+\.\w+$/.test(u[1]))&&l({label:jh(u[1]),path:yc(u[1]),type:gc(u[1]),page:null,snippet:r?Mh(t,u.index,i):null});if(e&&Array.isArray(e))for(const g of e){const y=g.path||g.file||g.uri||g.url;y&&l({label:g.title||g.name||jh(y),path:yc(y),type:gc(y),page:g.page||g.pageNumber||g.page_number||null,chunk:g.chunk||g.excerpt||g.text||null,score:g.score||g.relevance||g.similarity||null,snippet:g.snippet||g.context||null})}return a}function gc(t){var r;const e=((r=t.split(".").pop())==null?void 0:r.toLowerCase())||"";return{pdf:"pdf",doc:"word",docx:"word",xls:"excel",xlsx:"excel",csv:"data",ppt:"powerpoint",pptx:"powerpoint",txt:"text",md:"text",markdown:"text",json:"data",xml:"data",yaml:"data",yml:"data",png:"image",jpg:"image",jpeg:"image",gif:"image",webp:"image",svg:"image",html:"web",htm:"web"}[e]||"file"}function jh(t){var e;return((e=t.split("/").pop())==null?void 0:e.split("\\").pop())||t}function yc(t){let e=t.trim();return!e.startsWith("/")&&!e.startsWith("http")&&e.match(/^[a-z]+:\/\//i),e=e.replace(/\/+/g,"/"),e}function B2(t){if(!t)return null;const e=[/(?:p\.?|page\.?\s*)(\d+)/i,/\#(\d+)/,/\[(\d+)\]/];for(const n of e){const r=t.match(n);if(r)return parseInt(r[1])}return null}function Mh(t,e,n=100){const r=Math.max(0,e-n),i=Math.min(t.length,e+n);let o=t.slice(r,i);return r>0&&(o="..."+o),i<t.length&&(o=o+"..."),o.replace(/\n+/g," ").replace(/\s+/g," ").trim()}function aTe(t,e){return oTe(t,null,{includeSnippets:!0,snippetLength:150}).map((r,i)=>{let o=r.path;return(o.startsWith("/Volumes/")||o.includes("/Volumes/"))&&(o=`/api/explore/files/proxy?path=${encodeURIComponent(o)}`,r.page&&(o+=`&page=${r.page}`)),{id:`${e}-citation-${i}`,type:"citation",title:r.label,label:r.label,url:o,path:r.path,fileType:r.type,page:r.page||void 0,snippet:r.snippet||void 0,chunk:r.chunk||void 0,score:r.score||void 0,index:i+1,refNumber:r.refNumber||void 0}})}function sTe(t,e){const n=[];if(!t.trim())return{blocks:n,citations:[]};const r=aTe(t,e),i=t.split(`
`);let o=[],a=[],s=!1,l=0;const c=()=>{if(o.length>0){const h=o.join(`
`).trim();h&&n.push({id:`${e}-text-${l++}`,type:"text",markdown:h}),o=[]}},u=()=>{if(a.length>=2){try{const h=lTe(a,`${e}-table-${l++}`);h&&n.push(h)}catch(h){console.warn("Failed to parse table:",h),o.push(...a)}a=[]}s=!1};for(const h of i){const f=h.trim();f.startsWith("|")&&f.endsWith("|")?(s||(c(),s=!0),a.push(h)):(s&&u(),o.push(h))}return s&&u(),c(),n.length===0&&t.trim()&&n.push({id:`${e}-text-0`,type:"text",markdown:t}),{blocks:n,citations:r}}function lTe(t,e){if(t.length<2)return null;const r=t[0].trim().split("|").slice(1,-1).map(o=>o.trim()).filter(o=>o.length>0);if(r.length===0)return null;const i=[];for(let o=2;o<t.length;o++){const a=t[o].trim();if(!a)continue;const s=a.split("|").slice(1,-1).map(l=>l.trim());s.length===r.length&&i.push(s)}return i.length===0?null:{id:e,type:"table",columns:r,rows:i,meta:{title:"Data Table",subtitle:`${i.length} rows`}}}function cTe(){const[t,e]=P.useState([{id:"welcome",role:"assistant",content:`# Welcome to Domino's Analytics Assistant! ðŸ•

I can help you analyze your business data across:
- ðŸ“Š **Executive & Finance** - CAC, ARPU, GMV, retention
- ðŸ“¢ **Marketing Performance** - Campaign ROI, channel efficiency
- ðŸ‘¥ **Customer Analytics** - LTV, segmentation, churn
- ðŸª **Operations** - Store performance, delivery times
- ðŸ’° **Sales** - Revenue trends, product mix

**Try asking:**
- "What's our total revenue this month?"
- "Show me CAC by marketing channel"
- "Which customer segment has highest ARPU?"`,blocks:[{id:"welcome-text",type:"text",markdown:`# Welcome to Domino's Analytics Assistant! ðŸ•

I can help you analyze your business data across:
- ðŸ“Š **Executive & Finance** - CAC, ARPU, GMV, retention
- ðŸ“¢ **Marketing Performance** - Campaign ROI, channel efficiency
- ðŸ‘¥ **Customer Analytics** - LTV, segmentation, churn
- ðŸª **Operations** - Store performance, delivery times
- ðŸ’° **Sales** - Revenue trends, product mix

**Try clicking the visualizations below to see them in the right panel!**`},{id:"welcome-chart",type:"chart",title:"Monthly Revenue Trend",subtitle:"Last 6 months",specType:"recharts",spec:{type:"bar",data:[{month:"Jan",revenue:45e3},{month:"Feb",revenue:52e3},{month:"Mar",revenue:48e3},{month:"Apr",revenue:61e3},{month:"May",revenue:58e3},{month:"Jun",revenue:67e3}],xKey:"month",yKey:"revenue",dataKey:"revenue"},meta:{primaryMeasure:"revenue",primaryDim:"month",timeframe:"Last 6 months"}},{id:"welcome-table",type:"table",columns:["Channel","CAC","ROI","Conversions"],rows:[["Social Media","$42","3.2x","1,234"],["Email","$28","4.8x","2,156"],["Paid Search","$68","2.1x","892"],["Organic","$15","6.5x","3,421"],["Referral","$22","5.2x","1,678"]],meta:{title:"Marketing Channel Performance",subtitle:"Current month metrics"}}],timestamp:Date.now()}]),[n,r]=P.useState(""),[i,o]=P.useState(!1),[a,s]=P.useState(null),l=P.useRef(null),c=P.useRef(null);P.useEffect(()=>{var f;(f=l.current)==null||f.scrollIntoView({behavior:"smooth"})},[t]);const u=async()=>{var g;if(!n.trim()||i)return;const f={id:Date.now().toString(),role:"user",content:n.trim(),blocks:[{id:`${Date.now()}-text`,type:"text",markdown:n.trim()}],timestamp:Date.now()};e(y=>[...y,f]),r(""),o(!0);const p=(Date.now()+1).toString(),m={id:p,role:"assistant",content:"",blocks:[],toolCalls:[],timestamp:Date.now()};e(y=>[...y,m]),c.current=new AbortController;try{const y=t.filter(A=>A.role!=="assistant"||A.content).map(A=>({role:A.role,content:A.content,timestamp:null}));y.push({role:"user",content:n.trim(),timestamp:null});const b=await fetch("/api/chat/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:y}),signal:c.current.signal});if(!b.ok)throw new Error(`API error: ${b.status}`);const w=(g=b.body)==null?void 0:g.getReader(),x=new TextDecoder;if(!w)throw new Error("No response body");let E="";for(;;){const{done:A,value:S}=await w.read();if(A)break;E+=x.decode(S,{stream:!0});const _=E.split(`
`);E=_.pop()??"";for(const O of _){const M=O.trim();if(!M||!M.startsWith("data:"))continue;const j=M.slice(5).trim();if(j==="[DONE]")continue;let N;try{N=JSON.parse(j)}catch(R){console.warn("[SSE] Failed to parse event:",j,R);continue}e(R=>R.map(F=>{var $,z;if(F.id!==p)return F;switch(N.type){case"text.delta":const L=F.content+N.delta,U=`${p}-text`;let H=[...F.blocks];const V=H.findIndex(Y=>Y.type==="text"&&Y.id===U);return V>=0?H[V]={...H[V],markdown:L}:H.push({id:U,type:"text",markdown:L}),{...F,content:L,blocks:H};case"tool.call":return{...F,toolCalls:[...F.toolCalls||[],{name:N.name,status:"running",args:N.args}]};case"tool.output":return{...F,toolCalls:($=F.toolCalls)==null?void 0:$.map(Y=>Y.name===N.name?{...Y,status:"complete",output:N.output}:Y)};case"chart.reference":const I=`${p}-chart-${F.blocks.filter(Y=>Y.type==="chart").length}`;return{...F,blocks:[...F.blocks,{id:I,type:"chart",title:N.title||"Query Result",subtitle:N.subtitle||"Click to view",specType:"recharts",spec:null,dataRef:{type:"genie",genie:N.genie}}]};case"error":return{...F,content:F.content+`

âŒ Error: ${N.message}`,toolCalls:(z=F.toolCalls)==null?void 0:z.map(Y=>Y.status==="running"?{...Y,status:"error"}:Y)};default:return F}}))}}}catch(y){y.name==="AbortError"?console.log("Stream aborted by user"):(console.error("Chat error:",y),e(b=>b.map(w=>w.id===p?{...w,content:`âŒ Failed to get response: ${y.message}`,blocks:[{id:`${p}-error`,type:"text",markdown:`âŒ Failed to get response: ${y.message}`}]}:w)))}finally{o(!1),c.current=null,e(y=>y.map(b=>{if(b.id!==p)return b;const{blocks:w,citations:x}=sTe(b.content,p);return{...b,blocks:w.length>0?w:b.blocks,citations:x.length>0?x:b.citations}}))}},h=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u())};return v.jsxs("div",{className:"flex h-screen flex-col",style:{background:"var(--color-bg-app)"},children:[v.jsx("div",{className:"border-b px-6 py-4",style:{borderColor:"var(--color-border-subtle)",background:"rgba(15, 23, 42, 0.8)"},children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"flex items-center gap-2 text-xl font-semibold tracking-tight",style:{color:"var(--color-text-primary)"},children:[v.jsx(gU,{className:"h-5 w-5",style:{color:"var(--color-accent)"}}),"ðŸ• Domino's Analytics Assistant"]}),v.jsx("p",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Powered by Databricks Genie Spaces"})]}),v.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium",style:{border:"1px solid var(--color-border-subtle)",background:"rgba(15, 23, 42, 0.8)",borderRadius:"var(--radius-pill)",color:"var(--color-text-secondary)"},children:[i?v.jsx(Yu,{className:"h-3 w-3 animate-spin",style:{color:"var(--color-accent)"}}):v.jsx(lS,{className:"h-3 w-3",style:{color:"var(--color-success)"}}),v.jsx("span",{children:i?"Thinkingâ€¦":"Ready"})]})]})}),v.jsxs("div",{className:"flex flex-1 min-h-0 border-t",style:{borderColor:"var(--color-border-subtle)"},children:[v.jsxs("div",{className:"flex flex-col border-r",style:{width:"min(50%, 48rem)",borderColor:"var(--color-border-subtle)"},children:[v.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-4",children:[t.map(f=>v.jsx("div",{className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:v.jsxs("div",{className:"max-w-[42rem]",style:f.role==="user"?{background:"var(--color-accent)",color:"white",borderRadius:"24px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.4)",padding:"0.75rem 1rem"}:{background:"rgba(15, 23, 42, 0.96)",border:"1px solid rgba(30, 41, 59, 0.9)",borderRadius:"var(--radius-lg)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.35)",color:"var(--color-text-primary)",padding:"0.9rem 1rem"},children:[f.toolCalls&&f.toolCalls.length>0&&v.jsx("div",{className:"mb-2 pb-2 space-y-1.5",style:{borderBottom:"1px solid rgba(30, 41, 59, 0.8)"},children:f.toolCalls.map((p,m)=>{const g=p.status==="running",y=p.status==="complete",b=p.status==="error";return v.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 font-medium",style:{fontSize:"10px",borderRadius:"var(--radius-pill)",border:y?"1px solid rgba(34, 197, 94, 0.6)":b?"1px solid rgba(239, 68, 68, 0.6)":"1px solid var(--color-border-subtle)",background:y?"rgba(34, 197, 94, 0.1)":b?"rgba(239, 68, 68, 0.1)":"rgba(15, 23, 42, 0.8)",color:y?"rgb(134, 239, 172)":b?"rgb(252, 165, 165)":"var(--color-text-secondary)"},children:[g&&v.jsx(Yu,{className:"h-3 w-3 animate-spin"}),y&&v.jsx(lS,{className:"h-3 w-3"}),b&&v.jsx(qm,{className:"h-3 w-3"}),v.jsx(cS,{className:"h-3 w-3 opacity-70"}),v.jsx("span",{children:p.name==="execute_genie_query"?"Genie: querying space":p.name})]},m)})}),f.blocks.map(p=>p.type==="text"?v.jsx("div",{className:"prose prose-sm max-w-none",children:v.jsx(zz,{children:p.markdown})},p.id):p.type==="chart"?v.jsx(eTe,{block:p,isActive:(a==null?void 0:a.blockId)===p.id&&(a==null?void 0:a.messageId)===f.id,onClick:()=>s({messageId:f.id,blockId:p.id})},p.id):p.type==="table"?v.jsx(tTe,{block:p,isActive:(a==null?void 0:a.blockId)===p.id&&(a==null?void 0:a.messageId)===f.id,onClick:()=>s({messageId:f.id,blockId:p.id})},p.id):p.type==="image"?v.jsx(nTe,{block:p,isActive:(a==null?void 0:a.blockId)===p.id&&(a==null?void 0:a.messageId)===f.id,onClick:()=>s({messageId:f.id,blockId:p.id})},p.id):null),f.citations&&f.citations.length>0&&v.jsxs("div",{className:"mt-3 pt-3 space-y-1",style:{borderTop:"1px solid rgba(30, 41, 59, 0.8)"},children:[v.jsx("div",{className:"text-[10px] uppercase tracking-wider font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"Sources"}),v.jsx("div",{className:"flex flex-wrap gap-1",children:f.citations.map(p=>v.jsx(iTe,{citation:p,onClick:()=>s({messageId:f.id,blockId:p.id})},p.id))})]}),v.jsx("div",{className:"mt-2 text-xs",style:{color:f.role==="user"?"rgba(255, 255, 255, 0.7)":"var(--color-text-muted)"},children:new Date(f.timestamp).toLocaleTimeString()})]})},f.id)),v.jsx("div",{ref:l})]}),v.jsx("div",{className:"border-t px-6 py-4",style:{borderColor:"var(--color-border-subtle)",background:"rgba(15, 23, 42, 0.8)"},children:v.jsxs("div",{className:"flex gap-3",children:[v.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),onKeyPress:h,placeholder:"Ask about your analytics data...",disabled:i,className:"flex-1 px-4 py-3 outline-none transition-all disabled:opacity-50",style:{background:"rgba(15, 23, 42, 0.8)",border:"1px solid var(--color-border-subtle)",borderRadius:"var(--radius-pill)",color:"var(--color-text-primary)"},onFocus:f=>{f.target.style.borderColor="var(--color-accent)",f.target.style.boxShadow="0 0 0 3px var(--color-accent-soft)"},onBlur:f=>{f.target.style.borderColor="var(--color-border-subtle)",f.target.style.boxShadow="none"}}),v.jsxs("button",{onClick:u,disabled:!n.trim()||i,className:"flex items-center gap-2 px-6 py-3 font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"var(--color-accent)",color:"white",borderRadius:"var(--radius-pill)"},onMouseEnter:f=>{f.currentTarget.disabled||(f.currentTarget.style.background="var(--color-accent-strong)",f.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:f=>{f.currentTarget.style.background="var(--color-accent)",f.currentTarget.style.transform="translateY(0)"},children:[i?v.jsx(Yu,{className:"h-4 w-4 animate-spin"}):v.jsx(pU,{className:"h-4 w-4"}),"Send"]})]})})]}),v.jsx("div",{className:"flex-1 min-w-0",children:v.jsx(QPe,{messages:t,activeBlock:a,onBlockChange:s})})]})]})}async function uTe(){const t=await fetch("/api/explore/schemas");if(!t.ok)throw new Error("Failed to fetch schemas");return t.json()}async function hTe(t,e,n){const r=await fetch(`/api/explore/tables/${t}/${e}/${n}/preview`);if(!r.ok)throw new Error("Failed to fetch table preview");return r.json()}function dTe(){const[t,e]=P.useState(new Set),[n,r]=P.useState(null),[i,o]=P.useState(""),[a,s]=P.useState(!1),{data:l,isLoading:c,error:u}=Ci({queryKey:["explore","schemas"],queryFn:uTe}),h=P.useMemo(()=>!l||!i?l:l.map(y=>({...y,tables:y.tables.filter(b=>b.name.toLowerCase().includes(i.toLowerCase())||b.full_name.toLowerCase().includes(i.toLowerCase())),volumes:y.volumes.filter(b=>b.name.toLowerCase().includes(i.toLowerCase()))})).filter(y=>y.tables.length>0||y.volumes.length>0),[l,i]),f=y=>{const b=new Set(t);b.has(y)?b.delete(y):b.add(y),e(b)},p=(y,b,w)=>{r({type:"table",catalog:y,schema:b,name:w.name,fullPath:w.full_name,tableType:w.table_type,comment:w.comment})},m=()=>{n!=null&&n.fullPath&&(navigator.clipboard.writeText(n.fullPath),s(!0),setTimeout(()=>s(!1),2e3))},g=()=>{if(n!=null&&n.fullPath){const[y,b,w]=n.fullPath.split("."),x=`${window.location.origin}/explore/data/${y}/${b}/${w}`;window.open(x,"_blank")}};return v.jsxs("div",{className:"flex h-[calc(100vh-8rem)] gap-6",children:[v.jsxs("div",{className:"w-80 flex-shrink-0 overflow-y-auto rounded-lg border p-4",style:{backgroundColor:"rgba(15, 23, 42, 0.95)",borderColor:"rgba(30, 41, 59, 0.8)"},children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Data Catalog"}),v.jsxs("div",{className:"relative mb-4",children:[v.jsx(K2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),v.jsx("input",{type:"text",placeholder:"Search tables...",value:i,onChange:y=>o(y.target.value),className:"w-full pl-10 pr-4 py-2 rounded border text-sm",style:{backgroundColor:"rgba(30, 41, 59, 0.5)",borderColor:"rgba(71, 85, 105, 0.8)",color:"white"}})]})]}),c?v.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[v.jsx(Yu,{className:"h-4 w-4 animate-spin"}),v.jsx("span",{children:"Loading schemas..."})]}):u?v.jsx("div",{className:"text-red-400 text-sm",children:"Failed to load schemas. Please check your connection."}):v.jsx("div",{className:"space-y-2",children:h==null?void 0:h.map(y=>{const b=`${y.catalog}.${y.schema}`,w=t.has(b),x=y.tables.length+y.volumes.length;return x===0?null:v.jsxs("div",{children:[v.jsxs("button",{onClick:()=>f(b),className:"flex w-full items-center gap-2 rounded px-2 py-1.5 text-left text-sm transition-colors hover:bg-slate-700/50",children:[w?v.jsx(V2,{className:"h-4 w-4 text-gray-400"}):v.jsx(W2,{className:"h-4 w-4 text-gray-400"}),v.jsx(cS,{className:"h-4 w-4 text-blue-400"}),v.jsx("span",{className:"font-medium text-white flex-1",children:y.schema}),v.jsx("span",{className:"text-xs text-gray-500",children:x})]}),w&&y.tables.length>0&&v.jsxs("div",{className:"ml-6 mt-1 space-y-0.5",children:[v.jsx("div",{className:"px-2 py-1 text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Tables"}),y.tables.map(E=>v.jsxs("button",{onClick:()=>p(y.catalog,y.schema,E),className:"flex w-full items-center gap-2 rounded px-2 py-1 text-left text-sm transition-colors hover:bg-slate-700/50",style:{backgroundColor:(n==null?void 0:n.fullPath)===E.full_name?"rgba(59, 130, 246, 0.2)":void 0},children:[v.jsx(mw,{className:"h-3.5 w-3.5 text-green-400"}),v.jsx("span",{className:"text-gray-300 text-xs",children:E.name})]},E.full_name))]}),w&&y.volumes.length>0&&v.jsxs("div",{className:"ml-6 mt-1 space-y-0.5",children:[v.jsx("div",{className:"px-2 py-1 text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Volumes"}),y.volumes.map(E=>v.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 text-xs text-gray-400",children:[v.jsx(lU,{className:"h-3.5 w-3.5 text-amber-400"}),v.jsx("span",{children:E.name})]},E.full_name))]})]},b)})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:n?v.jsx(fTe,{asset:n,onCopyPath:m,onOpenInDatabricks:g,copiedPath:a}):v.jsx(qe,{className:"border-slate-700/50 bg-slate-900/50",children:v.jsx(Ke,{className:"flex h-96 items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx(cS,{className:"mx-auto h-12 w-12 text-gray-500"}),v.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-300",children:"Select a table to explore"}),v.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Choose a table from the sidebar to view its schema and data"})]})})})})]})}function fTe({asset:t,onCopyPath:e,onOpenInDatabricks:n,copiedPath:r}){return t.type==="table"?v.jsx(pTe,{asset:t,onCopyPath:e,onOpenInDatabricks:n,copiedPath:r}):null}function pTe({asset:t,onCopyPath:e,onOpenInDatabricks:n,copiedPath:r}){const{data:i,isLoading:o,error:a}=Ci({queryKey:["table-preview",t.catalog,t.schema,t.name],queryFn:()=>hTe(t.catalog,t.schema,t.name),enabled:t.type==="table"});return v.jsxs(qe,{className:"border-slate-700/50 bg-slate-900/50",children:[v.jsx(et,{children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx(tt,{className:"text-white text-xl",children:t.name}),v.jsx("p",{className:"mt-1 text-sm text-gray-400 font-mono",children:t.fullPath}),t.comment&&v.jsx("p",{className:"mt-2 text-sm text-gray-300",children:t.comment}),t.tableType&&v.jsx("div",{className:"mt-2 inline-block px-2 py-1 rounded text-xs font-medium bg-blue-500/20 text-blue-300",children:t.tableType})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(dp,{variant:"outline",size:"sm",onClick:e,className:"gap-2",children:r?v.jsxs(v.Fragment,{children:[v.jsx(lS,{className:"h-3 w-3"}),"Copied!"]}):v.jsxs(v.Fragment,{children:[v.jsx(aU,{className:"h-3 w-3"}),"Copy Path"]})}),v.jsxs(dp,{variant:"outline",size:"sm",onClick:n,className:"gap-2",children:[v.jsx(zl,{className:"h-3 w-3"}),"Open in Databricks"]})]})]})}),v.jsx(Ke,{children:o?v.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[v.jsx(Yu,{className:"h-4 w-4 animate-spin"}),"Loading table data..."]}):a?v.jsx("div",{className:"text-red-400",children:"Failed to load table preview"}):i?v.jsxs("div",{children:[i.columns&&i.columns.length>0&&v.jsxs("div",{className:"mb-6",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:["Columns (",i.columns.length,")"]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:i.columns.map(s=>v.jsx("div",{className:"px-3 py-2 rounded text-xs font-mono",style:{backgroundColor:"rgba(30, 41, 59, 0.5)",color:"var(--color-text-secondary)"},children:s},s))})]}),i.rows&&i.rows.length>0&&v.jsxs("div",{children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:["Data Preview (first ",i.rows.length," rows)"]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-slate-700",children:[v.jsx("thead",{children:v.jsx("tr",{children:i.columns.map(s=>v.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium uppercase tracking-wider text-gray-400",children:s},s))})}),v.jsx("tbody",{className:"divide-y divide-slate-800",children:i.rows.map((s,l)=>v.jsx("tr",{className:"hover:bg-slate-800/50",children:i.columns.map(c=>v.jsx("td",{className:"whitespace-nowrap px-4 py-2 text-sm text-gray-300",children:s[c]!==null&&s[c]!==void 0?String(s[c]):"-"},c))},l))})]})})]})]}):null})]})}const mTe=new Vz({defaultOptions:{queries:{staleTime:60*1e3,placeholderData:Wz,refetchOnWindowFocus:!1,retry:2,retryDelay:t=>Math.min(1e3*2**t,3e4)}}});function gTe(){return v.jsx(Gz,{client:mTe,children:v.jsx(Xz,{children:v.jsx(xU,{children:v.jsxs(Yz,{children:[v.jsx(Jv,{path:"/",element:v.jsx(lR,{})}),v.jsx(Jv,{path:"/dashboard",element:v.jsx(lR,{})}),v.jsx(Jv,{path:"/chat",element:v.jsx(cTe,{})}),v.jsx(Jv,{path:"/explore",element:v.jsx(dTe,{})})]})})})})}sS.createRoot(document.getElementById("root")).render(v.jsx(B.StrictMode,{children:v.jsx(gTe,{})}));
//# sourceMappingURL=index-DiOx--om.js.map
